/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2011 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Data declarations

extern _UNKNOWN loc_431A39; // weak
extern _UNKNOWN loc_43245E; // weak
extern _UNKNOWN loc_4325DC; // weak
extern _UNKNOWN loc_432840; // weak
extern _UNKNOWN loc_432EA2; // weak
extern _UNKNOWN loc_433089; // weak
extern _UNKNOWN loc_43341D; // weak
extern _UNKNOWN loc_4340BD; // weak
extern _UNKNOWN loc_43434E; // weak
extern _UNKNOWN loc_43480C; // weak
extern _UNKNOWN loc_434C4C; // weak
extern _UNKNOWN loc_43508C; // weak
extern _UNKNOWN loc_43519D; // weak
extern _UNKNOWN loc_4353BD; // weak
extern _UNKNOWN loc_4355DD; // weak
extern _UNKNOWN loc_43597D; // weak
extern _UNKNOWN loc_435D1D; // weak
extern _UNKNOWN loc_4360BD; // weak
extern _UNKNOWN loc_43683F; // weak
extern _UNKNOWN loc_436DBD; // weak
extern _UNKNOWN loc_43714D; // weak
extern _UNKNOWN loc_4374DD; // weak
extern _UNKNOWN loc_43786C; // weak
extern _UNKNOWN loc_437DF2; // weak
extern _UNKNOWN loc_43836E; // weak
extern _UNKNOWN loc_43876E; // weak
extern _UNKNOWN loc_438B6E; // weak
extern _UNKNOWN loc_438F6E; // weak
extern _UNKNOWN loc_4398CA; // weak
extern _UNKNOWN _L20516; // weak
extern _UNKNOWN _L20532; // weak
extern _UNKNOWN _L20173; // weak
extern _UNKNOWN _L20145; // weak
extern _UNKNOWN _L19209; // weak
extern _UNKNOWN _L20658; // weak
extern _UNKNOWN _L20253; // weak
extern _UNKNOWN _L20251_0; // weak
extern _UNKNOWN _L20299; // weak
extern _UNKNOWN _L20001; // weak
extern _UNKNOWN _L18592; // weak
extern _UNKNOWN _L320; // weak
extern _UNKNOWN _L20298; // weak
extern _UNKNOWN _L20292; // weak
extern _UNKNOWN _L20317; // weak
extern _UNKNOWN _L19997; // weak
extern _UNKNOWN _L19900; // weak
extern _UNKNOWN _L20076; // weak
extern _UNKNOWN _L20019; // weak
extern _UNKNOWN _L20009; // weak
extern _UNKNOWN _L20003; // weak
extern _UNKNOWN _L20357; // weak
extern _UNKNOWN _L19916; // weak
extern _UNKNOWN _L20039_0; // weak
extern _UNKNOWN _L20326; // weak
extern _UNKNOWN _L20280; // weak
extern _UNKNOWN _L19915; // weak
extern _UNKNOWN _L20876; // weak
extern _UNKNOWN _L20329_0; // weak
extern _UNKNOWN _L19974; // weak
extern _UNKNOWN _L20060; // weak
extern _UNKNOWN _L20182_0; // weak
extern _UNKNOWN _L20434; // weak
extern _UNKNOWN _L20503; // weak
extern _UNKNOWN _L20219; // weak
extern _UNKNOWN _L20223; // weak
extern _UNKNOWN _L19559; // weak
extern _UNKNOWN _L20316; // weak
extern _UNKNOWN _L20082; // weak
extern _UNKNOWN _L20376; // weak
extern _UNKNOWN _L20809; // weak
extern _UNKNOWN _L20860; // weak
extern _UNKNOWN _L20065; // weak
extern _UNKNOWN _L20316_0; // weak
extern _UNKNOWN _L20368; // weak
extern _UNKNOWN _L20394; // weak
extern _UNKNOWN _L20287; // weak
extern _UNKNOWN _L20329_1; // weak
extern _UNKNOWN _L20662_0; // weak
extern _UNKNOWN _L20359; // weak
extern _UNKNOWN _L20375; // weak
extern _UNKNOWN _rttospopde; // weak
extern _UNKNOWN _rttosnpopde; // weak
extern _UNKNOWN ContinueErrorHandling; // weak
extern _UNKNOWN _load_CW;
extern _UNKNOWN _check_range_exit; // weak
extern std::codecvt_base::__unnamed error;
extern _UNKNOWN _L20094; // weak
extern _UNKNOWN _L20250; // weak
extern _UNKNOWN _L20274; // weak
extern _UNKNOWN _L20268; // weak
extern _UNKNOWN _L21126; // weak
extern _UNKNOWN _L20665_0; // weak
extern int (__thiscall *CAuthAgentDispatch::_vftable_)(void *p, char); // weak
extern char pRtn[]; // idb
extern char pFileName[]; // idb
extern char pFormat[]; // idb
extern char aSs0xPDp0xPIp_0[]; // idb
extern char aDb[]; // idb
extern char aSs0xPDp0xPScmd[]; // idb
extern char aScmd0x02xReque[46]; // weak
extern char aCauthagentdi_4[]; // idb
extern char aScmd0x02xReq_0[]; // idb
extern char aCauthagentdi_3[]; // idb
extern char aUid0x08dP[]; // idb
extern char aCauthagentdi_6[]; // idb
extern char aSs0xPDp0xPRequ[]; // idb
extern char aCauthagentdi_2[]; // idb
extern char aRequestkeyDGet[]; // idb
extern char aRequestkeyDDbr[32]; // weak
extern char Source[]; // idb
extern char aCauthagentdi_5[]; // idb
extern char aSs0xPDp0xPConn[]; // idb
extern char aCauthagentdi_7[]; // idb
extern char aSs0xPDp0xPDisc[]; // idb
extern char aSs0xPDp0xPIp_2[]; // idb
extern char aCauthagentdi_1[]; // idb
extern char aSs0xPDp0xPUidU[]; // idb
extern char aCauthagentdi_8[]; // idb
extern char aUidUGetuserFai[]; // idb
extern char aCauthagentdi_0[]; // idb
extern char aUid10uDp0xPSes[]; // idb
extern char szDetailText[]; // idb
extern char format[]; // idb
extern char aCauthclientdis[]; // idb
extern char aDProjectServ_0[]; // idb
extern char aSs0xPDp0xPIp_3[]; // idb
extern int (__thiscall *CAuthClientDispatch::_vftable_)(void *p, char); // weak
extern char aCauthclientd_4[]; // idb
extern char aSs0xPDp0xPIp_5[]; // idb
extern char aUidUCurrenttim[]; // idb
extern char aGetAgentSessio[]; // idb
extern char aSs0xPDp0xPBuff[]; // idb
extern char aCauthclientd_2[]; // idb
extern char aCauthclientd_8[]; // idb
extern char aSession0xPBuff[]; // idb
extern char aCauthclientd_5[]; // idb
extern char aCauthclientd_7[]; // idb
extern char aSs0xPS[]; // idb
extern char aGetRequestkeyF[23]; // weak
extern char aGetAgentFailed[18]; // weak
extern char aCauthclientd_3[]; // idb
extern char aAuthorizeUserL[]; // idb
extern char aAuthorizeInfoC[]; // idb
extern char aBlockedAccount[]; // idb
extern char aVersionErrorSC[]; // idb
extern char aChecksumFailed[]; // idb
extern char aCauthclient_10[]; // idb
extern char aUid10uCnflag0x[]; // idb
extern char asc_451CE4[3]; // weak
extern char byte_451CE8; // weak
extern char aSs0xPDp0xPIp15[]; // idb
extern char aSession0xPBu_0[]; // idb
extern char aCauthclientd_6[]; // idb
extern char aUid10uP[]; // idb
extern char aUid10uSessioni[]; // idb
extern char aCauthclient_11[]; // idb
extern char aThis0xPUiddb_d[]; // idb
extern char aUid10uSessio_1[]; // idb
extern char aCauthclient_12[]; // idb
extern char aThis0xPUiddb_0[]; // idb
extern char aUid10uSessio_0[]; // idb
extern char aCanTOverAuthor[]; // idb
extern char aUserAuthorizeI[]; // idb
extern char aBlockedUserS[]; // idb
extern char aCanTRecognizeA[]; // idb
extern char aChecksumErrorS[]; // idb
extern char aCauthclientd_0[]; // idb
extern char aUid0x08x[]; // idb
extern char aUid0x08xXPZS[31]; // weak
extern char aCauthclientd_9[]; // idb
extern char aUid0x08x_0[]; // idb
extern char aCauthclientd_1[]; // idb
extern char aSs0xPDp0xPIp_8[]; // idb
extern char asc_4520D4[]; // idb
extern int (__thiscall *CThread::_vftable_)(void *p, char); // weak
extern int (__thiscall *CAuthorizeThread::_vftable_)(void *p, char); // weak
extern char aCauthorizethre[]; // idb
extern char aDProjectServ_7[]; // idb
extern char aU[]; // idb
extern char asc_45219C[3]; // weak
extern char aUid10uAccountS[]; // idb
extern char aDbErrorSLogina[]; // idb
extern char aAuthError_Acco[]; // idb
extern char aAdminEditChara[]; // idb
extern char aBlockedAccou_0[]; // idb
extern char aDbErrorSCheckb[]; // idb
extern char aCyouxilandauth[]; // idb
extern char aAccountSDbErro[]; // idb
extern char aCjapanauthoriz[]; // idb
extern char aTid0xPAuthoriz[]; // idb
extern char aCauthorizeth_0[]; // idb
extern char aSs0xPDp0xPTooO[]; // idb
extern int (__thiscall *CHangameAuthorizeThread::_vftable_)(void *p, char); // weak
extern int (__thiscall *CGamaAuthorizeThread::_vftable_)(void *p, char); // weak
extern int (__thiscall *CYouxilandAuthorizeThread::_vftable_)(void *p, char); // weak
extern int (__thiscall *CJapanAuthorizeThread::_vftable_)(void *p, char); // weak
extern char aUid10uAccoun_0[]; // idb
extern char aUBPA[]; // idb
extern char aASD_SDS[]; // idb
extern char aAuthErrorIpSId[]; // idb
extern char aChangameauthor[]; // idb
extern char aDbErrorSLogi_0[]; // idb
extern char aDbErrorSS[]; // idb
extern char aN[2]; // weak
extern char Mail_In[]; // idb
extern char aCgamaauthorize[]; // idb
extern char aCsyncronizedob[]; // idb
extern char aDProjectServ_4[]; // idb
extern char aErrDErrorFromW[]; // idb
extern char Ptr[]; // idb
extern char a_ScriptGameIte[]; // idb
extern char a_ScriptGameBgi[31]; // weak
extern char aUsedMasterPass[]; // idb
extern char aCmasterpasswor[]; // idb
extern char aDProjectServ_9[]; // idb
extern char aCanTApplyMaste[]; // idb
extern char aVectorTTooLong[]; // idb
extern char aAllowed_ip[11]; // weak
extern char aMaster_passwor[16]; // weak
extern char asc_452754[3]; // weak
extern char control[]; // idb
extern char mode[]; // idb
extern int (*CDispatchFactory::_vftable_[3])(); // weak
extern int (__thiscall *CRylAuthServerProcess::_vftable_)(void *p, char); // weak
extern int (__thiscall *CRylAuthServer::_vftable_)(void *p, char); // weak
extern char Format[]; // idb
extern char fileName[]; // idb
extern char aServersetupRel[]; // idb
extern char aCrylauthserv_1[]; // idb
extern char aDProjectSer_11[]; // idb
extern char aServersetupRei[]; // idb
extern char aThereIsNoDbage[]; // idb
extern char aHuman4dAkhan4d[]; // idb
extern char aClientVersionD[]; // idb
extern char a_LimitPlayersD[]; // idb
extern int (__thiscall *CPoolDispatchFactory<CAuthClientDispatch>::_vftable_)(void *p, char); // weak
extern int (__thiscall *CPoolDispatchFactory<CAuthAgentDispatch>::_vftable_)(void *p, char); // weak
extern char aAddlistenerFai[19]; // weak
extern char aCrylauthserv_0[]; // idb
extern char aIocpnetIsNull[]; // idb
extern char aThis0xPCannotC[43]; // weak
extern char aThis0xPIocpnet[]; // idb
extern char aCrylauthserv_2[]; // idb
extern char aThis0xPAlrea_0[]; // idb
extern char szCommand[]; // idb
extern char aCrylauthserver[]; // idb
extern char aThis0xPS[]; // idb
extern char aAuthserverIn_3[68]; // weak
extern char aAuthserverIn_7[57]; // weak
extern char aAuthserverIn_6[63]; // weak
extern char aAuthserverInit[58]; // weak
extern char aAuthserverIn_4[55]; // weak
extern char aAuthserverIn_1[51]; // weak
extern char aAuthserverIn_2[59]; // weak
extern char szTextFileName[]; // idb
extern char aAuthserverIn_8[50]; // weak
extern char aAuthserverIn_5[55]; // weak
extern char aAuthserverIn_0[60]; // weak
extern int (*CCMDStartServer::_vftable_[2])(); // weak
extern int (*CCMDReloadSetup::_vftable_[2])(); // weak
extern int (*CCMDFlushLog::_vftable_[2])(); // weak
extern char aCcmdflushlogDo[]; // idb
extern char aDProjectSer_15[]; // idb
extern char aFlushLog_[]; // idb
extern int (*CCMDMasterPass::_vftable_[2])(); // weak
extern char aCcmdmasterpass[]; // idb
extern char aThis0xPMasterP[]; // idb
extern int (*CCMDStatClear::_vftable_[2])(); // weak
extern int (*CCMDStatLog::_vftable_[2])(); // weak
extern char aCrylauthserv_3[]; // idb
extern char aCommandCreateF[32]; // weak
extern char aStatlog[]; // idb
extern char aCommandCreat_1[34]; // weak
extern char aStatclear[]; // idb
extern char aCommandCreat_4[35]; // weak
extern char aReloadpass[]; // idb
extern char aCommandCreat_2[30]; // weak
extern char aFlush[]; // idb
extern char aCommandCreat_3[36]; // weak
extern char aReloadsetup[]; // idb
extern char aCommandCreat_0[]; // idb
extern char aUserdataFlushC[]; // idb
extern char aExceptionuserf[]; // idb
extern char aDProjectSer_16[]; // idb
extern char aFlushLog[]; // idb
extern char szWndApplicationName[]; // idb
extern char aWinmain[]; // idb
extern char aAuthserverAlre[]; // idb
extern int (*CMsgProc::_vftable_[2])(); // weak
extern int (__thiscall *CProcessCOMMAND::_vftable_)(void *p, char); // weak
extern char aCprocesscomman[]; // idb
extern char aDProjectSer_10[]; // idb
extern char aTerminateAuths[]; // idb
extern char aPool[5]; // weak
extern int (__thiscall *CPacketDispatch::_vftable_)(void *p, char); // weak
extern int (__thiscall *CRylServerDispatch::_vftable_)(void *p, char); // weak
extern char aCrylserverdisp[]; // idb
extern char aDProjectServ_3[]; // idb
extern char aSp0xPDp0xPIp_6[]; // idb
extern char aInvalidPacketS[24]; // weak
extern char aAllocatePacket[29]; // weak
extern char aDecompressPack[25]; // weak
extern char aUnknownErrorOc[22]; // weak
extern char a0x02x5d[]; // idb
extern char aProcessedDRema[]; // idb
extern int (__thiscall *CServerLog::_vftable_)(void *p, char); // weak
extern char aSS04d_log[]; // idb
extern char aS04d02d02d02d0[]; // idb
extern char aS_1[]; // idb
extern char aTyS[]; // idb
extern char aTySTm04d02d02d[]; // idb
extern char aSRtSFnSLnD[]; // idb
extern char aJB_[]; // idb
extern char szLogName[]; // idb
extern char aMapSetTTooLong[]; // idb
extern char aInvalidMapSetT[]; // idb
extern char aCserverreque_0[]; // idb
extern char aDProjectServ_2[]; // idb
extern char aSs0xPDp0xPIp_1[]; // idb
extern char aCserverrequest[]; // idb
extern char aSs0xPDp0xPIp_4[]; // idb
extern char aCserverreque_1[]; // idb
extern char aSs0xPDp0xPIp_7[]; // idb
extern char aCserverreque_2[]; // idb
extern char aSs0xPDp0xPIp_6[]; // idb
extern char szINIFileName[15];
extern char s2[]; // idb
extern int (__thiscall *CSocketFactory::_vftable_)(void *p, char); // weak
extern char aOracle[]; // idb
extern char aOdbc[]; // idb
extern char aMssql[]; // idb
extern char aCserversetup_6[]; // idb
extern char aDProjectSer_13[]; // idb
extern char aLoginserverB[25]; // weak
extern char aPatchaddr[]; // idb
extern char aLoginserverM[17]; // weak
extern char aLeastpatchver[]; // idb
extern char aLoginserverE[20]; // weak
extern char aAlonemode[]; // idb
extern char aLoginserverI[22]; // weak
extern char aPingcheck[]; // idb
extern char aLoginserverN[]; // idb
extern char Section_In[]; // idb
extern char KeyName_In[]; // idb
extern char aCserversetup_4[]; // idb
extern char aAuthserver_1[16]; // weak
extern char aAuthserverU[18]; // weak
extern char aSupresschardel[]; // idb
extern char aSupresscharcre[]; // idb
extern char aAdmintooldbpas[]; // idb
extern char aAdmintooldbuse[]; // idb
extern char aAdmintooldbnam[]; // idb
extern char aAdmintooldbadd[]; // idb
extern char aAdmintooldbtyp[]; // idb
extern char aAuthdbpass[]; // idb
extern char aAuthdbuser[]; // idb
extern char aAuthdbname[]; // idb
extern char aAuthdbaddr[]; // idb
extern char aAuthdbtype[]; // idb
extern char aAuthserverO[26]; // weak
extern char aTestgroupauth[]; // idb
extern char aAuthserverSN_0[20]; // weak
extern char aBattleserverau[]; // idb
extern char aAuthserverI__0[28]; // weak
extern char aKoreanlangchec[]; // idb
extern char aAuthserverI_[26]; // weak
extern char aAuthserverSN[21]; // weak
extern char aDbagentaddr[]; // idb
extern char aAuthserver[16]; // weak
extern char aAuthtype[]; // idb
extern char aAuthserver_0[]; // idb
extern char aAuthserver_2[]; // idb
extern char aCserversetup_3[]; // idb
extern char aDbagentserverD[38]; // weak
extern char aIN[10]; // weak
extern char aPart2selectabl[]; // idb
extern char aO1BNO2_0[21]; // weak
extern char aMaxtransfercha[]; // idb
extern char aO1BNO2[21]; // weak
extern char aRestrictedpart[]; // idb
extern char aO1ISN[19]; // weak
extern char aPart1unifiedag[]; // idb
extern char aGamedbpass[]; // idb
extern char aGamedbuser[]; // idb
extern char aGamedbname[]; // idb
extern char aGamedbaddr[]; // idb
extern char aGamedbtype[]; // idb
extern char aDbagentserve_2[23]; // weak
extern char aLimitbattleuse[]; // idb
extern char aDbagentserverP[19]; // weak
extern char aLimitservergro[]; // idb
extern char aDbagentserverS[24]; // weak
extern char aBattleserver[]; // idb
extern char aDbagentserverI[34]; // weak
extern char aAdminipcheck[]; // idb
extern char aDbagentserve_3[28]; // weak
extern char aDbagentserve_1[24]; // weak
extern char aChecksum[]; // idb
extern char aDbagentserverU[23]; // weak
extern char aUidserveraddr[]; // idb
extern char aDbagentserve_4[26]; // weak
extern char aLoginserveradd[]; // idb
extern char aDbagentserverB[27]; // weak
extern char aPatchaddress[]; // idb
extern char aDbagentserverM[19]; // weak
extern char aClientversion[]; // idb
extern char aDbagentserve_6[19]; // weak
extern char aNationtype[]; // idb
extern char aDbagentserverN[19]; // weak
extern char aBillingtype[]; // idb
extern char aDbagentserve_0[19]; // weak
extern char aServertype[]; // idb
extern char aDbagentserve_5[]; // idb
extern char aDbagentserver[]; // idb
extern char aCserversetup_1[]; // idb
extern char aUidserver[13]; // weak
extern char aHanunitedbilli[]; // idb
extern char aBillingdbpass[]; // idb
extern char aBillingdbuser[]; // idb
extern char aBillingdbname[]; // idb
extern char aBillingdbaddr[]; // idb
extern char aBillingdbtype[]; // idb
extern char aUidserverI[24]; // weak
extern char aHanunitedbil_0[]; // idb
extern char aUidserver_0[13]; // weak
extern char aUidserverBLI_[35]; // weak
extern char aIgnoreflag[]; // idb
extern char aUidserverOI_[]; // idb
extern char aUidserver_1[]; // idb
extern char aFreecheck[]; // idb
extern char aCserversetupIn[]; // idb
extern char aChatserverUDbM[55]; // weak
extern char aChatserverMSSN[28]; // weak
extern char aDbagentaddress[]; // idb
extern char aChatserver[14]; // weak
extern char aUseripcheck[]; // idb
extern char aChatserverIT[31]; // weak
extern char aChatserverN[]; // idb
extern char aChatserver_0[]; // idb
extern char aCserversetup_2[]; // idb
extern char aLogserverDbMSD[]; // idb
extern char aLogdbpass[]; // idb
extern char aLogdbuser[]; // idb
extern char aLogdbname[]; // idb
extern char aLogdbaddr[]; // idb
extern char aLogserver[]; // idb
extern char aLogdbtype[]; // idb
extern char aManageclient[13]; // weak
extern char aZ[3]; // weak
extern char asc_454130[]; // idb
extern char aCserversetup_5[]; // idb
extern char aCommandlineP_0[]; // idb
extern char aC_1[3]; // weak
extern char aCserversetupGe[]; // idb
extern char aCommandlinePar[]; // idb
extern char aCserversetup_0[]; // idb
extern char aZ02dC02dSN_0[24]; // weak
extern char aBattleservergr[]; // idb
extern char aZ02dC02dN[25]; // weak
extern char aZone_etc[]; // idb
extern char aGameservernati[]; // idb
extern char aZ02dC02dS[24]; // weak
extern char aBattleuserlimi[]; // idb
extern char aZ02dC02dDN[25]; // weak
extern char aChatserveraddr[]; // idb
extern char aZ02dC02dN_0[25]; // weak
extern char aLogserveraddr[]; // idb
extern char aZ02dC02dSN[25]; // weak
extern char aDbagentservera[]; // idb
extern char aZ02dC02dIAB[30]; // weak
extern char aFamemax[]; // idb
extern char aZ02dC02dAB[30]; // weak
extern char aFamemin[]; // idb
extern char aZ02dC02dX[20]; // weak
extern char aDroprate[]; // idb
extern char aZ02dC02dCSBS[30]; // weak
extern char aExprate[]; // idb
extern char aZ02dC02dCEOI_[49]; // weak
extern char aDeathpenaltyev[]; // idb
extern char aZ02dC02dZ[22]; // weak
extern char aLevelupevent[]; // idb
extern char aZ02dC02dEOIT_[45]; // weak
extern char aLotteryevent[]; // idb
extern char aZ02dC02dIT__0[35]; // weak
extern char aSpeedhackcheck[]; // idb
extern char aZ02dC02dIT_[35]; // weak
extern char aZ02dC02dN_1[25]; // weak
extern char aZ02dC02dX_0[]; // idb
extern char aZone_02d02d[]; // idb
extern int (__thiscall *CServerSetup::_vftable_)(void *p, char); // weak
extern char aResetDispatchK[]; // idb
extern char aCmultidispatch[]; // idb
extern char aDProjectSer_21[]; // idb
extern char aResetDispatchF[]; // idb
extern char aDp0xPAlreadyDi[]; // idb
extern char aSettingNewDisp[]; // idb
extern char aCmultidispat_0[]; // idb
extern char aThis0xPSetting[]; // idb
extern char aCmultidispat_1[]; // idb
extern char aThis0xPDispatc[]; // idb
extern char aThis0xPResetDi[]; // idb
extern char aCsingledispatc[]; // idb
extern char aDProjectSer_24[]; // idb
extern char aDp0xPResetDisp[]; // idb
extern char aDp0xPSettingNe[]; // idb
extern char aCsingledispa_1[]; // idb
extern char aThis0xPAlready[]; // idb
extern char aCsingledispa_0[]; // idb
extern char aDp0xPDispatchI[]; // idb
extern char aM_hsocket0x08x[]; // idb
extern char aSp0xPDp0xPI_11[]; // idb
extern char aSp0xPDp0xPIp_4[]; // idb
extern char aCsessionIntern[]; // idb
extern char aDProjectSer_27[]; // idb
extern char aSp0xPDp0xPI_13[]; // idb
extern char aCsessionCloses[]; // idb
extern char aSp0xPDp0xPIp_8[]; // idb
extern char aSp0xPDp0xPI_14[118]; // weak
extern char aSp0xPDp0xPI_20[]; // idb
extern char aSp0xPDp0xPI_17[]; // idb
extern char aCsessionInte_0[]; // idb
extern char aSp0xPDp0xPIp_2[]; // idb
extern char aCsessionInte_2[]; // idb
extern char aSp0xPDp0xPI_16[104]; // weak
extern char aSp0xPDp0xPI_18[119]; // weak
extern char aSp0xPDp0xPIp_9[]; // idb
extern char aCsessionInte_1[]; // idb
extern char aSp0xPDp0xPIp15[106]; // weak
extern char aSp0xPDp0xPI_15[121]; // weak
extern char aSp0xPDp0xPI_12[]; // idb
extern char aSp0xPDp0xPIp_0[]; // idb
extern char aSp0xPDp0xPIp_3[]; // idb
extern char aSp0xPDp0xPIp_7[]; // idb
extern char aCsessionProces[]; // idb
extern char aSp0xPDp0xPI_10[]; // idb
extern char aCsessionDispat[]; // idb
extern char aSp0xPDp0xPIp_1[]; // idb
extern char aCsessionSendco[]; // idb
extern char aSp0xPDp0xPIp_5[]; // idb
extern char LimitFileName[31];
extern char FilterFileName[26];
extern char AccountFileName[28];
extern char asc_45525C[]; // idb
extern char aR[]; // idb
extern int (__thiscall *CDBComponent::_vftable_)(void *p, char); // weak
extern char aDbConnectFaile[]; // idb
extern char aCdbcomponentCo[]; // idb
extern char aDProjectSer_18[]; // idb
extern char aDbConnectFai_0[]; // idb
extern char aDbo_sploginaut[]; // idb
extern char aSelectFc_getui[]; // idb
extern char aDbo_sp_searchu[]; // idb
extern char aDbo_uspcheckre[]; // idb
extern char aSelectFc_rylbl[]; // idb
extern char Query_In[]; // idb
extern char aCallPc_ryl_log[]; // idb
extern char aCallPc_ryl_l_0[]; // idb
extern char aCallPc_rylbl_l[]; // idb
extern char aCallPc_rylbl_0[]; // idb
extern char aDbcomponentAut[]; // idb
extern char aDProjectSer_14[]; // idb
extern char aDbBP[]; // idb
extern char aClient_ryl_log[]; // idb
extern char aDbcomponentA_0[]; // idb
extern char aDbBPSDAUid[]; // idb
extern char aClient_ryl_get[]; // idb
extern int (__thiscall *CThreadMgr::_vftable_)(void *p, char); // weak
extern int (__thiscall *CSendDataToManageClient::_vftable_)(void *p, char); // weak
extern int (__thiscall *CProcessThread::_vftable_)(void *p, char); // weak
extern int (__thiscall *CRecvCommandFromManageClient::_vftable_)(void *p, char); // weak
extern char aCserverwindo_3[]; // idb
extern char aDProjectSer_28[]; // idb
extern char aCreatewindowFa[]; // idb
extern char aRegisterclassF[36]; // weak
extern char aCserverwindo_0[]; // idb
extern char aThis0xPServe_0[80]; // weak
extern char aThis0xPServe_2[83]; // weak
extern char aThis0xPServe_1[78]; // weak
extern char aThis0xPServerw[80]; // weak
extern char aThis0xPServe_3[]; // idb
extern char aThis0xPFinishP[]; // idb
extern char aCserverwindo_1[]; // idb
extern char aThis0xPFinishS[]; // idb
extern int (__thiscall *CServerWindowFramework::_vftable_)(void *p, char); // weak
extern char aCrecvcommandfr[]; // idb
extern char aCommandCreat_5[]; // idb
extern char aCserverwindo_2[]; // idb
extern char aThis0xPProcess[38]; // weak
extern char aThis0xPProce_0[]; // idb
extern char aSendWm_copydat[]; // idb
extern int (*CValidateConnection::_vftable_)(); // weak
extern int (__stdcall *CLimitUserByIP::_vftable_)(int localAddr, int remoteAddr); // weak
extern char aClistenerInter[]; // idb
extern char aDProjectSer_22[]; // idb
extern char aClosesocketFai[]; // idb
extern int (__thiscall *CListener::_vftable_)(void *p, char); // weak
extern char aClistenerProce[]; // idb
extern char aSp0xPDp0xPI_19[]; // idb
extern char aClistenerIni_2[]; // idb
extern char aClistenerIni_0[]; // idb
extern char aClistenerIniti[]; // idb
extern char aClistenerIni_1[]; // idb
extern char aSp0xPDp0xPI_21[]; // idb
extern char aCiocpnetConnec[]; // idb
extern char aDProjectSer_17[]; // idb
extern char aConnectedSocke[]; // idb
extern char aTotalAvgtime3_[]; // idb
extern char a3_6f3_6f3_6f8_[]; // idb
extern char aAverageMinimum[]; // idb
extern char aAt[]; // idb
extern char aSPerformancelo[]; // idb
extern int (__thiscall *CTCPFactory::_vftable_)(void *p, char); // weak
extern int (__thiscall *CBufferFactory::_vftable_)(void *p, char); // weak
extern char aWt[]; // idb
extern int (__thiscall *CPoolBufferFactory::_vftable_)(void *p, char); // weak
extern int (__thiscall *COverlappedFactory::_vftable_)(void *p, char); // weak
extern int (__thiscall *COverlapped::_vftable_)(void *p, char); // weak
extern int (__thiscall *CSendOverlapped::_vftable_)(void *p, char); // weak
extern int (__thiscall *CStreamRecvOverlapped::_vftable_)(void *p, char); // weak
extern int (__thiscall *CAcceptOverlapped::_vftable_)(void *p, char); // weak
extern int (__thiscall *CStreamOverlappedFactory::_vftable_)(void *p, char); // weak
extern int (__thiscall *CConsoleCMDFactory::_vftable_)(void *p, char); // weak
extern char a16_4fmb16_4fkb[]; // idb
extern char aSTotalDataS16_[]; // idb
extern char a3d0x02x16_4fS1[]; // idb
extern char aCheckCompressi[]; // idb
extern char a3d0x02x16_4fFa[]; // idb
extern char aSendPacket[]; // idb
extern char szTotalSummeryHeader[]; // idb
extern char aServerPacketSt[]; // idb
extern char aSStatisticsS05[]; // idb
extern int (__thiscall *CDLLModule::_vftable_)(void *p, char); // weak
extern int (__thiscall *CDBGFuncClass::_vftable_)(void *p, char); // weak
extern char aSymgettypeinfo[]; // idb
extern char aSymgetmodule_0[]; // idb
extern char aSymcleanup[]; // idb
extern char aSymsetoptions[]; // idb
extern char aSyminitialize[]; // idb
extern char aSymgetmoduleba[]; // idb
extern char aSymfunctiontab[]; // idb
extern char aSymgetlinefr_0[]; // idb
extern char aSymgetlinefrom[]; // idb
extern char aStackwalk[]; // idb
extern char aSymfromaddr[]; // idb
extern char aSymsetcontext[]; // idb
extern char aSymenumsymbols[]; // idb
extern char ProcName[]; // idb
extern char aExceptionOcc_0[]; // idb
extern char asc_456220[]; // idb
extern char ModuleName[]; // idb
extern char aStack_overflow[15]; // weak
extern char aPriv_instructi[17]; // weak
extern char aInt_overflow[13]; // weak
extern char aInt_divide_by_[19]; // weak
extern char aFlt_underflow[14]; // weak
extern char aFlt_stack_chec[16]; // weak
extern char aFlt_overflow[13]; // weak
extern char aFlt_invalid_op[22]; // weak
extern char aFlt_inexact_re[19]; // weak
extern char aFlt_divide_by_[19]; // weak
extern char aFlt_denormal_o[21]; // weak
extern char aInvalid_handle[15]; // weak
extern char aInvalid_dispos[20]; // weak
extern char aNoncontinuable[25]; // weak
extern char aIllegal_instru[20]; // weak
extern char aArray_bounds_e[22]; // weak
extern char aIn_page_error[14]; // weak
extern char aSingle_step[12]; // weak
extern char aAccess_violati[17]; // weak
extern char aBreakpoint[11]; // weak
extern char aGuard_page[11]; // weak
extern char aDatatype_misal[22]; // weak
extern char a0xS[]; // idb
extern char aLf[]; // idb
extern char a_31s[]; // idb
extern char asc_456548[]; // idb
extern char asc_456550[]; // idb
extern char asc_456580[]; // idb
extern char aC_0[]; // idb
extern char asc_456588[]; // idb
extern char a02x[]; // idb
extern char a__[]; // idb
extern char asc_456598[]; // idb
extern char a08lx[]; // idb
extern _UNKNOWN unk_4565A8; // weak
extern char asc_4565B8[]; // idb
extern char asc_456710[]; // idb
extern char aStackDBytesSta[]; // idb
extern char asc_456748[]; // idb
extern char asc_456828[]; // idb
extern char aLs[]; // idb
extern char aS_6[]; // idb
extern char aLocal[]; // idb
extern char aParameter[11]; // weak
extern char aS[]; // idb
extern _UNKNOWN unk_456870; // weak
extern char aSLineU[]; // idb
extern char a04x08xS[]; // idb
extern char a30s[]; // idb
extern char aS0xP[]; // idb
extern char a08x08x[]; // idb
extern char asc_4568D0[]; // idb
extern char aFailedToWriteM[]; // idb
extern char string[]; // idb
extern char aFailedToWriteS[]; // idb
extern char aFailedToWriteR[]; // idb
extern char aFailedToWriteB[]; // idb
extern char asc_456A70[]; // idb
extern char asc_456AC8[]; // idb
extern char asc_456B58[]; // idb
extern char a04d02d02d02d02[]; // idb
extern char a04d02d02d02d_0[]; // idb
extern _UNKNOWN unk_456C68; // weak
extern char aDbghelp_dll[12]; // weak
extern int (__thiscall *CConsoleWindow::_vftable_)(void *p, char); // weak
extern char String[4]; // idb
extern char aCanTRecognizeC[]; // idb
extern char aListbox[]; // idb
extern char ClassName[]; // idb
extern char WindowName[]; // idb
extern char aConsolewindowc[]; // idb
extern char aConsolewindo_1[]; // idb
extern int (__thiscall *CBufferQueue::_vftable_)(void *p, char); // weak
extern char aCmd0x02xInvali[]; // idb
extern char aCmd0x02xPacket[]; // idb
extern char aPacketwrapWrap[]; // idb
extern char aDProjectSer_25[]; // idb
extern char aCmd0x02xInsuff[]; // idb
extern char locname[]; // idb
extern char Message[]; // idb
extern _UNKNOWN std::basic_ostream<char_std::char_traits<char>>::_vbtable_; // weak
extern GUID CLSID_MSDAORA;
extern GUID CLSID_SQLOLEDB;
extern GUID CLSID_MSDASQL;
extern const GUID DBGUID_DBSQL;
extern const GUID DBPROPSET_ROWSET;
extern const GUID DBPROPSET_DBINIT;
extern const DBID DB_NULLID;
extern int (__thiscall *OleDB::_vftable_)(void *p, char); // weak
extern char a3d0x5xSMS[]; // idb
extern char a3d0x5xMS[]; // idb
extern char Buffer_In[]; // idb
extern char aIdbinitializeZ[]; // idb
extern char aOledbCreateses[]; // idb
extern char aDProjectSer_20[]; // idb
extern char aIdbinitializ_0[]; // idb
extern char aOledbDbcreatec[]; // idb
extern char aCreatesessionD[]; // idb
extern char aIdbcreatecomma[]; // idb
extern char aIdbpropertiesS[]; // idb
extern char aIdbinitializeI[]; // idb
extern char aTN[]; // idb
extern char aIrowsetExecute[]; // idb
extern char aIcommandtextSe[]; // idb
extern char aIdbcreatecom_0[]; // idb
extern char aCreatecommandD[]; // idb
extern char aIaccessorCreat[]; // idb
extern char aCreateaccessor[]; // idb
extern char aIcommandtextQu[]; // idb
extern char aQueryinterface[]; // idb
extern char aOledbExecutequ[]; // idb
extern char aIrowsetGetdata[]; // idb
extern char aS_8[]; // idb
extern char aIrowsetGetnext[21]; // weak
extern char aIrowsetQueryin[]; // idb
extern char asc_457450[]; // idb
extern char asc_45746C[]; // idb
extern char aIcommandtextEx[]; // idb
extern char aCsystraynotify[]; // idb
extern char aTempApplicatio[]; // idb
extern char aTimeOverflowEl[]; // idb
extern char aCpulseChecksle[]; // idb
extern char aDProjectServ_5[]; // idb
extern char aTrafficIsU[]; // idb
extern int (__thiscall *CIOWorker::_vftable_)(void *p, char); // weak
extern char aSp0xPLpoverl_0[]; // idb
extern char aCioworkerRun[]; // idb
extern char aDProjectSer_23[]; // idb
extern char aSp0xPLpoverlap[]; // idb
extern char asc_457694[2]; // weak
extern int (__thiscall *CCompletionHandler::_vftable_)(void *p, char); // weak
extern char CXORCrypt::BitFields[]; // weak
extern char aB[2]; // weak
extern char aD[2]; // weak
extern _UNKNOWN unk_457A18; // weak
extern char aItemCitemfacto[]; // idb
extern char aDProjectSer_26[]; // idb
extern char aPrototypeidU[]; // idb
extern char aBadAllocation[15]; // weak
extern char aDProjectSer_12[]; // idb
extern char aGamelogLogchar[]; // idb
extern char aUid0x08xCid0x0[]; // idb
extern const unsigned int StartPointVariation[6];
extern const unsigned __int16 AllowHans[39];
extern char AllowLetters[3];
extern char DisAllowLetters[10];
extern char aCparsedelimite[]; // idb
extern char aDProjectServer[]; // idb
extern char aEB_LineDColumn[]; // idb
extern char aEJU[17]; // weak
extern char aIOIC[]; // idb
extern char aUB[]; // idb
extern char aIO_1[]; // idb
extern char aMaxdroplevel[]; // idb
extern char aIOUE_[]; // idb
extern char aIO_0[24]; // weak
extern char aItemCitemmgrLo[]; // idb
extern char aIO[]; // idb
extern char aDBPRANJSJ[]; // idb
extern char aDBPR_[46]; // weak
extern char aBPRBT[]; // idb
extern char aJRS[]; // idb
extern char aWb[]; // idb
extern char aSS04d02d02d02d[]; // idb
extern char aClogsavethre_1[]; // idb
extern char aDProjectServ_1[]; // idb
extern char aJR[]; // idb
extern int (__thiscall *CLogSaveThread::_vftable_)(void *p, char); // weak
extern char aCgamelogGetbuf[]; // idb
extern char asc_4581F4[]; // idb
extern char aCgamelogInitia[]; // idb
extern char aFlushXJ[]; // idb
extern char asc_458250[11]; // weak
extern char aCgamelogReserv[]; // idb
extern char asc_458294[]; // idb
extern char aClogsavethread[]; // idb
extern char aJZZ[]; // idb
extern char aSSgamelog04d02[]; // idb
extern char aClogsavethre_0[]; // idb
extern char aTB_ErrornumDFi[]; // idb
extern int (__stdcall *Item::CItem::_vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut); // weak
extern char aItemCitemSeria[]; // idb
extern char aDProjectServ_8[]; // idb
extern char aSerializeinB_J[]; // idb
extern const WCHAR _real; // idb
extern int (__stdcall *Item::CUseItem::_vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut); // weak
extern int (__thiscall *Item::CEquipment::_vftable_[2])(Item::CEquipment *this, int lpSerializeItem_Out, int nIndex); // weak
extern const float aryGradeRateTable[8];
extern const float aryPriceRateTable[22];
extern const float g_aryGradeTable[7][3][8][22];
extern char asc_45BFA8[2]; // weak
extern char aA[2]; // weak
extern char aAa[3]; // weak
extern char aAaa[4]; // weak
extern char aLevel[6]; // weak
extern char aWis[4]; // weak
extern char aInt[4]; // weak
extern char aCon[4]; // weak
extern char aDex[4]; // weak
extern char aStr[4]; // weak
extern char aNone[5]; // weak
extern char aRune_0[5]; // weak
extern char aRing[5]; // weak
extern char aNecklace[9]; // weak
extern char aQuest_item[11]; // weak
extern char aMineral_kit[12]; // weak
extern char aWorldweapon_m_[18]; // weak
extern char aWorldweapon_k_[18]; // weak
extern char aAirship_kit[12]; // weak
extern char aLong_range_arm[20]; // weak
extern char aShort_range_ar[21]; // weak
extern char aCamp_kit[9]; // weak
extern char aEvent_drop[11]; // weak
extern char aEtc[4]; // weak
extern char aOre[4]; // weak
extern char aGem[4]; // weak
extern char aSkill_item[11]; // weak
extern char aFixed_portal[13]; // weak
extern char aSkillbook[10]; // weak
extern char aFire_cracker[13]; // weak
extern char aPortal[7]; // weak
extern char aEvent_lottery[14]; // weak
extern char aCashbook[9]; // weak
extern char aExpbook[8]; // weak
extern char aPotion[7]; // weak
extern char aAmmo[5]; // weak
extern char aBolt[5]; // weak
extern char aArrow[6]; // weak
extern char aSkill_a_knife[14]; // weak
extern char aSkill_a_gun[12]; // weak
extern char aSkill_a_attack[15]; // weak
extern char aSkill_a_guard[14]; // weak
extern char aOpp_sythe[10]; // weak
extern char aOpp_talon[10]; // weak
extern char aOpp_slusher[12]; // weak
extern char aOpp_axe[8]; // weak
extern char aOpp_hammer[11]; // weak
extern char aCom_sword[10]; // weak
extern char aCom_blunt[10]; // weak
extern char aDex_protect_a[14]; // weak
extern char aDex_pelvis[11]; // weak
extern char aDex_head[9]; // weak
extern char aDex_body[9]; // weak
extern char aCon_protect_a[14]; // weak
extern char aCon_pelvis[11]; // weak
extern char aCon_head[9]; // weak
extern char aCon_body[9]; // weak
extern char aShield[7]; // weak
extern char aDagger[7]; // weak
extern char aStaff[6]; // weak
extern char aCrossbow[9]; // weak
extern char aBow[4]; // weak
extern char aTwohanded_blun[16]; // weak
extern char aOnehanded_blun[16]; // weak
extern char aTwohanded_axe[14]; // weak
extern char aOnehanded_axe[14]; // weak
extern char aTwohanded_swor[16]; // weak
extern char aOnehanded_swor[16]; // weak
extern char aDex_boots[10]; // weak
extern char aDex_glove[10]; // weak
extern char aDex_helm[9]; // weak
extern char aDex_armour[11]; // weak
extern char aCon_boots[10]; // weak
extern char aCon_glove[10]; // weak
extern char aCon_helm[9]; // weak
extern char aCon_armour[11]; // weak
extern char aTunic[6]; // weak
extern char aShirt[6]; // weak
extern char aDarkness[9]; // weak
extern char aElectro[8]; // weak
extern char aFire[5]; // weak
extern char aFrost[6]; // weak
extern char aSkillpoint[11]; // weak
extern char aCooldown[9]; // weak
extern char aMagicresist[12]; // weak
extern char aSpeed[6]; // weak
extern char aBlock[6]; // weak
extern char aMpregen[8]; // weak
extern char aMaxmp[6]; // weak
extern char aHpregen[8]; // weak
extern char aMaxhp[6]; // weak
extern char aEvade[6]; // weak
extern char aMaxdamage[10]; // weak
extern char aMindamage[10]; // weak
extern char aReadstring[]; // idb
extern char aDProjectServ_6[]; // idb
extern char asc_45C698[]; // idb
extern char aO[2]; // weak
extern char aReadid[]; // idb
extern char aIdB[]; // idb
extern char aMaxdurability[14]; // weak
extern char aHighlevel[10]; // weak
extern char aLowlevel[9]; // weak
extern char aDurability[11]; // weak
extern char aLimit[6]; // weak
extern char aLimitstat[10]; // weak
extern char aClasslimit[11]; // weak
extern char aMedalprice[11]; // weak
extern char aBlackprice[11]; // weak
extern char aOptionprice[12]; // weak
extern char aPrice[6]; // weak
extern char aMaxdroplevel_0[13]; // weak
extern char aMindroplevel[13]; // weak
extern char aAblesell[9]; // weak
extern char aAbleexchangend[18]; // weak
extern char aTypename[9]; // weak
extern char aItemtype[9]; // weak
extern char aEffectsound[12]; // weak
extern char aSizey[6]; // weak
extern char aSizex[6]; // weak
extern char aMaxy[5]; // weak
extern char aMaxx[5]; // weak
extern char aMiny[5]; // weak
extern char aMinx[5]; // weak
extern char aSpritedds[10]; // weak
extern char aAttachedmodeln[18]; // weak
extern char aFieldmodelname[15]; // weak
extern char aItemname[9]; // weak
extern char aId[3]; // weak
extern char aMaxsocketnum[13]; // weak
extern char aAttackrange[12]; // weak
extern char aCriticaltype[13]; // weak
extern char aGrade[6]; // weak
extern char aDropoption[11]; // weak
extern char aDefence[8]; // weak
extern char aCCCCCCCCCC[]; // idb
extern char version[]; // idb
extern int (__stdcall *Item::CNullItem::_vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut); // weak
extern config_s configuration_table[10];
extern const unsigned int crc_table[256];
extern const int extra_lbits[29];
extern const int extra_dbits[30];
extern char bl_order[19];
extern ct_data_s static_ltree;
extern ct_data_s static_dtree;
extern char _dist_code[]; // weak
extern char byte_45D820[]; // weak
extern char _length_code[]; // weak
extern const int base_length[29];
extern const int base_dist[30];
extern char aTrue[5]; // weak
extern char aErrorLineDS[]; // idb
extern char aWarningLineDS[]; // idb
extern char aScriptSystemEr[]; // idb
extern char aS_5[]; // idb
extern char aS_3[]; // idb
extern char aSS[]; // idb
extern char asc_4613A0; // weak
extern char aS_2[4]; // weak
extern char aErrorStatement[16]; // weak
extern int (__thiscall *IOPCode::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_nop::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_ret::_vftable_)(void *p, char); // weak
extern char asc_463C04[8]; // weak
extern char aCallS[10]; // weak
extern char aSSS[12]; // weak
extern char aSDS[12]; // weak
extern char aSD[8]; // weak
extern char aSF[8]; // weak
extern char aSS_0[8]; // weak
extern char aMov[6]; // weak
extern char aNop[5]; // weak
extern char aAdd[6]; // weak
extern char aSub[6]; // weak
extern char aImul[7]; // weak
extern char aIdiv[7]; // weak
extern char aPushS[10]; // weak
extern char aPopS[9]; // weak
extern char aJmpX[9]; // weak
extern char aJSX[9]; // weak
extern char aJmpmark[11]; // weak
extern char aJmpmarkX[13]; // weak
extern char aCmpSD[13]; // weak
extern char aCmpSS[13]; // weak
extern char aRet[5]; // weak
extern char aSetSS[11]; // weak
extern char aFldS[9]; // weak
extern char aFaddS[10]; // weak
extern char aFsubS[10]; // weak
extern char aFmulS[10]; // weak
extern char aFdivS[10]; // weak
extern char aFstpS[10]; // weak
extern char aFcompS[11]; // weak
extern char aFnstswAx[12]; // weak
extern char aTestAhD[14]; // weak
extern char aStringBuffer_0[64]; // weak
extern char aItoaSS[14]; // weak
extern char aStringBufferBK[64]; // weak
extern char aFtoaSS[14]; // weak
extern char aMallocS[12]; // weak
extern char aFreeS[10]; // weak
extern char aS_0[5]; // weak
extern char aStrcpyS[12]; // weak
extern char aStrcmpSS[16]; // weak
extern char aStrlen[9]; // weak
extern int (__thiscall *COP_call::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_mov::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_add::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_sub::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_imul::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_idiv::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_push::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_pop::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_jmp::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_jcc::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_jmpmark::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_cmp::_vftable_)(void *p, char); // weak
extern char aSetccABEaxEcxE[39]; // weak
extern int (__thiscall *COP_setcc::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fld::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fadd::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fsub::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fmul::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fdiv::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fstp::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_fcomp::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_test_ah::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_itoa::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_ftoa::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_malloc::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_free::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_strcpy::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_strcmp::_vftable_)(void *p, char); // weak
extern int (__thiscall *COP_strlen::_vftable_)(void *p, char); // weak
extern char aD_0[]; // idb
extern int (__thiscall *std::logic_error::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::length_error::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::out_of_range::_vftable_)(void *p, char); // weak
extern char aInvalidStringP[]; // idb
extern char aStringTooLong[]; // idb
extern const __int32 std::_BADOFF; // weak
extern int (__thiscall *std::ios_base::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::runtime_error::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::ios_base::failure::_vftable_)(void *p, char); // weak
extern char aIos_baseEofbit[]; // idb
extern char aIos_baseFailbi[]; // idb
extern char aIos_baseBadbit[]; // idb
extern int (__thiscall *std::locale::facet::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::locale::_Locimp::_vftable_)(void *p, char); // weak
extern char asc_4641C8[]; // idb
extern int (__stdcall *std::basic_ostream<char_std::char_traits<char>>::_vftable_)(char); // weak
extern int (__thiscall *std::basic_ios<char_std::char_traits<char>>::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::ctype<char>::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::basic_streambuf<char_std::char_traits<char>>::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::basic_filebuf<char_std::char_traits<char>>::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::codecvt<char_char_int>::_vftable_)(void *p, char); // weak
extern int (__thiscall *std::bad_alloc::_vftable_)(void *p, char); // weak
extern EHExceptionRecord ExceptionTemplate;
extern int (__thiscall *exception::_vftable_)(void *p, char); // weak
extern char aUnknownExcepti[18]; // weak
extern int (__thiscall *bad_cast::_vftable_)(void *p, char); // weak
extern int (__stdcall *type_info::_vftable_)(char); // weak
extern __int64 One;
extern __int64 Bns;
extern __int64 Zero;
extern __int64 S;
extern __int64 NegZero;
extern __int64 One_0;
extern __int64 Bns_0;
extern __int64 NegOne;
extern __int64 NegZero_0;
extern __int64 S_0;
extern char aCorexitprocess[]; // idb
extern char aMscoree_dll[]; // idb
extern wchar_t asc_464748[33]; // weak
extern const __int16 ctype_loc_style[127];
extern char first_127char[127];
extern char a__[]; // idb
extern char asc_464D34[]; // idb
extern char asc_464D3C[]; // idb
extern char aFlsfree[]; // idb
extern char aFlssetvalue[]; // idb
extern char aFlsgetvalue[]; // idb
extern char aFlsalloc[]; // idb
extern char aKernel32_dll_0[]; // idb
extern char Caption[]; // idb
extern char aProgram_0[]; // idb
extern char asc_464DF8[]; // idb
extern char a___[]; // idb
extern char aProgramNameUnk[]; // idb
extern char aABufferOverrun[160]; // weak
extern char aBufferOverrunD[25]; // weak
extern char aASecurityError[177]; // weak
extern char aUnknownSecurit[]; // idb
extern _SCOPETABLE_ENTRY stru_464FB0; // weak
extern char __lookuptable[]; // weak
extern char aRuntimeErrorPr[]; // idb
extern char aE000[]; // idb
extern char aIsprocessorfea[]; // idb
extern char aKernel32[]; // idb
extern char option[]; // idb
extern char aAtan_0[5]; // weak
extern char aCeil[5]; // weak
extern char aFloor[6]; // weak
extern char aModf[5]; // weak
extern char aExp2[5]; // weak
extern char aExp10[6]; // weak
extern char aLog2[5]; // weak
extern char aPow[4]; // weak
extern char aLog[4]; // weak
extern char aLog10[6]; // weak
extern char aExp[4]; // weak
extern char first[]; // idb
extern char aInitializecrit[]; // idb
extern int __rgLocInfo[]; // weak
extern char a040a[5]; // weak
extern char *off_465A74; // weak
extern void *off_465A78; // weak
extern char *off_465A7C; // weak
extern void *off_465A80; // weak
extern _UNKNOWN unk_465A84; // weak
extern char a1252[5]; // weak
extern __int16 __rglangidNotDefault[]; // weak
extern tagLOCALETAB __rg_country; // idb
extern tagLOCALETAB __rg_language; // idb
extern char aOcp[]; // idb
extern char Str2[]; // idb
extern char aNorwegianNynor[]; // idb
extern char aGetprocesswind[]; // idb
extern char aGetuserobjecti[]; // idb
extern char aGetlastactivep[]; // idb
extern char aGetactivewindo[]; // idb
extern char aMessageboxa[]; // idb
extern char LibFileName[]; // idb
extern char a1Qnan[]; // idb
extern char a1Inf[]; // idb
extern char a1Ind[6]; // weak
extern char a1Snan[7]; // weak
extern GUID GUID_ATLVer70;
extern GUID IID_IAccessor;
extern GUID IID_IRowset;
extern GUID IID_ICommandText;
extern GUID IID_IColumnsInfo;
extern GUID IID_IDBCreateCommand;
extern GUID IID_IDBCreateSession;
extern GUID IID_IDBProperties;
extern GUID IID_IDBInitialize;
extern _UNKNOWN __rtc_izz; // weak
extern _UNKNOWN __rtc_tzz; // weak
extern _s__ThrowInfo _TI3_AVlength_error_std__; // idb
extern _s__ThrowInfo _TI3_AVout_of_range_std__; // idb
extern _s__ThrowInfo _TI2_AVbad_cast__; // idb
extern _s__ThrowInfo _TI2_AVbad_alloc_std__; // idb
extern _s__ThrowInfo _TI3_AVfailure_ios_base_std__; // idb
extern _UNKNOWN __xi_a; // weak
extern _UNKNOWN __xi_z; // weak
extern void (__cdecl *__xp_a)(); // idb
extern void (__cdecl *__xp_z)(); // idb
extern void (__cdecl *__xt_a)(); // idb
extern void (__cdecl *__xt_z)(); // idb
extern LPCSTR CServerWindowFramework::ms_this; // idb
extern LPCSTR WINCONSOLE_CLASSNAME; // idb
extern LPCSTR WINCONSOLE_FONTNAME; // idb
extern LPCSTR CConsoleWindow::ms_this; // idb
extern unsigned int x;
extern unsigned int a;
extern int gz_magic[2];
extern const char *my_version;
extern char *off_46D75C[5]; // weak
extern char *off_46D764[3]; // weak
extern char *off_46D768[2]; // weak
extern static_tree_desc_s static_l_desc;
extern static_tree_desc_s static_d_desc;
extern static_tree_desc_s static_bl_desc;
extern void (__cdecl *g_pfuncCompilerMessage)(const char *); // weak
extern int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val); // weak
extern char *off_470C38[15]; // weak
extern char *off_470C5C[6]; // weak
extern unsigned __int8 *arrReg1; // weak
extern char byte_470C7A; // weak
extern unsigned __int8 *arrReg2; // weak
extern unsigned __int8 *arrReg3; // weak
extern unsigned __int8 *arrReg4; // weak
extern volatile LONG init;
extern unsigned int atcount;
extern _DWORD _NLG_Destination[5]; // idb
extern int __security_cookie; // weak
extern int (__cdecl *_aexit_rtn)(_DWORD); // weak
extern int __app_type; // weak
extern int (__cdecl *_FPinit)(_DWORD); // weak
extern int (*_FPmtinit)(void); // weak
extern int (*_FPmtterm)(void); // weak
extern FILE _iob[];
extern _UNKNOWN unk_470FA0; // weak
extern _UNKNOWN unk_470FB0; // weak
extern _UNKNOWN unk_470FD0; // weak
extern _UNKNOWN unk_471000; // weak
extern _UNKNOWN unk_4711F0; // weak
extern errentry errtable[45];
extern char *__lconv_c; // weak
extern void *off_4713C0; // weak
extern void *off_4713C4; // weak
extern void *off_4713C8; // weak
extern void *off_4713CC; // weak
extern void *off_4713D0; // weak
extern void *off_4713D4; // weak
extern void *off_4713D8; // weak
extern void *off_4713DC; // weak
extern void *off_4713E0; // weak
extern char *__lconv; // weak
extern const unsigned __int16 *_pctype;
extern LPCRITICAL_SECTION locktable;
extern char clocalestr[2];
extern _UNKNOWN __initiallocinfo; // weak
extern threadlocaleinfostruct *___ptlocinfo; // idb
extern _is_ctype_compatible Lcid_c[5];
extern char cachein[131];
extern char cacheout[131];
extern char *outstr; // idb
extern int (__cdecl *off_4716C0)(int pexcept); // weak
extern char *off_4716C4[2]; // weak
extern char *off_4716C8; // weak
extern char *off_4716D4; // weak
extern char *off_4716F4[2]; // weak
extern char *off_4716F8; // weak
extern _DWORD __tlsindex; // idb
extern void (__cdecl *__pInconsistency)(); // weak
extern char *__nullstring; // weak
extern wchar_t *__wnullstring; // weak
extern rterrmsgs rterrs[19];
extern _UNKNOWN _XcptActTab; // weak
extern int _First_FPE_Indx; // weak
extern int _Num_FPE; // weak
extern int _XcptActTabCount; // weak
extern _UNKNOWN __badioinfo; // weak
extern char _rgctypeflag[4];
extern code_page_info _rgcode_page_info[5];
extern int (__cdecl *_cfltcvt_tab)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*off_471964[5])(); // weak
extern int (*off_471968[4])(); // weak
extern int (*off_47196C[3])(); // weak
extern int (*off_471970[2])(); // weak
extern int (*off_471974)(); // weak
extern __int32 _timezone;
extern int _daylight;
extern __int32 _dstbias;
extern LPSTR _tzname;
extern transitiondate dststart;
extern transitiondate dstend;
extern int (__cdecl *_pmatherr)(_DWORD); // weak
extern unsigned int newcw;
extern char XAMtoTagTab[1];
extern int dword_471A6C[]; // weak
extern int _lpdays; // weak
extern int dword_471AA0[]; // weak
extern int _days; // weak
extern unsigned int newcw_0;
extern int dword_471AE8[]; // weak
extern _DWORD off_471AEC[56]; // idb
extern double _d_inf; // weak
extern double _d_max; // weak
extern int __lc_clike; // weak
extern int __mb_cur_max;
extern char __decimal_point; // weak
extern int __decimal_point_length; // weak
extern char *(*__lc_time_curr)[43]; // weak
extern char *__lc_time_c[43]; // weak
extern FpFormatDescriptor DoubleFormat;
extern FpFormatDescriptor FloatFormat;
extern int _matherr_flag; // weak
extern _UNKNOWN _pow10pos; // weak
extern _UNKNOWN _pow10neg; // weak
extern CSingleDispatch singleDispatchTable;
extern unsigned int _S1;
extern CAuthAgentServerTable authAgentServerTable;
extern RylServerInfo this; // idb
extern unsigned int _S1_0;
extern CMultiDispatch multiDispatch;
extern unsigned int _S1_1;
extern CMasterPassword Instance;
extern int __S1__1__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA; // weak
extern CAuthorizeUser authorizeUser;
extern CThreadMgr stru_472224; // idb
extern unsigned int _S1_2;
extern CItemCreator itemCreator;
extern unsigned int _S1_3;
extern CRylAuthServer rylAuthServer;
extern unsigned int _S1_4;
extern CCMDStatClear Instance;
extern int _local_static_guard_; // weak
extern CCMDStatLog Instance;
extern int _local_static_guard_; // weak
extern CCMDStartServer Instance;
extern int _local_static_guard_; // weak
extern CCMDFlushLog Instance;
extern int _local_static_guard_; // weak
extern CCMDReloadSetup Instance;
extern int _local_static_guard_; // weak
extern CCMDMasterPass Instance;
extern int _local_static_guard_; // weak
extern CXORCrypt *CSingleton<CXORCrypt>::ms_pSingleton; // idb
extern CServerLog g_SessionLog; // idb
extern CServerLog g_Log; // idb
extern CServerRequest serverRequest;
extern unsigned int _S1_5;
extern CServerSetup serverSetup;
extern unsigned int _S1_6;
extern Filter::FilterName g_FilterName;
extern Filter::FilterName g_AccountName;
extern CAuthorizeParam authParam;
extern unsigned int _S1_7;
extern UINT CServerWindowFramework::ms_SendDataMsg; // idb
extern CPerformanceCheck performanceCheck;
extern unsigned int _S1_8;
extern CPacketStatistics packetStatistics;
extern unsigned int _S1_9;
extern CExceptionReport exceptionReport;
extern unsigned int _S1_10;
extern UINT CConsoleWindow::ms_PrintInfoMsg; // idb
extern const unsigned int WINCONSOLE_X;
extern UINT CConsoleWindow::ms_PrintOutputMsg; // idb
extern CXORCrypt CXORCrypt::ms_this; // idb
extern int std::fpos<int>::_Stz; // weak
extern int _Stinit; // weak
extern int std::_Facetptr<std::ctype<char>>::_Psave; // weak
extern int std::_Facetptr<std::codecvt<char_char_int>>::_Psave; // weak
extern unsigned int std::codecvt<char_char_int>::id; // idb
extern const unsigned int s_MsgID;
extern unsigned int _S1_11;
extern CPulse Pulse;
extern unsigned int _S1_12;
extern bool ATL::CAtlBaseModule::m_bInitFailed; // weak
extern boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type obj;
extern int __S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA; // weak
extern Item::CItemFactory itemFactory;
extern _UNKNOWN unk_4A5E0C; // weak
extern std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > stru_4A5E10; // idb
extern unsigned int _S5;
extern Item::CItemMgr Item::CItemMgr::ms_this; // idb
extern Item::CItemMgr itemMgr;
extern unsigned int _S5_0;
extern CGameLog gameLog;
extern unsigned int _S5_1;
extern Item::ItemInfo NullProtoType;
extern int CSingleton<CSkillMgr>::ms_pSingleton; // weak
extern Item::CItemType itemType;
extern unsigned int _S5_2;
extern boost::singleton_pool<boost::fast_pool_allocator_tag,12,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type obj;
extern int __S5__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA; // weak
extern unsigned int c;
extern CSkillMgr CSkillMgr::ms_this; // idb
extern Item::ItemInfo Item::CNullItem::ms_thisiteminfo; // idb
extern _UNKNOWN Item::CNullItem::ms_this; // weak
extern int CSingleton<Item::CNullItem>::ms_pSingleton; // weak
extern int CSingleton<CMonsterMgr>::ms_pSingleton; // weak
extern boost::singleton_pool<boost::fast_pool_allocator_tag,24,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type obj;
extern int __S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA; // weak
extern boost::singleton_pool<boost::fast_pool_allocator_tag,20,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type obj;
extern int __S11__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA; // weak
extern boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type obj;
extern int __S8__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA; // weak
extern CMonsterMgr CMonsterMgr::ms_this; // idb
extern int CSingleton<EnemyCheck::CCheckTable>::ms_pSingleton; // weak
extern int CSingleton<CDuelCellManager>::ms_pSingleton; // weak
extern int CSingleton<Skill::CProcessTable>::ms_pSingleton; // weak
extern boost::singleton_pool<boost::fast_pool_allocator_tag,40,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type obj;
extern int __S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA; // weak
extern int CSingleton<CQuestMgr>::ms_pSingleton; // weak
extern int CSingleton<CFSM>::ms_pSingleton; // weak
extern _UNKNOWN Skill::CProcessTable::ProcessInfo::m_NullProtoType; // weak
extern Skill::CProcessTable Skill::CProcessTable::ms_this; // idb
extern int CSingleton<AwardTable::CAward>::ms_pSingleton; // weak
extern EnemyCheck::CCheckTable EnemyCheck::CCheckTable::ms_this; // idb
extern CDuelCellManager CDuelCellManager::ms_this; // idb
extern _UNKNOWN unk_4C558C; // weak
extern CQuestMgr CQuestMgr::ms_this; // idb
extern CFSM CFSM::ms_this; // idb
extern AwardTable::CAward AwardTable::CAward::ms_this; // idb
extern char byte_4C7D00[128]; // idb
extern std::list<LogBuffer *,std::allocator<LogBuffer *> > *dword_4C8DD4; // idb
extern int dword_4C8DDC; // weak
extern std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *dword_4C8DE0; // idb
extern int dword_4C8DE4; // weak
extern int FLOATUNIT; // weak
extern int FLOATTEMP; // weak
extern int STRINGTRUE; // weak
extern int STRINGFALSE; // weak
extern int CONVERSIONBUFFER; // weak
extern int dword_4C8E04; // weak
extern int dword_4C8E08; // weak
extern std::nothrow_t std::nothrow; // idb
extern __int64 std::_Fpz; // weak
extern std::ios_base *stdstr[10];
extern char stdopens[10];
extern _RTL_CRITICAL_SECTION mtx;
extern std::_Init_locks initlocks;
extern std::_Fac_node *Fac_head;
extern std::locale::_Locimp *global_locale;
extern int std::locale::_Locimp::_Clocptr; // weak
extern int std::locale::id::_Id_cnt; // weak
extern std::locale classic_locale;
extern unsigned int std::ctype<char>::id; // idb
extern bool registered;
extern std::basic_filebuf<char,std::char_traits<char> > fout;
extern std::_Init_locks initlocks_0;
extern std::_Init_cout init_cout;
extern std::basic_ostream<char,std::char_traits<char> > std::cout; // idb
extern std::bad_alloc nomem;
extern unsigned int _S1_13;
extern int std::_Ptr_cin; // weak
extern int std::_Ptr_cout; // weak
extern int std::_Ptr_cerr; // weak
extern int std::_Ptr_clog; // weak
extern void (__cdecl *atfuns[10])();
extern std::_Init_locks initlocks_1;
extern _Init_atexit init_atexit;
extern int (*__pPurecall)(void); // weak
extern char *_aenvptr; // idb
extern int __error_mode; // weak
extern int _adjust_fdiv; // weak
extern int _cflush; // weak
extern int _tls_index; // weak
extern int _umaskval; // weak
extern int _osplatform; // weak
extern unsigned int _winmajor;
extern int __argc;
extern char **__argv;
extern char **_environ;
extern int __initenv; // weak
extern wchar_t **_wenviron;
extern char *_pgmptr;
extern char _exitflag; // weak
extern int _C_Termination_Done; // weak
extern int _C_Exit_Done; // weak
extern int (__cdecl *_pnhHeap)(unsigned int); // weak
extern int f_use;
extern _RTL_CRITICAL_SECTION lclcritsects[14];
extern tagLC_ID cacheid;
extern unsigned int cachecp;
extern int (__stdcall *gpFlsAlloc)(_DWORD); // weak
extern int (__stdcall *gpFlsGetValue)(_DWORD); // weak
extern int (__stdcall *gpFlsSetValue)(_DWORD, _DWORD); // weak
extern int (__stdcall *gpFlsFree)(_DWORD); // weak
extern void (__cdecl *user_handler)(int, void *);
extern LPTOP_LEVEL_EXCEPTION_FILTER pOldExceptFilter;
extern int (*_adbgmsg)(void); // weak
extern char pgmname[261];
extern int f_use_0;
extern _DWORD _stdbuf[3]; // idb
extern int nValidPages;
extern void *rgValidPages[16];
extern volatile LONG lModifying;
extern int fSystemSet;
extern _TIME_ZONE_INFORMATION tzinfo;
extern int tzapiused;
extern char *lastTZ;
extern int first_time;
extern tm tb;
extern int _newmode; // idb
extern int _commode; // weak
extern int __lc_handle[]; // weak
extern int lcid; // idb
extern int dword_4C943C; // weak
extern int dword_4C9440; // weak
extern int dword_4C9444; // weak
extern UINT __lc_codepage; // idb
extern int __lc_collate_cp; // weak
extern int f_use_1;
extern wchar_t wcbuffer[4];
extern char __lc_id[12]; // idb
extern __int16 word_4C9468; // weak
extern __int16 word_4C9470; // weak
extern __int16 word_4C9476; // weak
extern __int16 word_4C947A; // weak
extern __int16 word_4C947C; // weak
extern int (__stdcall *_crtInitCritSecAndSpinCount)(_RTL_CRITICAL_SECTION *, unsigned int);
extern int __lc_time_intl; // weak
extern void *__lconv_intl; // idb
extern int iLcidState;
extern LCID lcidLanguage;
extern unsigned int lcidCountry;
extern int bAbbrevLanguage;
extern int bAbbrevCountry;
extern char *pchCountry;
extern int iPrimaryLen;
extern char *pchLanguage;
extern int (__stdcall *pfnGetLocaleInfoA)(unsigned int, unsigned int, char *, int);
extern void (__cdecl *ctrlc_action)(int);
extern void (__cdecl *ctrlbreak_action)(int);
extern void (__cdecl *abort_action)(int);
extern void (__cdecl *term_action)(int);
extern int (__stdcall *pfnMessageBoxA)(HWND__ *, const char *, const char *, unsigned int);
extern HWND__ *(__stdcall *pfnGetActiveWindow)();
extern HWND__ *(__stdcall *pfnGetLastActivePopup)(HWND__ *);
extern HWINSTA__ *(__stdcall *pfnGetProcessWindowStation)();
extern int (__stdcall *pfnGetUserObjectInformationA)(void *, int, void *, unsigned int, unsigned int *);
extern int f_use_2;
extern int f_use_3;
extern int _fmode;
extern int f_use_4;
extern ATL::CAtlBaseModule ATL::_AtlBaseModule; // idb
extern int __lconv_mon_refcount; // weak
extern void *__lconv_intl_refcount; // idb
extern int __lconv_num_refcount; // weak
extern int __use_sse2_mathfcns; // weak
extern int __sse2_available; // weak
extern char *__sbh_pHeaderDefer; // idb
extern int __sbh_cntHeaderList; // weak
extern LPVOID __sbh_pHeaderList; // idb
extern int __sbh_threshold; // weak
extern int __sbh_pHeaderScan; // weak
extern int __sbh_sizeHeaderList; // weak
extern int __sbh_indGroupDefer; // weak
extern int __mblcid; // idb
extern void *___ptmbcinfo; // idb
extern int __ismbcodepage; // weak
extern unsigned __int8 _mbctype[];
extern char byte_4C9561[]; // weak
extern UINT __mbcodepage; // idb
extern __int16 __mbulinfo[]; // weak
extern unsigned __int8 _mbcasemap[];
extern HANDLE _crtheap; // idb
extern int __active_heap; // weak
extern UINT _nhandle; // idb
extern int __pioinfo[]; // weak
extern _UNKNOWN unk_4C97A4; // weak
extern int __setlc_active; // weak
extern _UNKNOWN __unguarded_readlc_active; // weak
extern int __ctype1; // weak
extern int __ctype1_refcount; // weak
extern int __env_initialized; // weak
extern int __onexitend; // weak
extern void *__onexitbegin; // idb
extern int __mbctype_initialized; // weak
extern int __piob; // weak
extern unsigned int _nstream; // idb
extern char *_acmdln; // idb

//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

void __thiscall operator delete(CBuffer *this);
void __thiscall CAuthClientDispatch::SetMoveAddress(CAuthClientDispatch *this, unsigned int dwMoveServerID, INET_Addr *moveAddress);
void __thiscall CAuthAgentDispatch::CAuthAgentDispatch(CAuthAgentDispatch *this, CSession *Session);
void __thiscall CAuthAgentDispatch::_CAuthAgentDispatch(CAuthAgentDispatch *this);
bool __thiscall CAuthAgentDispatch::ParseSysChannelUpdate(CAuthAgentDispatch *this, PktSCInfo *lpPktSCInfo);
bool __thiscall CAuthAgentDispatch::ParseSysServerVerUpdate(CAuthAgentDispatch *this, PktSVU *lpPktSVU);
bool __cdecl SendPartyLeaveToDBAgent(CSendStream *SendStream, unsigned int dwPID, unsigned int dwCID, const char *szName);
bool __thiscall CAuthAgentDispatch::ParseAgentZone(CAuthAgentDispatch *this, PktDD *lpPktDD);
bool __thiscall CAuthAgentDispatch::SendUserKill(CAuthAgentDispatch *this, unsigned int dwUserID, unsigned __int16 usError);
bool __thiscall CAuthAgentDispatch::SendSysServerLogin(CAuthAgentDispatch *this, unsigned int ServerID_In);
bool __thiscall CAuthAgentDispatch::SendCreateCharEquipItem(CAuthAgentDispatch *this, unsigned int CharID_In, unsigned __int16 Shirt_In, unsigned __int16 Armour_In, unsigned __int16 Boots_In, unsigned __int16 Weapon_In);
bool __thiscall CAuthAgentDispatch::ParseBillingTimeoutNotify(CAuthAgentDispatch *this, PktBTN *lpPktBTN);
bool __thiscall CAuthAgentDispatch::ParseBillingTimeCheckNotify(CAuthAgentDispatch *this, PktBTN *lpPktBTN);
bool __thiscall CAuthAgentDispatch::ParseUnifiedCharInfo(CAuthAgentDispatch *this, PktUnifiedCharInfo *lpPktUnifiedCharInfo);
bool __thiscall CAuthAgentDispatch::ParseUnifiedCharSelectAck(CAuthAgentDispatch *this, PktUnifiedCharSelectAck *lpPktUnifiedCharSelectAck);
int __cdecl std::accumulate<unsigned_short___int>(unsigned __int16 *_First, unsigned __int16 *_Last, int _Val);
void __thiscall RylServerInfo::RylServerInfo(RylServerInfo *this);
void *__thiscall CAuthAgentDispatch::_vector_deleting_destructor_(CAuthAgentDispatch *this, unsigned int);
CSingleDispatch *__cdecl CAuthAgentDispatch::GetDispatchTable();
void __thiscall CAuthAgentDispatch::Connected(CAuthAgentDispatch *this);
void __thiscall CAuthAgentDispatch::Disconnected(CAuthAgentDispatch *this);
bool __thiscall CAuthAgentDispatch::ParseSysServerLogin(CAuthAgentDispatch *this, PktSLAck *lpPktSLAck);
bool __thiscall CAuthAgentDispatch::ParseDBGetData(CAuthAgentDispatch *this, PktDD *lpPktDD);
bool __thiscall CAuthAgentDispatch::ParseUserKill(CAuthAgentDispatch *this, PktUK *lpPktUK);
bool __cdecl CAuthAgentDispatch::SendStartSession(CAuthClientDispatch *lpDispatch_In, unsigned int dwSessionID_In, const char *AccountName_In, unsigned int dwUserID_In, unsigned __int16 usCnFlag_In);
bool __thiscall CAuthAgentDispatch::DispatchPacket(CAuthAgentDispatch *this, PktBase *lpPktBase);
void __thiscall CLock<CCSLock>::Syncronize::Syncronize(CLock<CCSLock>::Syncronize *this, CCSLock *LockClass);
void __thiscall CLock<CCSLock>::Syncronize::_Syncronize(CLock<CCSLock>::Syncronize *this);
void __thiscall CAuthAgentServerTable::GetPatchServerAddress(CAuthAgentServerTable *this, unsigned int *dwClientVer, char *szPatchAddress_Out, unsigned int nBufferLen);
void __thiscall CAuthAgentServerTable::UpdateServerData(CAuthAgentServerTable *this, unsigned int dwChecksum, unsigned int dwClientVer, const char *szPatchAddress);
unsigned int __thiscall CAuthAgentServerTable::GetServerVersion(CAuthAgentServerTable *this);
unsigned int __thiscall CAuthAgentServerTable::GetServerChecksum(CAuthAgentServerTable *this);
void __thiscall CAuthAgentServerTable::SetAgentServerInfo(CAuthAgentServerTable *this, RylServerInfo *AgentServerInfo);
void __thiscall CAuthAgentServerTable::GetAgentServerInfo(CAuthAgentServerTable *this, RylServerInfo *AgentServerInfo);
CAuthAgentServerTable *__cdecl CAuthAgentServerTable::GetInstance();
void __thiscall CAuthAgentServerTable::UpdateChannelUserNum(CAuthAgentServerTable *this, unsigned __int16 *lpdwClientChannelNum, unsigned __int16 usChannelNum);
void __thiscall INET_Addr::INET_Addr(INET_Addr *this);
void __thiscall CCSLock::_CCSLock(CAuthAgentServerTable *this);
void __thiscall CAuthClientDispatch::_CAuthClientDispatch(CAuthClientDispatch *this);
void __thiscall CAuthClientDispatch::Connected(CAuthClientDispatch *this);
bool __thiscall CAuthClientDispatch::Dispatch(CAuthClientDispatch *this);
bool __thiscall CAuthClientDispatch::ParseServerZone(CAuthClientDispatch *this, PktSZ *lpPktSZ);
bool __thiscall CAuthClientDispatch::ParseSysPatchAddress(CAuthClientDispatch *this, PktSPI *lpPktSPI);
bool __thiscall CAuthClientDispatch::ParseUserLogin(CAuthClientDispatch *this, PktULi *lpPktULi);
bool __thiscall CAuthClientDispatch::ParseCharSelect(CAuthClientDispatch *this, PktCS *lpPktCS);
bool __thiscall CAuthClientDispatch::ParseCharDelete(CAuthClientDispatch *this, PktCD *lpPktCD);
bool __thiscall CAuthClientDispatch::ParseSelectAccountNation(CAuthClientDispatch *this, PktSelectAccountNation *lpPktSAN_In);
void __thiscall CAuthClientDispatch::SetBlockedID(CAuthClientDispatch *this, char cBlockedFlag, const char **szBlockedChar);
bool __thiscall CAuthClientDispatch::ParseJapanAuthAccount(CAuthClientDispatch *this, PktJPAU *lpPktJPAU);
bool __cdecl SendGuildLeaveToDBAgent(CSendStream *SendStream, unsigned int dwGID, unsigned int dwCID, const char *szName);
bool __thiscall CAuthClientDispatch::ParseUnifiedCharSelect(CAuthClientDispatch *this, PktUnifiedCharSelectReq *lpPktUnifiedCharSelectReq);
void __thiscall CAuthClientDispatch::CAuthClientDispatch(CAuthClientDispatch *this, CSession *Session);
void *__thiscall CAuthClientDispatch::_vector_deleting_destructor_(CAuthClientDispatch *this, unsigned int);
CMultiDispatch *__cdecl CAuthClientDispatch::GetDispatchTable();
void __thiscall CAuthClientDispatch::UserLogin(CAuthClientDispatch *this, unsigned int dwSessionID, unsigned int dwUID);
void __thiscall CAuthClientDispatch::UserLogout(CAuthClientDispatch *this);
void __thiscall CAuthClientDispatch::UserMove(CAuthClientDispatch *this);
bool __thiscall CAuthClientDispatch::ParseAuthAccount(CAuthClientDispatch *this, PktAU *lpPktAU);
bool __thiscall CAuthClientDispatch::ParseCharCreate(CAuthClientDispatch *this, PktCC *lpPktCC);
void __thiscall CAuthClientDispatch::Disconnected(CAuthClientDispatch *this);
bool __thiscall CAuthClientDispatch::DispatchPacket(CAuthClientDispatch *this, PktBase *lpPktBase);
bool __cdecl CAuthClientDispatch::SendCharSelect(CSendStream *SendStream, char Zone, unsigned __int16 *lpChannelNum, unsigned __int16 usError_In);
bool __cdecl CAuthClientDispatch::SendCharCreate(CSendStream *SendStream, unsigned int CharID_In, unsigned int Slot_In, CHAR_VIEW *lpCharView_In, unsigned __int16 usError_In);
bool __cdecl CAuthClientDispatch::SendCharDelete(CSendStream *SendStream, unsigned int UserID_In, unsigned int Slot_In, unsigned __int16 usError_In);
bool __cdecl CAuthClientDispatch::SendSelectAccountNation(CSendStream *SendStream, unsigned int UserID_In, char cType, char cAccountNation_In, unsigned __int16 usError_In);
bool __cdecl CAuthClientDispatch::SendNationChangeResult(CSendStream *SendStream, unsigned int UserID_In, unsigned int *dwGID, unsigned int *dwFame, unsigned __int16 usError_In);
void __thiscall CIOWorker::_CIOWorker(CIOWorker *this);
void *__thiscall CThread::_vector_deleting_destructor_(CThread *this, unsigned int);
void __thiscall CAuthClientDispatch::SetSucceededPassword(CAuthClientDispatch *this, const char *szPassword);
bool __thiscall CAuthorizeThread::Initialize(CAuthorizeThread *this);
int __thiscall CAuthorizeThread::End(CAuthorizeThread *this);
bool __cdecl CAuthorizeThread::CheckUserIDAndPass(const char *szUserAccount_In, const char *szUserPW_In);
void __thiscall CYouxilandAuthorizeThread::Authorize(CYouxilandAuthorizeThread *this, CAuthInfo *lpAuthInfo);
void __thiscall CJapanAuthorizeThread::Authorize(CJapanAuthorizeThread *this, CAuthInfo *lpAuthInfo);
void __thiscall CAuthorizeThread::_CAuthorizeThread(CAuthorizeThread *this);
unsigned int __thiscall CAuthorizeThread::Run(CAuthorizeThread *this);
CMasterPassword *__cdecl CStaticSingleton<CMasterPassword>::GetInstance();
void *__thiscall CAuthorizeThread::_vector_deleting_destructor_(CAuthorizeThread *this, unsigned int);
CAuthorizeThread *__cdecl CAuthorizeThread::Create();
void *__thiscall CYouxilandAuthorizeThread::_vector_deleting_destructor_(CJapanAuthorizeThread *this, unsigned int);
void __thiscall CHangameAuthorizeThread::_CHangameAuthorizeThread(CJapanAuthorizeThread *this);
void __thiscall CHangameAuthorizeThread::Authorize(CHangameAuthorizeThread *this, CAuthInfo *lpAuthInfo);
void __thiscall CGamaAuthorizeThread::Authorize(CGamaAuthorizeThread *this, CAuthInfo *lpAuthInfo);
void __thiscall CAuthInfo::_CAuthInfo(CAuthInfo *this);
bool __thiscall CAuthorizeUser::Initialize(CAuthorizeUser *this, unsigned int nThreadNum, unsigned int dwMaxAuthorizeListSize);
void __thiscall CSyncronizedObjectQueue::stop(CSyncronizedObjectQueue *this);
bool __thiscall CSyncronizedObjectQueue::is_stopped(CSyncronizedObjectQueue *this);
void __thiscall CAuthInfo::CAuthInfo(CAuthInfo *this, CAuthClientDispatch *lpDispatch, unsigned int dwSessionID, const char *szUserAccount, const char *szUserPassword, unsigned int nMaxUserAccountSize, unsigned int nMaxUserPasswordSize, unsigned __int16 usFlag, unsigned __int16 usCnFlag);
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, bool _Built, unsigned int _Newsize);
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, unsigned int _Off, unsigned int _Count);
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Copy(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, unsigned int _Newsize, unsigned int _Oldlen);
void __thiscall CSyncronizedObjectQueue::remove(CSyncronizedObjectQueue *this, const char *szUserAccount);
void __thiscall CSyncronizedObjectQueue::clear(CSyncronizedObjectQueue *this);
void __thiscall CAuthorizeUser::RemovePending(CAuthorizeUser *this, const char *szUserAccount);
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this);
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this);
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::pop_front(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this);
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::pop_back(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this);
const char *__thiscall std::logic_error::what(std::logic_error *this);
void *__thiscall std::out_of_range::_vector_deleting_destructor_(std::out_of_range *this, unsigned int);
void __thiscall CSyncronizedObjectQueue::_CSyncronizedObjectQueue(CSyncronizedObjectQueue *this);
CAuthInfo *__thiscall CSyncronizedObjectQueue::dequeue(CSyncronizedObjectQueue *this, unsigned int dwMilliSecond);
void __thiscall CAuthorizeUser::_CAuthorizeUser(CAuthorizeUser *this);
CAuthInfo *__thiscall CAuthorizeUser::GetAuthorizeInfo(CAuthorizeUser *this, unsigned int dwMilliSecond);
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Right, unsigned int _Roff, unsigned int _Count);
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, const char *_Ptr, unsigned int _Num);
void __thiscall CSyncronizedObjectQueue::CSyncronizedObjectQueue(CSyncronizedObjectQueue *this);
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Right);
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, const char *_Ptr);
void __thiscall std::logic_error::logic_error(std::logic_error *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Message);
CAuthorizeUser *__cdecl CAuthorizeUser::GetInstance();
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, const char *_Ptr);
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_Incsize(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this, unsigned int _Count);
void __thiscall std::logic_error::logic_error(std::logic_error *this, std::logic_error *__that);
void __thiscall std::length_error::length_error(std::length_error *this, std::length_error *__that);
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::push_front(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this, CAuthInfo *const *_Val);
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::push_back(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this, CAuthInfo *const *_Val);
bool __thiscall CSyncronizedObjectQueue::enqueue(CSyncronizedObjectQueue *this, CAuthInfo *lpCommand, bool bPendHead);
bool __thiscall CAuthorizeUser::AddAuthorizeUser(CAuthorizeUser *this, CAuthInfo *lpAuthInfo);
unsigned __int64 __thiscall CItemCreator::GetUID(CItemCreator *this);
bool __thiscall CItemCreator::Initialize(CItemCreator *this);
void __thiscall CItemCreator::SetUID(CItemCreator *this, unsigned __int64 dwUID);
Item::CItem *__thiscall CItemCreator::Create(CItemCreator *this, unsigned __int16 usID);
CItemCreator *__cdecl CItemCreator::GetInstance();
bool __thiscall CMasterPassword::CheckMasterPassword(CMasterPassword *this, const char *szUserID, const char *szPassword, sockaddr_in *peerAddr);
void __thiscall CMasterPassword::_CMasterPassword(CMasterPassword *this);
void __thiscall CMasterPassword::Init(CMasterPassword *this);
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::_Xlen(std::vector<unsigned long,std::allocator<unsigned long> > *this);
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::_Insert_n(std::vector<unsigned long,std::allocator<unsigned long> > *this, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Where, unsigned int _Count, const unsigned int *_Val);
void __thiscall CMasterPassword::CMasterPassword(CMasterPassword *this);
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::push_back(std::vector<unsigned long,std::allocator<unsigned long> > *this, const unsigned int *_Val);
void __thiscall CMasterPassword::Process(CMasterPassword *this, const char *szCommand, const char *szValue);
bool __thiscall CMasterPassword::LoadMasterPassword(CMasterPassword *this, const char *szTextFileName);
void __thiscall CRylAuthServerProcess::CRylAuthServerProcess(CRylAuthServerProcess *this, CRylAuthServer *RylAuthServer, unsigned int dwProcessTick);
int __thiscall CProcessThread::End(CProcessThread *this);
void __thiscall CRylAuthServerProcess::Cleanup(CRylAuthServerProcess *this, CPulse *Pulse);
void __thiscall CRylAuthServer::CRylAuthServer(CRylAuthServer *this);
void __thiscall CRylAuthServer::_CRylAuthServer(CRylAuthServer *this);
void __thiscall CRylAuthServer::PrintStatistics(CRylAuthServer *this);
void __thiscall CRylAuthServer::ReloadSetup(CRylAuthServer *this);
void *__thiscall CRylAuthServerProcess::_scalar_deleting_destructor_(CRylAuthServerProcess *this, unsigned int);
void __thiscall CRylAuthServerProcess::_CRylAuthServerProcess(CRylAuthServerProcess *this);
void *__thiscall CRylAuthServer::_scalar_deleting_destructor_(CRylAuthServer *this, unsigned int);
void __thiscall CRylAuthServer::PrintServerInfo(CRylAuthServer *this);
CRylAuthServer *__cdecl CRylAuthServer::GetInstance();
void __thiscall CRylAuthServerProcess::InternalRun(CRylAuthServerProcess *this, CPulse *Pulse);
bool __thiscall boost::pool<boost::default_user_allocator_new_delete>::purge_memory(boost::pool<boost::default_user_allocator_new_delete> *this);
CPacketDispatch *__thiscall CPoolDispatchFactory<CAuthClientDispatch>::CreateDispatch(CPoolDispatchFactory<CAuthClientDispatch> *this, CSession *Session);
void *__thiscall boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(boost::pool<boost::default_user_allocator_new_delete> *this);
unsigned int __thiscall boost::pool<boost::default_user_allocator_new_delete>::alloc_size(boost::pool<boost::default_user_allocator_new_delete> *this);
void __thiscall boost::details::PODptr<unsigned_int>::next(boost::details::PODptr<unsigned int> *this, boost::details::PODptr<unsigned int> *arg);
void __thiscall CPoolDispatchFactory<CAuthAgentDispatch>::DeleteDispatch(CPoolDispatchFactory<CAuthAgentDispatch> *this, CPacketDispatch *lpDispatch);
CPacketDispatch *__thiscall CPoolDispatchFactory<CAuthAgentDispatch>::CreateDispatch(CPoolDispatchFactory<CAuthAgentDispatch> *this, CSession *Session);
void *__thiscall CPoolDispatchFactory<CAuthClientDispatch>::_scalar_deleting_destructor_(CPoolDispatchFactory<CAuthClientDispatch> *this, unsigned int);
void __thiscall CPoolDispatchFactory<CAuthClientDispatch>::_CPoolDispatchFactory<CAuthClientDispatch>(CPoolDispatchFactory<CAuthClientDispatch> *this);
void *__thiscall CPoolDispatchFactory<CAuthAgentDispatch>::_vector_deleting_destructor_(CPoolDispatchFactory<CAuthAgentDispatch> *this, unsigned int);
void __thiscall CPoolDispatchFactory<CAuthAgentDispatch>::_CPoolDispatchFactory<CAuthAgentDispatch>(CPoolDispatchFactory<CAuthAgentDispatch> *this);
void __thiscall std::list<CCommand___std::allocator<CCommand__>>::_Incsize(std::list<CCommand *,std::allocator<CCommand *> > *this, unsigned int _Count);
int __cdecl CSessionPolicy::Create<CTCPFactory_CPoolBufferFactory_CPoolDispatchFactory<CAuthClientDispatch>_CStreamOverlappedFactory>();
int __cdecl CSessionPolicy::Create<CTCPFactory_CPoolBufferFactory_CPoolDispatchFactory<CAuthAgentDispatch>_CStreamOverlappedFactory>();
void __thiscall CRylAuthServer::InitializeClientListener(CRylAuthServer *this);
void __thiscall CRylAuthServer::ConnectToDBAgent(CRylAuthServer *this);
void __thiscall CCommandProcess::Add(CCommandProcess *this, CCommand *lpNewCMD);
bool __thiscall CRylAuthServer::ApplicationSpecificInit(CRylAuthServer *this, const char *szCmdLine);
bool __thiscall CCMDStartServer::DoProcess(CCMDStartServer *this);
bool __thiscall CCMDReloadSetup::DoProcess(CCMDReloadSetup *this);
bool __thiscall CCMDFlushLog::DoProcess(CCMDFlushLog *this);
bool __thiscall CCMDMasterPass::DoProcess(CCMDMasterPass *this);
bool __thiscall CCMDStatClear::DoProcess(CCMDStatClear *this);
bool __thiscall CCMDStatLog::DoProcess(CCMDStatLog *this);
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDStatClear>::Clone(CConsoleCMDSingleton<CCMDStatClear> *this, const char *szCommand, unsigned int nCommandLength);
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDStatLog>::Clone(CConsoleCMDSingleton<CCMDStatLog> *this, const char *szCommand, unsigned int nCommandLength);
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDStartServer>::Clone(CConsoleCMDSingleton<CCMDStartServer> *this, const char *szCommand, unsigned int nCommandLength);
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDFlushLog>::Clone(CConsoleCMDSingleton<CCMDFlushLog> *this, const char *szCommand, unsigned int nCommandLength);
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDReloadSetup>::Clone(CConsoleCMDSingleton<CCMDReloadSetup> *this, const char *szCommand, unsigned int nCommandLength);
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDMasterPass>::Clone(CConsoleCMDSingleton<CCMDMasterPass> *this, const char *szCommand, unsigned int nCommandLength);
bool __thiscall CRylAuthServer::InitializeCommand(CRylAuthServer *this);
int __stdcall ExceptionUserFunc(char *szBuffer, const int nBufferSize);
int __stdcall WinMain(HINSTANCE__ *hInstance, HINSTANCE__ *hPrevInstance, char *lpCmdLine, int nCmdShow);
bool __thiscall CRylAuthServer::InitializeMsgProc(CRylAuthServer *this);
int __thiscall CProcessCOMMAND::operator__(CProcessCOMMAND *this, HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam);
bool __cdecl AuthSendPacket::SendAuthAccount(CAuthClientDispatch *lpDispatch, unsigned int UserID_In, unsigned __int16 usErrorCode_In);
bool __cdecl AuthSendPacket::SendUserLogin(CSendStream *SendStream, unsigned int SessionID_In, unsigned int UserID_In, CHAR_VIEW *lpCharView_In, sGuildData *lpGuildData_In, unsigned int dwFlag, char cAccountNation, int nPlayTime, unsigned __int16 usAdminLevel, char cBillingType, char cBillingUser, char cLoginType, unsigned __int16 usError_In);
bool __cdecl AuthSendPacket::SendUserLogout(unsigned int SessionID_In, unsigned int UserID_In);
bool __cdecl AuthSendPacket::SendUserMove(unsigned int SessionID_In, unsigned int UserID_In);
bool __cdecl AuthSendPacket::SendServerZone(CSendStream *SendStream, unsigned int ServerID_In, sockaddr_in *gameServerTCPAddress, unsigned __int16 usError_In);
bool __cdecl AuthSendPacket::SendUnifiedCharSelectAck(CSendStream *SendStream, unsigned int dwUID, unsigned int dwRequestKey, unsigned __int16 usError_In);
void __thiscall INET_Addr::set_addr(INET_Addr *this, const char *addr, const unsigned __int16 port);
void __thiscall INET_Addr::set_addr(INET_Addr *this, sockaddr *addr, const int size);
void __thiscall INET_Addr::set_addr(INET_Addr *this, in_addr addr, const unsigned __int16 port);
void __thiscall CPacketDispatch::_CPacketDispatch(CPacketDispatch *this);
void *__thiscall CPacketDispatch::_vector_deleting_destructor_(CPacketDispatch *this, unsigned int);
void __thiscall CRylServerDispatch::CRylServerDispatch(CRylServerDispatch *this, CSession *Session, unsigned int dwMaxProcessPacketPerPulse);
INET_Addr *__thiscall CRylServerDispatch::GetRemoteAddr(CRylServerDispatch *this);
bool __thiscall CRylServerDispatch::Shutdown(CRylServerDispatch *this);
void __thiscall CRylServerDispatch::LogErrorPacket(CRylServerDispatch *this, const char *szDetailText, const char cCmd);
void __thiscall CRylServerDispatch::LogErrorPacketCreation(CRylServerDispatch *this, CRylServerDispatch::CreationResult eResult);
bool __cdecl greator_second<std::pair<unsigned_long_unsigned_long>>(std::pair<unsigned long,unsigned long> *lhspair, std::pair<unsigned long,unsigned long> *rhspair);
void __thiscall CRylServerDispatch::_CRylServerDispatch(CRylServerDispatch *this);
CRylServerDispatch::CreationResult __cdecl CRylServerDispatch::CreatePacket(CBufferFactory *bufferFactory, CBufferQueue *bufferQueue, char *const lpStream_In, unsigned int *dwStreamSize_InOut);
bool __thiscall CRylServerDispatch::ParsePacket(CRylServerDispatch *this, char *const lpStream_In, unsigned int *dwStreamSize_InOut);
bool __thiscall CRylServerDispatch::Dispatch(CRylServerDispatch *this);
ItemDataParser::ParseData *__cdecl std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _First, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _Last, ItemDataParser::ParseData *_Dest, std::allocator<ItemDataParser::ParseData> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::_Push_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, int _Hole, int _Top, std::pair<unsigned long,unsigned long> _Val, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
void __cdecl std::_Rotate<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Mid, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, int *__formal, std::pair<unsigned long,unsigned long> *__formal);
void *__thiscall CRylServerDispatch::_vector_deleting_destructor_(CRylServerDispatch *this, unsigned int);
void __cdecl std::_Adjust_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, int _Hole, int _Bottom, std::pair<unsigned long,unsigned long> _Val, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
void __cdecl std::_Make_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *), int *__formal, std::pair<unsigned long,unsigned long> *__formal);
void __cdecl std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Mid, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
void __cdecl std::_Insertion_sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
void __cdecl std::_Median<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Mid, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
int std::_Unguarded_partition<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(...);
void __cdecl std::sort_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
void __cdecl std::_Sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, int _Ideal, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *));
void __thiscall std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Xlen(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *this);
void __thiscall std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Insert_n(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *this, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Where, unsigned int _Count, std::pair<unsigned long,unsigned long> *_Val);
void __thiscall std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::reserve(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *this, unsigned int _Count);
void __thiscall CRylServerDispatch::ProcessTooManyPacket(CRylServerDispatch *this, CBufferQueue *bufferQueue);
void __thiscall CServerLog::CServerLog(CServerLog *this, const char *szLogName, const char *szPathName);
void *__thiscall CServerLog::CreateLogFile(CServerLog *this);
void __thiscall CServerLog::InternalFlush(CServerLog *this);
void __cdecl CServerLog::SimpleLog(CServerLog *this, LOG_TYPE eLogType, const char *pFormat);
void __cdecl CServerLog::DetailLog(CServerLog *this, LOG_TYPE eLogType, const char *pRtn, const char *pFileName, int nLine, const char *pFormat);
void __thiscall CServerLog::_CServerLog(CServerLog *this);
void *__thiscall CServerLog::_scalar_deleting_destructor_(CServerLog *this, unsigned int);
void __thiscall CSendStream::CSendStream(CSendStream *this, CSession *Session);
void __thiscall CSendStream::_CSendStream(CSendStream *this);
char *__thiscall CSendStream::GetBuffer(CSendStream *this, unsigned int dwReserve_In);
bool __thiscall CSession::Send(CSession *this);
bool __thiscall CSendStream::ForceSend(CSendStream *this);
bool __thiscall CSendStream::WrapHeader(CSendStream *this, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In);
bool __thiscall CSendStream::WrapCrypt(CSendStream *this, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In);
bool __thiscall CSendStream::WrapCompress(CSendStream *this, char *lpSourceData, unsigned __int16 usSourceLength, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In);
void __thiscall CServerRequest::Result::_Result(CServerRequest::Result *this);
CSession *__thiscall CServerRequest::Result::GetSession(CServerRequest::Result *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Pnode);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Pnode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::const_iterator *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::const_iterator *this);
void __thiscall CServerRequest::RequestOff(CServerRequest *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Rootnode);
int std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Buynode(...);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this);
std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::find(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *result, const unsigned int *_Keyval);
void __thiscall CServerRequest::RemoveAllRequest(CServerRequest *this);
CPacketDispatch *__thiscall CServerRequest::GetRequest(CServerRequest *this, unsigned int dwRequestKey);
void __thiscall std::length_error::_length_error(std::out_of_range *this);
int std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Insert(...);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator,bool> *result, std::pair<unsigned long const ,CServerRequest::RequestInfo> *_Val);
std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator _Where);
void __thiscall std::out_of_range::out_of_range(std::out_of_range *this, std::out_of_range *__that);
int std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(...);
unsigned int __thiscall CServerRequest::AddRequest(CServerRequest *this, CPacketDispatch *lpSrcDispatch, CPacketDispatch *lpDstDispatch, unsigned int dwDurationSec, void (__cdecl *lpTimeoutRequest)(CPacketDispatch *));
void __thiscall CServerRequest::RemoveRequest(CServerRequest *this, unsigned int dwRequestKey);
void __thiscall CServerRequest::RemoveTimeoutRequest(CServerRequest *this);
CPacketDispatch *__thiscall CServerRequest::PopRequest(CServerRequest *this, unsigned int dwRequestKey);
void __thiscall std::map<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>>::_map<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>>(std::map<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> > > *this);
void __thiscall CServerRequest::_CServerRequest(CServerRequest *this);
void __thiscall CServerRequest::CServerRequest(CServerRequest *this);
CServerRequest *__cdecl CServerRequest::GetInstance();
void __thiscall CServerRequest::Result::Result(CServerRequest::Result *this, unsigned int dwRequestKey, bool bRemove);
unsigned int __cdecl Math::Convert::StrToHex32(const char *szSrc);
unsigned int __cdecl Math::Convert::Atoi(const char *szSrc);
void *__thiscall CSocketFactory::_vector_deleting_destructor_(CSocketFactory *this, unsigned int);
void __thiscall CTCPFactory::_CTCPFactory(CTCPFactory *this);
OleDB::ConnType __cdecl GetConnTypeFromString(const char *szConnType);
unsigned int __thiscall CServerSetup::GetServerID(CServerSetup *this);
char __thiscall CServerSetup::GetServerGroup(CServerSetup *this);
bool __thiscall CServerSetup::InitLoginServer(CServerSetup *this);
bool __thiscall CServerSetup::InitAuthServer(CServerSetup *this);
bool __thiscall CServerSetup::InitAgentServer(CServerSetup *this);
bool __thiscall CServerSetup::InitUIDServer(CServerSetup *this);
bool __thiscall CServerSetup::InitChatServer(CServerSetup *this);
bool __thiscall CServerSetup::InitLogServer(CServerSetup *this);
const char *__cdecl CServerSetup::GetManageClientWindowName();
unsigned __int16 __cdecl CServerSetup::GetGameServerTCPPort(unsigned int dwServerID);
unsigned __int16 __cdecl CServerSetup::GetP1GameServerUDPPort(unsigned int dwServerID);
char __cdecl CServerSetup::GetZoneFromCmdLine();
char __cdecl CServerSetup::GetChannelFromCmdLine();
bool __thiscall CServerSetup::InitGameServer(CServerSetup *this);
bool __thiscall CServerSetup::Initialize(CServerSetup *this, CServerSetup::ServerType eServerType);
void __thiscall CServerSetup::_CServerSetup(CServerSetup *this);
void *__thiscall CServerSetup::_scalar_deleting_destructor_(CServerSetup *this, unsigned int);
void __thiscall CServerSetup::CServerSetup(CServerSetup *this);
CServerSetup *__cdecl CServerSetup::GetInstance();
void __thiscall CSingleDispatch::Storage::_Storage(CSingleDispatch::Storage *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Pnode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *_Rootnode);
CPacketDispatch *__thiscall CMultiDispatch::GetDispatch(CMultiDispatch *this, unsigned int dispatchKey);
void __thiscall CMultiDispatch::Storage::Storage(CMultiDispatch::Storage *this, CMultiDispatch *multiDispatch, unsigned int dispatchKey);
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *_Wherenode, std::pair<unsigned long const ,CPacketDispatch *> *_Val);
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator _Where);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator,bool> *result, std::pair<unsigned long const ,CPacketDispatch *> *_Val);
int std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(...);
void __thiscall CMultiDispatch::InternalRemoveDispatch(CMultiDispatch *this, unsigned int dispatchKey);
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator _Where, std::pair<unsigned long const ,CPacketDispatch *> *_Val);
bool __thiscall CMultiDispatch::SetDispatch(CMultiDispatch *this, unsigned int dispatchKey, CPacketDispatch *lpDispatch);
void __thiscall CMultiDispatch::RemoveDispatch(CMultiDispatch *this, unsigned int dispatchKey);
void __thiscall std::map<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>>::_map<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>>(std::map<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> > > *this);
void __thiscall CMultiDispatch::_CMultiDispatch(CMultiDispatch *this);
void __thiscall CMultiDispatch::CMultiDispatch(CMultiDispatch *this);
void __thiscall CSingleDispatch::CSingleDispatch(CSingleDispatch *this);
void __thiscall CSingleDispatch::InternalRemoveDispatch(CSingleDispatch *this, CPacketDispatch *lpDispatch);
void __thiscall CSingleDispatch::SetDispatch(CSingleDispatch *this, CPacketDispatch *lpDispatch);
void __thiscall CSingleDispatch::RemoveDispatch(CSingleDispatch *this, CPacketDispatch *lpDispatch);
unsigned int __thiscall CSingleDispatch::GetDispatchNum(CSingleDispatch *this);
void __thiscall CSingleDispatch::_CSingleDispatch(CSingleDispatch *this);
CPacketDispatch *__thiscall CSingleDispatch::GetDispatch(CSingleDispatch *this);
void __thiscall CSingleDispatch::Storage::Storage(CSingleDispatch::Storage *this, CSingleDispatch *singleDispatch);
void __thiscall CSession::CSession(CSession *this, CSessionPolicy *SessionPolicy);
void __thiscall CSession::SetAddress(CSession *this, INET_Addr *remoteAddr, INET_Addr *localAddr);
int __thiscall CSession::InternalPrintStatistics(CSession *this, char *szBuffer, int nBufferLen);
void __thiscall std::basic_ostream<char_std::char_traits<char>>::_Sentry_base::__Sentry_base(std::basic_ostream<char,std::char_traits<char> >::_Sentry_base *this);
void __thiscall CSession::InternalCloseSocket(CSession *this);
bool __thiscall CSession::Shutdown(CSession *this);
int __thiscall CSession::AddRef(CSession *this);
int __thiscall CSession::Release(CSession *this);
void __thiscall CSession::CloseSession(CSession *this);
bool __thiscall CSession::CalledDisconnected(CSession *this);
bool __thiscall CSession::InternalRecv(CSession *this);
CSession::SendResult __thiscall CSession::InternalSend(CSession *this, CBuffer *lpBuffer);
CSession::SendResult __thiscall CSession::InternalSendTo(CSession *this, CBuffer *lpBuffer);
bool __thiscall CSession::SendPending(CSession *this, CBuffer *lpBuffer);
bool __thiscall CSession::InternalSend(CSession *this);
void __thiscall CSession::SuspendRecv(CSession *this);
void __thiscall CSession::ResumeRecv(CSession *this);
void __thiscall CSession::_CSession(CSession *this);
bool __thiscall CSession::Process(CSession *this);
bool __thiscall CSession::Dispatch(CSession *this, unsigned int dwReceivedBytes);
void __thiscall CSession::SendCompleted(CSession *this, int bResult, unsigned int dwSendedBytes);
std::basic_ostream<char,std::char_traits<char> > *__thiscall std::basic_ostream<char_std::char_traits<char>>::flush(std::basic_ostream<char,std::char_traits<char> > *this);
void __thiscall std::basic_ostream<char_std::char_traits<char>>::sentry::sentry(std::basic_ostream<char,std::char_traits<char> >::sentry *this, std::basic_ostream<char,std::char_traits<char> > *_Ostr);
void __thiscall std::basic_ostream<char_std::char_traits<char>>::sentry::_sentry(std::basic_ostream<char,std::char_traits<char> >::sentry *this);
std::basic_ostream<char,std::char_traits<char> > *__cdecl std::operator<<<std::char_traits<char>>(std::basic_ostream<char,std::char_traits<char> > *_Ostr, const char *_Val);
void __thiscall CCheckPing::CCheckPing(CCheckPing *this);
bool __thiscall CCheckPing::CheckPing(CCheckPing *this, unsigned int dwCurrentTime);
void __thiscall CCheckPing::SetLastPingRecvTime(CCheckPing *this, unsigned int dwCurrentTime);
void __thiscall CCheckPing::GetPingData(CCheckPing *this, unsigned int *dwPingCount, unsigned int *dwLastPingRecvTime, unsigned int *dwFirstCheckTime);
bool __cdecl Filter::InitFilter(const char *szFilterFileName);
bool __cdecl Filter::NameCheck(const char *CheckName_In);
bool __cdecl Filter::AccountCheck(const char *Account_In);
void __thiscall CDBComponent::CDBComponent(CDBComponent *this);
void __thiscall CDBComponent::_CDBComponent(CDBComponent *this);
void *__thiscall CDBComponent::_scalar_deleting_destructor_(CDBComponent *this, unsigned int);
bool __thiscall CDBComponent::Connect(CDBComponent *this, CDBComponent::DBClass DBClass_In);
void __thiscall CAuthorizeParam::CAuthorizeParam(CAuthorizeParam *this);
bool __cdecl DBComponent::AuthDB::LoginAuthMyth(CDBComponent *DBComponent, const char *Account_In, const char *Password_In, const char *szAddress, AUTH *lpAuthUser_Out);
bool __cdecl DBComponent::AuthDB::GetUIDByAccount(CDBComponent *DBComponent, char *Account_In, char *UID_Out);
bool __cdecl DBComponent::AuthDB::GetMythUIDByAccount(CDBComponent *DBComponent, const char *Account_In, unsigned int *UID_Out);
bool __cdecl DBComponent::AuthDB::CheckBlockedUser(CDBComponent *DBComponent, unsigned int UID_In, char cServerID, _RE_CMS_CheckUserBlock *lpData_Out);
bool __cdecl DBComponent::AuthDB::GetBattleUIDByAccount(CDBComponent *DBComponent, char *Account_In, char *UID_Out);
CAuthorizeParam *__cdecl CAuthorizeParam::GetInstance();
bool __cdecl DBComponent::AuthDB::GetPCCheckAgreement(CDBComponent *DBComponent, const char *szAccount_In, unsigned int *dwNumber_Out);
bool __cdecl DBComponent::AuthDB::LoginAuthHan(CDBComponent *DBComponent, const char *szAccount, const char *szPassword, _HAN_UID *hanUID);
bool __cdecl DBComponent::AuthDB::RegRylGameHan(CDBComponent *DBComponent, char *Account_In, char *Mail_In);
bool __cdecl DBComponent::AuthDB::LoginBattleAuthHan(CDBComponent *DBComponent, const char *szAccount, const char *szPassword, _HAN_UID *hanUID);
bool __cdecl DBComponent::AuthDB::RegBattleRylGameHan(CDBComponent *DBComponent, char *szAccount_In, char *szMail_In);
bool __cdecl DBComponent::AuthDB::LoginAuthGama(CDBComponent *DBComponent, const char *szAccount, const char *szPassword, unsigned int *dwUID);
bool __cdecl DBComponent::AuthDB::GetGamaUIDByAccount(CDBComponent *DBComponent, const char *szAccount, unsigned int *dwUID);
unsigned int __stdcall CThread::ThreadFunc(void *pArg);
void *__cdecl CThreadMgr::Run(CThread *lpThread);
bool __cdecl CThreadMgr::Stop(CThread *lpThread, unsigned int dwTimeout);
int __thiscall _vcall_(void *this);
void __thiscall CThreadMgr::CThreadMgr(CThreadMgr *this);
bool __thiscall CThreadMgr::RegisterAndRun(CThreadMgr *this, CThread *llpThread);
std::mem_fun_t<int,CThread> *__cdecl std::for_each<CThread_____std::mem_fun_t<int_CThread>>(std::mem_fun_t<int,CThread> *result, CThread **_First, CThread **_Last, std::mem_fun_t<int,CThread> _Func);
bool __thiscall CThreadMgr::JoinThread(CThreadMgr *this);
void __thiscall CThreadMgr::_CThreadMgr(CThreadMgr *this);
void *__thiscall CThreadMgr::_scalar_deleting_destructor_(CThreadMgr *this, unsigned int);
void __thiscall PktBase::InitPtHead(PktBase *this, unsigned __int16 Len_In, char Cmd_In, unsigned __int16 State_In, unsigned __int16 Error_In);
int __thiscall CSendDataToManageClient::operator__(CSendDataToManageClient *this, HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam);
int __stdcall CServerWindowFramework::ServerWindowFrameworkProc(HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam);
void __cdecl CServerWindowFramework::PrintOutput(CServerWindowFramework *this, const char *lpFormat);
void __cdecl CServerWindowFramework::PrintInfo(CServerWindowFramework *this, const char *lpFormat);
bool __thiscall CServerWindowFramework::SendManageClientPacket(CServerWindowFramework *this, const void *lpData, unsigned __int16 usLength);
void __thiscall CProcessThread::CProcessThread(CProcessThread *this, CServerWindowFramework *ServerWindowFramework, int nProcessTick);
void __thiscall CProcessThread::_CProcessThread(CProcessThread *this);
void *__thiscall CSendDataToManageClient::_vector_deleting_destructor_(CSendDataToManageClient *this, unsigned int);
void __thiscall CSendDataToManageClient::_CSendDataToManageClient(CSendDataToManageClient *this);
bool __thiscall CServerWindowFramework::InitializeFramework(CServerWindowFramework *this, HINSTANCE__ *hInstance, const char *szWndApplicationName, int nICON_ID, int nMenu_ID);
void __thiscall CServerWindowFramework::Destroy(CServerWindowFramework *this);
void __thiscall CServerWindowFramework::SendManageClientPing(CServerWindowFramework *this);
void *__thiscall CProcessThread::_vector_deleting_destructor_(CProcessThread *this, unsigned int);
unsigned int __thiscall CProcessThread::Run(CProcessThread *this);
bool __thiscall CServerWindowFramework::Initialize(CServerWindowFramework *this, HINSTANCE__ *hInstance, const char *szWndApplicationName, const char *szCmdLine, int nICON_ID, int nMenu_ID);
void __thiscall CServerWindowFramework::ProcessMessage(CServerWindowFramework *this);
void __thiscall CServerWindowFramework::_CServerWindowFramework(CServerWindowFramework *this);
void __thiscall CServerWindowFramework::CServerWindowFramework(CServerWindowFramework *this);
void *__thiscall CServerWindowFramework::_vector_deleting_destructor_(CServerWindowFramework *this, unsigned int);
void __thiscall std::list<CThread___std::allocator<CThread__>>::_Incsize(std::list<CThread *,std::allocator<CThread *> > *this, unsigned int _Count);
int __thiscall CRecvCommandFromManageClient::operator__(CRecvCommandFromManageClient *this, HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam);
bool __thiscall CServerWindowFramework::AddProcessThread(CServerWindowFramework *this, CThread *lpProcessThread);
void __thiscall CValidateConnection::_CValidateConnection(CValidateConnection *this);
void *__thiscall CValidateConnection::_scalar_deleting_destructor_(CValidateConnection *this, unsigned int);
void __thiscall CLimitUserByIP::OperateMode(CLimitUserByIP *this, CLimitUserByIP::AllowMode_t eAllowMode);
void __cdecl std::_Rotate<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Mid, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, int *__formal, Item::ItemType::Type *__formal);
void __cdecl std::_Median<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Mid, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last);
void __cdecl std::_Adjust_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, int _Hole, int _Bottom, unsigned int _Val);
std::vector<unsigned long,std::allocator<unsigned long> >::iterator *__cdecl std::_Lower_bound<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_unsigned_long_int>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator *result, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, const unsigned int *_Val, int *__formal);
std::pair<std::vector<unsigned long,std::allocator<unsigned long> >::iterator,std::vector<unsigned long,std::allocator<unsigned long> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::pair<std::vector<unsigned long,std::allocator<unsigned long> >::iterator,std::vector<unsigned long,std::allocator<unsigned long> >::iterator> *result, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last);
void __cdecl std::_Make_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, int *__formal, unsigned int *__formal);
void __thiscall CLimitUserByIP::_CLimitUserByIP(CLimitUserByIP *this);
void __cdecl std::_Insertion_sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last);
void *__thiscall CLimitUserByIP::_vector_deleting_destructor_(CLimitUserByIP *this, unsigned int);
bool __cdecl std::binary_search<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_unsigned_long>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, const unsigned int *_Val);
void __cdecl std::sort_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last);
bool __thiscall CLimitUserByIP::operator__(CLimitUserByIP *this, INET_Addr *localAddr, INET_Addr *remoteAddr);
void __cdecl std::_Sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, int _Ideal);
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::reserve(std::vector<unsigned long,std::allocator<unsigned long> > *this, unsigned int _Count);
bool __thiscall CLimitUserByIP::LoadAllowIPList(CLimitUserByIP *this, const char *szFileName);
void __thiscall CLimitUserByIP::CLimitUserByIP(CLimitUserByIP *this, const char *szFileName);
bool __thiscall CCompletionHandler::AttachToHander(CCompletionHandler *this, void *hAttach, unsigned int pCompletionKey);
void __thiscall CListener::InternalCloseListen(CListener *this);
int __thiscall CValidateConnection::Release(CValidateConnection *this);
void __thiscall CListener::CListener(CListener *this, CCompletionHandler *SocketHandler, CSessionPolicy *SessionPolicy, CSessionMgr *SessionMgr, CValidateConnection *lpValidateConnection);
void __thiscall CListener::WaitForPendingComplete(CListener *this, unsigned int dwTime);
bool __thiscall CListener::PendingAccept(CListener *this);
void __thiscall CListener::ProcessAccept(CListener *this, int bResult, unsigned int hSocket, CBuffer *lpBuffer, unsigned int dwProcessedBytes);
unsigned int __thiscall CListener::GetPendingAcceptNum(CListener *this);
void __thiscall CListener::_CListener(CListener *this);
bool __thiscall CListener::Initialize(CListener *this, INET_Addr *addrListen, unsigned int dwMaxPending);
void *__thiscall CListener::_vector_deleting_destructor_(CListener *this, unsigned int);
void __thiscall CSessionPolicy::CSessionPolicy(CSessionPolicy *this, CSocketFactory *lpSocketFactory, CBufferFactory *lpBufferFactory, CDispatchFactory *lpDispatchFactory, COverlappedFactory *lpOverlappedFactory);
void __thiscall CSessionPolicy::_CSessionPolicy(CSessionPolicy *this);
int __thiscall CSessionPolicy::AddRef(CSessionPolicy *this);
int __thiscall CSessionPolicy::Release(CSessionPolicy *this);
void __thiscall INET_Addr::INET_Addr(INET_Addr *this, const char *addr, unsigned __int16 port);
bool __thiscall CListener::Initialize(CListener *this, const char *lpListenAddress, unsigned __int16 usPort, unsigned int dwMaxPending);
unsigned int __cdecl GetOptimalThreadNum();
void __thiscall CSessionMgr::Process(CSessionMgr *this);
unsigned int __thiscall CSessionMgr::GetSessionNum(CSessionMgr *this);
bool __thiscall CIOCPNet::Initialize(CIOCPNet *this);
void __thiscall CIOCPNet::Process(CIOCPNet *this);
unsigned int __thiscall CIOCPNet::GetSessionNum(CIOCPNet *this);
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall std::list<CCommand___std::allocator<CCommand__>>::_Buynode(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this);
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Rootnode);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this);
unsigned int __thiscall CIOCPNet::GetAcceptPendingNum(CIOCPNet *this);
std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Rootnode, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *_Right);
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _Where);
void __thiscall std::list<CListener___std::allocator<CListener__>>::_Incsize(std::list<CListener *,std::allocator<CListener *> > *this, unsigned int _Count);
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _Last);
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Wherenode, std::pair<CSessionPolicy * const,unsigned int> *_Val);
void __thiscall std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::_map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>(std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *this);
std::pair<std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::insert(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator,bool> *result, std::pair<CSessionPolicy * const,unsigned int> *_Val);
void __thiscall std::list<CListener___std::allocator<CListener__>>::push_back(std::list<CListener *,std::allocator<CListener *> > *this, CListener *const *_Val);
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *_Right);
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::insert(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _Where, std::pair<CSessionPolicy * const,unsigned int> *_Val);
unsigned int *__thiscall std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::operator__(std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *this, CSessionPolicy *const *_Keyval);
void __thiscall std::list<CListener___std::allocator<CListener__>>::_Splice(std::list<CListener *,std::allocator<CListener *> > *this, std::list<CListener *,std::allocator<CListener *> >::iterator _Where, std::list<CListener *,std::allocator<CListener *> > *_Right, std::list<CListener *,std::allocator<CListener *> >::iterator _First, std::list<CListener *,std::allocator<CListener *> >::iterator _Last, unsigned int _Count);
void __thiscall CIOCPNet::CIOCPNet(CIOCPNet *this);
bool __thiscall CIOCPNet::AddListener(CIOCPNet *this, CSessionPolicy *lpSessionPolicy, const char *lpListenAddress, unsigned __int16 usPort, unsigned int dwMaxListenPeding, CValidateConnection *lpValidateConnection);
bool __thiscall CIOCPNet::Connect(CIOCPNet *this, CSessionPolicy *lpSessionPolicy, const char *lpConnectAddress, unsigned __int16 usPort);
void __thiscall CIOCPNet::DestroyListener(CIOCPNet *this);
bool __thiscall CIOCPNet::Destroy(CIOCPNet *this);
void __thiscall CIOCPNet::_CIOCPNet(CIOCPNet *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Pnode);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Pnode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::const_iterator *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Rootnode);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this);
bool __thiscall CPerformanceCheck::PrintAllTime(CPerformanceCheck *this, const char *fileName, bool bReset);
std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator _Where);
int std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(...);
void __thiscall std::multimap<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>>::_multimap<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>>(std::multimap<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> > > *this);
void __thiscall CPerformanceCheck::_CPerformanceCheck(CPerformanceCheck *this);
void __thiscall CPerformanceCheck::CPerformanceCheck(CPerformanceCheck *this);
CPerformanceCheck *__cdecl CPerformanceCheck::GetInstance();
void __thiscall CTCPFactory::CTCPFactory(CTCPFactory *this);
void *__thiscall CTCPFactory::_scalar_deleting_destructor_(CTCPFactory *this, unsigned int);
unsigned int __thiscall CSocketFactory::CreateSocket(CSocketFactory *this);
unsigned int __thiscall CSocketFactory::CreateConnectedSocket(CSocketFactory *this, const char *lpConnAddr, unsigned __int16 usPort);
unsigned int __thiscall CSocketFactory::CreateBindedSocket(CSocketFactory *this, const char *lpBindAddr, unsigned __int16 usPort);
unsigned int __thiscall CSocketFactory::CreateListenSocket(CSocketFactory *this, const char *lpListenAddr, unsigned __int16 usPort, int nBackLog);
bool __thiscall CINETFamilyFactory::SetAddr(CINETFamilyFactory *this, sockaddr *lpSA, const char *szAddr, unsigned __int16 usPort);
bool __thiscall CINETFamilyFactory::GetNetworkInfo(CINETFamilyFactory *this, char *Address_Out, int nMaxBufferSize);
void __thiscall CBufferFactory::_CBufferFactory(CBufferFactory *this);
void *__thiscall CBufferFactory::_scalar_deleting_destructor_(CBufferFactory *this, unsigned int);
void __cdecl std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(int *_First, int *_Last, const int *_Val);
void __thiscall CPoolBufferFactory::Release(CPoolBufferFactory *this, CBuffer *buffer);
int *__thiscall std::vector<char___std::allocator<char__>>::_Ufill(std::vector<int,std::allocator<int> > *this, int *_Ptr, unsigned int _Count, const int *_Val);
CBuffer *__thiscall CPoolBufferFactory::Create(CPoolBufferFactory *this, unsigned int size);
void __thiscall CPoolBufferFactory::Destroy(CPoolBufferFactory *this);
void __thiscall CPoolBufferFactory::_CPoolBufferFactory(CPoolBufferFactory *this);
void __thiscall std::vector<boost::pool<boost::default_user_allocator_new_delete>___std::allocator<boost::pool<boost::default_user_allocator_new_delete>__>>::_Xlen(std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> > *this);
void *__thiscall CPoolBufferFactory::_vector_deleting_destructor_(CPoolBufferFactory *this, unsigned int);
void __thiscall std::vector<boost::pool<boost::default_user_allocator_new_delete>___std::allocator<boost::pool<boost::default_user_allocator_new_delete>__>>::_Insert_n(std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> > *this, std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> >::iterator _Where, unsigned int _Count, boost::pool<boost::default_user_allocator_new_delete> *const *_Val);
bool __thiscall CPoolBufferFactory::Initialize(CPoolBufferFactory *this);
void __thiscall CPoolBufferFactory::CPoolBufferFactory(CPoolBufferFactory *this);
void *__thiscall COverlappedFactory::_scalar_deleting_destructor_(COverlappedFactory *this, unsigned int);
void __thiscall CSendOverlapped::CSendOverlapped(CSendOverlapped *this, COverlappedFactory *ovlFactory, CBuffer *lpSendBuffer);
void __thiscall CSendOverlapped::Dispatch(CSendOverlapped *this, int bResult, unsigned int lpSessionKey, unsigned int dwProcessedBytes);
void __thiscall CStreamRecvOverlapped::CStreamRecvOverlapped(CStreamRecvOverlapped *this, COverlappedFactory *ovlFactory);
void *__thiscall CAcceptOverlapped::_vector_deleting_destructor_(CAcceptOverlapped *this, unsigned int);
void __thiscall CAcceptOverlapped::CAcceptOverlapped(CAcceptOverlapped *this, COverlappedFactory *ovlFactory, CListener *Listener, unsigned int hSocket, CBuffer *lpAddrBuffer);
void __thiscall CAcceptOverlapped::Dispatch(CAcceptOverlapped *this, int bResult, unsigned int lpSessionKey, unsigned int dwProcessedBytes);
void __thiscall CSendOverlapped::_CSendOverlapped(CAcceptOverlapped *this);
void *__thiscall COverlapped::_scalar_deleting_destructor_(COverlapped *this, unsigned int);
void __thiscall CStreamRecvOverlapped::Dispatch(CStreamRecvOverlapped *this, int bResult, unsigned int lpSessionKey, unsigned int dwProcessedBytes);
bool __thiscall CSession::Recv(CSession *this);
void __thiscall CStreamOverlappedFactory::CStreamOverlappedFactory(CStreamOverlappedFactory *this);
void __thiscall CStreamOverlappedFactory::DeleteOverlapped(CStreamOverlappedFactory *this, COverlapped *lpOverlapped);
COverlapped *__thiscall CStreamOverlappedFactory::CreateSend(CStreamOverlappedFactory *this, CSession *lpSession, CBuffer *lpMsgBlock);
COverlapped *__thiscall CStreamOverlappedFactory::CreateRecv(CStreamOverlappedFactory *this, CSession *lpSession, CBuffer *lpMsgBlock);
COverlapped *__thiscall CStreamOverlappedFactory::CreateAccept(CStreamOverlappedFactory *this, CListener *lpListener, unsigned int hSocket, CBuffer *lpMsgBlock);
void __thiscall CStreamOverlappedFactory::_CStreamOverlappedFactory(CStreamOverlappedFactory *this);
void *__thiscall CStreamOverlappedFactory::_vector_deleting_destructor_(CStreamOverlappedFactory *this, unsigned int);
void __thiscall CConsoleCMDFactory::StringCMD::StringCMD(CConsoleCMDFactory::StringCMD *this, const char *szCommand, CConsoleCommand *lpCMD);
unsigned int __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::size(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this);
void __cdecl std::fill<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo>(CTokenlizedFile::ColumnInfo *_First, CTokenlizedFile::ColumnInfo *_Last, CTokenlizedFile::ColumnInfo *_Val);
CTokenlizedFile::ColumnInfo *__cdecl std::_Copy_backward_opt<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo__>(CTokenlizedFile::ColumnInfo *_First, CTokenlizedFile::ColumnInfo *_Last, CTokenlizedFile::ColumnInfo *_Dest, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(CTokenlizedFile::ColumnInfo *_First, unsigned int _Count, CTokenlizedFile::ColumnInfo *_Val, std::allocator<CTokenlizedFile::ColumnInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
CConsoleCommand *__thiscall CConsoleCMDFactory::Create(CConsoleCMDFactory *this, const char *szCommand, unsigned int nCommandLength);
CTokenlizedFile::ColumnInfo *__thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Ufill(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, CTokenlizedFile::ColumnInfo *_Ptr, unsigned int _Count, CTokenlizedFile::ColumnInfo *_Val);
void __thiscall CConsoleCMDFactory::_CConsoleCMDFactory(CConsoleCMDFactory *this);
void __thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Xlen(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this);
void *__thiscall CConsoleCMDFactory::_vector_deleting_destructor_(CConsoleCMDFactory *this, unsigned int);
void __thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Insert_n(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this, std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator _Where, unsigned int _Count, CConsoleCMDFactory::StringCMD *_Val);
std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator *__thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::insert(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this, std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator *result, std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator _Where, CConsoleCMDFactory::StringCMD *_Val);
void __thiscall CConsoleCMDFactory::CConsoleCMDFactory(CConsoleCMDFactory *this);
void __thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::push_back(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this, CConsoleCMDFactory::StringCMD *_Val);
bool __thiscall CConsoleCMDFactory::AddCommand(CConsoleCMDFactory *this, const char *szCommand, CConsoleCommand *lpConsoleCommand);
void __thiscall CPacketStatistics::PacketData::Clear(CPacketStatistics::PacketData *this);
void __thiscall CPacketStatistics::CompressData::Clear(CPacketStatistics::CompressData *this);
void __thiscall CPacketStatistics::Recv(CPacketStatistics *this, char cCmd, unsigned int dwPacketSize);
void __thiscall CPacketStatistics::Send(CPacketStatistics *this, char cCmd, unsigned int dwPacketSize);
void __thiscall CPacketStatistics::CheckCompression(CPacketStatistics *this, char cCmd, unsigned int dwSrcSize, unsigned int dwDstSize);
void __cdecl LogPacketStatData(_iobuf *logFile, const char *szTotalSummeryHeader, int tDiffTime, CPacketStatistics::PacketData *lpPos, CPacketStatistics::PacketData *lpEnd);
void __thiscall CPacketStatistics::CPacketStatistics(CPacketStatistics *this);
bool __thiscall CPacketStatistics::Log(CPacketStatistics *this);
void __thiscall CPacketStatistics::Clear(CPacketStatistics *this);
CPacketStatistics *__cdecl CPacketStatistics::GetInstance();
void *__thiscall CDLLModule::_vector_deleting_destructor_(CDLLModule *this, unsigned int);
int __thiscall CDBGFuncClass::Init(CDBGFuncClass *this, const char *szDll);
void __thiscall CDBGFuncClass::_CDBGFuncClass(CDBGFuncClass *this);
void *__thiscall CDBGFuncClass::_vector_deleting_destructor_(CDBGFuncClass *this, unsigned int);
int __cdecl CExceptionReport::WriteRegistersInfo(char *szBuffer_Out, const int nBufferSize, _CONTEXT *pContext);
char *__cdecl CExceptionReport::GetExceptionString(unsigned int dwCode);
int __cdecl CExceptionReport::GetLogicalAddress(void *addr, char *szModule, unsigned int len, unsigned int *section, unsigned int *offset);
int __cdecl CExceptionReport::FormatOutputValue(char *szBuffer_Out, const int nBufferSize, BasicType basicType, unsigned __int64 length, void *pAddress);
int __cdecl CExceptionReport::Dump(char *szBuffer_Out, const int nBufferSize, unsigned __int64 dw64Offset, unsigned int dwSize, int bAlign);
int __stdcall CExceptionReport::UnhandledSecondExceptionFilter(_EXCEPTION_POINTERS *lpExceptionInfo);
void __thiscall CExceptionReport::_CExceptionReport(CExceptionReport *this);
int __cdecl CExceptionReport::WriteBasicInfo(char *szBuffer_Out, const int nBufferSize, _EXCEPTION_RECORD *pExceptionRecord);
int __cdecl CExceptionReport::WriteMemoryDump(char *szBuffer_Out, const int nBufferSize, _CONTEXT *pContext, unsigned int nMaxIPDump, unsigned int nMaxStackDump);
int __cdecl CExceptionReport::DumpTypeIndex(char *szBuffer_Out, const int nBufferSize, unsigned __int64 modBase, unsigned int dwTypeIndex, unsigned int nestingLevel, unsigned int offset, int *bHandled);
int __cdecl CExceptionReport::FormatSymbolValue(_SYMBOL_INFO *pSym, _tagSTACKFRAME *sf, char *pszBuffer, unsigned int nBufferSize);
int __stdcall CExceptionReport::EnumerateSymbolsCallback(_SYMBOL_INFO *pSymInfo, unsigned int SymbolSize, void *UserContext);
int __cdecl CExceptionReport::WriteStackDetails(char *szBuffer_Out, const int nBufferSize, _CONTEXT *pContext, int bWriteVariables, int *bHasSymbol_Out, const int nStackDepth);
void __thiscall CExceptionReport::WriteExceptionReport(CExceptionReport *this, _EXCEPTION_POINTERS *pExceptionInfo);
int __thiscall CExceptionReport::ProcessException(CExceptionReport *this, _EXCEPTION_POINTERS *lpExceptionInfo);
int __stdcall CExceptionReport::UnhandledExceptionFilter(_EXCEPTION_POINTERS *lpExceptionInfo);
void __thiscall CExceptionReport::Enable(CExceptionReport *this, unsigned int dwEnableFeature);
void __thiscall CExceptionReport::CExceptionReport(CExceptionReport *this);
CExceptionReport *__cdecl CExceptionReport::GetInstance();
BasicType __cdecl CExceptionReport::GetBasicType(unsigned int typeIndex, unsigned __int64 modBase);
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *_Rootnode);
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::find(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, const unsigned int *_Keyval);
CMsgProc *__thiscall CMsgProcessMgr::FindMsgProc(CMsgProcessMgr *this, unsigned int uMsg);
void __thiscall CMsgProcessMgr::Clear(CMsgProcessMgr *this);
std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _Where);
std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _Last);
std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *_Wherenode, std::pair<unsigned int const ,CMsgProc *> *_Val);
std::pair<std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator,bool> *result, std::pair<unsigned int const ,CMsgProc *> *_Val);
void __thiscall std::map<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>>::_map<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>>(std::map<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> > > *this);
void __thiscall CMsgProcessMgr::_CMsgProcessMgr(CMsgProcessMgr *this);
bool __thiscall CMsgProcessMgr::Register(CMsgProcessMgr *this, unsigned int uMsg, CMsgProc *lpMsgProcessProc);
void __thiscall CMsgProcessMgr::CMsgProcessMgr(CMsgProcessMgr *this);
bool __thiscall CConsoleWindow::Destroy(CConsoleWindow *this);
int __stdcall CConsoleWindow::ConsoleWindowProc(HWND__ *hWnd, unsigned int msg, unsigned int wParam, int lParam);
void __thiscall CConsoleWindow::CConsoleWindow(CConsoleWindow *this, HINSTANCE__ *hInstance, HWND__ *hParentWnd, CConsoleCMDFactory *CMDFactory, CCommandProcess *CMDProcess);
void __thiscall CConsoleWindow::_CConsoleWindow(CConsoleWindow *this);
void __cdecl CConsoleWindow::PrintOutput(CConsoleWindow *this, const char *lpFormat);
void __cdecl CConsoleWindow::PrintInfo(CConsoleWindow *this, const char *lpFormat);
void *__thiscall CConsoleWindow::_scalar_deleting_destructor_(CConsoleWindow *this, unsigned int);
void __thiscall CConsoleWindow::CreateCommand(CConsoleWindow *this);
int __stdcall CConsoleWindow::InputWindowProc(HWND__ *hWnd, unsigned __int16 msg, unsigned __int16 wParam, int lParam);
bool __thiscall CConsoleWindow::Initialize(CConsoleWindow *this, const char *szWindowName);
void __thiscall CBufferQueue::CBufferQueue(CBufferQueue *this);
bool __thiscall CBufferQueue::enqueue(CBufferQueue *this, CBuffer *lpBuffer, bool bPendHead);
CBuffer *__thiscall CBufferQueue::dequeue(CBufferQueue *this);
void __thiscall CBufferQueue::clear(CBufferQueue *this);
void __thiscall CBufferQueue::splice(CBufferQueue *this, CBufferQueue *Buffer_In, bool bPendHead);
void __thiscall CBufferQueue::_CBufferQueue(CBufferQueue *this);
void *__thiscall CBufferQueue::_scalar_deleting_destructor_(CBufferQueue *this, unsigned int);
void __thiscall CXORCrypt::XORF(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer, char PageNum1, char PageNum2);
void __thiscall CXORCrypt::XORB(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer, char PageNum1, char PageNum2);
void __thiscall CXORCrypt::InitCodePage(CXORCrypt *this);
unsigned int __thiscall CXORCrypt::GetCodePage(CXORCrypt *this);
bool __thiscall CXORCrypt::EncodePacket(CXORCrypt *this, char *Start_In, int Length_In, unsigned int CodePage_In);
bool __thiscall CXORCrypt::DecodePacket(CXORCrypt *this, char *Start_In, int Length_In, unsigned int CodePage_In);
void __thiscall CXORCrypt::EncodeHeader(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer_In, char PageNum_In);
void __thiscall CXORCrypt::DecodeHeader(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer_In, char PageNum_In);
void __thiscall CXORCrypt::CXORCrypt(CXORCrypt *this);
void __thiscall CXORCrypt::_CXORCrypt(CXORCrypt *this);
void __thiscall CBuffer::CBuffer(CBuffer *this, CBufferFactory *bufferfactory);
void __thiscall CBuffer::init(CBuffer *this, char *internal_buffer, unsigned int buffer_size);
bool __thiscall CBuffer::push(CBuffer *this, const void *ptr, unsigned int n);
void __thiscall CBuffer::pop_read_data(CBuffer *this);
bool __cdecl CMiniLZO::Compress(const char *in, unsigned int in_len, char *out, unsigned int *lp_out_len);
bool __cdecl CMiniLZO::Decompress(const char *in, unsigned int in_len, char *out, unsigned int *buffersize_in_out_len);
void __cdecl DbgUtils::SetProgramName(char *pszOutBuffer, int nBufferSize, char *pszProgramName);
bool __cdecl PacketWrap::WrapHeader(char *lpBuffer_In, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In);
bool __cdecl PacketWrap::WrapCrypt(char *lpBuffer_In, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In);
bool __cdecl PacketWrap::WrapCompress(char *lpDstBuffer, unsigned int *dwDstBufferSize_InOut, const char *lpSourceData, unsigned __int16 usSourceLength, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In);
void __thiscall std::locale::facet::_Incref(std::locale::facet *this);
std::locale::facet *__thiscall std::locale::facet::_Decref(std::locale::facet *this);
void __thiscall std::locale::_locale(std::locale *this);
void *__thiscall std::locale::facet::_scalar_deleting_destructor_(std::locale::facet *this, unsigned int);
bool __thiscall CConsoleCMDSingleton<CCMDReloadSetup>::Destroy(std::codecvt_base *this);
int __thiscall std::codecvt_base::do_encoding(std::codecvt_base *this);
void __thiscall std::codecvt_base::_codecvt_base(std::codecvt<char,char,int> *this);
std::locale *__thiscall std::ios_base::getloc(std::ios_base *this, std::locale *result);
void *__thiscall std::ios_base::_vector_deleting_destructor_(std::ios_base *this, unsigned int);
unsigned int __cdecl Registry::ReadInt(const char *FileName_In, const char *Section_In, const char *KeyName_In);
bool __cdecl Registry::ReadString(const char *FileName_In, const char *Section_In, const char *KeyName_In, char *Buffer_Out, int nBufferSize);
void __thiscall std::basic_ios<char_std::char_traits<char>>::_basic_ios<char_std::char_traits<char>>(std::basic_ios<char,std::char_traits<char> > *this);
void *__thiscall std::basic_ios<char_std::char_traits<char>>::_scalar_deleting_destructor_(std::basic_ios<char,std::char_traits<char> > *this, unsigned int);
void __thiscall std::ctype<char>::ctype<char>(std::ctype<char> *this, const __int16 *_Table, bool _Deletetable, unsigned int _Refs);
char __thiscall std::ctype<char>::do_tolower(std::ctype<char> *this, char _Ch);
const char *__thiscall std::ctype<char>::do_tolower(std::ctype<char> *this, char *_First, const char *_Last);
char __thiscall std::ctype<char>::do_toupper(std::ctype<char> *this, char _Ch);
const char *__thiscall std::ctype<char>::do_toupper(std::ctype<char> *this, char *_First, const char *_Last);
char __thiscall std::ctype<char>::do_widen(std::ctype<char> *this, char _Byte);
const char *__thiscall std::ctype<char>::do_widen(std::ctype<char> *this, const char *_First, const char *_Last, char *_Dest);
char __thiscall std::ctype<char>::do_narrow(std::ctype<char> *this, char _Ch, char __formal);
const char *__thiscall std::ctype<char>::do_narrow(std::ctype<char> *this, const char *_First, const char *_Last, char __formal, char *_Dest);
unsigned int __cdecl std::ctype<char>::_Getcat(std::locale::facet **_Ppf);
void *__thiscall std::ctype<char>::_vector_deleting_destructor_(std::ctype<char> *this, unsigned int);
void __thiscall std::ctype<char>::_ctype<char>(std::ctype<char> *this);
void __thiscall std::basic_streambuf<char_std::char_traits<char>>::_basic_streambuf<char_std::char_traits<char>>(std::basic_streambuf<char,std::char_traits<char> > *this);
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::overflow(std::basic_streambuf<char,std::char_traits<char> > *this, int __formal);
unsigned int __cdecl std::basic_streambuf<char_std::char_traits<char>>::showmanyc();
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::underflow(std::basic_streambuf<char,std::char_traits<char> > *this);
std::basic_streambuf<char,std::char_traits<char> > *__thiscall std::basic_streambuf<char_std::char_traits<char>>::setbuf(std::basic_streambuf<char,std::char_traits<char> > *this, char *__formal, int __formal);
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::uflow(std::basic_streambuf<char,std::char_traits<char> > *this);
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::xsgetn(std::basic_streambuf<char,std::char_traits<char> > *this, char *_Ptr, int _Count);
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::xsputn(std::basic_streambuf<char,std::char_traits<char> > *this, const char *_Ptr, int _Count);
std::fpos<int> *__thiscall std::basic_streambuf<char_std::char_traits<char>>::seekoff(std::basic_streambuf<char,std::char_traits<char> > *this, std::fpos<int> *result, int __formal, int __formal, int __formal);
std::fpos<int> *__thiscall std::basic_streambuf<char_std::char_traits<char>>::seekpos(std::basic_streambuf<char,std::char_traits<char> > *this, std::fpos<int> *result, std::fpos<int> __formal, int __formal);
void *__thiscall std::basic_ostream<char_std::char_traits<char>>::_vector_deleting_destructor_(std::basic_ios<char,std::char_traits<char> > *this, char a2);
void *__thiscall std::basic_streambuf<char_std::char_traits<char>>::_vector_deleting_destructor_(std::basic_streambuf<char,std::char_traits<char> > *this, unsigned int);
void __thiscall std::basic_streambuf<char_std::char_traits<char>>::_Init(std::basic_streambuf<char,std::char_traits<char> > *this);
std::ctype<char> *__cdecl std::use_facet<std::ctype<char>>(std::locale *_Loc);
void __thiscall std::codecvt<char_char_int>::codecvt<char_char_int>(std::codecvt<char,char,int> *this, unsigned int _Refs);
int __thiscall std::codecvt<char_char_int>::do_out(std::codecvt<char,char,int> *this, int *__formal, const char *_First1, const char *__formal, const char **_Mid1, char *_First2, char *__formal, char **_Mid2);
int __thiscall std::codecvt<char_char_int>::do_unshift(std::codecvt<char,char,int> *this, int *__formal, char *__formal, char *__formal, char **__formal);
int __thiscall std::codecvt<char_char_int>::do_length(std::codecvt<char,char,int> *this, const int *__formal, const char *_First1, const char *_Last1, unsigned int _Count);
void *__thiscall std::codecvt<char_char_int>::_vector_deleting_destructor_(std::codecvt<char,char,int> *this, unsigned int);
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this);
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::_Initcvt(std::basic_filebuf<char,std::char_traits<char> > *this, std::codecvt<char,char,int> *_Newpcvt);
void __thiscall std::basic_streambuf<char_std::char_traits<char>>::basic_streambuf<char_std::char_traits<char>>(std::basic_streambuf<char,std::char_traits<char> > *this);
char __thiscall std::basic_ios<char_std::char_traits<char>>::widen(std::basic_ios<char,std::char_traits<char> > *this, char _Byte);
unsigned int __cdecl std::codecvt<char_char_int>::_Getcat(std::locale::facet **_Ppf);
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::basic_filebuf<char_std::char_traits<char>>(std::basic_filebuf<char,std::char_traits<char> > *this, _iobuf *_File);
std::basic_streambuf<char,std::char_traits<char> > *__thiscall std::basic_filebuf<char_std::char_traits<char>>::setbuf(std::basic_filebuf<char,std::char_traits<char> > *this, char *_Buffer, int _Count);
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::sync(std::basic_filebuf<char,std::char_traits<char> > *this);
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::pbackfail(std::basic_filebuf<char,std::char_traits<char> > *this, int _Meta);
char *__thiscall std::basic_streambuf<char_std::char_traits<char>>::_Gndec(std::basic_streambuf<char,std::char_traits<char> > *this);
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::underflow(std::basic_filebuf<char,std::char_traits<char> > *this);
void __thiscall std::basic_ios<char_std::char_traits<char>>::init(std::basic_ios<char,std::char_traits<char> > *this, std::basic_streambuf<char,std::char_traits<char> > *_Strbuf, bool _Isstd);
std::codecvt<char,char,int> *__cdecl std::use_facet<std::codecvt<char_char_int>>(std::locale *_Loc);
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::imbue(std::basic_filebuf<char,std::char_traits<char> > *this, std::locale *_Loc);
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::append(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, unsigned int _Count, char _Ch);
bool __thiscall std::basic_filebuf<char_std::char_traits<char>>::_Endwrite(std::basic_filebuf<char,std::char_traits<char> > *this);
void __thiscall std::basic_ostream<char_std::char_traits<char>>::basic_ostream<char_std::char_traits<char>>(std::basic_ostream<char,std::char_traits<char> > *this, std::basic_streambuf<char,std::char_traits<char> > *_Strbuf, bool _Isstd);
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::overflow(std::basic_filebuf<char,std::char_traits<char> > *this, int _Meta);
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::uflow(std::basic_filebuf<char,std::char_traits<char> > *this);
std::fpos<int> *__thiscall std::basic_filebuf<char_std::char_traits<char>>::seekoff(std::basic_filebuf<char,std::char_traits<char> > *this, std::fpos<int> *result, int _Off, int _Way, int __formal);
std::fpos<int> *__thiscall std::basic_filebuf<char_std::char_traits<char>>::seekpos(std::basic_filebuf<char,std::char_traits<char> > *this, std::fpos<int> *result, std::fpos<int> _Pos, int __formal);
std::basic_filebuf<char,std::char_traits<char> > *__thiscall std::basic_filebuf<char_std::char_traits<char>>::close(std::basic_filebuf<char,std::char_traits<char> > *this);
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::_basic_filebuf<char_std::char_traits<char>>(std::basic_filebuf<char,std::char_traits<char> > *this);
void *__thiscall std::basic_filebuf<char_std::char_traits<char>>::_scalar_deleting_destructor_(std::basic_filebuf<char,std::char_traits<char> > *this, unsigned int);
void __thiscall OleDB::OleDB(OleDB *this);
void __thiscall OleDB::_OleDB(OleDB *this);
bool __thiscall OleDB::HandleError(OleDB *this, int ErrorLine_In, HRESULT hResult_In, char *Buffer_In);
bool __thiscall OleDB::CreateSession(OleDB *this);
bool __thiscall OleDB::DBCreateCommand(OleDB *this);
bool __thiscall OleDB::AllocResultCols(OleDB *this, IUnknown *lpIUnknown_In, OleDB::_RESULT_COLS *Rsult_Cols);
bool __thiscall OleDB::ReleaseResultCols(OleDB *this, IUnknown *lpIUnknown_In, OleDB::_RESULT_COLS *Rsult_Cols);
bool __thiscall OleDB::SetConnectionProperties(OleDB *this, const char *ServerName_In, const char *DataBaseName_In, const char *UserID_In, const char *UserPass_In);
tagDBBINDING *__thiscall OleDB::AllocBindGetData(OleDB *this, int ColsNum_In, tagDBCOLUMNINFO *pDBColumnInfo_In);
tagDBBINDING *__thiscall OleDB::AllocBindParamInputData(OleDB *this, OleDB::_PARAM_INFO *ParamInfo_In);
void *__thiscall OleDB::_scalar_deleting_destructor_(OleDB *this, unsigned int);
bool __thiscall OleDB::ConnectSQLServer(OleDB *this, const char *ServerName_In, const char *DataBaseName_In, const char *UserID_In, const char *UserPass_In, OleDB::ConnType ConnType_In);
bool __thiscall OleDB::ExecuteQueryWithParams(OleDB *this, const char *Query_In, char *Data_In, OleDB::_PARAM_INFO *ParamInfo_In);
bool __thiscall OleDB::ExecuteQueryGetData(OleDB *this, const char *Query_In, void *Buffer_Out);
std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Pnode);
std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Pnode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::const_iterator *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Wherenode);
std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this);
void __thiscall std::_Tree_nod<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Node::__Node(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *this);
std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator _Where);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Rootnode);
int std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(...);
void __thiscall CTimerProcMgr::ClearAll(CTimerProcMgr *this);
void __thiscall std::map<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>>::_map<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>>(std::map<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> > > *this);
void __thiscall CTimerProcMgr::_CTimerProcMgr(CTimerProcMgr *this);
void __thiscall CTimerProcMgr::CTimerProcMgr(CTimerProcMgr *this);
void __thiscall CSysTray::CSysTray(CSysTray *this, HWND__ *hWnd, HINSTANCE__ *hInstance);
void __thiscall CSysTray::ShowPopupMenu(CSysTray *this, HWND__ *hWnd, HMENU__ *hMenu);
const unsigned int __cdecl CSysTray::GetSysTrayNotifyMsg();
void __thiscall CSysTray::_CSysTray(CSysTray *this);
int __thiscall CSysTray::AddIcon(CSysTray *this, const char *lpToolTip, HICON__ *hIcon, unsigned int uID);
int __thiscall _vcall_(void *this);
int __thiscall _vcall_(void *this);
void __thiscall std::list<CThread___std::allocator<CThread__>>::clear(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this);
std::mem_fun_t<bool,CCommand> *__cdecl std::for_each<std::list<CCommand___std::allocator<CCommand__>>::iterator_std::mem_fun_t<bool_CCommand>>(std::mem_fun_t<bool,CCommand> *result, std::list<CCommand *,std::allocator<CCommand *> >::iterator _First, std::list<CCommand *,std::allocator<CCommand *> >::iterator _Last, std::mem_fun_t<bool,CCommand> _Func);
void __thiscall CCommandProcess::ClearAll(CCommandProcess *this);
void __thiscall CCommandProcess::CCommandProcess(CCommandProcess *this);
void __thiscall CCommandProcess::_CCommandProcess(CCommandProcess *this);
void __thiscall std::list<CCommand___std::allocator<CCommand__>>::_Splice(std::list<CCommand *,std::allocator<CCommand *> > *this, std::list<CCommand *,std::allocator<CCommand *> >::iterator _Where, std::list<CCommand *,std::allocator<CCommand *> > *_Right, std::list<CCommand *,std::allocator<CCommand *> >::iterator _First, std::list<CCommand *,std::allocator<CCommand *> >::iterator _Last, unsigned int _Count);
void __thiscall CCommandProcess::ProcessAll(CCommandProcess *this);
void __thiscall CPulse::SetTicksPerPulse(CPulse *this, int nTicksPerPulse);
unsigned int __thiscall CPulse::CheckSleep(CPulse *this);
CPulse *__cdecl CPulse::GetInstance();
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this, std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *_Next, std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *_Prev, LogBuffer *const *_Val);
void __thiscall CSessionMgr::DeleteSession(CSessionMgr *this, CSession *lpSession);
void __thiscall CSessionMgr::CSessionMgr(CSessionMgr *this);
CSession *__thiscall CSessionMgr::CreateSession(CSessionMgr *this, CSessionPolicy *SessionPolicy);
void __thiscall std::list<CSession___std::allocator<CSession__>>::_Incsize(std::list<CSession *,std::allocator<CSession *> > *this, unsigned int _Count);
void __thiscall CSessionMgr::Add(CSessionMgr *this, CSession *lpSession);
void __thiscall std::list<CSession___std::allocator<CSession__>>::_Splice(std::list<CSession *,std::allocator<CSession *> > *this, std::list<CSession *,std::allocator<CSession *> >::iterator _Where, std::list<CSession *,std::allocator<CSession *> > *_Right, std::list<CSession *,std::allocator<CSession *> >::iterator _First, std::list<CSession *,std::allocator<CSession *> >::iterator _Last, unsigned int _Count);
void __thiscall CSessionMgr::InternalProcess(CSessionMgr *this);
void __thiscall CSessionMgr::Destroy(CSessionMgr *this, unsigned int dwWaitTime);
void __thiscall CSessionMgr::_CSessionMgr(CSessionMgr *this);
void __thiscall CIOWorker::CIOWorker(CIOWorker *this, CCompletionHandler *SocketHandler);
unsigned int __thiscall CIOWorker::Run(CIOWorker *this);
int __thiscall CIOWorker::End(CIOWorker *this);
void *__thiscall CIOWorker::_scalar_deleting_destructor_(CIOWorker *this, unsigned int);
void __thiscall CCompletionHandler::CCompletionHandler(CCompletionHandler *this);
bool __thiscall CCompletionHandler::Initialize(CCompletionHandler *this, unsigned int nThread, unsigned int nTimeOutMS);
void *__thiscall CCompletionHandler::_scalar_deleting_destructor_(CCompletionHandler *this, unsigned int);
// unsigned int __usercall lzo1x_1_do_compress<eax>(const char *in, unsigned int in_len<eax>, char *out, unsigned int *out_len, void *wrkmem);
int __cdecl lzo1x_1_compress(const char *in, unsigned int in_len, char *out, unsigned int *out_len, void *wrkmem);
int __cdecl lzo1x_decompress_safe(const char *in, unsigned int in_len, char *out, unsigned int *out_len, void *wrkmem);
void __thiscall ATL::CComCriticalSection::CComCriticalSection(ATL::CComCriticalSection *this);
HRESULT __thiscall ATL::CComCriticalSection::Init(ATL::CComCriticalSection *this);
Item::CItem *__thiscall Item::CItemFactory::CreateTempItem(Item::CItemFactory *this, Item::ItemInfo *itemInfo);
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__cdecl std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Pnode);
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__cdecl std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Pnode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: *this);
void *__thiscall std::bad_alloc::_vector_deleting_destructor_(std::bad_alloc *this, unsigned int);
void __thiscall std::bad_alloc::_bad_alloc(std::bad_alloc *this);
Item::CItem *__thiscall Item::CItemFactory::CreateItem(Item::CItemFactory *this, unsigned __int16 usProtoTypeID);
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lbound(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, const unsigned __int64 *_Keyval);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Wherenode);
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Ubound(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, const unsigned __int64 *_Keyval);
boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
void __cdecl boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::free(void *const ptr);
void __thiscall std::bad_alloc::bad_alloc(std::bad_alloc *this, std::bad_alloc *__that);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Rootnode);
int std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(...);
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this);
int std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(...);
void __thiscall Item::CItemFactory::_CItemFactory(Item::CItemFactory *this);
void __thiscall Item::CItemFactory::DeleteItem(Item::CItemFactory *this, Item::CItem *lpDeleteItem);
Item::CItemFactory *__cdecl Item::CItemFactory::GetInstance();
void __cdecl GAMELOG::LogCharCreateDelete(const unsigned int dwUID, sockaddr_in *lpSockAddr, const unsigned int dwCID, const char cCMD, const unsigned __int16 eError);
bool __cdecl CharCreate::CheckCharCreateName(const char *Name_In, bool HanCheck_In);
bool __cdecl CharCreate::CheckCharCreateData(CHAR_CREATE *CharCreate_In);
POS *__cdecl CharCreate::GetDefaultCharacterPos(POS *result, unsigned int dwRace, unsigned int dwRacePlayerNum);
Item::ItemInfo *__thiscall Item::CItemMgr::GetItemInfo(Item::CItemMgr *this, unsigned __int16 usProtoTypeID);
unsigned int __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::size(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Pnode);
void __cdecl std::fill<unsigned_short___unsigned_short>(unsigned __int16 *_First, unsigned __int16 *_Last, const unsigned __int16 *_Val);
void __cdecl std::fill<Item::ItemInfo___Item::ItemInfo>(Item::ItemInfo *_First, Item::ItemInfo *_Last, Item::ItemInfo *_Val);
void __thiscall Item::ItemInfo::ItemInfo(Item::ItemInfo *this, Item::ItemInfo *__that);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *this);
unsigned __int16 *__cdecl std::copy_backward<unsigned_short___unsigned_short__>(unsigned __int16 *_First, unsigned __int16 *_Last, unsigned __int16 *_Dest);
Item::ItemInfo *__cdecl std::copy_backward<Item::ItemInfo___Item::ItemInfo__>(Item::ItemInfo *_First, Item::ItemInfo *_Last, Item::ItemInfo *_Dest);
void __cdecl std::swap<Item::ItemInfo>(Item::ItemInfo *_Left, Item::ItemInfo *_Right);
void __cdecl std::_Push_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, int _Hole, int _Top, Item::ItemInfo _Val);
void __cdecl std::_Rotate<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Mid, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, int *__formal, Item::ItemInfo *__formal);
void __thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Rootnode);
int __stdcall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ucopy<unsigned_short__>(char *src, int, char *dst); // idb
Item::ItemInfo *__cdecl std::_Uninit_copy<Item::ItemInfo___Item::ItemInfo___std::allocator<Item::ItemInfo>>(Item::ItemInfo *_First, Item::ItemInfo *_Last, Item::ItemInfo *_Dest, std::allocator<Item::ItemInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::_Adjust_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, int _Hole, int _Bottom, Item::ItemInfo _Val);
bool __thiscall CParseDelimitedData::operator__(CParseDelimitedData *this, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *ParserArray, Item::ItemInfo *itemInfo);
unsigned __int16 *__thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ufill(std::vector<unsigned short,std::allocator<unsigned short> > *this, unsigned __int16 *_Ptr, unsigned int _Count, const unsigned __int16 *_Val);
void __cdecl std::_Uninit_fill_n<Item::ItemInfo___unsigned_int_Item::ItemInfo_std::allocator<Item::ItemInfo>>(Item::ItemInfo *_First, unsigned int _Count, Item::ItemInfo *_Val, std::allocator<Item::ItemInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::_Median<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Mid, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last);
void __cdecl std::_Make_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, int *__formal, Item::ItemInfo *__formal);
void __cdecl std::_Pop_heap_0<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, Item::ItemInfo *__formal);
void __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *this);
std::pair<std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator,std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::pair<std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator,std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator> *result, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last);
void __cdecl std::_Insertion_sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last);
Item::ItemInfo *__thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_Ufill(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, Item::ItemInfo *_Ptr, unsigned int _Count, Item::ItemInfo *_Val);
void __cdecl std::sort_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last);
int std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Insert(...);
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Xlen(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this);
std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator _Where);
void __cdecl std::_Sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, int _Ideal);
std::pair<std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator,bool> *result, std::pair<enum Item::ItemType::Type const ,unsigned char> *_Val);
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Insert_n(std::vector<unsigned short,std::allocator<unsigned short> > *this, std::vector<unsigned short,std::allocator<unsigned short> >::iterator _Where, unsigned int _Count, const unsigned __int16 *_Val);
int std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(...);
void __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_Insert_n(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Where, unsigned int _Count, Item::ItemInfo *_Val);
std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *__thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::insert(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *result, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Where, Item::ItemInfo *_Val);
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::push_back(std::vector<unsigned short,std::allocator<unsigned short> > *this, const unsigned __int16 *_Val);
void __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::push_back(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, Item::ItemInfo *_Val);
void __thiscall std::map<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>>::_map<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>>(std::map<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> > > *this);
void __thiscall Item::CItemMgr::_CItemMgr(Item::CItemMgr *this);
bool __thiscall Item::CItemMgr::LoadItemProtoType(Item::CItemMgr *this, const char *szFileName);
void __thiscall Item::CItemMgr::CItemMgr(Item::CItemMgr *this);
Item::CItemMgr *__cdecl Item::CItemMgr::GetInstance();
int __thiscall CLogSaveThread::End(CLogSaveThread *this);
bool __thiscall CLogSaveThread::Compress(CLogSaveThread *this);
void __thiscall CLogSaveThread::_CLogSaveThread(CLogSaveThread *this);
LogBuffer *__thiscall CGameLog::GetBuffer(CGameLog *this);
void __thiscall CLogSaveThread::CLogSaveThread(CLogSaveThread *this);
void *__thiscall CLogSaveThread::_vector_deleting_destructor_(CLogSaveThread *this, unsigned int);
void __thiscall CGameLog::CGameLog(CGameLog *this);
void __thiscall std::list<LogBuffer___std::allocator<LogBuffer__>>::_Incsize(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this, unsigned int _Count);
bool __thiscall CGameLog::Initialize(CGameLog *this, const char *szLogFilePrefix);
void __thiscall CGameLog::PushFullBuffer(CGameLog *this, LogBuffer **ppLogBuffer);
void __thiscall std::list<LogBuffer___std::allocator<LogBuffer__>>::_Splice(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this, std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator _Where, std::list<LogBuffer *,std::allocator<LogBuffer *> > *_Right, std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator _First, std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator _Last, unsigned int _Count);
int __thiscall CGameLog::Flush(CGameLog *this);
bool __thiscall CGameLog::Destroy(CGameLog *this);
char *__thiscall CGameLog::ReserveBuffer(CGameLog *this, unsigned __int16 usReserve);
void __thiscall CGameLog::SpliceOutFullBuffer(CGameLog *this, std::list<LogBuffer *,std::allocator<LogBuffer *> > *logBufferList);
void __thiscall CGameLog::SpliceInFreeBuffer(CGameLog *this, std::list<LogBuffer *,std::allocator<LogBuffer *> > *logBufferList);
void __thiscall CGameLog::_CGameLog(CGameLog *this);
CGameLog *__cdecl CGameLog::GetInstance();
bool __thiscall CLogSaveThread::SetLogFileName(CLogSaveThread *this);
bool __thiscall CLogSaveThread::WriteLog(CLogSaveThread *this);
unsigned int __thiscall CLogSaveThread::Run(CLogSaveThread *this);
void __thiscall Item::CEquipment::AddAttribute(Item::CEquipment *this, Item::Attribute::Type eAttributeType, __int16 nAttributeValue);
void __thiscall Item::CEquipment::InitializeAttribute(Item::CEquipment *this);
void __thiscall Item::CEquipment::ApplyGemAttribute(Item::CEquipment *this, Item::CEquipment::ApplyType eApplyType);
void __thiscall Item::CEquipment::ApplyUpgradeAttribute(Item::CEquipment *this, Item::CEquipment::ApplyType eApplyType);
void __thiscall Item::CEquipment::ApplyRuneAttribute(Item::CEquipment *this, Item::CEquipment::ApplyType eApplyType);
void __thiscall Item::CItem::CItem(Item::CItem *this, Item::ItemInfo *itemInfo);
void __thiscall Item::CItem::_CItem(Item::CUseItem *this);
bool __thiscall Item::CItem::SerializeOut(Item::CItem *this, char *lpSerializeItem_Out, unsigned int *nBufferLength_InOut);
bool __thiscall Item::CItem::SerializeIn(Item::CItem *this, const char *lpSerializeItem_In, unsigned int *nBufferLength_InOut);
unsigned int __thiscall Item::CItem::GetBuyPrice(Item::CItem *this);
unsigned int __thiscall Item::CItem::GetSellPrice(Item::CItem *this);
unsigned int __thiscall Item::CItem::GetRepairPrice(Item::CItem *this);
unsigned int __thiscall Item::CItem::GetUpgradePrice(Item::CItem *this);
unsigned int __thiscall Item::CItem::GetGraftPrice(Item::CItem *this);
bool __thiscall Item::CEquipment::SerializeOut(Item::CEquipment *this, char *lpSerializeItem_Out, unsigned int *nBufferLength_InOut);
unsigned int __thiscall Item::CEquipment::GetBuyPrice(Item::CEquipment *this);
unsigned int __thiscall Item::CEquipment::GetSellPrice(Item::CEquipment *this);
unsigned int __thiscall Item::CEquipment::GetRepairPrice(Item::CEquipment *this);
unsigned int __thiscall Item::CEquipment::GetUpgradePrice(Item::CEquipment *this);
unsigned int __thiscall Item::CEquipment::GetGraftPrice(Item::CEquipment *this);
void __thiscall Item::CEquipment::CalculateItemGrade(Item::CEquipment *this);
void __thiscall Item::CUseItem::CUseItem(Item::CUseItem *this, Item::ItemInfo *itemInfo);
void *__thiscall Item::CItem::_vector_deleting_destructor_(Item::CItem *this, unsigned int);
void __thiscall Item::CEquipment::CEquipment(Item::CEquipment *this, Item::ItemInfo *itemInfo);
void *__thiscall Item::CUseItem::_scalar_deleting_destructor_(Item::CUseItem *this, unsigned int);
void __thiscall Item::CEquipment::CalculateItemPrice(Item::CEquipment *this);
bool __thiscall Item::CEquipment::SerializeIn(Item::CEquipment *this, const char *lpSerializeItem_In, unsigned int *nBufferLength_InOut);
void __thiscall Item::SpriteData::Initialize(Item::SpriteData *this);
void __thiscall Item::StringData::Initialize(Item::StringData *this);
const float __cdecl Item::Grade::GetGradeValue(Item::CItemType::ArrayType eEquipType, Item::Grade::TableType eTableType, Item::EquipType::Grade eGrade, Item::Attribute::Type eType);
void __thiscall Item::SpriteData::SpriteData(Item::SpriteData *this);
void __thiscall Item::ItemInfo::Initialize(Item::ItemInfo *this);
void __thiscall Item::Grade::GradeInfo::GradeInfo(Item::Grade::GradeInfo *this);
void __thiscall Item::ItemInfo::ItemInfo(Item::ItemInfo *this);
void __thiscall Item::ItemInfo::ItemInfo(Item::ItemInfo *this, unsigned __int16 usProtoTypeID);
Item::CItemType::ArrayType __cdecl Item::CItemType::GetEquipType(unsigned int dwItemFlag);
void __thiscall Item::CItemType::SetAccessoryTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo);
void __thiscall Item::CItemType::SetUseItemTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo);
void __thiscall Item::CItemType::SetEtcItemTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo);
void __cdecl Item::CItemType::SetInstallGemAttribute(Item::CItem *lpItem);
void __cdecl Item::CItemType::SetUpgradeItemAttribute(Item::CItem *lpItem);
Item::ItemType::Type *__cdecl std::copy_backward<enum__Item::ItemType::Type___enum__Item::ItemType::Type__>(Item::ItemType::Type *_First, Item::ItemType::Type *_Last, Item::ItemType::Type *_Dest);
void __cdecl std::_Median<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Mid, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last);
void __cdecl std::_Adjust_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, int _Hole, int _Bottom, Item::ItemType::Type _Val);
void __cdecl std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(Item::ItemType::Type *_First, unsigned int _Count, Item::ItemType::Type *_Val, std::allocator<enum Item::ItemType::Type> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
std::pair<std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator,std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::pair<std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator,std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator> *result, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last);
std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *__cdecl std::_Lower_bound<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_unsigned_char_int>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *result, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, const char *_Val, int *__formal);
void __cdecl std::_Make_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, int *__formal, Item::ItemType::Type *__formal);
void __cdecl std::_Insertion_sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last);
Item::ItemType::Type *__thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Ufill(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, Item::ItemType::Type *_Ptr, unsigned int _Count, Item::ItemType::Type *_Val);
void __cdecl std::sort_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last);
void __thiscall Item::CItemType::_CItemType(Item::CItemType *this);
bool __thiscall Item::CItemType::IsCorrectItemType(Item::CItemType *this, Item::CItemType::ArrayType itemType, char cEquipType);
void __thiscall Item::CItemType::SetEquipTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo);
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Xlen(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this);
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Where, unsigned int _Count, Item::ItemType::Type *_Val);
void __cdecl std::_Sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, int _Ideal);
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::reserve(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, unsigned int _Count);
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>(std::vector<unsigned short,std::allocator<unsigned short> > *this);
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, Item::ItemType::Type *_Val);
void __thiscall Item::CItemType::CItemType(Item::CItemType *this);
Item::CItemType *__cdecl Item::CItemType::GetInstance();
boost::singleton_pool<boost::fast_pool_allocator_tag,12,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_12_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
unsigned int __cdecl Math::Random::ComplexRandom(int nEndExtent, int nBeginExtent);
int __cdecl Math::Random::SimpleRandom(unsigned int dwSeed, int nEndExtent, int nBeginExtent);
char *__cdecl trim_string(char *szString);
void __cdecl std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Mid, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last);
void __cdecl std::_Push_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, int _Hole, int _Top, CTokenlizedFile::ColumnInfo _Val);
void __cdecl std::_Rotate<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Mid, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, int *__formal, CTokenlizedFile::ColumnInfo *__formal);
CTokenlizedFile::ColumnInfo *__cdecl std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(CTokenlizedFile::ColumnInfo *_First, CTokenlizedFile::ColumnInfo *_Last, CTokenlizedFile::ColumnInfo *_Dest, std::allocator<CTokenlizedFile::ColumnInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::_Median<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Mid, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last);
std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *__cdecl std::_Lower_bound<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, CTokenlizedFile::ColumnInfo *_Val, int *__formal);
std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *__cdecl std::_Upper_bound<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, CTokenlizedFile::ColumnInfo *_Val, int *__formal);
void __cdecl std::_Adjust_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, int _Hole, int _Bottom, CTokenlizedFile::ColumnInfo _Val);
std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last);
char **__cdecl std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(std::vector<char *,std::allocator<char *> >::iterator _First, std::vector<char *,std::allocator<char *> >::iterator _Last, char **_Dest, std::allocator<char *> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::_Make_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, int *__formal, CTokenlizedFile::ColumnInfo *__formal);
std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *__cdecl std::_Equal_range<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, CTokenlizedFile::ColumnInfo *_Val, int *__formal);
void __cdecl std::_Insertion_sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last);
void __cdecl std::sort_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last);
void __thiscall CTokenlizedFile::_CTokenlizedFile(CTokenlizedFile *this);
void __thiscall CTokenlizedFile::Close(CTokenlizedFile *this);
bool __thiscall CTokenlizedFile::Open(CTokenlizedFile *this, const char *szFilename, const char *szOpenMode);
const char *__thiscall CTokenlizedFile::GetStringValue(CTokenlizedFile *this, const char *szColumnName);
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Xlen(std::vector<char *,std::allocator<char *> > *this);
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Insert_n(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Where, unsigned int _Count, CTokenlizedFile::ColumnInfo *_Val);
void __thiscall std::vector<char___std::allocator<char__>>::_Insert_n(std::vector<char *,std::allocator<char *> > *this, std::vector<char *,std::allocator<char *> >::iterator _Where, unsigned int _Count, char *const *_Val);
void __cdecl std::_Sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, int _Ideal);
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::reserve(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, unsigned int _Count);
void __thiscall std::vector<char___std::allocator<char__>>::reserve(std::vector<char *,std::allocator<char *> > *this, unsigned int _Count);
std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *__thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::insert(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Where, CTokenlizedFile::ColumnInfo *_Val);
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::push_back(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, CTokenlizedFile::ColumnInfo *_Val);
void __thiscall CTokenlizedFile::CTokenlizedFile(CTokenlizedFile *this, const char *lpszDelimiter);
bool __thiscall CTokenlizedFile::ReadColumn(CTokenlizedFile *this);
bool __thiscall CTokenlizedFile::ReadLine(CTokenlizedFile *this);
unsigned __int16 __cdecl Math::Convert::StrToHex16(const char *szSrc);
bool __cdecl ReadString(char *szBuffer_Out, int nBufferLen, const char *szValue_In);
bool __cdecl ReadStringToTypeValue(char *cValue_Out, CTypeName *lpTypeArray, const char nMaxType, const char *szValue_In);
bool __cdecl ReadID(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadItemName(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadFieldModelName(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadAttachedModelName(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSpriteDDS(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMinX(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMinY(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxX(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxY(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSizeX(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSizeY(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadEffectSound(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadItemType(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadTypeName(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadAbleExchangeNDrop(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadAbleSell(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMinDropLevel(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxDropLevel(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadPrice(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadOptionPrice(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadBlackPrice(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMedalPrice(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadDurability(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxDurability(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadClassLimit(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadLowLevel(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadHighLevel(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadLimitStatus(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadLimitValue(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMinDamage(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxDamage(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadArmor(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadBlock(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadDropOption(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadGrade(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadCriticalType(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadAttackRange(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxSocketNum(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadHitRate(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadEvade(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadCritical(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMagicPower(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMagicResist(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadCoolDown(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxHP(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMaxMP(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadHPRegen(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadMPRegen(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSpeed(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSkillPoint(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadFrost(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadFire(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadElectro(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadDarkness(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadForStatueWar(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadLimitRealmPoint(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSkill_ID(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadSkill_Level(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadZone(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadPositionX(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadPositionY(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadPositionZ(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadAmount(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadQuestID(Item::ItemInfo *itemInfo, const char *szValue);
bool __cdecl ReadItemDescribe(Item::ItemInfo *itemInfo, const char *szValue);
void __cdecl std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(ItemDataParser::ParseData *_First, ItemDataParser::ParseData *_Last, ItemDataParser::ParseData *_Val);
ItemDataParser::ParseData *__thiscall std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Ufill(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, ItemDataParser::ParseData *_Ptr, unsigned int _Count, ItemDataParser::ParseData *_Val);
void __thiscall std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::_Insert_n(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _Where, unsigned int _Count, ItemDataParser::ParseData *_Val);
void __thiscall std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::reserve(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, unsigned int _Count);
void __thiscall std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, ItemDataParser::ParseData *_Val);
bool __cdecl ItemDataParser::SetDefaultData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray);
bool __cdecl ItemDataParser::SetEquipData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray);
bool __cdecl ItemDataParser::SetAccessoryData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray);
bool __cdecl ItemDataParser::SetUseItemData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray);
bool __cdecl ItemDataParser::SetEtcItemData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray);
// int __usercall get_byte<eax>(gz_stream *s<esi>);
// void __usercall check_header(gz_stream *s<eax>);
// int __usercall destroy<eax>(gz_stream *s<esi>);
int __cdecl gzwrite(void *file, void *const buf, unsigned int len);
// int __usercall do_flush<eax>(void *file<eax>, int flush);
// void __usercall putLong(_iobuf *file<ebx>, unsigned int x<eax>);
int __cdecl gzclose(void *file);
void *__cdecl gz_open(const char *path, const char *mode, int fd);
void *__cdecl gzopen(const char *path, const char *mode);
void __thiscall CSkillMgr::CSkillMgr(CSkillMgr *this);
void __thiscall CSkillMgr::_CSkillMgr(CSkillMgr *this);
void __thiscall Item::CNullItem::_CNullItem(Item::CUseItem *this);
int __thiscall Item::CNullItem::CNullItem(Item::CItem *this, Item::ItemInfo *itemInfo);
void *__thiscall Item::CNullItem::_vector_deleting_destructor_(unsigned int);
// void __usercall putShortMSB(internal_state *s<eax>, unsigned int b<ecx>);
// void __usercall flush_pending(z_stream_s *strm<eax>);
int __cdecl deflate(z_stream_s *strm, int flush);
int __cdecl deflateEnd(z_stream_s *strm);
// void __usercall lm_init(internal_state *s<edx>);
// unsigned int __usercall longest_match<eax>(internal_state *s<esi>, unsigned int cur_match<eax>);
// void __usercall fill_window(internal_state *s<ebx>);
block_state __cdecl deflate_stored(internal_state *s, int flush);
block_state __cdecl deflate_fast(internal_state *s, int flush);
block_state __cdecl deflate_slow(internal_state *s, int flush);
int __cdecl deflateReset(z_stream_s *strm);
int __cdecl deflateInit2_(z_stream_s *strm, int level, int method, int windowBits, int memLevel, int strategy, const char *version, int stream_size);
int __cdecl inflateReset(z_stream_s *z);
int __cdecl inflateEnd(z_stream_s *z);
int __cdecl inflateInit2_(z_stream_s *z, int w, const char *version, int stream_size);
unsigned int __cdecl crc32(unsigned int crc, const char *buf, unsigned int len);
void *__cdecl zcalloc(void *opaque, unsigned int items, unsigned int size);
void __cdecl zcfree(void *opaque, void *ptr);
void __thiscall Skill::ProtoType::Initialize(Skill::ProtoType *this);
void __thiscall Skill::ProtoType::ProtoType(Skill::ProtoType *this);
void __thiscall boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type(boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *this);
boost::singleton_pool<boost::fast_pool_allocator_tag,24,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_24_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
boost::singleton_pool<boost::fast_pool_allocator_tag,20,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_20_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_48_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
unsigned int __cdecl adler32(unsigned int adler, const char *buf, unsigned int len);
// void __usercall init_block(internal_state *s<edx>);
// void __usercall pqdownheap(internal_state *s<eax>, ct_data_s *tree<edi>, int k);
// void __usercall gen_bitlen(internal_state *s<eax>, tree_desc_s *desc<ecx>);
// void __usercall scan_tree(internal_state *s, ct_data_s *tree<eax>, int max_code<ecx>);
// void __usercall send_tree(internal_state *s<eax>, ct_data_s *tree<ecx>, int max_code);
// void __usercall send_all_trees(internal_state *s<eax>, int lcodes, int dcodes, int blcodes);
// void __usercall compress_block(internal_state *s<eax>, ct_data_s *ltree, ct_data_s *dtree);
// void __usercall set_data_type(internal_state *s<ecx>);
// void __usercall bi_flush(internal_state *s<eax>);
// void __usercall bi_windup(internal_state *s<eax>);
// void __usercall copy_block(internal_state *s<eax>, char *buf<edx>, unsigned int len<ecx>, int header);
void __cdecl _tr_init(internal_state *s);
// void __usercall gen_codes(ct_data_s *tree<edi>, int max_code<ebx>, unsigned __int16 *bl_count<edx>);
// void __usercall build_tree(internal_state *s<esi>, tree_desc_s *desc);
// int __usercall build_bl_tree<eax>(internal_state *s<eax>);
void __cdecl _tr_stored_block(internal_state *s, char *buf, unsigned int stored_len, int eof);
void __cdecl _tr_align(internal_state *s);
void __cdecl _tr_flush_block(internal_state *s, char *buf, unsigned int stored_len, int eof);
void __cdecl inflate_blocks_reset(inflate_blocks_state *s, z_stream_s *z, unsigned int *c);
inflate_blocks_state *__cdecl inflate_blocks_new(z_stream_s *z, unsigned int (__cdecl *c)(unsigned int, const char *, unsigned int), unsigned int w);
int __cdecl inflate_blocks_free(inflate_blocks_state *s, z_stream_s *z);
void __thiscall CMonsterMgr::CMonsterMgr(CMonsterMgr *this);
void __thiscall CMonsterMgr::_CMonsterMgr(CMonsterMgr *this);
boost::singleton_pool<boost::fast_pool_allocator_tag,40,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_40_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
void __thiscall Skill::CProcessTable::CProcessTable(Skill::CProcessTable *this);
void __thiscall Skill::CProcessTable::_CProcessTable(Skill::CProcessTable *this);
void __cdecl inflate_codes_free(inflate_codes_state *c, z_stream_s *z);
std::basic_ostream<char,std::char_traits<char> > *__thiscall std::basic_ostream<char_std::char_traits<char>>::put(std::basic_ostream<char,std::char_traits<char> > *this, char _Ch);
void __thiscall EnemyCheck::CCheckTable::CCheckTable(EnemyCheck::CCheckTable *this);
void __thiscall EnemyCheck::CCheckTable::_CCheckTable(EnemyCheck::CCheckTable *this);
void __thiscall CSingleton<CDuelCellManager>::_CSingleton<CDuelCellManager>(CSingleton<CDuelCellManager> *this);
void __thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Rootnode);
std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _Where);
std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _Last);
void __thiscall CDuelCellManager::_CDuelCellManager(CDuelCellManager *this);
void __thiscall CDuelCellManager::CDuelCellManager(CDuelCellManager *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Wherenode);
std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Pnode);
std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Pnode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Wherenode);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::const_iterator *this);
void __thiscall CSingleton<CQuestMgr>::_CSingleton<CQuestMgr>(CSingleton<CQuestMgr> *this);
std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this);
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Rootnode);
void __cdecl std::_Uninit_fill_n<Quest::TriggerMsg___unsigned_int_Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>(Quest::TriggerMsg *_First, unsigned int _Count, Quest::TriggerMsg *_Val, std::allocator<Quest::TriggerMsg> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __thiscall Quest::TriggerNode::_TriggerNode(Quest::TriggerNode *this);
void __thiscall Quest::QuestNode::_QuestNode(Quest::QuestNode *this);
std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _Where);
void __thiscall std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Xlen(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *this);
void __thiscall Quest::PhaseNode::_PhaseNode(Quest::PhaseNode *this);
std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _Last);
void __thiscall std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Construct_n(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *this, unsigned int _Count, Quest::TriggerMsg *_Val);
void __thiscall CQuestMgr::ClearQuest(CQuestMgr *this);
void __thiscall std::map<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>>::_map<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>>(std::map<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> > > *this);
void __thiscall CQuestMgr::_CQuestMgr(CQuestMgr *this);
void __thiscall CQuestMgr::CQuestMgr(CQuestMgr *this);
int *__cdecl std::copy_backward<char_____char____>(int *_First, int *_Last, int *_Dest);
int __stdcall std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(char *src, int, char *dst); // idb
void __thiscall std::vector<int_std::allocator<int>>::_Xlen(std::vector<int,std::allocator<int> > *this);
void __thiscall std::vector<int_std::allocator<int>>::_Insert_n(std::vector<int,std::allocator<int> > *this, std::vector<int,std::allocator<int> >::iterator _Where, unsigned int _Count, const int *_Val);
void __thiscall CSingleton<CFSM>::_CSingleton<CFSM>(CSingleton<CFSM> *this);
void __thiscall CFSM::CFSM(CFSM *this);
void __thiscall CFSM::_CFSM(CFSM *this);
void __thiscall AwardTable::CAward::CAward(AwardTable::CAward *this);
void __thiscall AwardTable::CAward::_CAward(AwardTable::CAward *this);
void __thiscall CFSMState::_CFSMState(CFSMState *this);
void __cdecl sub_431190();
// int unknown_libname_1(void); weak
// void __cdecl func(); idb
void CompilerMessage2(const char *format, ...);
void __cdecl ErrorMessage(int ap, int a2);
void WarningMessage2(int a1, const char *format, ...);
void __cdecl ScriptSystemError(int ap);
std::basic_ostream<char,std::char_traits<char> > *__cdecl DefaultMessageFunction(const char *_Val);
void *__thiscall CCrc32::CCrc32(void *this);
ItemDataParser::ParseData *__cdecl std::copy_backward<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>__>(ItemDataParser::ParseData *_First, ItemDataParser::ParseData *_Last, ItemDataParser::ParseData *_Dest);
void __cdecl std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(ItemDataParser::ParseData *_First, unsigned int _Count, ItemDataParser::ParseData *_Val, std::allocator<ItemDataParser::ParseData> *_Al, std::_Nonscalar_ptr_iterator_tag __formal);
void __cdecl std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Xlen();
void __thiscall std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Insert_n(void *this, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _Last, int _Count, ItemDataParser::ParseData *_Dest);
void __thiscall std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::push_back(void *this, ItemDataParser::ParseData *__formal);
void __thiscall CRelocTable::AddGlobalVar(void *this, int _Val);
void __thiscall CRelocTable::AddConstString(int this, int _Val);
void __thiscall CRelocTable::AddFuncBind(int this, int a2, int a3);
int __stdcall CSymbolTable::GetTypeOfVar(int a1);
int __stdcall CSymbolTable::GetOffsetOfConst(int a1);
int __stdcall CSymbolTable::GetOffsetOfVar(int a1);
int __stdcall CSymbolTable::GetTypeOfFunc(int a1, int a2);
int __thiscall SFuncType::GetArgCount(void *this);
int __thiscall SFuncType::ToString(void *this, int a2);
int __stdcall CSymbolTable::GetNameOfVar(int a1);
int __stdcall CSymbolTable::GetTypeStringOfFunc(int a1);
int __thiscall CSymbolTable::GetLocalVarSize(int this, int a2);
void __cdecl GenCode_Error_Statement(int ap);
void *__thiscall IOPCode::_vector_deleting_destructor_(void *p, char a2);
void __cdecl GenCode_FirstChild_Generate(int a1);
void __cdecl GenCode_SecondChild_Generate(int a1);
void __cdecl GenCode_TwoChild_Generate(int a1);
int std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(...);
int __cdecl HandleMARK(int a1, int a2, int a3, int a4);
int __thiscall std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, int a2, char a3, std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Parg, std::pair<enum Item::ItemType::Type const ,unsigned char> *_Val);
int __thiscall std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(int ecx0, unsigned int a2);
int __thiscall std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::insert(void *this, int a2, std::pair<enum Item::ItemType::Type const ,unsigned char> *_Val);
int __thiscall std::list<IOPCode___std::allocator<IOPCode__>>::push_back(int this, LogBuffer **_Val);
int __cdecl GenCode_DataTypeToString(int _Val, int a2);
void __cdecl GenCode_If_Statement(int a1);
void __cdecl GenCode_If_Else_Statement(int a1);
void __cdecl GenCode_Switch_Statement(int a1);
void __cdecl GenCode_For_Statement(int a1);
void __cdecl GenCode_While_Statement(int a1);
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall GenCode_Break_Statement(LogBuffer *this);
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall GenCode_Continue_Statement(LogBuffer *this);
int __cdecl GenCode_Return_Statement(signed int _Val);
void __cdecl GenCode_Variable(int a1, LogBuffer *_Val);
void __cdecl GenCode_Init_Declaration(int a1);
void __cdecl GenCode_Normal_Declaration(LogBuffer *_Val);
int __cdecl GenCode_Array_Init(struct SNode *a1, int a2);
int __cdecl GenCode_Array_Initialize(struct SNode *a1);
int __cdecl GenCode_Array_Initialize2(struct SNode *a1);
int __cdecl GenCode_Function_Declaration(LogBuffer *_Val); // idb
void __cdecl GenCode_Function_Definition(LogBuffer *_Val);
int __cdecl GenCode_Constant_Expression(int a1, int a2);
void __cdecl GenCode_Assignment_Expression(int a1);
void __cdecl GenCode_OR_Expression(int a1);
void __cdecl GenCode_AND_Expression(int a1);
void __cdecl GenCode_NOT_Expression(int a1);
void __cdecl GenCode_Equality_Expression(int a1);
void __cdecl GenCode_NotEqual_Expression(int a1);
void __cdecl GenCode_LessThan_Expression(int a1);
void __cdecl GenCode_MoreThan_Expression(int a1);
void __cdecl GenCode_LessThanEqual_Expression(int a1);
void __cdecl GenCode_MoreThanEqual_Expression(int a1);
int __cdecl GenCode_Addition_Expression(LogBuffer *_Val, int); // idb
void __cdecl GenCode_Subtraction_Expression(int a1);
void __cdecl GenCode_Multiplication_Expression(int a1);
void __cdecl GenCode_Division_Expression(int a1);
void __cdecl GenCode_Reminder_Expression(int a1);
int __thiscall GenCode_Compound_Addition(CBuffer *this, int a2, int a3);
void __cdecl GenCode_Compound_Subtraction(int a1);
void __cdecl GenCode_Compound_Multiplication(int a1);
void __cdecl GenCode_Compound_Division(int a1);
void __cdecl GenCode_Compound_Reminder(int a1);
int __cdecl GenCode_PrefixIncrement(int a1, int a2);
int __cdecl GenCode_PrefixDecrement(int a1, int a2);
void __cdecl GenCode_Array_Indexing(int a1);
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__cdecl GenCode_Function_Call(int a1, int a2);
int __cdecl GenCode_PostfixIncrement(int, LogBuffer *_Val); // idb
int __cdecl GenCode_PostfixDecrement(int, LogBuffer *_Val); // idb
void *__thiscall Conversion::Conversion(void *this, int a2, int _Val);
signed int __cdecl Code_RM32_Offset(unsigned __int8 *a1, unsigned __int8 a2, int a3, int a4, __int32 a5, unsigned int a6);
int __cdecl Code_RM32(unsigned __int8 *, unsigned __int8, int, int, int, __int32); // idb
signed int __cdecl Code_RM32_CodeSize_Offset(int a1, int a2);
int __thiscall COP_call::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_mov::ToMachineCode(int this, int a2);
int __thiscall COP_mov::Addressing(int this, int a2);
int __thiscall COP_mov::Show(void *this, int (*a2)(const char *, ...));
signed int __stdcall COP_nop::ToMachineCode(int a1);
int __stdcall COP_nop::Show(int (__cdecl *a1)(_DWORD));
signed int __thiscall COP_add::ToMachineCode(int this, int a2);
int __thiscall COP_add::Show(void *this, int (*a2)(const char *, ...));
signed int __thiscall COP_sub::ToMachineCode(int this, int a2);
int __thiscall COP_add::Addressing(int this, int a2);
int __thiscall COP_sub::Show(void *this, int (*a2)(const char *, ...));
signed int __thiscall COP_imul::ToMachineCode(int this, int a2);
int __thiscall COP_imul::Show(void *this, int (*a2)(const char *, ...));
signed int __thiscall COP_idiv::ToMachineCode(int this, int a2);
int __thiscall COP_idiv::Show(void *this, int (*a2)(const char *, ...));
signed int __thiscall COP_push::ToMachineCode(int this, int a2);
int __thiscall COP_push::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_pop::ToMachineCode(int this, int a2);
int __thiscall COP_pop::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_jmp::ToMachineCode(int this, int a2);
int __thiscall COP_jmp::Addressing(int this, int a2);
int __thiscall COP_jmp::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_jcc::ToMachineCode(int this, int a2);
int __thiscall COP_jcc::Addressing(int this, int a2);
int __thiscall COP_jcc::Show(int this, int (*a2)(const char *, ...));
int __stdcall COP_jmpmark::ToMachineCode(int a1);
int __thiscall COP_jmpmark::Addressing(int this, int a2);
int __thiscall COP_jmpmark::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_cmp::ToMachineCode(int this, int a2);
int __thiscall COP_cmp::Addressing(int this, int a2);
int __thiscall COP_cmp::Show(int this, int (*a2)(const char *, ...));
signed int __stdcall COP_ret::ToMachineCode(int a1);
int __thiscall COP_nop::Addressing(int this, int a2);
int __stdcall COP_ret::Show(int (__cdecl *a1)(_DWORD));
signed int __thiscall COP_setcc::ToMachineCode(int this, int a2);
int __thiscall COP_setcc::Addressing(int this, int a2);
int __thiscall COP_setcc::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fld::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fld::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fadd::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fadd::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fsub::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fcomp::Addressing(int this, int a2);
int __thiscall COP_fsub::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fmul::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fmul::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fdiv::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fdiv::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fstp::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fstp::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_fcomp::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_fcomp::Show(int this, int (*a2)(const char *, ...));
signed int __stdcall COP_fnstsw_ax::ToMachineCode(int a1);
int __thiscall COP_fnstsw_ax::Addressing(int this, int a2);
int __stdcall COP_fnstsw_ax::Show(int (__cdecl *a1)(_DWORD));
signed int __thiscall COP_test_ah::ToMachineCode(int this, int a2);
int __thiscall COP_idiv::Addressing(int this, int a2);
int __thiscall COP_test_ah::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_itoa::ToMachineCode(int this, int a2);
int __thiscall COP_itoa::Addressing(int this, int a2);
int __thiscall COP_itoa::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_ftoa::ToMachineCode(int this, int a2);
int __thiscall COP_ftoa::Addressing(int this, int a2);
int __thiscall COP_ftoa::Show(int this, int (*a2)(const char *, ...));
signed int __thiscall COP_malloc::ToMachineCode(int this, int a2);
int __thiscall COP_malloc::Addressing(int this, int a2);
int __thiscall COP_malloc::Show(int this, int (*a2)(const char *, ...));
int __thiscall COP_free::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_free::Addressing(int this, int a2);
int __thiscall COP_free::Show(int this, int (*a2)(const char *, ...));
int __thiscall COP_strcpy::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_strcpy::Addressing(int this, int a2);
int __thiscall COP_strcpy::Show(int this, void (*a2)(const char *, ...));
signed int __thiscall COP_strcmp::ToMachineCode(int this, int a2);
int __thiscall COP_strcmp::Addressing(int this, int a2);
int __thiscall COP_strcmp::Show(int this, int (*a2)(const char *, ...));
int __thiscall COP_strlen::ToMachineCode(int this, unsigned __int8 *a2);
int __thiscall COP_strlen::Addressing(int this, int a2);
int __thiscall COP_strlen::Show(void *this, int (*a2)(const char *, ...));
int __thiscall COP_call::COP_call(int this, int a2, int a3);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4, int a5);
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4, int a5);
int __thiscall COP_add::COP_add(int this, int a2, int a3);
int __thiscall COP_add::COP_add(int this, int a2, int a3);
int __thiscall COP_sub::COP_sub(int this, int a2, int a3);
int __thiscall COP_sub::COP_sub(int this, int a2, int a3);
int __thiscall COP_imul::COP_imul(int this, int a2, int a3);
int __thiscall COP_idiv::COP_idiv(int this, int a2);
int __thiscall COP_push::COP_push(int this, int a2);
int __thiscall COP_pop::COP_pop(int this, int a2);
int __thiscall COP_jmp::COP_jmp(int this);
int __thiscall COP_jmp::COP_jmp(int this, int a2);
int __thiscall COP_jcc::COP_jcc(int this, int a2);
int __thiscall COP_jmpmark::COP_jmpmark(int this);
int __thiscall COP_jmpmark::COP_jmpmark(int this, int a2);
int __thiscall COP_cmp::COP_cmp(int this, int a2, int a3, int a4);
int __thiscall COP_cmp::COP_cmp(int this, int a2, char a3);
int __thiscall COP_cmp::COP_cmp(int this, int a2, int a3);
int __thiscall COP_setcc::COP_setcc(int this, int a2, signed int a3);
int __thiscall COP_fld::COP_fld(int this, int a2, int a3);
int __thiscall COP_fadd::COP_fadd(int this, int a2, int a3);
int __thiscall COP_fsub::COP_fsub(int this, int a2, int a3);
int __thiscall COP_fmul::COP_fmul(int this, int a2, int a3);
int __thiscall COP_fdiv::COP_fdiv(int this, int a2, int a3);
int __thiscall COP_fstp::COP_fstp(int this, int a2, int a3, char a4);
int __thiscall COP_fcomp::COP_fcomp(int this, int a2, int a3);
int __thiscall COP_test_ah::COP_test_ah(int this, char a2);
int __thiscall COP_itoa::COP_itoa(int this, int a2, int a3);
int __thiscall COP_ftoa::COP_ftoa(int this, int a2, int a3, int a4);
int __thiscall COP_malloc::COP_malloc(int this, int a2);
int __thiscall COP_free::COP_free(int this, int a2, int a3);
int __thiscall COP_strcpy::COP_strcpy(int this, int a2, int a3);
int __thiscall COP_strcpy::COP_strcpy(int this, int a2, int a3, int a4);
int __thiscall COP_strcmp::COP_strcmp(int this, int a2, int a3);
int __thiscall COP_strlen::COP_strlen(int this, int a2);
int __thiscall COP_strlen::COP_strlen(int this, int a2, int a3);
void *__thiscall COP_test_ah::_scalar_deleting_destructor_(void *p, char a2);
void __thiscall COP_itoa::_COP_itoa(void *this);
int __thiscall std::_Tree<std::_Tmap_traits<int_long_std::less<int>_std::allocator<std::pair<int_const_long>>_0>>::find(int this, int a2, int a3);
signed int __thiscall COP_call::ToMachineCode(int this, int a2);
void *__cdecl operator new(unsigned int size);
void __thiscall std::_String_base::_Xran(std::_String_base *this);
void __thiscall std::_String_base::_Xlen(std::_String_base *this);
void __thiscall std::ios_base::_Callfns(std::ios_base *this, std::ios_base::event ev);
void __thiscall std::ios_base::_Addstd(std::ios_base *this);
void __thiscall std::ios_base::_Tidy(std::ios_base *this);
void __thiscall std::ios_base::_ios_base(std::ios_base *this);
void __thiscall std::runtime_error::_runtime_error(std::runtime_error *this);
const char *__thiscall std::runtime_error::what(std::runtime_error *this);
void *__thiscall std::runtime_error::_vector_deleting_destructor_(std::runtime_error *this, unsigned int);
void __thiscall std::runtime_error::runtime_error(std::runtime_error *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Message);
void *__thiscall std::ios_base::failure::_scalar_deleting_destructor_(std::ios_base::failure *this, unsigned int);
void __thiscall std::ios_base::failure::_failure(std::ios_base::failure *this);
void __thiscall std::ios_base::clear(std::ios_base *this, int state, bool reraise);
void __thiscall std::runtime_error::runtime_error(std::runtime_error *this, std::runtime_error *__that);
void __thiscall std::ios_base::failure::failure(std::ios_base::failure *this, std::ios_base::failure *__that);
void __thiscall std::ios_base::_Init(std::ios_base *this);
void __thiscall std::_Mutex::_Mutex(std::_Mutex *this);
void __thiscall std::_Mutex::__Mutex(std::_Mutex *this);
void __thiscall std::_Mutex::_Lock(std::_Mutex *this);
void __thiscall std::_Mutex::_Unlock(std::_Mutex *this);
bool __cdecl std::uncaught_exception();
void *__cdecl operator new__(unsigned int count);
int __cdecl _Tolower_lk(int c, _Ctypevec *ploc);
_Ctypevec *__cdecl _Getctype(_Ctypevec *result);
int __cdecl _Tolower(int c, _Ctypevec *ploc);
void __thiscall std::_Init_locks::_Init_locks(std::_Init_locks *this);
void __thiscall std::_Init_locks::__Init_locks(std::_Init_locks *this);
void __thiscall std::_Lockit::_Lockit(std::_Lockit *this, int kind);
void __thiscall std::_Lockit::__Lockit(std::_Lockit *this);
void __thiscall std::_Fac_node::__Fac_node(std::_Fac_node *this);
void __cdecl _Deletegloballocale(void *ptr);
void __thiscall tidy_global(int this);
void __cdecl _Setgloballocale(void *ptr);
std::locale::facet *__thiscall std::locale::_Getfacet(std::locale *this, unsigned int id);
void __thiscall _Fac_tidy(int this);
void __thiscall std::locale::facet::_Register(std::locale::facet *this);
void __thiscall std::locale::_Locimp::__Locimp(std::locale::_Locimp *this);
void __thiscall std::_Locinfo::__Locinfo(std::_Locinfo *this);
void *__thiscall std::locale::_Locimp::_scalar_deleting_destructor_(std::locale::_Locimp *this, unsigned int);
void __thiscall std::locale::_Locimp::_Locimp(std::locale::_Locimp *this, bool transparent);
void __thiscall std::_Locinfo::_Locinfo(std::_Locinfo *this, const char *locname);
std::locale::_Locimp *__cdecl std::locale::_Init();
void __thiscall std::locale::locale(std::locale *this);
int __cdecl _Toupper_lk(int c, _Ctypevec *ploc);
int __cdecl _Toupper(int c, _Ctypevec *ploc);
void __thiscall std::_Init_cout::_Init_cout(std::_Init_cout *this);
void __cdecl std::_Nomemory();
void __cdecl _Mtxinit(_RTL_CRITICAL_SECTION *_Mtx);
void __cdecl _Mtxdst(_RTL_CRITICAL_SECTION *_Mtx);
void __cdecl _Mtxlock(_RTL_CRITICAL_SECTION *_Mtx);
void __cdecl _Mtxunlock(_RTL_CRITICAL_SECTION *_Mtx);
void __cdecl _Atexit(void (__cdecl *pf)());
void __thiscall _Init_atexit::__Init_atexit(_Init_atexit *this);
void __stdcall _JumpToContinuation(void *target, EHRegistrationNode *pRN);
void __stdcall _CallMemberFunction1(void *pthis, void *pmfn, void *pthat, int val2);
void __stdcall _UnwindNestedFrames(EHRegistrationNode *pRN, EHExceptionRecord *pExcept);
int __stdcall ReturnPoint(int pRN, int pExcept); // weak
_EXCEPTION_DISPOSITION __cdecl __CxxFrameHandler(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl CatchGuardHandler(EHExceptionRecord *pExcept, CatchGuardRN *pRN, void *pContext, void *__formal);
int __cdecl _CallSETranslator(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int CatchDepth, EHRegistrationNode *pMarkerRN);
int __cdecl ExceptionContinuation(int pExcept, int pRN, int pContext, int pDC, int pFuncInfo, int CatchDepth, int pMarkerRN); // weak
_EXCEPTION_DISPOSITION __cdecl TranslatorGuardHandler(EHExceptionRecord *pExcept, TranslatorGuardRN *pRN, void *pContext, void *__formal);
_s_TryBlockMapEntry *__cdecl _GetRangeOfTrysToCheck(_s_FuncInfo *pFuncInfo, int CatchDepth, int curState, unsigned int *pStart, unsigned int *pEnd);
FrameInfo *__cdecl _CreateFrameInfo(FrameInfo *pFrameInfo, void *pExceptionObject);
int __cdecl IsExceptionObjectToBeDestroyed(void *pExceptionObject);
void __cdecl _FindAndUnlinkFrame(FrameInfo *pFrameInfo);
void *__cdecl _CallCatchBlock2(EHRegistrationNode *pRN, _s_FuncInfo *pFuncInfo, void *handlerAddress, int CatchDepth, unsigned int NLGCode);
void __cdecl _global_unwind2(PVOID TargetFrame);
int __cdecl gu_return(PVOID TargetFrame); // weak
signed int __cdecl ___00003(int a1, int a2, int a3, int a4);
int __cdecl _local_unwind2(int a1, int a2);
int __cdecl _abnormal_termination();
void __cdecl _NLG_Notify1();
void __cdecl _NLG_Notify(unsigned int dwInCode);
int __cdecl _NLG_Go(int, int dwInCode); // weak
char *__cdecl strncpy(char *Dest, const char *Source, size_t Count);
void __cdecl report_failure();
void __fastcall __security_check_cookie(unsigned int cookie);
void __cdecl operator delete(void *p);
// int (__cdecl *__usercall onexit_lk<eax>(int (__cdecl *func)()<edi>))();
int __cdecl __onexitinit();
int (__cdecl *__cdecl _onexit(int (__cdecl *func)()))();
int __cdecl atexit(void (__cdecl *func)());
void __cdecl memmove(char *dst, char *src, unsigned int count);
int __cdecl CopyUnwindUp(int dst, int src, int count); // weak
int __cdecl ByteCopyDown(int dst, int src, int count); // weak
int __cdecl _snprintf(char *string, unsigned int count, const char *format);
void __cdecl strncmp(char *first, char *last, unsigned int count);
void __cdecl _purecall();
void __cdecl srand(unsigned int seed);
int __cdecl rand();
int found_bx(); // weak
char *__cdecl strchr(const char *Str, int Val);
int __cdecl __from_strstr_to_strchr(int Str, int Val); // weak
int __cdecl isalpha(int c);
int __cdecl isupper(int c);
int __cdecl islower(int c);
int __cdecl isdigit(int c);
int __cdecl isspace(int c);
int __cdecl isalnum(int c);
int __cdecl isprint(int c);
int __cdecl atol(const char *nptr);
int __cdecl atoi(const char *nptr);
void __stdcall _CxxThrowException(void *pExceptionObject, _s__ThrowInfo *pThrowInfo);
void __thiscall exception::exception(exception *this);
void __thiscall exception::exception(exception *this, const char *const *what);
void __thiscall exception::exception(exception *this, exception *that);
void __thiscall exception::_exception(exception *this);
const char *__thiscall exception::what(exception *this);
void __thiscall bad_cast::bad_cast(bad_cast *this, const char *_Message);
void __thiscall bad_cast::bad_cast(bad_cast *this, bad_cast *that);
void __thiscall bad_cast::_bad_cast(bad_cast *this);
void *__thiscall exception::_vector_deleting_destructor_(exception *this, unsigned int);
void *__thiscall bad_cast::_vector_deleting_destructor_(bad_cast *this, unsigned int);
void __thiscall type_info::_type_info(type_info *this);
void *__thiscall type_info::_scalar_deleting_destructor_(type_info *this, unsigned int);
int __cdecl _fclose_lk(_iobuf *str);
int __cdecl fclose(_iobuf *stream);
char *__cdecl strtok(char *string, const char *control);
char *__cdecl fgets(char *string, int count, _iobuf *str);
_iobuf *__cdecl _fsopen(const char *file, const char *mode, int shflag);
_iobuf *__cdecl fopen(const char *file, const char *mode);
void __cdecl operator delete__(void *p);
int __cdecl time(int *timeptr);
void *__cdecl operator new__(unsigned int count, std::nothrow_t *x);
void __cdecl operator delete(void *ptr, std::nothrow_t *__formal);
void *__cdecl operator new(unsigned int count, std::nothrow_t *__formal);
int __cdecl _L487(unsigned int size); // weak
// int (__cdecl *__usercall _L528<eax>(int a1<ebp>))(unsigned int);
void __cdecl _amsg_exit(int rterrnum);
int __cdecl loc_43E6CB(int rterrnum); // weak
void __cdecl fast_error_exit(int rterrnum);
unsigned int __cdecl _fwrite_lk(const void *buffer, unsigned int size, unsigned int num, _iobuf *stream);
unsigned int __cdecl fwrite(const void *buffer, unsigned int size, unsigned int count, _iobuf *stream);
int __cdecl fprintf(_iobuf *str, const char *format);
// int __cdecl _except_handler3(int, _EH3_EXCEPTION_REGISTRATION *TargetFrame, int); idb
int __cdecl _vsnprintf(char *string, unsigned int count, const char *format, char *ap);
int __cdecl _mbscmp(const char *s1, const char *s2);
int __cdecl _mbsnbcmp(const char *s1, const char *s2, unsigned int n);
char *__cdecl _mbsupr(char *string);
void __stdcall __ArrayUnwind(void *ptr, unsigned int size, int count, void (__thiscall *pDtor)(void *));
void __stdcall _eh_vector_destructor_iterator_(void *ptr, unsigned int size, int count, void (__thiscall *pDtor)(void *));
void __stdcall _eh_vector_constructor_iterator_(void *ptr, unsigned int size, int count, void (__thiscall *pCtor)(void *), void (__thiscall *pDtor)(void *));
long double __cdecl difftime(int b, int a);
void (__cdecl *__cdecl _cfltcvt_init())(long double *, char *, int, int, int);
void __cdecl _fpmath(int initPrecision);
char *__cdecl strstr(const char *Str, const char *SubStr);
char *__cdecl strlwr(char *string);
int __cdecl sprintf(char *string, const char *format);
void __cdecl _endthreadex(unsigned int retcode);
unsigned int __stdcall threadstartex(void *ptd);
unsigned int __cdecl _beginthreadex(void *security, unsigned int stacksize, unsigned int (__stdcall *initialcode)(void *), void *argument, unsigned int createflag, unsigned int *thrdaddr);
_iobuf *__cdecl __iob_func();
int __cdecl __initstdio();
int __cdecl __endstdio();
void __cdecl _lock_file(void *pf);
void __cdecl _lock_file2(int i, void *s);
void __cdecl _unlock_file(void *pf);
void __cdecl _unlock_file2(int i, void *s);
tm *__cdecl localtime(const int *ptime);
char *__cdecl _mbsnbcpy(char *dst, const char *src, unsigned int cnt);
char *__cdecl _mbsrchr(const char *str, unsigned int c);
// void __usercall xtoa(unsigned int val<eax>, char *buf<ecx>, unsigned int radix, int is_neg);
char *__cdecl itoa(int val, char *buf, int radix);
// void __userpurge x64toa(unsigned __int64 val, char *buf<eax>, unsigned int radix, int is_neg);
char *__cdecl _ui64toa(unsigned __int64 val, char *buf, int radix);
void __cdecl _splitpath(const char *path, char *drive, char *dir, char *fname, char *ext);
int __cdecl _flush(_iobuf *str);
int __cdecl _fflush_lk(_iobuf *str);
int __cdecl flsall(int flushflag);
int __cdecl fflush(_iobuf *stream);
int __cdecl _flushall();
int __cdecl fputs(const char *string, _iobuf *stream);
void *__cdecl memchr(const void *Buf, int Val, size_t MaxCount);
void __cdecl free(void *pBlock);
int __cdecl setvbuf(_iobuf *str, char *buffer, int type, unsigned int size);
int __cdecl _ungetc_lk(int ch, _iobuf *str);
int __cdecl ungetc(int ch, _iobuf *stream);
int __cdecl fputc(int ch, _iobuf *str);
int __cdecl fgetc(_iobuf *stream);
int __cdecl fgetpos(_iobuf *stream, __int64 *pos);
int __cdecl _fseek_lk(_iobuf *str, int offset, int whence);
int __cdecl fseek(_iobuf *stream, int offset, int whence);
int __cdecl fsetpos(_iobuf *stream, const __int64 *pos);
unsigned int __cdecl wcslen(const wchar_t *wcs);
void *__cdecl _heap_alloc(unsigned int size);
void *__cdecl _nh_malloc(unsigned int size, int nhFlag);
void *__cdecl malloc(unsigned int size);
int __cdecl _resetstkoflw();
char *__cdecl _mbschr(const char *string, unsigned int c);
double __cdecl ceil(double);
double __cdecl _ceil_pentium4(double _C);
long double __cdecl atof(const char *nptr);
unsigned int __cdecl _fread_lk(void *buffer, unsigned int size, unsigned int num, _iobuf *stream);
unsigned int __cdecl fread(void *buffer, unsigned int size, unsigned int count, _iobuf *stream);
int *__cdecl _errno();
unsigned int *__cdecl __doserrno();
void __cdecl _dosmaperr(unsigned int oserrno);
int __cdecl vsprintf(char *string, const char *format, char *ap);
int __cdecl _ftell_lk(_iobuf *str);
int __cdecl ftell(_iobuf *stream);
_iobuf *__cdecl _fdopen(int filedes, const char *mode);
void *__cdecl calloc(unsigned int num, unsigned int size);
// void __usercall _CIsqrt(unsigned __int64 a1<st0>);
double start(); // weak
// void __usercall _CIcos(unsigned __int64 a1<st0>);
double start_0(); // weak
double __cdecl floor(double);
double __cdecl _floor_pentium4(double _C);
// void __usercall _CIsin(unsigned __int64 a1<st0>);
double start_1(); // weak
void __cdecl strcspn(char *string, char *control);
double __cdecl atan(double);
void __cdecl _CIatan();
// void __usercall _CIatan_default(unsigned __int64 a1<st0>);
int _atan_default(); // weak
int start_2(); // weak
void __cdecl __crtExitProcess(int status);
void __cdecl _lockexit();
void __cdecl _unlockexit();
// void __usercall initterm(void (__cdecl **pfbegin)()<eax>, void (__cdecl **pfend)());
int __cdecl _cinit(int initFloatingPrecision);
void __cdecl doexit(int code, int quick, int retcaller);
void __cdecl exit(int code);
void __cdecl _exit(int code);
void __cdecl _cexit();
void __cdecl _c_exit();
size_t __cdecl strlen(const char *Str);
int __cdecl strcmp(const char *Str1, const char *Str2);
char *__cdecl strcpy(char *Dest, const char *Source);
char *__cdecl strcat(char *Dest, const char *Source);
int __cdecl copy_start(int Dest, int Source); // weak
unsigned int __cdecl strtoxl(const char *nptr, const char **endptr, int ibase, int flags);
int __cdecl strtol(const char *nptr, char **endptr, int ibase);
void *__cdecl realloc(void *pBlock, unsigned int newsize);
int __cdecl _callnewh(unsigned int size);
void __cdecl memcpy(char *dst, char *src, unsigned int count);
int __cdecl CopyUnwindUp_0(int dst, int src, int count); // weak
int __cdecl ByteCopyDown_0(int dst, int src, int count); // weak
// int __usercall TypeMatch<eax>(_s_HandlerType *pCatch<esi>, _s_CatchableType *pCatchable<edi>, _s_ThrowInfo *pThrow);
// int __usercall FrameUnwindFilter<eax>(_EXCEPTION_POINTERS *pExPtrs<eax>);
void __cdecl __FrameUnwindToState(EHRegistrationNode *pRN, void *pDC, _s_FuncInfo *pFuncInfo, int targetState);
void __cdecl __DestructExceptionObject(EHExceptionRecord *pExcept, char fThrowNotAllowed);
// void *__usercall AdjustPointer<eax>(void *pThis<eax>, PMD *pmd<ecx>);
bool __cdecl __uncaught_exception();
// void *__usercall CallCatchBlock<eax>(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, _s_FuncInfo *pFuncInfo, void *handlerAddress<ecx>, int CatchDepth, unsigned int NLGCode);
int __cdecl _L20061(int pExcept, int pRN, int pContext, int pFuncInfo, int CatchDepth, int NLGCode); // weak
// void __usercall BuildCatchObject(EHExceptionRecord *pExcept, void *pRN<edx>, _s_HandlerType *pCatch, _s_CatchableType *pConv<ecx>);
// void __usercall CatchIt(EHExceptionRecord *pExcept, EHRegistrationNode *pRN<esi>, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, _s_HandlerType *pCatch<ebx>, _s_CatchableType *pConv<ecx>, _s_TryBlockMapEntry *pEntry<edi>, int CatchDepth, EHRegistrationNode *pMarkerRN, char IsRethrow);
void __cdecl FindHandlerForForeignException(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int curState, int CatchDepth, EHRegistrationNode *pMarkerRN);
void __cdecl FindHandler(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, char recursive, int CatchDepth, EHRegistrationNode *pMarkerRN);
_EXCEPTION_DISPOSITION __cdecl __InternalCxxFrameHandler(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int CatchDepth, EHRegistrationNode *pMarkerRN, char recursive);
int __cdecl __crtLCMapStringA(unsigned int Locale, unsigned int dwMapFlags, const char *lpSrcStr, int cchSrc, char *lpDestStr, int cchDest, int code_page, int bError);
const unsigned __int16 *__cdecl __pctype_func();
int __cdecl __init_ctype();
unsigned int __cdecl ___lc_codepage_func();
unsigned int *__cdecl ___lc_handle_func();
int __cdecl _mtinitlocks();
void __cdecl _mtdeletelocks();
void __cdecl _unlock(int locknum);
int __cdecl _mtinitlocknum(int locknum);
void __cdecl _lock(int locknum);
int __cdecl ___setlc_active_func();
int *__cdecl ___unguarded_readlc_active_add_func();
void __cdecl __freetlocinfo(threadlocaleinfostruct *ptloci);
threadlocaleinfostruct *__cdecl _updatetlocinfo_lk();
int __cdecl __init_collate();
void __cdecl _strcats(char *outstr, int n);
int __cdecl __lc_strtolc(tagLC_STRINGS *names, const char *locale);
void __cdecl __lc_lctostr(char *locale, tagLC_STRINGS *names);
threadlocaleinfostruct *__cdecl __updatetlocinfo();
char *__cdecl setlocale_get_all();
char *__cdecl _expandlocale(char *expr, char *output, tagLC_ID *id, unsigned int *cp, int category);
// char *__usercall setlocale_set_cat<eax>(int category<esi>, const char *locale);
// char *__usercall setlocale_lk<eax>(int _category<edx>, const char *_locale<ecx>);
char *__cdecl setlocale(int _category, const char *_locale);
int __cdecl memcmp(const void *Buf1, const void *Buf2, size_t Size);
void *__cdecl memset(void *Dst, int Val, size_t Size);
void __cdecl abort();
unsigned int __stdcall __crtTlsAlloc(void (__stdcall *lpCallBack)(void *));
void __cdecl _mtterm();
void __cdecl _initptd(_tiddata *ptd);
_tiddata *__cdecl _getptd();
void __stdcall _freefls(void *data);
void __cdecl _freeptd(_tiddata *ptd);
int __cdecl _mtinit();
void __cdecl terminate(); // idb
void __cdecl _inconsistency();
void __cdecl unk_443977(); // weak
void __stdcall _CallSettingFrame(unsigned int funclet, unsigned int pRN, unsigned int dwInCode);
unsigned int __cdecl __security_init_cookie();
void __cdecl __security_error_handler(int code, void *data);
unsigned int __cdecl _msize(void *pblock);
int __cdecl _flsbuf(int ch, _iobuf *str);
// void __usercall write_char(char ch<al>, _iobuf *f<ecx>, int *pnumwritten<esi>);
// void __usercall write_multi_char(char ch, int num, _iobuf *f, int *pnumwritten<eax>);
// void __usercall write_string(char *string<ecx>, int len, _iobuf *f<edi>, int *pnumwritten<eax>);
int __cdecl _output(_iobuf *stream, const char *format, char *argptr);
int __cdecl loc_444223(int stream, int format, int argptr); // weak
int __cdecl __isctype_mt(threadlocaleinfostruct *ptloci, int c, int mask);
int __stdcall __CxxUnhandledExceptionFilter(_EXCEPTION_POINTERS *pPtrs);
int __cdecl __CxxSetUnhandledExceptionFilter();
LPTOP_LEVEL_EXCEPTION_FILTER __cdecl __CxxRestoreUnhandledExceptionFilter();
int __cdecl _close_lk(int fh);
int __cdecl _close(int fh);
void __cdecl _freebuf(_iobuf *stream);
int __cdecl _filbuf(_iobuf *str);
_iobuf *__cdecl _openfile(const char *filename, const char *mode, int shflag, _iobuf *str);
_iobuf *__cdecl _getstream();
void __cdecl _NMSG_WRITE(int rterrnum);
void __cdecl _FF_MSGBANNER();
int __cdecl _XcptFilter(unsigned int xcptnum, _EXCEPTION_POINTERS *pxcptinfoptrs);
char *__cdecl _wincmdln();
int __cdecl _setenvp();
// void __usercall parse_cmdline(char *cmdstart<eax>, char **argv, char *args<ecx>, int *numargs, int *numchars<esi>);
int __cdecl _setargv();
void *__cdecl __crtGetEnvironmentStringsA();
int __cdecl _ioinit();
void __cdecl _RTC_Initialize();
void __cdecl _RTC_Terminate(); // idb
int __cdecl __heap_select();
int __cdecl _heap_init(int mtflag);
int __cdecl _write_lk(int fh, const void *buf, unsigned int cnt);
int __cdecl _write(int fh, const void *buf, unsigned int cnt);
int __cdecl _stbuf(_iobuf *str);
void __cdecl _ftbuf(int flag, _iobuf *str);
int __cdecl _ValidateEH3RN(_EH3_EXCEPTION_REGISTRATION *pRN);
// int __usercall CPtoLCID<eax>(int codepage<eax>);
int __cdecl setSBCS();
unsigned int __cdecl setSBUpLow();
threadmbcinfostruct *__cdecl __updatetmbcinfo();
int __cdecl setmbcp_lk(int codepage);
int __cdecl _setmbcp(int codepage);
int __cdecl __initmbctable();
void __cdecl _forcdecpt(char *buffer);
void __cdecl _cropzeros(char *buf);
int __cdecl _positive(long double *arg);
void __cdecl _fassign(int flag, char *argument, char *number);
// void __usercall shift(char *s<eax>, int dist<edi>);
// char *__usercall cftoe2<eax>(char *buf<ebx>, int ndec, int caps, _strflt *pflt<eax>, char g_fmt);
char *__cdecl _cftoe(long double *pvalue, char *buf, int ndec, int caps);
// char *__usercall cftof2<eax>(char *buf, int ndec, _strflt *pflt<eax>, char g_fmt);
char *__cdecl _cftof(long double *pvalue, char *buf, int ndec);
char *__cdecl _cftog(long double *pvalue, char *buf, int ndec, int caps);
void __cdecl _cfltcvt(long double *arg, char *buffer, int format, int precision, int caps);
unsigned int __cdecl _setdefaultprecision();
int __cdecl _ms_p5_test_fdiv();
int __cdecl _ms_p5_mp_test_fdiv();
int __cdecl _fcloseall();
void __cdecl tzset_lk();
// void __usercall cvtdate(int trantype, int datetype, int year, int month<eax>, int week, int dayofweek, int date, int hour<ecx>, int min, int sec, int msec);
// int __usercall isindst_lk<eax>(tm *tb<ebx>);
void __cdecl __tzset();
int __cdecl _isindst(tm *tb);
tm *__cdecl gmtime(const int *timp);
void __cdecl strrchr(char *string, char chr);
int __cdecl _commit(int filedes);
int __cdecl __sbh_heap_init(unsigned int threshold);
tagHeader *__cdecl __sbh_find_block(void *pvAlloc);
void __cdecl __sbh_free_block(tagHeader *pHeader, void *pvAlloc);
tagHeader *__cdecl __sbh_alloc_new_region();
int __cdecl __sbh_alloc_new_group(tagHeader *pHeader);
int __cdecl __sbh_resize_block(tagHeader *pHeader, void *pvAlloc, int intNew);
void *__cdecl __sbh_alloc_block(int intSize);
void __cdecl _getbuf(_iobuf *str);
__int64 __cdecl _ftelli64_lk(_iobuf *str);
__int64 __cdecl _ftelli64(_iobuf *stream);
int __cdecl _lseek_lk(int fh, int pos, int mthd);
int __cdecl _lseek(int fh, int pos, int mthd);
int __cdecl _fseeki64_lk(_iobuf *str, __int64 offset, int whence);
int __cdecl _fseeki64(_iobuf *stream, __int64 offset, int whence);
void __cdecl __libm_error_support(void *arg1, void *arg2, void *retval, error_types input_tag);
int __cdecl has_osfxsr_set();
int __cdecl __sse2_available_init();
long double __cdecl _ceil_default(long double x);
_flt *__cdecl _fltin2(_flt *flt, const char *str, int len_ignore, int scale_ignore, int radix_ignore);
int __cdecl _read_lk(int fh, void *buf, unsigned int cnt);
int __cdecl _read(int fh, void *buf, unsigned int cnt);
// int __usercall _trandisp1<eax>(int a1<edx>, __int16 a2<cx>, int a3<ebp>, __int16 a4<fpstat>, double _ST7<st0>, char a6, char a7, char a8);
// int __usercall _trandisp2<eax>(int a1<edx>, int a2<ebp>, __int16 a3<fpstat>, double _ST6<st1>, double a5<st0>, char a6, char a7, char a8);
void __cdecl _startTwoArgErrorHandling(unsigned int savCW, unsigned int ret_addr, __int64 param1, __int64 param2);
void __cdecl _startOneArgErrorHandling(unsigned int savCW, unsigned int ret_addr, __int64 param1);
// double __usercall _twoToTOS<st0>(double a1<st0>);
// double __usercall _convertTOStoQNaN<st0>(int a1<eax>, double result<st0>);
double __fastcall _fload_withFB(int a1, int a2);
int __cdecl _checkTOS_withFB(int a1, int a2);
void __cdecl _check_overflow_exit();
int check_overflow_start(); // weak
long double __cdecl _floor_default(long double x);
void __cdecl _raise_exc(_FPIEEE_RECORD *prec, unsigned int *pcw, int flags, int opcode, long double *parg1, long double *presult);
int __cdecl _handle_exc(unsigned int flags, long double *presult, unsigned int cw);
void __cdecl _set_errno(int matherrtype);
int __cdecl _errcode(unsigned int flags);
long double __cdecl _umatherr(int type, unsigned int opcode, long double arg1, long double arg2, long double retval, unsigned int cw);
long double __cdecl _handle_qnan1(unsigned int opcode, long double x, unsigned int savedcw);
long double __cdecl _except1(int flags, int opcode, long double arg, long double result, unsigned int cw);
long double __cdecl _set_exp(long double x, int exp);
int __cdecl _sptype(long double x);
long double __cdecl _decomp(long double x, int *pexp);
unsigned int __cdecl _statfp();
unsigned int __cdecl _clrfp();
unsigned int __cdecl _ctrlfp(unsigned int newctrl, unsigned int _mask);
void __cdecl _set_statfp(unsigned int sw);
void __cdecl _CIatan_pentium4();
int _atan_pentium4(); // weak
double start_3(); // weak
int __cdecl _ValidateRead(const void *data, unsigned int size);
int __cdecl _ValidateWrite(void *data, unsigned int size);
int __cdecl _ValidateExecute(int (__stdcall *code)());
int __cdecl __ansicp(int lcid);
char *__cdecl __convertcp(int fromCP, int toCP, const char *lpSrcStr, int *pcchSrc, char *lpDestStr, int cchDest);
int __cdecl __crtGetStringTypeA(unsigned int dwInfoType, const char *lpSrcStr, int cchSrc, unsigned __int16 *lpCharType, int code_page, int lcid, int bError);
int __cdecl __getlocaleinfo(int lc_type, unsigned int localehandle, unsigned int fieldtype, void *address);
int __stdcall _crtInitCritSecNoSpinCount(_RTL_CRITICAL_SECTION *lpCriticalSection, unsigned int dwSpinCount);
int __cdecl __crtInitCritSecAndSpinCount(_RTL_CRITICAL_SECTION *lpCriticalSection, unsigned int dwSpinCount);
// int __usercall get_lc_time<eax>(__lc_time_data *lc_time<esi>);
void __cdecl __free_lc_time(__lc_time_data *lc_time);
int __cdecl __init_time();
void __cdecl __free_lconv_num(lconv *l);
int __cdecl __init_numeric();
void __cdecl __free_lconv_mon(lconv *l);
int __cdecl __init_monetary();
int __cdecl TranslateName(tagLOCALETAB *lpTable, int high, const char **ppchName);
unsigned int __cdecl GetLcidFromDefault();
// int __usercall ProcessCodePage<eax>(char *lpCodePageStr<ecx>);
int __cdecl TestDefaultCountry(unsigned int lcid);
int __stdcall crtGetLocaleInfoA(unsigned int lcid, unsigned int lctype, char *lpdata, int cchdata);
// unsigned int __usercall LcidFromHexString<eax>(char *lpHexString<edx>);
// int __usercall GetPrimaryLen<eax>(char *pchLanguage<edx>);
int __stdcall CountryEnumProc(char *lpLcidString);
int __cdecl TestDefaultLanguage(unsigned int lcid, int bTestPrimary);
int __stdcall LangCountryEnumProc(char *lpLcidString);
int __stdcall LanguageEnumProc(char *lpLcidString);
BOOL __cdecl GetLcidFromCountry();
int __cdecl GetLcidFromLangCountry();
BOOL __cdecl GetLcidFromLanguage();
int __cdecl __get_qualified_locale(tagLC_STRINGS *const lpInStr, tagLC_ID *lpOutId, tagLC_STRINGS *lpOutStr);
void __cdecl strpbrk(char *string, char *control);
// _XCPT_ACTION *__usercall siglookup<eax>(int signum<esi>, _XCPT_ACTION *pxcptacttab<edx>);
int __cdecl raise(int signum);
int __cdecl __crtMessageBoxA(const char *lpText, const char *lpCaption, unsigned int uType);
int __cdecl _isatty(int fh);
int __cdecl __wctomb_mt(threadlocaleinfostruct *ptloci, char *s, wchar_t wchar);
int __cdecl wctomb(char *s, wchar_t wchar);
int __cdecl _set_osfhnd(int fh, int value);
int __cdecl _free_osfhnd(int fh);
int __cdecl _get_osfhandle(int fh);
int __cdecl _lock_fhandle(int fh);
void __cdecl _unlock_fhandle(int fh);
int __cdecl _alloc_osfhnd();
// int __usercall tsopen_lk<eax>(int *punlock_flag, int *pfh, const char *path, int oflag, int shflag<ecx>, int pmode);
int __cdecl _sopen(const char *path, int oflag, int shflag);
int __cdecl x_ismbbtype(unsigned int tst, int cmask, int kmask);
int __cdecl _ismbblead(unsigned int tst);
__int64 __cdecl _lseeki64_lk(int fh, __int64 pos, int mthd);
__int64 __cdecl _lseeki64(int fh, __int64 pos, int mthd);
int __cdecl __tolower_mt(threadlocaleinfostruct *ptloci, int c);
int __cdecl tolower(int c);
int __cdecl _ZeroTail(unsigned int *man, int nbit);
int __cdecl _IncMan(unsigned int *man, int nbit);
int __cdecl _RoundMan(unsigned int *man, int precision);
void __cdecl _CopyMan(unsigned int *dest, unsigned int *src);
int __cdecl _IsZeroMan(unsigned int *man);
void __cdecl _ShrMan(unsigned int *man, int n);
INTRNCVT_STATUS __cdecl _ld12cvt(_LDBL12 *pld12, void *d, FpFormatDescriptor *format);
INTRNCVT_STATUS __cdecl _ld12tod(_LDBL12 *pld12, DOUBLE *d);
INTRNCVT_STATUS __cdecl _ld12tof(_LDBL12 *pld12, FLOAT *f);
void __cdecl _atodbl(DOUBLE *d, char *str);
void __cdecl _atoflt(FLOAT *f, char *str);
void __cdecl _fptostr(char *buf, int digits, _strflt *pflt);
void __cdecl __dtold(_LDOUBLE *pld, long double *px);
_strflt *__cdecl _fltout2(DOUBLE x, _strflt *flt, char *resultstr);
void __cdecl _fptrap();
// unsigned int __usercall abstract_cw<eax>(unsigned __int16 cw<bx>);
// unsigned __int16 __usercall hw_cw<ax>(unsigned int abstr<ebx>);
unsigned int __cdecl _control87(unsigned int newctrl, unsigned int mask);
unsigned int __cdecl _controlfp(unsigned int newctrl, unsigned int mask);
char *__cdecl _getenv_lk(const char *option);
long double __cdecl _frnd(long double x);
unsigned int __cdecl __strgtold12(_LDBL12 *pld12, const char **p_end_ptr, const char *str, int mult12, int scale, int decpt, int implicit_E);
void __cdecl _87except(int opcode, _exception *exc, unsigned __int16 *pcw16);
int __cdecl __crtGetLocaleInfoW(unsigned int Locale, unsigned int LCType, unsigned __int16 *lpLCData, int cchData, int code_page);
int __cdecl __crtGetLocaleInfoA(unsigned int Locale, unsigned int LCType, char *lpLCData, int cchData, int code_page);
void __cdecl __ascii_stricmp(void *dst, void *src);
int __cdecl _stricmp(const char *dst, const char *src);
int __cdecl _strnicmp(const char *dst, const char *src, unsigned int count);
int __cdecl _chsize_lk(int filedes, int size);
int __cdecl __addl(unsigned int x, unsigned int y, unsigned int *sum);
void __cdecl __add_12(_LDBL12 *x, _LDBL12 *y);
void __cdecl __shl_12(_LDBL12 *p);
void __cdecl __shr_12(_LDBL12 *p);
void __cdecl __mtold12(char *manptr, unsigned int manlen, _LDBL12 *ld12);
int __cdecl _I10_OUTPUT(_LDOUBLE ld, int ndigits, unsigned int output_flags, _FloatOutStruct *fos);
int __cdecl _mbsnbicoll(const char *s1, const char *s2, unsigned int n);
int __cdecl __wtomb_environ();
void __cdecl __ld12mul(_LDBL12 *px, _LDBL12 *py);
void __cdecl __multtenpow12(_LDBL12 *pld12, int pow, unsigned int mult12);
void __cdecl __ascii_strnicmp(char *first, char *last, unsigned int count);
int __cdecl _setmode_lk(int fh, int mode);
// int __usercall strncnt<eax>(const char *string<eax>, int cnt);
int __cdecl __crtCompareStringA(unsigned int Locale, unsigned int dwCmpFlags, const char *lpString1, int cchCount1, const char *lpString2, int cchCount2, int code_page);
// int __usercall findenv<eax>(const char *name, int len<edi>);
// char **__usercall copy_environ<eax>(char **oldenviron<edi>);
int __cdecl __crtsetenv(char **poption, const int primary);
char *__cdecl _strdup(const char *string);
// BOOL __stdcall AcceptEx(SOCKET sListenSocket, SOCKET sAcceptSocket, PVOID lpOutputBuffer, DWORD dwReceiveDataLength, DWORD dwLocalAddressLength, DWORD dwRemoteAddressLength, LPDWORD lpdwBytesReceived, LPOVERLAPPED lpOverlapped);
// void __stdcall GetAcceptExSockaddrs(PVOID lpOutputBuffer, DWORD dwReceiveDataLength, DWORD dwLocalAddressLength, DWORD dwRemoteAddressLength, struct sockaddr **LocalSockaddr, LPINT LocalSockaddrLength, struct sockaddr **RemoteSockaddr, LPINT RemoteSockaddrLength);
void __thiscall ATL::CSimpleArray<HINSTANCE_____ATL::CSimpleArrayEqualHelper<HINSTANCE____>>::RemoveAll(ATL::CSimpleArray<HINSTANCE__ *,ATL::CSimpleArrayEqualHelper<HINSTANCE__ *> > *this);
void __thiscall ATL::_ATL_BASE_MODULE70::_ATL_BASE_MODULE70(ATL::_ATL_BASE_MODULE70 *this);
void __thiscall ATL::CAtlBaseModule::_CAtlBaseModule(ATL::CAtlBaseModule *this);
void __thiscall ATL::CAtlBaseModule::CAtlBaseModule(ATL::CAtlBaseModule *this);
// void __stdcall RtlUnwind(PVOID TargetFrame, PVOID TargetIp, PEXCEPTION_RECORD ExceptionRecord, PVOID ReturnValue);
// void __usercall _L76279(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthAgentDispatch__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L76310(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseAgentZone_CAuthAgentDispatch__AAE_NPAUPktDD___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L76623(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseUnifiedCharSelectAck_CAuthAgentDispatch__AAE_NPAUPktUnifiedCharSelectAck___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L76679();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetDispatchTable_CAuthAgentDispatch__SAAAVCSingleDispatch__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L76713(int a1<ebp>);
// void __usercall _L76714(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseDBGetData_CAuthAgentDispatch__AAE_NPAUPktDD___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L76897(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SendStartSession_CAuthAgentDispatch__SA_NPAVCAuthClientDispatch__KPBDKG_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71307(int a1<ebp>);
// void __usercall _L71308(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthClientDispatch__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71640(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseJapanAuthAccount_CAuthClientDispatch__AAE_NPAUPktJPAU___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71733(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CAuthClientDispatch__QAE_AAVCSession___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L71752();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetDispatchTable_CAuthClientDispatch__SAAAVCMultiDispatch__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71782(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__UserMove_CAuthClientDispatch__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71803(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseAuthAccount_CAuthClientDispatch__AAE_NPAUPktAU___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71837(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseCharCreate_CAuthClientDispatch__AAE_NPAUPktCC___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L67561(int a1<ebp>);
// void __usercall _L67797(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthorizeThread__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
int __cdecl _L67932();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Copy___basic_string_DU__char_traits_D_std__V__allocator_D_2__std__IAEXII_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L36267(int a1<ebp>);
// void __usercall _L36565(int a1<ebp>);
// void __usercall _L36566(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthorizeUser__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37102(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CSyncronizedObjectQueue__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L37504();
void __cdecl _L37506();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CAuthorizeUser__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37597(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCAuthInfo__V__allocator_PAVCAuthInfo___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37734(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0logic_error_std__QAE_ABV01__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37975(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__enqueue_CSyncronizedObjectQueue__QAE_NPAVCAuthInfo___N_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L66371(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CItemCreator__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L66444(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Create_CItemCreator__QAEPAVCItem_Item__G_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L27422(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CheckMasterPassword_CMasterPassword__QAE_NPBD0ABUsockaddr_in___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L28711(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_KV__allocator_K_std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L29264(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CMasterPassword__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L29562(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__LoadMasterPassword_CMasterPassword__QAE_NPBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L72888(int a1<ebp>);
// void __usercall _L72903(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CRylAuthServer__EAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L73199();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CRylAuthServer__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L74857(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CreateDispatch___CPoolDispatchFactory_VCAuthAgentDispatch____UAEPAVCPacketDispatch__AAVCSession___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L75232(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCCommand__V__allocator_PAVCCommand___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L75581(int a1<ebp>);
// void __usercall _L75582(int a1<ebp>);
// void __usercall _L75584(int a1<ebp>);
// void __usercall _L75673(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ConnectToDBAgent_CRylAuthServer__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L75756(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Add_CCommandProcess__QAEXPAVCCommand___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L35318(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SendUserMove_AuthSendPacket__YA_NKK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31082(int a1<ebp>);
// void __usercall _L31083(int a1<ebp>);
// void __usercall _L31084(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CRylServerDispatch__IAE_AAVCSession__K_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31374(int a1<ebp>);
// void __usercall _L31375(int a1<ebp>);
// void __usercall _L31376(int a1<ebp>);
// void __usercall _L31377(int a1<ebp>);
// void __usercall _L31378(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CRylServerDispatch__MAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31462(int a1<ebp>);
// void __usercall _L31463(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParsePacket_CRylServerDispatch__UAE_NQADPAK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31527(int a1<ebp>);
// void __usercall _L31528(int a1<ebp>);
// void __usercall _L31529(int a1<ebp>);
// void __usercall _L31530(int a1<ebp>);
// void __usercall _L31531(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Dispatch_CRylServerDispatch__MAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L36060(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_U__pair_KK_std__V__allocator_U__pair_KK_std___2__std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_U__pair_KK_std__V__allocator_U__pair_KK_std___2__std__IAEXViterator_12_IABU__pair_KK_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_U__pair_KK_std__V__allocator_U__pair_KK_std___2__std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L36970(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ProcessTooManyPacket_CRylServerDispatch__MAEXAAVCBufferQueue___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L21962(int a1<ebp>);
// void __usercall _L28098(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Send_CSession__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31042(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__RemoveAllRequest_CServerRequest__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L32990(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KURequestInfo_CServerRequest__U__less_K_std__V__allocator_U__pair___CBKURequestInfo_CServerRequest___std___4__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33835(int a1<ebp>);
int _ehhandler__AddRequest_CServerRequest__QAEKPAVCPacketDispatch__0KP6AX0_Z_Z(); // weak
// void __usercall _L34199(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__RemoveTimeoutRequest_CServerRequest__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34374(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__PopRequest_CServerRequest__AAEPAVCPacketDispatch__K_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34786(int a1<ebp>);
// void __usercall _L34787(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CServerRequest__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L35155(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CServerRequest__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L35380();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CServerRequest__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L68679(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__InitGameServer_CServerSetup__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L70491(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CServerSetup__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L70603();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CServerSetup__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33907(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__RemoveDispatch_CMultiDispatch__QAEXK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L32058(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KPAVCPacketDispatch__U__less_K_std__V__allocator_U__pair___CBKPAVCPacketDispatch___std___3__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33707(int a1<ebp>);
int _ehhandler__SetDispatch_CMultiDispatch__QAE_NKPAVCPacketDispatch___Z(); // weak
// void __usercall _L34158(int a1<ebp>);
// void __usercall _L34159(int a1<ebp>);
// void __usercall _L34160(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CMultiDispatch__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34708(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CMultiDispatch__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L26840(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SetDispatch_CSingleDispatch__QAEXPAVCPacketDispatch___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L26991(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetDispatch_CSingleDispatch__AAEPAVCPacketDispatch__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L26958(int a1<ebp>);
// void __usercall _L26959(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CSingleDispatch__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34154(int a1<ebp>);
// void __usercall _L34929(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SendCompleted_CSession__QAEXHK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34748(int a1<ebp>);
// void __usercall _L34749(int a1<ebp>);
// void __usercall _L34750(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CSession__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34796(int a1<ebp>);
// void __usercall _L34797(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Process_CSession__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L35068(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1sentry___basic_ostream_DU__char_traits_D_std___std__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler_____6U__char_traits_D_std___std__YAAAV__basic_ostream_DU__char_traits_D_std___0_AAV10_PBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L25292(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CThreadMgr__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L71873(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CProcessThread__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L72048(int a1<ebp>);
// void __usercall _L72049(int a1<ebp>);
int _ehhandler__InitializeFramework_CServerWindowFramework__IAE_NPAUHINSTANCE____PBDHH_Z(); // weak
// void __usercall _L73345(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CServerWindowFramework__MAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L73889(int a1<ebp>);
// void __usercall _L73890(int a1<ebp>);
// void __usercall _L73891(int a1<ebp>);
// void __usercall _L73892(int a1<ebp>);
// void __usercall _L73893(int a1<ebp>);
// void __usercall _L73894(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CServerWindowFramework__IAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L74363(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCThread__V__allocator_PAVCThread___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_KV__allocator_K_std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L36500(int a1<ebp>);
// void __usercall _L36858(int a1<ebp>);
// void __usercall _L36859(int a1<ebp>);
// void __usercall _L37718(int a1<ebp>);
// void __usercall _L37787(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__PendingAccept_CListener__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37983(int a1<ebp>);
// void __usercall _L37984(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CListener__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L38041(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CListener__QAE_NAAVINET_Addr__K_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37389(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetAcceptPendingNum_CIOCPNet__QAEKXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L36022(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CIOCPNet__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Copy____Tree_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___std__IAEPAU_Node____Tree_nod_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___2_PAU342_0_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L40421(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert____Tree_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___std__IAE_AViterator_12__NPAU_Node____Tree_nod_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___2_ABU__pair_QAVCSessionPolicy__I_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0___Tree_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___std__QAE_ABV01__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L42565(int a1<ebp>);
// void __usercall _L42566(int a1<ebp>);
// void __usercall _L42567(int a1<ebp>);
// void __usercall _L42568(int a1<ebp>);
// void __usercall _L42569(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CIOCPNet__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L42891(int a1<ebp>);
// void __usercall _L42892(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__AddListener_CIOCPNet__QAE_NPAVCSessionPolicy__PBDGKPAVCValidateConnection___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L42924(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Connect_CIOCPNet__QAE_NPAVCSessionPolicy__PBDG_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L43025(int a1<ebp>);
// void __usercall _L43026(int a1<ebp>);
// void __usercall _L43413(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Destroy_CIOCPNet__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L43926(int a1<ebp>);
// void __usercall _L43927(int a1<ebp>);
// void __usercall _L43928(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CIOCPNet__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L30276(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__PrintAllTime_CPerformanceCheck__QAE_NPBD_N_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31546(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KUInstrument_CPerformanceCheck__U__less_K_std__V__allocator_U__pair___CBKUInstrument_CPerformanceCheck___std___4__00_std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33301(int a1<ebp>);
// void __usercall _L33302(int a1<ebp>);
// void __usercall _L33303(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CPerformanceCheck__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33834(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CPerformanceCheck__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L34059();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CPerformanceCheck__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L30175(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Release_CPoolBufferFactory__UAEXPAVCBuffer___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31294(int a1<ebp>);
// void __usercall _L31295(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Create_CPoolBufferFactory__UAEPAVCBuffer__I_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L32203(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_PAV__pool_Udefault_user_allocator_new_delete_boost___boost__V__allocator_PAV__pool_Udefault_user_allocator_new_delete_boost___boost___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L32957(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CPoolBufferFactory__IAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33292(int a1<ebp>);
// void __usercall _L33293(int a1<ebp>);
// void __usercall _L30077(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__DeleteOverlapped_CStreamOverlappedFactory__UAEXPAVCOverlapped___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31963(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_UStringCMD_CConsoleCMDFactory__V__allocator_UStringCMD_CConsoleCMDFactory___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UStringCMD_CConsoleCMDFactory__V__allocator_UStringCMD_CConsoleCMDFactory___std___std__IAEXViterator_12_IABUStringCMD_CConsoleCMDFactory___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L24594(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CExceptionReport__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L24651();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CExceptionReport__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L31314(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert____Tree_V___Tmap_traits_IPAVCMsgProc__U__less_I_std__V__allocator_U__pair___CBIPAVCMsgProc___std___3__0A__std___std__IAE_AViterator_12__NPAU_Node____Tree_nod_V___Tmap_traits_IPAVCMsgProc__U__less_I_std__V__allocator_U__pair___CBIPAVCMsgProc___std___3__0A__std___2_ABU__pair___CBIPAVCMsgProc___2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L32123(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CMsgProcessMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L33665(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0__ctype_D_std__QAE_PBF_NI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L36227(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Getcat___codecvt_DDH_std__SAIPAPBVfacet_locale_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L37405(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler____use_facet_V__codecvt_DDH_std___std__YAABV__codecvt_DDH_0_ABVlocale_0__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L34778(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0__codecvt_DDH_std__QAE_I_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L35996(int a1<ebp>);
// void __usercall _L36184(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__widen___basic_ios_DU__char_traits_D_std___std__QBEDD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L39752(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__overflow___basic_filebuf_DU__char_traits_D_std___std__MAEHH_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L39457(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0__basic_ostream_DU__char_traits_D_std___std__QAE_PAV__basic_streambuf_DU__char_traits_D_std___1__N_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L42331(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1__basic_filebuf_DU__char_traits_D_std___std__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L32808(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_IUInternalTimerData_CTimerProcMgr__U__less_I_std__V__allocator_U__pair___CBIUInternalTimerData_CTimerProcMgr___std___4__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L35285(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CTimerProcMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L28779(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ClearAll_CCommandProcess__IAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L29488(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CCommandProcess__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L29587(int a1<ebp>);
// void __usercall _L29588(int a1<ebp>);
// void __usercall _L30557(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ProcessAll_CCommandProcess__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L67894(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__InternalProcess_CSessionMgr__AAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L66755(int a1<ebp>);
// void __usercall _L66756(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CreateSession_CSessionMgr__QAEPAVCSession__AAVCSessionPolicy___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L67192(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCSession__V__allocator_PAVCSession___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L68170(int a1<ebp>);
// void __usercall _L68171(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Destroy_CSessionMgr__QAEXK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L68425(int a1<ebp>);
// void __usercall _L68426(int a1<ebp>);
// void __usercall _L68427(int a1<ebp>);
// void __usercall _L68428(int a1<ebp>);
// void __usercall _L68429(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CSessionMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L89138(int a1<ebp>);
// void __usercall _L89139(int a1<ebp>);
// void __usercall _L89140(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CreateTempItem_CItemFactory_Item__QAEPAVCItem_2_ABUItemInfo_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L93485(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits__KVCItemOwnerInfo_Item__U__less__K_std__V__fast_pool_allocator_U__pair__KVCItemOwnerInfo_Item___std__Udefault_user_allocator_new_delete_boost__Vwin32_mutex_pool_details_4__0CA__boost___0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L97984();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CItemFactory_Item__SAAAV12_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L107143(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_W4Type_ItemType_Item__EU__less_W4Type_ItemType_Item___std__V__allocator_U__pair___CBW4Type_ItemType_Item__E_std___5__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UItemInfo_Item__V__allocator_UItemInfo_Item___std___std__IAEXViterator_12_IABUItemInfo_Item___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L111868(int a1<ebp>);
// void __usercall _L111869(int a1<ebp>);
// void __usercall _L111870(int a1<ebp>);
// void __usercall _L111871(int a1<ebp>);
// void __usercall _L111872(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CItemMgr_Item__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L112079(int a1<ebp>);
// void __usercall _L112080(int a1<ebp>);
// void __usercall _L112081(int a1<ebp>);
// void __usercall _L112082(int a1<ebp>);
// void __usercall _L112083(int a1<ebp>);
// void __usercall _L112084(int a1<ebp>);
// void __usercall _L112085(int a1<ebp>);
// void __usercall _L112086(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__LoadItemProtoType_CItemMgr_Item__QAE_NPBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L114404(int a1<ebp>);
// void __usercall _L114405(int a1<ebp>);
// void __usercall _L114406(int a1<ebp>);
// void __usercall _L114407(int a1<ebp>);
// void __usercall _L114408(int a1<ebp>);
// void __usercall _L114409(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CItemMgr_Item__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L115124();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CItemMgr_Item__SAAAV12_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L88413(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SpliceInFreeBuffer_CGameLog__AAEXAAV__list_PAULogBuffer__V__allocator_PAULogBuffer___std___std___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L86372(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CLogSaveThread__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L86475(int a1<ebp>);
// void __usercall _L86476(int a1<ebp>);
// void __usercall _L86477(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CGameLog__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L87030(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAULogBuffer__V__allocator_PAULogBuffer___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L88536(int a1<ebp>);
// void __usercall _L88537(int a1<ebp>);
// void __usercall _L88538(int a1<ebp>);
// void __usercall _L88539(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CGameLog__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
unsigned int __cdecl _L88616();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CGameLog__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L89373(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CEquipment_Item__IAE_ABUItemInfo_1__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L94802(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_W4Type_ItemType_Item__V__allocator_W4Type_ItemType_Item___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_W4Type_ItemType_Item__V__allocator_W4Type_ItemType_Item___std___std__IAEXViterator_12_IABW4Type_ItemType_Item___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_W4Type_ItemType_Item__V__allocator_W4Type_ItemType_Item___std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L96006(int a1<ebp>);
unsigned int __cdecl _L101940();
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CItemType_Item__SAAAV12_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L90947(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_PADV__allocator_PAD_std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UColumnInfo_CTokenlizedFile__V__allocator_UColumnInfo_CTokenlizedFile___std___std__IAEXViterator_12_IABUColumnInfo_CTokenlizedFile___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_UColumnInfo_CTokenlizedFile__V__allocator_UColumnInfo_CTokenlizedFile___std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_PADV__allocator_PAD_std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L92349(int a1<ebp>);
// void __usercall _L92350(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CTokenlizedFile__QAE_PBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UParseData_ItemDataParser__V__allocator_UParseData_ItemDataParser___std___std__IAEXViterator_12_IABUParseData_ItemDataParser___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_UParseData_ItemDataParser__V__allocator_UParseData_ItemDataParser___std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__put___basic_ostream_DU__char_traits_D_std___std__QAEAAV12_D_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L128495(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KPAVCCell__U__less_K_std__V__allocator_U__pair___CBKPAVCCell___std___3__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L133050(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CDuelCellManager__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L133223(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CDuelCellManager__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L124905(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_UTriggerMsg_Quest__V__allocator_UTriggerMsg_Quest___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Construct_n___vector_UTriggerMsg_Quest__V__allocator_UTriggerMsg_Quest___std___std__QAEXIABUTriggerMsg_Quest___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L130280(int a1<ebp>);
// void __usercall _L130281(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CQuestMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L132475(int a1<ebp>);
// void __usercall _L132476(int a1<ebp>);
// void __usercall _L132477(int a1<ebp>);
// void __usercall _L132478(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CQuestMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L124387(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_HV__allocator_H_std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall _L82335(int a1<ebp>);
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CFSM__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC);
// void __usercall sub_44F650(int a1<ebp>);
// void __usercall sub_44F680(int a1<ebp>);
// void __usercall sub_44F6A0(int a1<ebp>);
// void __usercall sub_44F6AB(int a1<ebp>);
// void __usercall sub_44F6B6(int a1<ebp>);
// void __usercall sub_44F6C1(int a1<ebp>);
// void __usercall sub_44F6CC(int a1<ebp>);
// void __usercall sub_44F6D7(int a1<ebp>);
// void __usercall sub_44F6E2(int a1<ebp>);
// void __usercall sub_44F6ED(int a1<ebp>);
// void __usercall sub_44F6F8(int a1<ebp>);
// void __usercall sub_44F703(int a1<ebp>);
// void __usercall sub_44F70E(int a1<ebp>);
// void __usercall sub_44F719(int a1<ebp>);
// void __usercall sub_44F724(int a1<ebp>);
// void __usercall sub_44F72F(int a1<ebp>);
// void __usercall sub_44F750(int a1<ebp>);
// void __usercall sub_44F75B(int a1<ebp>);
// void __usercall sub_44F766(int a1<ebp>);
// void __usercall sub_44F78B(int a1<ebp>);
// void __usercall sub_44F796(int a1<ebp>);
// void __usercall sub_44F7A1(int a1<ebp>);
// void __usercall sub_44F7AC(int a1<ebp>);
// void __usercall sub_44F7DB(int a1<ebp>);
// void __usercall sub_44F7E6(int a1<ebp>);
// void __usercall sub_44F7F1(int a1<ebp>);
// void __usercall sub_44F7FC(int a1<ebp>);
// void __usercall sub_44F807(int a1<ebp>);
// void __usercall sub_44F812(int a1<ebp>);
// void __usercall sub_44F83B(int a1<ebp>);
// void __usercall sub_44F846(int a1<ebp>);
// void __usercall sub_44F851(int a1<ebp>);
// void __usercall sub_44F85C(int a1<ebp>);
// void __usercall sub_44F867(int a1<ebp>);
// void __usercall sub_44F872(int a1<ebp>);
// void __usercall sub_44F87D(int a1<ebp>);
// void __usercall sub_44F8A0(int a1<ebp>);
// void __usercall sub_44F8AB(int a1<ebp>);
// void __usercall sub_44F8B6(int a1<ebp>);
// void __usercall sub_44F8C1(int a1<ebp>);
// void __usercall sub_44F8F0(int a1<ebp>);
// void __usercall sub_44F91B(int a1<ebp>);
// void __usercall sub_44F926(int a1<ebp>);
// void __usercall sub_44F931(int a1<ebp>);
// void __usercall sub_44F93C(int a1<ebp>);
// void __usercall sub_44F947(int a1<ebp>);
// void __usercall sub_44F952(int a1<ebp>);
// void __usercall sub_44F95D(int a1<ebp>);
// void __usercall sub_44F980(int a1<ebp>);
// void __usercall sub_44F9A0(int a1<ebp>);
// void __usercall sub_44F9AB(int a1<ebp>);
// void __usercall sub_44F9B6(int a1<ebp>);
// void __usercall sub_44F9C1(int a1<ebp>);
// void __usercall sub_44F9CC(int a1<ebp>);
// void __usercall sub_44F9D7(int a1<ebp>);
// void __usercall sub_44F9E2(int a1<ebp>);
// void __usercall sub_44FA10(int a1<ebp>);
// void __usercall sub_44FA1B(int a1<ebp>);
// void __usercall sub_44FA26(int a1<ebp>);
// void __usercall sub_44FA31(int a1<ebp>);
// void __usercall sub_44FA3C(int a1<ebp>);
// void __usercall sub_44FA60(int a1<ebp>);
// void __usercall sub_44FA6B(int a1<ebp>);
// void __usercall sub_44FA76(int a1<ebp>);
// void __usercall sub_44FA81(int a1<ebp>);
// void __usercall sub_44FA8C(int a1<ebp>);
// void __usercall sub_44FA97(int a1<ebp>);
// void __usercall sub_44FAA2(int a1<ebp>);
// void __usercall sub_44FAEB(int a1<ebp>);
// void __usercall sub_44FAF6(int a1<ebp>);
// void __usercall sub_44FB01(int a1<ebp>);
// void __usercall sub_44FB0C(int a1<ebp>);
// void __usercall sub_44FB17(int a1<ebp>);
// void __usercall sub_44FB22(int a1<ebp>);
// void __usercall sub_44FB2D(int a1<ebp>);
// void __usercall sub_44FB38(int a1<ebp>);
// void __usercall sub_44FB43(int a1<ebp>);
// void __usercall sub_44FB4E(int a1<ebp>);
// void __usercall sub_44FB59(int a1<ebp>);
// void __usercall sub_44FB70(int a1<ebp>);
// void __usercall sub_44FB7B(int a1<ebp>);
// void __usercall sub_44FB86(int a1<ebp>);
// void __usercall sub_44FB91(int a1<ebp>);
// void __usercall sub_44FBA7(int a1<ebp>);
// void __usercall sub_44FBB2(int a1<ebp>);
// void __usercall sub_44FBBD(int a1<ebp>);
// void __usercall sub_44FBC8(int a1<ebp>);
// void __usercall sub_44FBD3(int a1<ebp>);
// void __usercall sub_44FBF0(int a1<ebp>);
// void __usercall sub_44FBFB(int a1<ebp>);
// void __usercall sub_44FC10(int a1<ebp>);
// void __usercall sub_44FC1B(int a1<ebp>);
// void __usercall sub_44FC26(int a1<ebp>);
// void __usercall sub_44FC31(int a1<ebp>);
// void __usercall sub_44FC3C(int a1<ebp>);
// void __usercall sub_44FC60(int a1<ebp>);
// void __usercall sub_44FC6B(int a1<ebp>);
// void __usercall sub_44FC76(int a1<ebp>);
// void __usercall sub_44FC81(int a1<ebp>);
// void __usercall sub_44FC8C(int a1<ebp>);
// void __usercall sub_44FC97(int a1<ebp>);
// void __usercall sub_44FCA2(int a1<ebp>);
// void __usercall sub_44FCAD(int a1<ebp>);
// void __usercall sub_44FCD0(int a1<ebp>);
// void __usercall sub_44FCDB(int a1<ebp>);
// void __usercall sub_44FCE6(int a1<ebp>);
// void __usercall sub_44FCF1(int a1<ebp>);
// void __usercall sub_44FCFC(int a1<ebp>);
// void __usercall sub_44FD07(int a1<ebp>);
// void __usercall sub_44FD12(int a1<ebp>);
// void __usercall sub_44FD1D(int a1<ebp>);
// void __usercall sub_44FD28(int a1<ebp>);
// void __usercall sub_44FD33(int a1<ebp>);
// void __usercall sub_44FD3E(int a1<ebp>);
// void __usercall sub_44FD49(int a1<ebp>);
// void __usercall sub_44FD54(int a1<ebp>);
// void __usercall sub_44FD5F(int a1<ebp>);
// void __usercall sub_44FD6A(int a1<ebp>);
// void __usercall sub_44FD75(int a1<ebp>);
// void __usercall sub_44FD80(int a1<ebp>);
// void __usercall sub_44FD8B(int a1<ebp>);
// void __usercall sub_44FD96(int a1<ebp>);
// void __usercall sub_44FDA1(int a1<ebp>);
// void __usercall sub_44FDAC(int a1<ebp>);
// void __usercall sub_44FDB7(int a1<ebp>);
// void __usercall sub_44FDC2(int a1<ebp>);
// void __usercall sub_44FDE0(int a1<ebp>);
// void __usercall sub_44FDEB(int a1<ebp>);
// void __usercall sub_44FDF6(int a1<ebp>);
// void __usercall sub_44FE01(int a1<ebp>);
// void __usercall sub_44FE17(int a1<ebp>);
// void __usercall sub_44FE22(int a1<ebp>);
// void __usercall sub_44FE2D(int a1<ebp>);
// void __usercall sub_44FE38(int a1<ebp>);
// void __usercall sub_44FE4E(int a1<ebp>);
// void __usercall sub_44FE59(int a1<ebp>);
// void __usercall sub_44FE64(int a1<ebp>);
// void __usercall sub_44FE6F(int a1<ebp>);
// void __usercall sub_44FE85(int a1<ebp>);
// void __usercall sub_44FE90(int a1<ebp>);
// void __usercall sub_44FE9B(int a1<ebp>);
// void __usercall sub_44FEA6(int a1<ebp>);
// void __usercall sub_44FEBC(int a1<ebp>);
// void __usercall sub_44FEC7(int a1<ebp>);
// void __usercall sub_44FED2(int a1<ebp>);
// void __usercall sub_44FEDD(int a1<ebp>);
// void __usercall sub_44FEE8(int a1<ebp>);
// void __usercall sub_44FF00(int a1<ebp>);
// void __usercall sub_44FF0B(int a1<ebp>);
// void __usercall sub_44FF16(int a1<ebp>);
// void __usercall sub_44FF21(int a1<ebp>);
// void __usercall sub_44FF37(int a1<ebp>);
// void __usercall sub_44FF42(int a1<ebp>);
// void __usercall sub_44FF4D(int a1<ebp>);
// void __usercall sub_44FF58(int a1<ebp>);
// void __usercall sub_44FF70(int a1<ebp>);
// void __usercall sub_44FF7B(int a1<ebp>);
// void __usercall sub_44FF86(int a1<ebp>);
// void __usercall sub_44FF91(int a1<ebp>);
// void __usercall sub_44FFB0(int a1<ebp>);
// void __usercall sub_44FFBB(int a1<ebp>);
// void __usercall sub_44FFC6(int a1<ebp>);
// void __usercall sub_44FFD1(int a1<ebp>);
// void __usercall sub_44FFE7(int a1<ebp>);
// void __usercall sub_44FFF2(int a1<ebp>);
// void __usercall sub_44FFFD(int a1<ebp>);
// void __usercall sub_450020(int a1<ebp>);
// void __usercall sub_45002B(int a1<ebp>);
// void __usercall sub_450036(int a1<ebp>);
// void __usercall sub_450050(int a1<ebp>);
// void __usercall sub_45005B(int a1<ebp>);
// void __usercall sub_450066(int a1<ebp>);
// void __usercall sub_450071(int a1<ebp>);
// void __usercall sub_45007C(int a1<ebp>);
// void __usercall sub_4500A0(int a1<ebp>);
// void __usercall sub_4500AB(int a1<ebp>);
// void __usercall sub_4500B6(int a1<ebp>);
// void __usercall sub_4500C1(int a1<ebp>);
// void __usercall sub_4500CC(int a1<ebp>);
// void __usercall sub_4500D7(int a1<ebp>);
// void __usercall sub_4500E2(int a1<ebp>);
// void __usercall sub_4500ED(int a1<ebp>);
// void __usercall sub_4500F8(int a1<ebp>);
// void __usercall sub_450110(int a1<ebp>);
// void __usercall _L11871(int a1<ebp>);
// void __usercall _L8700(int a1<ebp>);
// void __usercall _L8663(int a1<ebp>);
// void __usercall _L8664(int a1<ebp>);
// void __usercall _L8665(int a1<ebp>);
// void __usercall _L12841(int a1<ebp>);
// void __usercall _L12842(int a1<ebp>);
// void __usercall _L12843(int a1<ebp>);
// void __usercall _L13072(int a1<ebp>);
// void __usercall _L13087(int a1<ebp>);
// void __usercall _L13088(int a1<ebp>);
// void __usercall _L13089(int a1<ebp>);
// void __usercall _L13090(int a1<ebp>);
// void __usercall _L13091(int a1<ebp>);
// void __usercall _L13116(int a1<ebp>);
// void __usercall _L13117(int a1<ebp>);
void __cdecl _E1();
void __cdecl _E4();
UINT __cdecl _E1_0();
const unsigned int __cdecl _E1_1();
UINT __cdecl _E3();
UINT __cdecl _E5();
void __cdecl _E1_2();
void __cdecl _E7();
void __cdecl _E5_0();
void __cdecl _E5_1();
void __cdecl _E5_2();
void __cdecl _E7_1();
void __cdecl _E5_3();
void __cdecl _E5_4();
void __cdecl _E8();
void __cdecl _E1_3();
void __cdecl _E5_5();
int __cdecl _E5_6();
void __cdecl _E5_7();
void __cdecl _E5_8();
void __cdecl _E5_9();
void __cdecl _E1_4();
void __cdecl _E1_5();
void __cdecl _E1_6();
void __cdecl _E4_0();
void __cdecl _E7_2();
void __cdecl _E10();
void __cdecl _E1_7();
void __cdecl _E4_1();
void __cdecl _E5_10();
void __cdecl _E2(); // idb
void __cdecl _E2_0(); // idb
void __cdecl _E2_1(); // idb
void __cdecl Instance(); // idb
void __cdecl _E2_2(); // idb
void __cdecl _E2_3(); // idb
void __cdecl _E2_4(); // idb
void __cdecl _E2_5(); // idb
void __cdecl _E5_11(); // idb
void __cdecl _E2_6(); // idb
void __cdecl _E2_7(); // idb
void __cdecl _E2_8(); // idb
bool __cdecl _E2_9();
void __cdecl _E2_10(); // idb
void __cdecl _E2_11(); // idb
void __cdecl _E2_12(); // idb
void __cdecl obj(); // idb
void __cdecl _E6(); // idb
void __cdecl _E6_0(); // idb
void __cdecl _E8_0(); // idb
void __cdecl _E6_1(); // idb
void __cdecl _E6_2(); // idb
void __cdecl obj(); // idb
void __cdecl _E6_3(); // idb
void __cdecl _E8_1(); // idb
void __cdecl obj(); // idb
void __cdecl obj(); // idb
void __cdecl obj(); // idb
void __cdecl _E6_4(); // idb
void __cdecl obj(); // idb
void __cdecl _E6_5(); // idb
void __cdecl _E2_13(); // idb
void __cdecl _E6_6(); // idb
void __cdecl _E6_7(); // idb
void __cdecl _E6_8(); // idb
void __cdecl _E6_9(); // idb
void __cdecl _E2_14(); // idb
void __cdecl _E2_15(); // idb
void __cdecl _E2_16(); // idb
void __cdecl _E8_2(); // idb
void __cdecl _E5_12(); // idb
void __cdecl _E2_17(); // idb
void __cdecl _E2_18(); // idb
void __cdecl _E5_13(); // idb
void __cdecl _E6_10(); // idb
// BOOL __stdcall GetUserNameA(LPSTR lpBuffer, LPDWORD pcbBuffer);
// HGDIOBJ __stdcall GetStockObject(int i);
// HFONT __stdcall CreateFontA(int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, DWORD bItalic, DWORD bUnderline, DWORD bStrikeOut, DWORD iCharSet, DWORD iOutPrecision, DWORD iClipPrecision, DWORD iQuality, DWORD iPitchAndFamily, LPCSTR pszFaceName);
// BOOL __stdcall DeleteObject(HGDIOBJ ho);
// COLORREF __stdcall SetBkColor(HDC hdc, COLORREF color);
// DWORD __stdcall GetLastError();
// DWORD __stdcall WaitForMultipleObjects(DWORD nCount, const HANDLE *lpHandles, BOOL bWaitAll, DWORD dwMilliseconds);
// HANDLE __stdcall CreateSemaphoreA(LPSECURITY_ATTRIBUTES lpSemaphoreAttributes, LONG lInitialCount, LONG lMaximumCount, LPCSTR lpName);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall ReleaseSemaphore(HANDLE hSemaphore, LONG lReleaseCount, LPLONG lpPreviousCount);
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);
// HANDLE __stdcall CreateMutexA(LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCSTR lpName);
// BOOL __stdcall SetEvent(HANDLE hEvent);
// DWORD __stdcall GetCurrentThreadId();
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// HANDLE __stdcall CreateEventA(LPSECURITY_ATTRIBUTES lpEventAttributes, BOOL bManualReset, BOOL bInitialState, LPCSTR lpName);
// void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// BOOL __stdcall SetEnvironmentVariableA(LPCSTR lpName, LPCSTR lpValue);
// BOOL __stdcall SetEndOfFile(HANDLE hFile);
// int __stdcall GetLocaleInfoW(LCID Locale, LCTYPE LCType, LPWSTR lpLCData, int cchData);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// BOOL __stdcall IsValidCodePage(UINT CodePage);
// BOOL __stdcall IsValidLocale(LCID Locale, DWORD dwFlags);
// BOOL __stdcall EnumSystemLocalesA(LOCALE_ENUMPROCA lpLocaleEnumProc, DWORD dwFlags);
// LCID __stdcall GetUserDefaultLCID();
// BOOL __stdcall GetStringTypeW(DWORD dwInfoType, LPCWSTR lpSrcStr, int cchSrc, LPWORD lpCharType);
// BOOL __stdcall GetStringTypeA(LCID Locale, DWORD dwInfoType, LPCSTR lpSrcStr, int cchSrc, LPWORD lpCharType);
// BOOL __stdcall IsBadCodePtr(FARPROC lpfn);
// BOOL __stdcall IsBadReadPtr(const void *lp, UINT_PTR ucb);
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// BOOL __stdcall IsBadWritePtr(LPVOID lp, UINT_PTR ucb);
// BOOL __stdcall FlushFileBuffers(HANDLE hFile);
// DWORD __stdcall GetTimeZoneInformation(LPTIME_ZONE_INFORMATION lpTimeZoneInformation);
// UINT __stdcall GetOEMCP();
// BOOL __stdcall VirtualFree(LPVOID lpAddress, SIZE_T dwSize, DWORD dwFreeType);
// HANDLE __stdcall HeapCreate(DWORD flOptions, SIZE_T dwInitialSize, SIZE_T dwMaximumSize);
// BOOL __stdcall HeapDestroy(HANDLE hHeap);
// DWORD __stdcall GetFileType(HANDLE hFile);
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// void __stdcall GetLocalTime(LPSYSTEMTIME lpSystemTime);
// BOOL __stdcall CreateDirectoryA(LPCSTR lpPathName, LPSECURITY_ATTRIBUTES lpSecurityAttributes);
// DWORD __stdcall GetFileAttributesA(LPCSTR lpFileName);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// LPSTR __stdcall GetCommandLineA();
// BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// DWORD __stdcall GetFileSize(HANDLE hFile, LPDWORD lpFileSizeHigh);
// DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
// LONG __stdcall InterlockedCompareExchange(volatile LONG *Destination, LONG Exchange, LONG Comperand);
// DWORD __stdcall GetCurrentProcessId();
// DWORD __stdcall GetModuleFileNameA(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
// HANDLE __stdcall CreateIoCompletionPort(HANDLE FileHandle, HANDLE ExistingCompletionPort, ULONG_PTR CompletionKey, DWORD NumberOfConcurrentThreads);
// LONG __stdcall InterlockedIncrement(volatile LONG *lpAddend);
// LONG __stdcall InterlockedDecrement(volatile LONG *lpAddend);
// void __stdcall Sleep(DWORD dwMilliseconds);
// void __stdcall GetSystemInfo(LPSYSTEM_INFO lpSystemInfo);
// BOOL __stdcall FreeLibrary(HMODULE hLibModule);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter);
// DWORD __stdcall FormatMessageA(DWORD dwFlags, LPCVOID lpSource, DWORD dwMessageId, DWORD dwLanguageId, LPSTR lpBuffer, DWORD nSize, va_list *Arguments);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// SIZE_T __stdcall VirtualQuery(LPCVOID lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength);
// BOOL __stdcall IsBadStringPtrA(LPCSTR lpsz, UINT_PTR ucchMax);
// BOOL __stdcall GetComputerNameA(LPSTR lpBuffer, LPDWORD nSize);
// HLOCAL __stdcall LocalFree(HLOCAL hMem);
// HANDLE __stdcall GetCurrentProcess();
// HANDLE __stdcall GetCurrentThread();
// UINT __stdcall GetPrivateProfileIntA(LPCSTR lpAppName, LPCSTR lpKeyName, INT nDefault, LPCSTR lpFileName);
// DWORD __stdcall GetPrivateProfileStringA(LPCSTR lpAppName, LPCSTR lpKeyName, LPCSTR lpDefault, LPSTR lpReturnedString, DWORD nSize, LPCSTR lpFileName);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// int __stdcall MultiByteToWideChar(UINT CodePage, DWORD dwFlags, LPCSTR lpMultiByteStr, int cbMultiByte, LPWSTR lpWideCharStr, int cchWideChar);
// BOOL __stdcall GetQueuedCompletionStatus(HANDLE CompletionPort, LPDWORD lpNumberOfBytesTransferred, PULONG_PTR lpCompletionKey, LPOVERLAPPED *lpOverlapped, DWORD dwMilliseconds);
// BOOL __stdcall PostQueuedCompletionStatus(HANDLE CompletionPort, DWORD dwNumberOfBytesTransferred, ULONG_PTR dwCompletionKey, LPOVERLAPPED lpOverlapped);
// UINT __stdcall GetACP();
// int __stdcall GetLocaleInfoA(LCID Locale, LCTYPE LCType, LPSTR lpLCData, int cchData);
// BOOL __stdcall GetVersionExA(LPOSVERSIONINFOA lpVersionInformation);
// void __stdcall RaiseException(DWORD dwExceptionCode, DWORD dwExceptionFlags, DWORD nNumberOfArguments, const ULONG_PTR *lpArguments);
// int __stdcall CompareStringA(LCID Locale, DWORD dwCmpFlags, PCNZCH lpString1, int cchCount1, PCNZCH lpString2, int cchCount2);
// int __stdcall CompareStringW(LCID Locale, DWORD dwCmpFlags, PCNZWCH lpString1, int cchCount1, PCNZWCH lpString2, int cchCount2);
// DWORD __stdcall GetTickCount();
// BOOL __stdcall PulseEvent(HANDLE hEvent);
// BOOL __stdcall DeleteFileA(LPCSTR lpFileName);
// void __stdcall ExitProcess(UINT uExitCode);
// void __stdcall GetSystemTimeAsFileTime(LPFILETIME lpSystemTimeAsFileTime);
// void __stdcall GetStartupInfoA(LPSTARTUPINFOA lpStartupInfo);
// void __stdcall ExitThread(DWORD dwExitCode);
// HANDLE __stdcall CreateThread(LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, DWORD dwCreationFlags, LPDWORD lpThreadId);
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
// BOOL __stdcall VirtualProtect(LPVOID lpAddress, SIZE_T dwSize, DWORD flNewProtect, PDWORD lpflOldProtect);
// LPVOID __stdcall VirtualAlloc(LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// BOOL __stdcall TerminateProcess(HANDLE hProcess, UINT uExitCode);
// LPVOID __stdcall HeapReAlloc(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem, SIZE_T dwBytes);
// int __stdcall LCMapStringA(LCID Locale, DWORD dwMapFlags, LPCSTR lpSrcStr, int cchSrc, LPSTR lpDestStr, int cchDest);
// int __stdcall LCMapStringW(LCID Locale, DWORD dwMapFlags, LPCWSTR lpSrcStr, int cchSrc, LPWSTR lpDestStr, int cchDest);
// BOOL __stdcall GetCPInfo(UINT CodePage, LPCPINFO lpCPInfo);
// DWORD __stdcall TlsAlloc();
// void __stdcall SetLastError(DWORD dwErrCode);
// BOOL __stdcall TlsFree(DWORD dwTlsIndex);
// BOOL __stdcall TlsSetValue(DWORD dwTlsIndex, LPVOID lpTlsValue);
// LPVOID __stdcall TlsGetValue(DWORD dwTlsIndex);
// BOOL __stdcall QueryPerformanceCounter(LARGE_INTEGER *lpPerformanceCount);
// SIZE_T __stdcall HeapSize(HANDLE hHeap, DWORD dwFlags, LPCVOID lpMem);
// HANDLE __stdcall GetStdHandle(DWORD nStdHandle);
// LONG __stdcall UnhandledExceptionFilter(struct _EXCEPTION_POINTERS *ExceptionInfo);
// BOOL __stdcall FreeEnvironmentStringsA(LPCH);
// LPCH __stdcall GetEnvironmentStrings();
// BOOL __stdcall FreeEnvironmentStringsW(LPWCH);
// LPWCH __stdcall GetEnvironmentStringsW();
// UINT __stdcall SetHandleCount(UINT uNumber);
// BSTR __stdcall SysAllocString(const OLECHAR *psz);
// void __stdcall SysFreeString(BSTR bstrString);
// HRESULT __stdcall GetErrorInfo(ULONG dwReserved, IErrorInfo **pperrinfo);
// BOOL __stdcall Shell_NotifyIconA(DWORD dwMessage, PNOTIFYICONDATAA lpData);
// LONG __stdcall SetWindowLongA(HWND hWnd, int nIndex, LONG dwNewLong);
// BOOL __stdcall PostMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// BOOL __stdcall GetCursorPos(LPPOINT lpPoint);
// BOOL __stdcall SetForegroundWindow(HWND hWnd);
// BOOL __stdcall TrackPopupMenu(HMENU hMenu, UINT uFlags, int x, int y, int nReserved, HWND hWnd, const RECT *prcRect);
// BOOL __stdcall DestroyIcon(HICON hIcon);
// BOOL __stdcall KillTimer(HWND hWnd, UINT_PTR uIDEvent);
// int __stdcall GetSystemMetrics(int nIndex);
// HANDLE __stdcall GetPropA(HWND hWnd, LPCSTR lpString);
// LRESULT __stdcall SendMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// HWND __stdcall FindWindowA(LPCSTR lpClassName, LPCSTR lpWindowName);
// BOOL __stdcall DestroyMenu(HMENU hMenu);
// HMENU __stdcall GetSubMenu(HMENU hMenu, int nPos);
// HMENU __stdcall LoadMenuA(HINSTANCE hInstance, LPCSTR lpMenuName);
// LRESULT __stdcall DefWindowProcA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// void __stdcall PostQuitMessage(int nExitCode);
// BOOL __stdcall SetPropA(HWND hWnd, LPCSTR lpString, HANDLE hData);
// HWND __stdcall CreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam);
// ATOM __stdcall RegisterClassA(const WNDCLASSA *lpWndClass);
// HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
// BOOL __stdcall DestroyWindow(HWND hWnd);
// LRESULT __stdcall DispatchMessageA(const MSG *lpMsg);
// BOOL __stdcall TranslateMessage(const MSG *lpMsg);
// BOOL __stdcall IsDialogMessageA(HWND hDlg, LPMSG lpMsg);
// BOOL __stdcall GetMessageA(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax);
// HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
// int _wsprintfA(LPSTR, LPCSTR, ...);
// BOOL __stdcall UnregisterClassA(LPCSTR lpClassName, HINSTANCE hInstance);
// UINT __stdcall RegisterWindowMessageA(LPCSTR lpString);
// HBRUSH __stdcall GetSysColorBrush(int nIndex);
// DWORD __stdcall GetSysColor(int nIndex);
// BOOL __stdcall UpdateWindow(HWND hWnd);
// BOOL __stdcall SetWindowTextA(HWND hWnd, LPCSTR lpString);
// int __stdcall GetWindowTextA(HWND hWnd, LPSTR lpString, int nMaxCount);
// LRESULT __stdcall CallWindowProcA(WNDPROC lpPrevWndFunc, HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// DWORD __stdcall timeGetTime();
// MMRESULT __stdcall timeGetDevCaps(LPTIMECAPS ptc, UINT cbtc);
// MMRESULT __stdcall timeBeginPeriod(UINT uPeriod);
// int __stdcall WSARecv(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesRecvd, LPDWORD lpFlags, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
// int __stdcall WSASend(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesSent, DWORD dwFlags, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
// int __stdcall WSASendTo(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesSent, DWORD dwFlags, const struct sockaddr *lpTo, int iTolen, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
// int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall WSACleanup();
// SOCKET __stdcall WSASocketA(int af, int type, int protocol, LPWSAPROTOCOL_INFOA lpProtocolInfo, GROUP g, DWORD dwFlags);
// int __stdcall shutdown(SOCKET s, int how);
// u_long __stdcall htonl(u_long hostlong);
// u_short __stdcall htons(u_short hostshort);
// u_short __stdcall ntohs(u_short netshort);
// unsigned __int32 __stdcall inet_addr(const char *cp);
// char *__stdcall inet_ntoa(struct in_addr in);
// int __stdcall bind(SOCKET s, const struct sockaddr *name, int namelen);
// int __stdcall listen(SOCKET s, int backlog);
// struct hostent *__stdcall gethostbyname(const char *name);
// int __stdcall gethostname(char *name, int namelen);
// int __stdcall WSAGetLastError();
// int __stdcall closesocket(SOCKET s);
// int __stdcall connect(SOCKET s, const struct sockaddr *name, int namelen);
// HRESULT __stdcall CoGetMalloc(DWORD dwMemContext, LPMALLOC *ppMalloc);
// void __stdcall CoUninitialize();
// HRESULT __stdcall CoInitializeEx(LPVOID pvReserved, DWORD dwCoInit);
// HRESULT __stdcall CoCreateInstance(const IID *const rclsid, LPUNKNOWN pUnkOuter, DWORD dwClsContext, const IID *const riid, LPVOID *ppv);


//----- (00401010) --------------------------------------------------------
void __thiscall CAuthClientDispatch::SetMoveAddress(CAuthClientDispatch *this, unsigned int dwMoveServerID, INET_Addr *moveAddress)
{
  char *v3; // ecx@1

  this->m_dwMoveServerID = dwMoveServerID;
  v3 = (char *)&this->m_MoveAddress;
  *(_DWORD *)v3 = *(_DWORD *)&moveAddress->m_SockAddr.sa_family;
  *((_DWORD *)v3 + 1) = *(_DWORD *)&moveAddress->m_SockAddr.sa_data[2];
  *((_DWORD *)v3 + 2) = *(_DWORD *)&moveAddress->m_SockAddr.sa_data[6];
  *((_DWORD *)v3 + 3) = *(_DWORD *)&moveAddress->m_SockAddr.sa_data[10];
  *((_DWORD *)v3 + 4) = moveAddress->m_iAddrLen;
}

//----- (00401050) --------------------------------------------------------
void __thiscall CAuthAgentDispatch::CAuthAgentDispatch(CAuthAgentDispatch *this, CSession *Session)
{
  CAuthAgentDispatch *v2; // esi@1

  v2 = this;
  CRylServerDispatch::CRylServerDispatch(&this->baseclass_0, Session, 0x3E8u);
  v2->baseclass_0.baseclass_0.vfptr = (CPacketDispatchVtbl *)&CAuthAgentDispatch::_vftable_;
}
// 45131C: using guessed type int (__thiscall *CAuthAgentDispatch___vftable_)(void *p, char);

//----- (00401070) --------------------------------------------------------
void __thiscall CAuthAgentDispatch::_CAuthAgentDispatch(CAuthAgentDispatch *this)
{
  CRylServerDispatch *v1; // esi@1

  v1 = (CRylServerDispatch *)this;
  this->baseclass_0.baseclass_0.vfptr = (CPacketDispatchVtbl *)&CAuthAgentDispatch::_vftable_;
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthAgentDispatch::~CAuthAgentDispatch",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
    48,
    "DP:0x%p/Destroy AuthAgentDispatch");
  CRylServerDispatch::_CRylServerDispatch(v1);
}
// 45131C: using guessed type int (__thiscall *CAuthAgentDispatch___vftable_)(void *p, char);

//----- (004010E0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseSysChannelUpdate(CAuthAgentDispatch *this, PktSCInfo *lpPktSCInfo)
{
  unsigned __int16 v2; // ST04_2@1
  CAuthAgentServerTable *v3; // eax@1

  v2 = lpPktSCInfo->m_cChannelNum;
  v3 = CAuthAgentServerTable::GetInstance();
  CAuthAgentServerTable::UpdateChannelUserNum(v3, lpPktSCInfo->m_usChannelClientNum, v2);
  return 1;
}

//----- (00401100) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseSysServerVerUpdate(CAuthAgentDispatch *this, PktSVU *lpPktSVU)
{
  unsigned int v2; // ST04_4@1
  unsigned int v3; // ST00_4@1
  CAuthAgentServerTable *v4; // eax@1

  v2 = lpPktSVU->m_dwClientVer;
  v3 = lpPktSVU->m_dwCheckSum;
  v4 = CAuthAgentServerTable::GetInstance();
  CAuthAgentServerTable::UpdateServerData(v4, v3, v2, lpPktSVU->m_PatchAddress);
  return 1;
}

//----- (00401130) --------------------------------------------------------
bool __cdecl SendPartyLeaveToDBAgent(CSendStream *SendStream, unsigned int dwPID, unsigned int dwCID, const char *szName)
{
  char *v4; // eax@1
  bool result; // al@3
  int v6; // eax@4

  v4 = CSendStream::GetBuffer(SendStream, 0x35u);
  if ( v4 )
  {
    *(_DWORD *)(v4 + 18) = dwPID;
    *(_DWORD *)(v4 + 22) = dwCID;
    *(_DWORD *)(v4 + 26) = dwCID;
    *((_DWORD *)v4 + 3) = 0;
    *((_WORD *)v4 + 8) = 53;
    if ( szName )
    {
      strncpy(v4 + 37, szName, 0x10u);
      result = CSendStream::WrapHeader(SendStream, 0x35u, 39, 0, 0);
    }
    else
    {
      v6 = (int)(v4 + 37);
      *(_DWORD *)v6 = 0;
      *(_DWORD *)(v6 + 4) = 0;
      *(_DWORD *)(v6 + 8) = 0;
      *(_DWORD *)(v6 + 12) = 0;
      result = CSendStream::WrapHeader(SendStream, 0x35u, 39, 0, 0);
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004011B0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseAgentZone(CAuthAgentDispatch *this, PktDD *lpPktDD)
{
  CAuthAgentDispatch *v2; // ebp@1
  CPacketDispatch *v3; // esi@1
  unsigned __int16 v4; // ax@14
  unsigned __int16 v5; // ax@14
  CSendStream *v6; // ebp@17
  char *v7; // ebx@17
  CServerRequest *v8; // eax@18
  unsigned int v9; // eax@18
  unsigned int v10; // edi@18
  INET_Addr *v11; // eax@20
  CServerRequest *v12; // eax@21
  int v14; // [sp-20h] [bp-4Ch]@4
  const char *v15; // [sp-1Ch] [bp-48h]@4
  CPacketDispatch *lpDstDispatch; // [sp+0h] [bp-2Ch]@1
  CServerRequest::Result result; // [sp+4h] [bp-28h]@1
  INET_Addr thisa; // [sp+Ch] [bp-20h]@14
  int v19; // [sp+28h] [bp-4h]@1

  v2 = this;
  lpDstDispatch = (CPacketDispatch *)this;
  CServerRequest::Result::Result(&result, lpPktDD->m_dwRequestKey, 1);
  v3 = result.m_lpSrcDispatch;
  v19 = 0;
  if ( (_DWORD)result.m_lpSrcDispatch )
  {
    if ( CServerRequest::Result::GetSession(&result) )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CAuthAgentDispatch::ParseAgentZone",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
        432,
        "SS:0x%p/DP:0x%p/sCmd:0x%02x/RequestKey:%d/DBRequest Success.");
      if ( lpPktDD->m_wCmd == 81 )
      {
        BYTE2(v3[78].m_Session) &= 0xFBu;
        if ( lpPktDD->baseclass_0.m_SrvInfo.SrvState.wError )
        {
          HIWORD(v3[78].m_Session) &= 0xFFFDu;
        }
        else
        {
          CAuthClientDispatch::UserMove((CAuthClientDispatch *)v3);
          BYTE2(v3[78].m_Session) |= 8u;
        }
        v4 = CServerSetup::GetGameServerTCPPort(*(_DWORD *)&lpPktDD[1].baseclass_0.m_StartBit);
        INET_Addr::set_addr(&thisa, (in_addr)lpPktDD[1].baseclass_0.m_CodePage, v4);
        CAuthClientDispatch::SetMoveAddress(
          (CAuthClientDispatch *)v3,
          *(_DWORD *)&lpPktDD[1].baseclass_0.m_StartBit,
          &thisa);
        v5 = lpPktDD->baseclass_0.m_SrvInfo.SrvState.wError;
        if ( v5 )
        {
          if ( !AuthSendPacket::SendServerZone(
                  (CSendStream *)&v3[8],
                  *(_DWORD *)&lpPktDD[1].baseclass_0.m_StartBit,
                  (sockaddr_in *)&v3[79].m_Session,
                  v5) )
            BYTE2(v3[78].m_Session) &= 0xF7u;
        }
        else
        {
          v6 = &v2->baseclass_0.m_SendStream;
          v7 = CSendStream::GetBuffer(v6, 0x12u);
          if ( v7 )
          {
            v8 = CServerRequest::GetInstance();
            v9 = CServerRequest::AddRequest(v8, v3, lpDstDispatch, 0x64u, 0);
            v10 = v9;
            if ( v9 )
            {
              *((_DWORD *)v7 + 3) = v9;
              *((_WORD *)v7 + 8) = 83;
              if ( CSendStream::WrapHeader(v6, 0x12u, 91, 0, 0) )
              {
                v11 = CRylServerDispatch::GetRemoteAddr((CRylServerDispatch *)v3);
                inet_ntoa(*(struct in_addr *)&v11->m_SockAddr.sa_data[2]);
                CServerLog::DetailLog(
                  &g_Log,
                  LOG_DETAIL,
                  "CAuthAgentDispatch::ParseAgentZone",
                  "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
                  489,
                  "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
              }
              else
              {
                v12 = CServerRequest::GetInstance();
                CServerRequest::RemoveRequest(v12, v10);
              }
            }
          }
        }
        goto LABEL_22;
      }
      if ( lpPktDD->m_wCmd == 83 )
      {
        if ( !AuthSendPacket::SendServerZone(
                (CSendStream *)&v3[8],
                (unsigned int)v3[82].vfptr,
                (sockaddr_in *)&v3[79].m_Session,
                0) )
          BYTE2(v3[78].m_Session) &= 0xF7u;
        goto LABEL_22;
      }
      v15 = "DB ";
      v14 = 517;
    }
    else
    {
      v15 = "sCmd:0x%02x/RequestKey:%d/Get Session Failed.";
      v14 = 426;
    }
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthAgentDispatch::ParseAgentZone",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
      v14,
      v15);
LABEL_22:
    v19 = -1;
    CServerRequest::Result::_Result(&result);
    return 1;
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CAuthAgentDispatch::ParseAgentZone",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
    418,
    "sCmd:0x%02x/RequestKey:%d/DBRequest Failed.");
  v19 = -1;
  CServerRequest::Result::_Result(&result);
  return 1;
}

//----- (00401450) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::SendUserKill(CAuthAgentDispatch *this, unsigned int dwUserID, unsigned __int16 usError)
{
  CSendStream *v3; // edi@1
  char *v4; // esi@1
  CServerSetup *v5; // eax@2
  bool result; // al@2

  v3 = &this->baseclass_0.m_SendStream;
  v4 = CSendStream::GetBuffer(&this->baseclass_0.m_SendStream, 0x18u);
  if ( v4 )
  {
    v5 = CServerSetup::GetInstance();
    *((_DWORD *)v4 + 5) = CServerSetup::GetServerID(v5);
    *((_DWORD *)v4 + 3) = dwUserID;
    *((_DWORD *)v4 + 4) = 0;
    result = CSendStream::WrapCrypt(v3, 0x18u, 4, 0, usError);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004014A0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::SendSysServerLogin(CAuthAgentDispatch *this, unsigned int ServerID_In)
{
  CAuthAgentDispatch *v2; // edi@1
  CSendStream *v3; // ebx@1
  char *v4; // esi@1
  bool result; // al@2
  char szAddress[128]; // [sp+Ch] [bp-84h]@2

  v2 = this;
  v3 = &this->baseclass_0.m_SendStream;
  v4 = CSendStream::GetBuffer(&this->baseclass_0.m_SendStream, 0x14u);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD, signed int))(**(_DWORD **)v2->baseclass_0.baseclass_0.m_Session->m_SessionPolicy + 8))(
      szAddress,
      128);
    *((_DWORD *)v4 + 4) = inet_addr(szAddress);
    *((_DWORD *)v4 + 3) = ServerID_In;
    result = CSendStream::WrapHeader(v3, 0x14u, 40, 0, 0);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00401540) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::SendCreateCharEquipItem(CAuthAgentDispatch *this, unsigned int CharID_In, unsigned __int16 Shirt_In, unsigned __int16 Armour_In, unsigned __int16 Boots_In, unsigned __int16 Weapon_In)
{
  char *v6; // eax@1
  int v7; // esi@1
  void *v8; // ebp@2
  Item::CItem *v9; // edi@3
  Item::CItem *v10; // ebx@6
  Item::CItem *v11; // ebp@9
  Item::CItem *v12; // eax@12
  int v13; // esi@27
  Item::CItemVtbl *v14; // edx@27
  Item::CItemFactory *v15; // eax@27
  int v16; // edi@28
  Item::CItemVtbl *v17; // edx@29
  Item::CItemFactory *v18; // eax@29
  Item::CItemVtbl *v19; // edx@31
  Item::CItemFactory *v20; // eax@31
  Item::CItemVtbl *v21; // edx@33
  Item::CItemFactory *v22; // eax@33
  void *v23; // edi@34
  CItemCreator *v24; // ecx@34
  unsigned __int64 v25; // qax@34
  CSendStream *v26; // ecx@34
  bool result; // al@34
  int nSize; // [sp+20h] [bp-14h]@2
  int lpItemPos; // [sp+24h] [bp-10h]@2
  CItemCreator *ItemCreator; // [sp+28h] [bp-Ch]@2
  void *lpBuffer; // [sp+2Ch] [bp-8h]@1
  CSendStream *thisa; // [sp+30h] [bp-4h]@1
  Item::CItem *Shirt_Ina; // [sp+3Ch] [bp+8h]@12

  thisa = &this->baseclass_0.m_SendStream;
  v6 = CSendStream::GetBuffer(&this->baseclass_0.m_SendStream, 0xF2u);
  v7 = 0;
  lpBuffer = v6;
  if ( v6 )
  {
    lpItemPos = (int)(v6 + 34);
    nSize = 0;
    v8 = CItemCreator::GetInstance();
    ItemCreator = (CItemCreator *)v8;
    if ( Shirt_In )
      v9 = CItemCreator::Create((CItemCreator *)v8, Shirt_In);
    else
      v9 = 0;
    if ( Armour_In )
      v10 = CItemCreator::Create((CItemCreator *)v8, Armour_In);
    else
      v10 = 0;
    if ( Boots_In )
      v11 = CItemCreator::Create((CItemCreator *)v8, Boots_In);
    else
      v11 = 0;
    if ( Weapon_In )
    {
      v12 = CItemCreator::Create(ItemCreator, Weapon_In);
      Shirt_Ina = v12;
    }
    else
    {
      Shirt_Ina = 0;
      v12 = 0;
    }
    if ( v9 && ((v9->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? (int)v9 : 0) )
      *(_BYTE *)((v9->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? &v9[3].m_dwPrice : 140) = 1;
    if ( v10 && ((v10->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? (int)v10 : 0) )
      *(_BYTE *)((v10->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? &v10[3].m_dwPrice : 140) = 1;
    if ( v11 && ((v11->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? (int)v11 : 0) )
      *(_BYTE *)((v11->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? &v11[3].m_dwPrice : 140) = 1;
    if ( v12 && ((v12->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? (int)v12 : 0) )
      *(_BYTE *)((v12->m_ItemInfo->m_DetailData.m_dwFlags & 1) == 1 ? &v12[3].m_dwPrice : 140) = 1;
    if ( v9 )
    {
      v13 = lpItemPos;
      nSize = 242;
      v14 = v9->vfptr;
      v9->m_ItemData.m_ItemPos._bf0 = 17;
      v9->m_itemPos_Real._bf0 = 17;
      v14->SerializeOut(v9, v13, &nSize);
      lpItemPos = nSize + v13;
      v7 = nSize;
      v15 = Item::CItemFactory::GetInstance();
      Item::CItemFactory::DeleteItem(v15, v9);
      v12 = Shirt_Ina;
    }
    v16 = lpItemPos;
    if ( v10 )
    {
      nSize = 242 - v7;
      v17 = v10->vfptr;
      v10->m_ItemData.m_ItemPos._bf0 = 49;
      v10->m_itemPos_Real._bf0 = 49;
      v17->SerializeOut(v10, v16, &nSize);
      v16 += nSize;
      v7 += nSize;
      v18 = Item::CItemFactory::GetInstance();
      Item::CItemFactory::DeleteItem(v18, v10);
      v12 = Shirt_Ina;
    }
    if ( v11 )
    {
      nSize = 242 - v7;
      v19 = v11->vfptr;
      v11->m_ItemData.m_ItemPos._bf0 = 81;
      v11->m_itemPos_Real._bf0 = 81;
      v19->SerializeOut(v11, v16, &nSize);
      v16 += nSize;
      v7 += nSize;
      v20 = Item::CItemFactory::GetInstance();
      Item::CItemFactory::DeleteItem(v20, v11);
      v12 = Shirt_Ina;
    }
    if ( v12 )
    {
      nSize = 242 - v7;
      v21 = v12->vfptr;
      v12->m_ItemData.m_ItemPos._bf0 = 177;
      v12->m_itemPos_Real._bf0 = 177;
      v21->SerializeOut(v12, v16, &nSize);
      v7 += nSize;
      v22 = Item::CItemFactory::GetInstance();
      Item::CItemFactory::DeleteItem(v22, Shirt_Ina);
    }
    v23 = lpBuffer;
    v24 = ItemCreator;
    *((_DWORD *)lpBuffer + 3) = 0;
    *((_WORD *)v23 + 8) = 35;
    v25 = CItemCreator::GetUID(v24);
    v26 = thisa;
    *(_DWORD *)((char *)v23 + 30) = v7;
    *(_QWORD *)((char *)v23 + 18) = v25;
    *(_DWORD *)((char *)v23 + 26) = CharID_In;
    result = CSendStream::WrapHeader(v26, v7 + 34, 37, 0, 0);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004017C0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseBillingTimeoutNotify(CAuthAgentDispatch *this, PktBTN *lpPktBTN)
{
  unsigned int v2; // ST18_4@1
  CMultiDispatch *v3; // eax@1
  CSendStream *v5; // ebx@4
  void *v6; // eax@4
  bool v7; // bl@5
  CMultiDispatch::Storage StoragelpAuthClientDispatch; // [sp+0h] [bp-14h]@1
  int v9; // [sp+10h] [bp-4h]@1

  v2 = lpPktBTN->m_dwUserID;
  v3 = CAuthClientDispatch::GetDispatchTable();
  CMultiDispatch::Storage::Storage(&StoragelpAuthClientDispatch, v3, v2);
  v9 = 0;
  if ( !(_DWORD)StoragelpAuthClientDispatch.m_lpDispatch )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthAgentDispatch::ParseBillingTimeoutNotify",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
      753,
      "UID:0x%08d ");
LABEL_3:
    v9 = -1;
    CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
    return 0;
  }
  v5 = (CSendStream *)&StoragelpAuthClientDispatch.m_lpDispatch[8];
  v6 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthClientDispatch.m_lpDispatch[8], 0x1Au);
  if ( !v6 )
    goto LABEL_3;
  memcpy(v6, lpPktBTN, 0x1Au);
  v7 = CSendStream::WrapCrypt(v5, 0x1Au, 117, 0, 0);
  v9 = -1;
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
  return v7;
}

//----- (004018B0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseBillingTimeCheckNotify(CAuthAgentDispatch *this, PktBTN *lpPktBTN)
{
  unsigned int v2; // ST18_4@1
  CMultiDispatch *v3; // eax@1
  CSendStream *v5; // ebx@4
  void *v6; // eax@4
  bool v7; // bl@5
  CMultiDispatch::Storage StoragelpAuthClientDispatch; // [sp+0h] [bp-14h]@1
  int v9; // [sp+10h] [bp-4h]@1

  v2 = lpPktBTN->m_dwUserID;
  v3 = CAuthClientDispatch::GetDispatchTable();
  CMultiDispatch::Storage::Storage(&StoragelpAuthClientDispatch, v3, v2);
  v9 = 0;
  if ( !(_DWORD)StoragelpAuthClientDispatch.m_lpDispatch )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthAgentDispatch::ParseBillingTimeCheckNotify",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
      777,
      "UID:0x%08d ");
LABEL_3:
    v9 = -1;
    CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
    return 0;
  }
  v5 = (CSendStream *)&StoragelpAuthClientDispatch.m_lpDispatch[8];
  v6 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthClientDispatch.m_lpDispatch[8], 0x1Au);
  if ( !v6 )
    goto LABEL_3;
  memcpy(v6, lpPktBTN, 0x1Au);
  v7 = CSendStream::WrapCrypt(v5, 0x1Au, 122, 0, 0);
  v9 = -1;
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
  return v7;
}

//----- (004019A0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseUnifiedCharInfo(CAuthAgentDispatch *this, PktUnifiedCharInfo *lpPktUnifiedCharInfo)
{
  unsigned int v2; // ST10_4@1
  CMultiDispatch *v3; // eax@1
  CMultiDispatch::Storage StoragelpAuthClientDispatch; // [sp+0h] [bp-14h]@1
  int v6; // [sp+10h] [bp-4h]@1

  v2 = lpPktUnifiedCharInfo->dwUID;
  v3 = CAuthClientDispatch::GetDispatchTable();
  CMultiDispatch::Storage::Storage(&StoragelpAuthClientDispatch, v3, v2);
  v6 = 0;
  if ( (_DWORD)StoragelpAuthClientDispatch.m_lpDispatch )
    CSendStream::WrapCompress(
      (CSendStream *)&StoragelpAuthClientDispatch.m_lpDispatch[8],
      &lpPktUnifiedCharInfo->baseclass_0.m_StartBit,
      lpPktUnifiedCharInfo->baseclass_0.m_Len & 0x3FFF,
      -64,
      0,
      lpPktUnifiedCharInfo->baseclass_0.m_SrvInfo.SrvState.wError);
  v6 = -1;
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
  return 1;
}

//----- (00401A30) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseUnifiedCharSelectAck(CAuthAgentDispatch *this, PktUnifiedCharSelectAck *lpPktUnifiedCharSelectAck)
{
  CPacketDispatch *v2; // esi@1
  int v4; // [sp-18h] [bp-2Ch]@2
  const char *v5; // [sp-14h] [bp-28h]@2
  CServerRequest::Result result; // [sp+0h] [bp-14h]@1
  int v7; // [sp+10h] [bp-4h]@1

  CServerRequest::Result::Result(&result, lpPktUnifiedCharSelectAck->dwRequestKey, 1);
  v2 = result.m_lpSrcDispatch;
  v7 = 0;
  if ( (_DWORD)result.m_lpSrcDispatch )
  {
    if ( CServerRequest::Result::GetSession(&result) )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CAuthAgentDispatch::ParseUnifiedCharSelectAck",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
        835,
        "SS:0x%p/DP:0x%p/RequestKey:%d/DBRequest Success.");
      AuthSendPacket::SendUnifiedCharSelectAck(
        (CSendStream *)&v2[8],
        lpPktUnifiedCharSelectAck->dwUID,
        0,
        lpPktUnifiedCharSelectAck->baseclass_0.m_SrvInfo.SrvState.wError);
      goto LABEL_7;
    }
    v5 = "RequestKey:%d/Get Session Failed.";
    v4 = 830;
  }
  else
  {
    v5 = "RequestKey:%d/DBRequest Failed.";
    v4 = 823;
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CAuthAgentDispatch::ParseUnifiedCharSelectAck",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
    v4,
    v5);
LABEL_7:
  v7 = -1;
  CServerRequest::Result::_Result(&result);
  return 1;
}

//----- (00401B20) --------------------------------------------------------
int __cdecl std::accumulate<unsigned_short___int>(unsigned __int16 *_First, unsigned __int16 *_Last, int _Val)
{
  unsigned __int16 *v3; // ecx@1
  int result; // eax@1
  int v5; // esi@2

  v3 = _First;
  for ( result = _Val; v3 != _Last; result += v5 )
  {
    v5 = *v3;
    ++v3;
  }
  return result;
}

//----- (00401B40) --------------------------------------------------------
void __thiscall RylServerInfo::RylServerInfo(RylServerInfo *this)
{
  RylServerInfo *v1; // esi@1
  const char *v2; // edi@1

  v1 = this;
  v2 = this->m_szGroupName;
  this->m_dwClientVer = 0;
  this->m_dwChecksum = 0;
  this->m_nPatchAddressLen = 0;
  this->m_usChannelNum = 0;
  *(_DWORD *)&this->m_ServerUID.sID.Type = 0;
  *(_DWORD *)&this->m_ServerAddress.S_un.S_un_b.s_b1 = 0;
  this->m_szPatchAddress[0] = 0;
  strncpy(this->m_szGroupName, "UnKnown", 0x78u);
  v1->m_nGroupNameLen = strlen(v2);
  *(_DWORD *)&v1->m_usChannelClientNum[0] = 0;
}

//----- (00401BA0) --------------------------------------------------------
void *__thiscall CAuthAgentDispatch::_vector_deleting_destructor_(CAuthAgentDispatch *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CAuthAgentDispatch::_CAuthAgentDispatch(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00401BC0) --------------------------------------------------------
CSingleDispatch *__cdecl CAuthAgentDispatch::GetDispatchTable()
{
  if ( !(_S1 & 1) )
  {
    _S1 |= 1u;
    CSingleDispatch::CSingleDispatch(&singleDispatchTable);
    atexit(_E2);
  }
  return &singleDispatchTable;
}

//----- (00401C20) --------------------------------------------------------
void __thiscall CAuthAgentDispatch::Connected(CAuthAgentDispatch *this)
{
  CAuthAgentDispatch *v1; // esi@1
  CServerSetup *v2; // eax@1
  unsigned int v3; // eax@1
  CSingleDispatch *v4; // eax@1

  v1 = this;
  v2 = CServerSetup::GetInstance();
  v3 = CServerSetup::GetServerID(v2);
  CAuthAgentDispatch::SendSysServerLogin(v1, v3);
  v4 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::SetDispatch(v4, &v1->baseclass_0.baseclass_0);
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthAgentDispatch::Connected",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
    65,
    "SS:0x%p/DP:0x%p/Connected CAuthAgentDispatch");
}

//----- (00401C70) --------------------------------------------------------
void __thiscall CAuthAgentDispatch::Disconnected(CAuthAgentDispatch *this)
{
  CPacketDispatch *v1; // ST1C_4@1
  CSingleDispatch *v2; // eax@1

  v1 = (CPacketDispatch *)this;
  v2 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::RemoveDispatch(v2, v1);
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthAgentDispatch::Disconnected",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
    71,
    "SS:0x%p/DP:0x%p/Disconnected CAuthAgentDispatch");
}

//----- (00401CB0) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseSysServerLogin(CAuthAgentDispatch *this, PktSLAck *lpPktSLAck)
{
  unsigned __int64 v2; // ST04_8@1
  CItemCreator *v3; // eax@1
  unsigned int v4; // eax@1
  char *v5; // eax@1
  char v6; // cl@2
  CAuthAgentServerTable *v7; // eax@3
  RylServerInfo ServerInfo; // [sp+4h] [bp-100h]@1

  v2 = lpPktSLAck->m_dlItemUID;
  v3 = CItemCreator::GetInstance();
  CItemCreator::SetUID(v3, v2);
  RylServerInfo::RylServerInfo(&ServerInfo);
  v4 = lpPktSLAck->m_dwCheckSum;
  ServerInfo.m_dwClientVer = lpPktSLAck->m_dwClientVer;
  ServerInfo.m_dwChecksum = v4;
  strncpy(ServerInfo.m_szPatchAddress, lpPktSLAck->m_PatchAddress, 0x63u);
  v5 = ServerInfo.m_szPatchAddress;
  ServerInfo.m_szPatchAddress[99] = 0;
  do
    v6 = *v5++;
  while ( v6 );
  ServerInfo.m_nPatchAddressLen = v5 - &ServerInfo.m_szPatchAddress[1];
  v7 = CAuthAgentServerTable::GetInstance();
  CAuthAgentServerTable::SetAgentServerInfo(v7, &ServerInfo);
  return 1;
}
// 401CB0: could not find valid save-restore pair for esi

//----- (00401D60) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseDBGetData(CAuthAgentDispatch *this, PktDD *lpPktDD)
{
  PktDD *v2; // ebp@1
  CAuthAgentDispatch *v3; // edi@1
  CPacketDispatch *v4; // ebx@3
  CSession *v5; // esi@5
  INET_Addr *v6; // eax@7
  unsigned __int16 v7; // si@8
  unsigned int v8; // edi@8
  int v9; // ST54_4@14
  char v10; // ST4C_1@14
  char v11; // ST58_1@14
  unsigned __int16 v12; // ST50_2@14
  char v13; // al@14
  char v14; // ST48_1@14
  unsigned int v15; // eax@14
  CSingleDispatch *v16; // eax@20
  bool v17; // zf@20
  CPacketDispatch *v18; // edi@20
  int v19; // ecx@21
  int v20; // esi@21
  unsigned int v21; // ecx@22
  unsigned int v22; // eax@24
  __int16 v23; // di@28
  int v24; // eax@28
  int v26; // [sp-22h] [bp-5Ch]@6
  const char *v27; // [sp-1Eh] [bp-58h]@6
  char cFirstLogin; // [sp+1h] [bp-39h]@8
  bool cBillingUser; // [sp+2h] [bp-38h]@1
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+1Eh] [bp-1Ch]@14
  CServerRequest::Result result; // [sp+26h] [bp-14h]@3
  int v32; // [sp+36h] [bp-4h]@3
  CSession *lpPktDDa; // [sp+3Eh] [bp+4h]@5
  char lpPktDDb; // [sp+3Eh] [bp+4h]@8
  char lpPktDDc; // [sp+3Eh] [bp+4h]@14

  v2 = lpPktDD;
  v3 = this;
  cBillingUser = 1;
  if ( lpPktDD->m_wCmd == 5 )
    cBillingUser = 0;
  CServerRequest::Result::Result(&result, lpPktDD->m_dwRequestKey, cBillingUser);
  v4 = result.m_lpSrcDispatch;
  v32 = 0;
  if ( (_DWORD)result.m_lpSrcDispatch )
  {
    v5 = CServerRequest::Result::GetSession(&result);
    lpPktDDa = v5;
    if ( v5 )
    {
      v6 = CRylServerDispatch::GetRemoteAddr((CRylServerDispatch *)v4);
      inet_ntoa(*(struct in_addr *)&v6->m_SockAddr.sa_data[2]);
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CAuthAgentDispatch::ParseDBGetData",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
        179,
        "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Success.");
      switch ( v2->m_wCmd )
      {
        case 0x50u:
          v7 = v2->baseclass_0.m_SrvInfo.SrvState.wError;
          v8 = v2[1].baseclass_0.m_CodePage;
          lpPktDDb = BYTE2(v2[2].baseclass_0.m_CodePage);
          cFirstLogin = BYTE3(v2[2].baseclass_0.m_CodePage);
          if ( !v7 )
          {
            CAuthClientDispatch::UserLogin((CAuthClientDispatch *)v4, *(_DWORD *)&v2[1].baseclass_0.m_StartBit, v8);
            if ( CSession::CalledDisconnected(v4->m_Session) )
            {
              CAuthClientDispatch::UserLogout((CAuthClientDispatch *)v4);
            }
            else
            {
              BYTE2(v4[78].m_Session) |= 0x20u;
              BYTE2(v4[79].vfptr) = lpPktDDb;
              BYTE3(v4[79].vfptr) = cFirstLogin;
            }
          }
          if ( !AuthSendPacket::SendAuthAccount((CAuthClientDispatch *)v4, v8, v7) )
            BYTE2(v4[78].m_Session) &= 0xDFu;
          break;
        case 1u:
          v9 = *(_DWORD *)&v2[27].baseclass_0.m_StartBit;
          v10 = BYTE2(v2[27].baseclass_0.m_CodePage);
          lpPktDDc = LOBYTE(v2[27].baseclass_0.m_SrvInfo.SrvState.wError);
          v11 = HIBYTE(v2[26].m_wCmd);
          v12 = LOWORD(v2[27].baseclass_0.m_CodePage);
          v13 = BYTE3(v2[27].baseclass_0.m_CodePage);
          StoragelpAuthAgentDispatch.m_lpDispatch = *(CPacketDispatch **)&v2[1].baseclass_0.m_StartBit;
          v14 = v13;
          v15 = *(_DWORD *)((char *)&v2[26].baseclass_0.m_SrvInfo.SrvState.wError + 1);
          memcpy(&v4[15].m_Session, (char *)&v2[5].m_wCmd + 1, 0x16Du);
          v4[82].m_Session = 0;
          v4[83].vfptr = 0;
          v4[83].m_Session = 0;
          LOBYTE(v4[84].vfptr) = 0;
          v4[82].m_Session = (CSession *)v2[26].baseclass_0.m_CodePage;
          v4[83].vfptr = *(CPacketDispatchVtbl **)&v2[26].baseclass_0.m_SrvInfo.SrvState.wError;
          v4[83].m_Session = (CSession *)v2[26].m_dwRequestKey;
          LOBYTE(v4[84].vfptr) = LOBYTE(v2[26].m_wCmd);
          AuthSendPacket::SendUserLogin(
            (CSendStream *)&v4[8],
            (unsigned int)v4[61].m_Session,
            (unsigned int)StoragelpAuthAgentDispatch.m_lpDispatch,
            (CHAR_VIEW *)((char *)&v2[5].m_wCmd + 1),
            (sGuildData *)&v2[1].baseclass_0.m_CodePage,
            v15,
            v11,
            v9,
            v12,
            v10,
            v14,
            lpPktDDc,
            v2->baseclass_0.m_SrvInfo.SrvState.wError);
          break;
        case 4u:
          CAuthClientDispatch::SendSelectAccountNation(
            (CSendStream *)&v4[8],
            *(_DWORD *)&v2[1].baseclass_0.m_StartBit,
            LOBYTE(v2[1].baseclass_0.m_CodePage),
            BYTE1(v2[1].baseclass_0.m_CodePage),
            v2->baseclass_0.m_SrvInfo.SrvState.wError);
          break;
        case 5u:
          CAuthClientDispatch::SendNationChangeResult(
            (CSendStream *)&v4[8],
            *(_DWORD *)&v2[1].baseclass_0.m_StartBit,
            &v2[1].baseclass_0.m_CodePage,
            (unsigned int *)((char *)&v2[2].baseclass_0.m_CodePage + 2),
            0);
          break;
        case 0x21u:
          CAuthClientDispatch::SendCharCreate(
            (CSendStream *)&v4[8],
            *(_DWORD *)&v2[1].baseclass_0.m_StartBit,
            v2[1].baseclass_0.m_CodePage,
            (CHAR_VIEW *)&v2[1].baseclass_0.m_SrvInfo,
            v2->baseclass_0.m_SrvInfo.SrvState.wError);
          if ( !v2->baseclass_0.m_SrvInfo.SrvState.wError )
            CAuthAgentDispatch::SendCreateCharEquipItem(
              v3,
              *(_DWORD *)&v2[1].baseclass_0.m_StartBit,
              *(unsigned __int16 *)((char *)&v2[3].m_wCmd + 1),
              *(unsigned __int16 *)((char *)&v2[4].baseclass_0.m_Len + 1),
              *(_WORD *)((char *)&v2[4].baseclass_0.m_CodePage + 3),
              *(_WORD *)&v2[5].baseclass_0.m_Cmd);
          BYTE2(v4[78].m_Session) &= 0xBFu;
          GAMELOG::LogCharCreateDelete(
            (const unsigned int)v4[62].vfptr,
            (sockaddr_in *)&v5->m_RemoteAddr,
            *(_DWORD *)&v2[1].baseclass_0.m_StartBit,
            3,
            v2->baseclass_0.m_SrvInfo.SrvState.wError);
          break;
        case 0x22u:
          v16 = CAuthAgentDispatch::GetDispatchTable();
          CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v16);
          v17 = v2->baseclass_0.m_SrvInfo.SrvState.wError == 0;
          LOBYTE(v32) = 1;
          v18 = StoragelpAuthAgentDispatch.m_lpDispatch;
          if ( v17 )
          {
            v19 = 73 * v2[1].baseclass_0.m_CodePage;
            v20 = (int)((char *)&v4[15].m_Session + v19);
            if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
            {
              v21 = *(unsigned int *)((char *)&v4[20].vfptr + v19 + 2);
              if ( v21 )
                SendPartyLeaveToDBAgent(
                  (CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8],
                  v21,
                  *(_DWORD *)&v2[1].baseclass_0.m_SrvInfo.SrvState.wError,
                  (const char *)(v20 + 4));
              v22 = *(_DWORD *)(v20 + 34);
              if ( v22 )
                SendGuildLeaveToDBAgent(
                  (CSendStream *)&v18[8],
                  v22,
                  *(_DWORD *)&v2[1].baseclass_0.m_SrvInfo.SrvState.wError,
                  (const char *)(v20 + 4));
            }
            v5 = lpPktDDa;
          }
          CAuthClientDispatch::SendCharDelete(
            (CSendStream *)&v4[8],
            *(_DWORD *)&v2[1].baseclass_0.m_StartBit,
            v2[1].baseclass_0.m_CodePage,
            v2->baseclass_0.m_SrvInfo.SrvState.wError);
          BYTE2(v4[78].m_Session) &= 0x7Fu;
          GAMELOG::LogCharCreateDelete(
            (const unsigned int)v4[62].vfptr,
            (sockaddr_in *)&v5->m_RemoteAddr,
            *(_DWORD *)&v2[1].baseclass_0.m_SrvInfo.SrvState.wError,
            4,
            v2->baseclass_0.m_SrvInfo.SrvState.wError);
          LOBYTE(v32) = 0;
          CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
          break;
        case 0x24u:
          BYTE2(v4[78].m_Session) &= 0xFEu;
          v23 = HIWORD(v4[78].m_Session);
          v24 = std::accumulate<unsigned_short___int>(
                  (unsigned __int16 *)&v2[1].baseclass_0.m_Cmd,
                  (unsigned __int16 *)((char *)&v2[1].baseclass_0.m_SrvInfo.SrvState.wSrvState + 1),
                  0);
          if ( !v2->baseclass_0.m_SrvInfo.SrvState.wError && v24 )
            HIWORD(v4[78].m_Session) = v23 | 2;
          if ( !CAuthClientDispatch::SendCharSelect(
                  (CSendStream *)&v4[8],
                  v2[1].baseclass_0.m_StartBit,
                  (unsigned __int16 *)&v2[1].baseclass_0.m_Cmd,
                  v2->baseclass_0.m_SrvInfo.SrvState.wError) )
            BYTE2(v4[78].m_Session) &= 0xFDu;
          break;
        default:
          v27 = "DB ";
          v26 = 371;
          goto LABEL_34;
      }
    }
    else
    {
      v27 = "sCmd:0x%02x/RequestKey:%d/Get Session Failed.";
      v26 = 171;
LABEL_34:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthAgentDispatch::ParseDBGetData",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
        v26,
        v27);
    }
    v32 = -1;
    CServerRequest::Result::_Result(&result);
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthAgentDispatch::ParseDBGetData",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
      162,
      "sCmd:0x%02x/RequestKey:%d/DBRequest Failed.");
    v32 = -1;
    CServerRequest::Result::_Result(&result);
  }
  return 1;
}

//----- (00402280) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::ParseUserKill(CAuthAgentDispatch *this, PktUK *lpPktUK)
{
  unsigned int v2; // ST20_4@1
  CAuthAgentDispatch *v3; // ebx@1
  CMultiDispatch *v4; // eax@1
  CPacketDispatch *v5; // edi@1
  CMultiDispatch::Storage StoragelpAuthClientDispatch; // [sp+0h] [bp-14h]@1
  int v8; // [sp+10h] [bp-4h]@1

  v2 = lpPktUK->m_dwUserID;
  v3 = this;
  v4 = CAuthClientDispatch::GetDispatchTable();
  CMultiDispatch::Storage::Storage(&StoragelpAuthClientDispatch, v4, v2);
  v8 = 0;
  v5 = StoragelpAuthClientDispatch.m_lpDispatch;
  if ( (_DWORD)StoragelpAuthClientDispatch.m_lpDispatch )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthAgentDispatch::ParseUserKill",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
      541,
      "SS:0x%p/DP:0x%p/UID:%u/Process UserKill.");
    CRylServerDispatch::Shutdown((CRylServerDispatch *)v5);
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthAgentDispatch::ParseUserKill",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
      533,
      "UID:%u/GetUser failed.");
    CAuthAgentDispatch::SendUserKill(v3, lpPktUK->m_dwUserID, 2u);
  }
  v8 = -1;
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
  return 1;
}

//----- (00402360) --------------------------------------------------------
bool __cdecl CAuthAgentDispatch::SendStartSession(CAuthClientDispatch *lpDispatch_In, unsigned int dwSessionID_In, const char *AccountName_In, unsigned int dwUserID_In, unsigned __int16 usCnFlag_In)
{
  CSingleDispatch *v5; // eax@1
  CPacketDispatch *v6; // ebx@1
  char *v7; // edi@3
  CServerRequest *v8; // eax@4
  unsigned int v9; // ebx@4
  INET_Addr *v10; // eax@8
  CSendStream *SendStream; // [sp+0h] [bp-18h]@3
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+4h] [bp-14h]@1
  int v14; // [sp+14h] [bp-4h]@1

  v5 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v5);
  v14 = 0;
  v6 = StoragelpAuthAgentDispatch.m_lpDispatch;
  if ( !(_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
  {
LABEL_9:
    if ( lpDispatch_In )
      AuthSendPacket::SendAuthAccount(lpDispatch_In, lpDispatch_In->m_dwUID, 1u);
    goto LABEL_11;
  }
  if ( lpDispatch_In )
  {
    SendStream = (CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8];
    v7 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8], 0x30u);
    if ( v7 )
    {
      v8 = CServerRequest::GetInstance();
      v9 = CServerRequest::AddRequest(v8, &lpDispatch_In->baseclass_0.baseclass_0, v6, 0x64u, 0);
      if ( v9 )
      {
        *((_DWORD *)v7 + 3) = v9;
        *((_WORD *)v7 + 8) = 80;
        *(_DWORD *)(v7 + 18) = dwSessionID_In;
        *(_DWORD *)(v7 + 22) = dwUserID_In;
        if ( AccountName_In )
        {
          *(_DWORD *)(v7 + 26) = *(_DWORD *)AccountName_In;
          *(_DWORD *)(v7 + 30) = *((_DWORD *)AccountName_In + 1);
          *(_DWORD *)(v7 + 34) = *((_DWORD *)AccountName_In + 2);
          *(_DWORD *)(v7 + 38) = *((_DWORD *)AccountName_In + 3);
        }
        *((_DWORD *)v7 + 11) = *(_DWORD *)&lpDispatch_In->baseclass_0.baseclass_0.m_Session->m_RemoteAddr.m_SockAddr.sa_data[2];
        if ( CSendStream::WrapCrypt(SendStream, 0x30u, 37, 0, usCnFlag_In) )
        {
          CServerLog::SimpleLog(&g_Log, LOG_INFO, "UID:%10u / DP:0x%p / SessionID:%10u / Account:%s /  ");
          v10 = CRylServerDispatch::GetRemoteAddr(&lpDispatch_In->baseclass_0);
          inet_ntoa(*(struct in_addr *)&v10->m_SockAddr.sa_data[2]);
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CAuthAgentDispatch::SendStartSession",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthAgentDispatch.cpp",
            627,
            "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
          v14 = -1;
          CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
          return 1;
        }
      }
    }
    goto LABEL_9;
  }
LABEL_11:
  v14 = -1;
  CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
  return 0;
}

//----- (00402500) --------------------------------------------------------
bool __thiscall CAuthAgentDispatch::DispatchPacket(CAuthAgentDispatch *this, PktBase *lpPktBase)
{
  bool result; // al@2

  switch ( lpPktBase->m_Cmd )
  {
    case 0x28:
      result = CAuthAgentDispatch::ParseSysServerLogin(this, (PktSLAck *)lpPktBase);
      break;
    case 0x4E:
      result = CAuthAgentDispatch::ParseSysServerVerUpdate(this, (PktSVU *)lpPktBase);
      break;
    case 0x50:
      result = CAuthAgentDispatch::ParseSysChannelUpdate(this, (PktSCInfo *)lpPktBase);
      break;
    case 0x25:
      result = CAuthAgentDispatch::ParseDBGetData(this, (PktDD *)lpPktBase);
      break;
    case 0x5B:
      result = CAuthAgentDispatch::ParseAgentZone(this, (PktDD *)lpPktBase);
      break;
    case 4:
      result = CAuthAgentDispatch::ParseUserKill(this, (PktUK *)lpPktBase);
      break;
    case 0x75:
      result = CAuthAgentDispatch::ParseBillingTimeoutNotify(this, (PktBTN *)lpPktBase);
      break;
    case 0x7A:
      result = CAuthAgentDispatch::ParseBillingTimeCheckNotify(this, (PktBTN *)lpPktBase);
      break;
    case 0xC0:
      result = CAuthAgentDispatch::ParseUnifiedCharInfo(this, (PktUnifiedCharInfo *)lpPktBase);
      break;
    case 0xC1:
      result = CAuthAgentDispatch::ParseUnifiedCharSelectAck(this, (PktUnifiedCharSelectAck *)lpPktBase);
      break;
    default:
      CRylServerDispatch::LogErrorPacket(
        &this->baseclass_0,
        "Invalid packet command(AuthAgentDispatch can't process this packet)",
        lpPktBase->m_Cmd);
      goto $L75090;
    case 0x89:
$L75090:
      result = 1;
      break;
  }
  return result;
}

//----- (00402690) --------------------------------------------------------
void __thiscall CLock<CCSLock>::Syncronize::Syncronize(CLock<CCSLock>::Syncronize *this, CCSLock *LockClass)
{
  this->m_Lock = LockClass;
  EnterCriticalSection((LPCRITICAL_SECTION)LockClass);
}

//----- (004026B0) --------------------------------------------------------
void __thiscall CLock<CCSLock>::Syncronize::_Syncronize(CLock<CCSLock>::Syncronize *this)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)this->m_Lock);
}

//----- (004026C0) --------------------------------------------------------
void __thiscall CAuthAgentServerTable::GetPatchServerAddress(CAuthAgentServerTable *this, unsigned int *dwClientVer, char *szPatchAddress_Out, unsigned int nBufferLen)
{
  CAuthAgentServerTable *v4; // esi@1
  int v5; // eax@1

  v4 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  *dwClientVer = v4->m_AgentServerInfo.m_dwClientVer;
  v5 = _snprintf(szPatchAddress_Out, nBufferLen - 1, "%s");
  if ( v5 > 0 )
    szPatchAddress_Out[v5] = 0;
  LeaveCriticalSection((LPCRITICAL_SECTION)v4);
}

//----- (00402710) --------------------------------------------------------
void __thiscall CAuthAgentServerTable::UpdateServerData(CAuthAgentServerTable *this, unsigned int dwChecksum, unsigned int dwClientVer, const char *szPatchAddress)
{
  CAuthAgentServerTable *v4; // esi@1
  int v5; // eax@1

  v4 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v4->m_AgentServerInfo.m_dwChecksum = dwChecksum;
  v4->m_AgentServerInfo.m_dwClientVer = dwClientVer;
  v5 = _snprintf(v4->m_AgentServerInfo.m_szPatchAddress, 0x63u, "%s");
  if ( v5 > 0 )
  {
    v4->m_AgentServerInfo.m_szPatchAddress[v5] = 0;
    v4->m_AgentServerInfo.m_nPatchAddressLen = v5;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v4);
}

//----- (00402760) --------------------------------------------------------
unsigned int __thiscall CAuthAgentServerTable::GetServerVersion(CAuthAgentServerTable *this)
{
  CAuthAgentServerTable *v1; // esi@1
  unsigned int v2; // edi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_AgentServerInfo.m_dwClientVer;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (00402780) --------------------------------------------------------
unsigned int __thiscall CAuthAgentServerTable::GetServerChecksum(CAuthAgentServerTable *this)
{
  CAuthAgentServerTable *v1; // esi@1
  unsigned int v2; // edi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_AgentServerInfo.m_dwChecksum;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (004027A0) --------------------------------------------------------
void __thiscall CAuthAgentServerTable::SetAgentServerInfo(CAuthAgentServerTable *this, RylServerInfo *AgentServerInfo)
{
  CAuthAgentServerTable *v2; // ebx@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  memcpy(&v2->m_AgentServerInfo, AgentServerInfo, sizeof(v2->m_AgentServerInfo));
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
}

//----- (004027D0) --------------------------------------------------------
void __thiscall CAuthAgentServerTable::GetAgentServerInfo(CAuthAgentServerTable *this, RylServerInfo *AgentServerInfo)
{
  CAuthAgentServerTable *v2; // ebx@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  memcpy(AgentServerInfo, &v2->m_AgentServerInfo, 0xFCu);
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
}

//----- (00402800) --------------------------------------------------------
CAuthAgentServerTable *__cdecl CAuthAgentServerTable::GetInstance()
{
  if ( !(_S1_0 & 1) )
  {
    _S1_0 |= 1u;
    InitializeCriticalSection((LPCRITICAL_SECTION)&authAgentServerTable);
    RylServerInfo::RylServerInfo(&this);
    memset(&this, 0, sizeof(this));
    atexit(_E2_0);
  }
  return &authAgentServerTable;
}

//----- (00402860) --------------------------------------------------------
void __thiscall CAuthAgentServerTable::UpdateChannelUserNum(CAuthAgentServerTable *this, unsigned __int16 *lpdwClientChannelNum, unsigned __int16 usChannelNum)
{
  CAuthAgentServerTable *v3; // esi@1
  unsigned __int16 v4; // ax@1
  bool v5; // cf@1
  bool v6; // zf@1
  unsigned __int16 *v7; // eax@1
  int v8; // [sp+0h] [bp-4h]@1

  v3 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v4 = usChannelNum;
  v3->m_AgentServerInfo.m_usChannelNum = usChannelNum;
  v5 = v4 < 2u;
  v6 = v4 == 2;
  v8 = 2;
  v7 = (unsigned __int16 *)&v8;
  if ( v5 | v6 )
    v7 = &usChannelNum;
  memmove((char *)v3->m_AgentServerInfo.m_usChannelClientNum, (char *)lpdwClientChannelNum, 2 * (2 * *v7 >> 1));
  LeaveCriticalSection((LPCRITICAL_SECTION)v3);
}

//----- (004028C0) --------------------------------------------------------
void __thiscall INET_Addr::INET_Addr(INET_Addr *this)
{
  this->m_iAddrLen = 0;
  *(_DWORD *)&this->m_SockAddr.sa_family = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[10] = 0;
}

//----- (004028E0) --------------------------------------------------------
void __thiscall CCSLock::_CCSLock(CAuthAgentServerTable *this)
{
  DeleteCriticalSection((LPCRITICAL_SECTION)this);
}

//----- (004028F0) --------------------------------------------------------
void __thiscall CAuthClientDispatch::_CAuthClientDispatch(CAuthClientDispatch *this)
{
  CAuthClientDispatch *v1; // esi@1

  v1 = this;
  this->baseclass_0.baseclass_0.vfptr = (CPacketDispatchVtbl *)&CAuthClientDispatch::_vftable_;
  inet_ntoa(*(struct in_addr *)&this->baseclass_0.baseclass_0.m_Session->m_RemoteAddr.m_SockAddr.sa_data[2]);
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthClientDispatch::~CAuthClientDispatch",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
    46,
    "SS:0x%p/DP:0x%p/IP:%15s/Destroy AuthClientDispatch");
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_CheckPing);
  CRylServerDispatch::_CRylServerDispatch(&v1->baseclass_0);
}
// 451954: using guessed type int (__thiscall *CAuthClientDispatch___vftable_)(void *p, char);

//----- (00402980) --------------------------------------------------------
void __thiscall CAuthClientDispatch::Connected(CAuthClientDispatch *this)
{
  inet_ntoa(*(struct in_addr *)&this->baseclass_0.baseclass_0.m_Session->m_RemoteAddr.m_SockAddr.sa_data[2]);
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthClientDispatch::Connected",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
    58,
    "SS:0x%p/DP:0x%p/IP:%15s/Connected AuthClientDispatch");
}

//----- (004029C0) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::Dispatch(CAuthClientDispatch *this)
{
  CAuthClientDispatch *v1; // esi@1
  unsigned int v2; // edi@1
  bool result; // al@2
  int dwPingCount; // [sp+Ch] [bp-110h]@3
  int dwLastPingRecvTime; // [sp+10h] [bp-10Ch]@3
  int dwFirstCheckTime; // [sp+14h] [bp-108h]@3
  char szBuffer[256]; // [sp+18h] [bp-104h]@3

  v1 = this;
  v2 = timeGetTime();
  if ( CCheckPing::CheckPing(&v1->m_CheckPing, v2) )
  {
    result = CRylServerDispatch::Dispatch(&v1->baseclass_0);
  }
  else
  {
    dwPingCount = 0;
    dwLastPingRecvTime = 0;
    dwFirstCheckTime = 0;
    CCheckPing::GetPingData(
      &v1->m_CheckPing,
      (unsigned int *)&dwPingCount,
      (unsigned int *)&dwLastPingRecvTime,
      (unsigned int *)&dwFirstCheckTime);
    _snprintf(
      szBuffer,
      0xFFu,
      "UID:%u/CurrentTime:%u/LastPingTime:%u/PingCount:%u/FirstCheckTime:%u/PingCheck failed. disconnect now.");
    szBuffer[255] = 0;
    CRylServerDispatch::LogErrorPacket(&v1->baseclass_0, szBuffer, 0);
    result = 0;
  }
  return result;
}

//----- (00402A90) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseServerZone(CAuthClientDispatch *this, PktSZ *lpPktSZ)
{
  CAuthClientDispatch *v2; // edi@1
  unsigned __int16 v3; // dx@2
  CSingleDispatch *v4; // eax@2
  CPacketDispatch *v5; // ebp@2
  CSendStream *v6; // ebx@3
  char *v7; // esi@3
  CServerRequest *v8; // eax@4
  unsigned int v9; // eax@4
  unsigned int v10; // ebp@4
  INET_Addr *v11; // eax@6
  bool result; // al@7
  CServerRequest *v13; // eax@8
  char Channel; // [sp+0h] [bp-18h]@2
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+4h] [bp-14h]@2
  int v16; // [sp+14h] [bp-4h]@2
  char lpPktSZa; // [sp+1Ch] [bp+4h]@2

  v2 = this;
  if ( this->m_usPacketProcessFlag & 0xC )
  {
    result = 1;
  }
  else
  {
    v3 = lpPktSZ->m_cChannel;
    lpPktSZa = lpPktSZ->m_cZone;
    Channel = v3;
    v4 = CAuthAgentDispatch::GetDispatchTable();
    CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v4);
    v16 = 0;
    v5 = StoragelpAuthAgentDispatch.m_lpDispatch;
    if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
    {
      v6 = (CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8];
      v7 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8], 0x18u);
      if ( v7 )
      {
        v8 = CServerRequest::GetInstance();
        v9 = CServerRequest::AddRequest(v8, &v2->baseclass_0.baseclass_0, v5, 0x64u, 0);
        v10 = v9;
        if ( v9 )
        {
          *((_DWORD *)v7 + 3) = v9;
          *((_WORD *)v7 + 8) = 81;
          *(_DWORD *)(v7 + 18) = v2->m_dwUID;
          v7[23] = Channel;
          v7[22] = lpPktSZa;
          if ( CSendStream::WrapHeader(v6, 0x18u, 91, 0, 0) )
          {
            v11 = CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0);
            inet_ntoa(*(struct in_addr *)&v11->m_SockAddr.sa_data[2]);
            CServerLog::DetailLog(
              &g_Log,
              LOG_DETAIL,
              "CAuthClientDispatch::ParseServerZone",
              "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
              243,
              "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
            LOBYTE(v2->m_usPacketProcessFlag) |= 4u;
          }
          else
          {
            v13 = CServerRequest::GetInstance();
            CServerRequest::RemoveRequest(v13, v10);
          }
        }
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CAuthClientDispatch::ParseServerZone",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
          255,
          "SS:0x%p/DP:0x%p/Buffer allocate failed.");
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseServerZone",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        260,
        "Get agent session failed.");
    }
    v16 = -1;
    CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
    result = 1;
  }
  return result;
}

//----- (00402C40) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseSysPatchAddress(CAuthClientDispatch *this, PktSPI *lpPktSPI)
{
  CSendStream *v2; // esi@1
  char *v3; // eax@1
  char *v4; // ST08_4@2
  unsigned int *v5; // ST04_4@2
  CAuthAgentServerTable *v6; // eax@2
  bool result; // al@2

  v2 = &this->baseclass_0.m_SendStream;
  v3 = CSendStream::GetBuffer(&this->baseclass_0.m_SendStream, 0x74u);
  if ( v3 )
  {
    v4 = v3 + 16;
    v5 = (unsigned int *)(v3 + 12);
    v6 = CAuthAgentServerTable::GetInstance();
    CAuthAgentServerTable::GetPatchServerAddress(v6, v5, v4, 0x64u);
    result = CSendStream::WrapHeader(v2, 0x74u, 74, 0, 0);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00402C80) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseUserLogin(CAuthClientDispatch *this, PktULi *lpPktULi)
{
  CAuthClientDispatch *v2; // edi@1
  CSingleDispatch *v3; // eax@1
  CPacketDispatch *v4; // ebx@1
  CSendStream *v5; // ebp@2
  char *v6; // esi@2
  CServerRequest *v7; // eax@3
  unsigned int v8; // ebx@3
  INET_Addr *v9; // eax@5
  CServerRequest *v11; // eax@6
  bool v12; // bl@9
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+0h] [bp-14h]@1
  int v14; // [sp+10h] [bp-4h]@1

  v2 = this;
  v3 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v3);
  v14 = 0;
  v4 = StoragelpAuthAgentDispatch.m_lpDispatch;
  if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
  {
    v5 = (CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8];
    v6 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8], 0x1Fu);
    if ( v6 )
    {
      v7 = CServerRequest::GetInstance();
      v8 = CServerRequest::AddRequest(v7, &v2->baseclass_0.baseclass_0, v4, 0x64u, 0);
      if ( v8 )
      {
        *((_DWORD *)v6 + 3) = v8;
        *((_WORD *)v6 + 8) = 1;
        *(_DWORD *)(v6 + 22) = lpPktULi->m_dwUserID;
        v6[30] = lpPktULi->m_cLoginType;
        *(_DWORD *)(v6 + 18) = v2->m_dwSessionID;
        *(_DWORD *)(v6 + 26) = *(_DWORD *)&CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0)->m_SockAddr.sa_data[2];
        if ( CSendStream::WrapHeader(v5, 0x1Fu, 37, 0, 0) )
        {
          v9 = CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0);
          inet_ntoa(*(struct in_addr *)&v9->m_SockAddr.sa_data[2]);
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CAuthClientDispatch::ParseUserLogin",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
            422,
            "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
          v14 = -1;
          CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
          return 1;
        }
        v11 = CServerRequest::GetInstance();
        CServerRequest::RemoveRequest(v11, v8);
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseUserLogin",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        433,
        "SS:0x%p/DP:0x%p/Buffer allocate failed.");
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthClientDispatch::ParseUserLogin",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
      438,
      "Get agent session failed.");
  }
  v12 = AuthSendPacket::SendUserLogin(&v2->baseclass_0.m_SendStream, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1u);
  v14 = -1;
  CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
  return v12;
}

//----- (00402E50) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseCharSelect(CAuthClientDispatch *this, PktCS *lpPktCS)
{
  int v2; // eax@0
  CAuthClientDispatch *v3; // edi@1
  CAuthClientDispatch *v4; // ebp@2
  signed int v5; // ebx@3
  char *v6; // esi@3
  int v7; // eax@6
  bool v8; // sf@8
  unsigned __int8 v9; // of@8
  CSingleDispatch *v11; // eax@12
  CPacketDispatch *v12; // ebx@12
  CSendStream *v13; // ebp@13
  char *v14; // esi@13
  CServerRequest *v15; // eax@14
  unsigned int v16; // ebx@14
  INET_Addr *v17; // eax@16
  CServerRequest *v18; // eax@18
  bool v19; // bl@21
  int nCharView; // [sp+0h] [bp-18h]@2
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+4h] [bp-14h]@12
  int v22; // [sp+Ch] [bp-Ch]@1
  _EXCEPTION_DISPOSITION (__cdecl *v23)(EHExceptionRecord *, EHRegistrationNode *, void *, void *); // [sp+10h] [bp-8h]@1
  int v24; // [sp+14h] [bp-4h]@1

  v24 = -1;
  v23 = _ehhandler__UserMove_CAuthClientDispatch__QAEXXZ;
  v22 = v2;
  v3 = this;
  if ( this->m_cBlockedFlag == 2 )
  {
    nCharView = 0;
    v4 = this;
    while ( 2 )
    {
      v5 = 0;
      v6 = (char *)v3->m_szBlockedID;
      do
      {
        if ( lpPktCS->m_dwCharID == v4->m_CharView[0].CID )
        {
          if ( v6 )
          {
            strncmp(v6, v4->m_CharView[0].Name, 0x10u);
            if ( !v7 )
              return CAuthClientDispatch::SendCharSelect(&v3->baseclass_0.m_SendStream, 0, 0, 5u);
          }
        }
        ++v5;
        v6 += 16;
      }
      while ( v5 < 5 );
      v4 = (CAuthClientDispatch *)((char *)v4 + 73);
      v9 = __OFSUB__(nCharView + 1, 5);
      v8 = nCharView++ - 4 < 0;
      if ( v8 ^ v9 )
        continue;
      break;
    }
  }
  else
  {
    if ( this->m_usPacketProcessFlag & 3 )
      return 1;
  }
  v11 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v11);
  v24 = 0;
  v12 = StoragelpAuthAgentDispatch.m_lpDispatch;
  if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
  {
    v13 = (CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8];
    v14 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8], 0x1Au);
    if ( v14 )
    {
      v15 = CServerRequest::GetInstance();
      v16 = CServerRequest::AddRequest(v15, &v3->baseclass_0.baseclass_0, v12, 0x64u, 0);
      if ( v16 )
      {
        *((_DWORD *)v14 + 3) = v16;
        *((_WORD *)v14 + 8) = 36;
        *(_DWORD *)(v14 + 18) = lpPktCS->m_dwUserID;
        *(_DWORD *)(v14 + 22) = lpPktCS->m_dwCharID;
        if ( CSendStream::WrapHeader(v13, 0x1Au, 37, 0, 0) )
        {
          LOBYTE(v3->m_usPacketProcessFlag) |= 1u;
          v17 = CRylServerDispatch::GetRemoteAddr(&v3->baseclass_0);
          inet_ntoa(*(struct in_addr *)&v17->m_SockAddr.sa_data[2]);
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CAuthClientDispatch::ParseCharSelect",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
            513,
            "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
          v24 = -1;
          CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
          return 1;
        }
        v18 = CServerRequest::GetInstance();
        CServerRequest::RemoveRequest(v18, v16);
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseCharSelect",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        523,
        "Session:0x%p Buffer allocation failed.");
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthClientDispatch::ParseCharSelect",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
      528,
      "Get agent session failed.");
  }
  v19 = CAuthClientDispatch::SendCharSelect(&v3->baseclass_0.m_SendStream, 0, 0, 1u);
  v24 = -1;
  CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
  return v19;
}

//----- (004030A0) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseCharDelete(CAuthClientDispatch *this, PktCD *lpPktCD)
{
  CAuthClientDispatch *v2; // ebp@1
  PktCD *v3; // edi@3
  CSingleDispatch *v4; // eax@5
  unsigned int v5; // ebx@5
  unsigned int v6; // eax@6
  CServerRequest *v7; // eax@7
  const void *v8; // esi@10
  int v9; // esi@11
  char *v10; // edi@12
  signed int v11; // ecx@12
  bool v12; // zf@12
  CSendStream *v13; // esi@18
  char *v14; // eax@18
  unsigned int v15; // edx@19
  unsigned int v16; // ecx@19
  struct in_addr v17; // edx@20
  CSession *v18; // esi@20
  CServerRequest *v20; // eax@24
  int v21; // [sp-A8h] [bp-C4h]@10
  CSession *v22; // [sp-24h] [bp-40h]@20
  CAuthClientDispatch *v23; // [sp-20h] [bp-3Ch]@20
  CPacketDispatch *v24; // [sp-1Ch] [bp-38h]@7
  signed int v25; // [sp-18h] [bp-34h]@19
  unsigned int v26; // [sp-14h] [bp-30h]@10
  int wError; // [sp+0h] [bp-1Ch]@1
  CPacketDispatch *lpAuthAgentDispatch; // [sp+4h] [bp-18h]@5
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+8h] [bp-14h]@5
  int v30; // [sp+18h] [bp-4h]@5

  v2 = this;
  wError = 1;
  if ( !CServerSetup::GetInstance()->m_bSupressCharDelete )
  {
    v3 = lpPktCD;
    if ( lpPktCD->m_dwSlotNum >= 5 )
      return CAuthClientDispatch::SendCharDelete(&v2->baseclass_0.m_SendStream, 0, 0, wError);
    if ( SLOBYTE(v2->m_usPacketProcessFlag) < 0 )
      return 1;
    v4 = CAuthAgentDispatch::GetDispatchTable();
    CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v4);
    v5 = 0;
    v30 = 0;
    lpAuthAgentDispatch = StoragelpAuthAgentDispatch.m_lpDispatch;
    if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
    {
      v24 = StoragelpAuthAgentDispatch.m_lpDispatch;
      v7 = CServerRequest::GetInstance();
      v5 = CServerRequest::AddRequest(v7, &v2->baseclass_0.baseclass_0, v24, 0x64u, 0);
      if ( v5 )
        goto LABEL_11;
      v6 = (unsigned int)"Get requestkey failed.";
    }
    else
    {
      v6 = (unsigned int)"Get agent failed.";
    }
    if ( v6 )
    {
      v8 = v2->baseclass_0.baseclass_0.m_Session;
      v26 = v6;
      memcpy(&v21, v8, 0x94u);
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseCharDelete",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        698,
        "SS:0x%p/%s");
LABEL_25:
      v30 = -1;
      CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
      return CAuthClientDispatch::SendCharDelete(&v2->baseclass_0.m_SendStream, 0, 0, wError);
    }
LABEL_11:
    v9 = (int)&v2->m_sStoreInfo;
    if ( v2 != (CAuthClientDispatch *)-660 )
    {
      v10 = lpPktCD->m_szPassword;
      v11 = 5;
      v12 = 1;
      do
      {
        if ( !v11 )
          break;
        v12 = *(_BYTE *)v9++ == *v10++;
        --v11;
      }
      while ( v12 );
      if ( !v12 )
      {
        wError = 7;
        goto LABEL_23;
      }
      v3 = lpPktCD;
    }
    v13 = (CSendStream *)&lpAuthAgentDispatch[8];
    v14 = CSendStream::GetBuffer((CSendStream *)&lpAuthAgentDispatch[8], 0x1Eu);
    if ( v14 )
    {
      *((_DWORD *)v14 + 3) = v5;
      *((_WORD *)v14 + 8) = 34;
      *(_DWORD *)(v14 + 18) = v3->m_dwUserID;
      v15 = v3->m_dwCharID;
      v26 = 0;
      *(_DWORD *)(v14 + 26) = v15;
      v16 = v3->m_dwSlotNum;
      v25 = 0;
      *(_DWORD *)(v14 + 22) = v16;
      LOBYTE(v2->m_usPacketProcessFlag) |= 0x80u;
      if ( CSendStream::WrapHeader(v13, 0x1Eu, 37, v25, v26) )
      {
        v17 = *(struct in_addr *)&CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0)->m_SockAddr.sa_data[2];
        v18 = v2->baseclass_0.baseclass_0.m_Session;
        v26 = v5;
        v25 = 34;
        v24 = (CPacketDispatch *)inet_ntoa(v17);
        v23 = v2;
        v22 = v18;
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CAuthClientDispatch::ParseCharDelete",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
          740,
          "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
        v30 = -1;
        CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
        return 1;
      }
      LOBYTE(v2->m_usPacketProcessFlag) &= 0x7Fu;
    }
LABEL_23:
    if ( v5 )
    {
      v20 = CServerRequest::GetInstance();
      CServerRequest::RemoveRequest(v20, v5);
    }
    goto LABEL_25;
  }
  wError = 6;
  return CAuthClientDispatch::SendCharDelete(&v2->baseclass_0.m_SendStream, 0, 0, wError);
}

//----- (004032C0) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseSelectAccountNation(CAuthClientDispatch *this, PktSelectAccountNation *lpPktSAN_In)
{
  int v2; // eax@0
  CAuthClientDispatch *v3; // ebp@1
  CSingleDispatch *v4; // eax@2
  unsigned int v5; // esi@2
  CPacketDispatch *v6; // edi@2
  unsigned int v7; // eax@3
  CServerRequest *v8; // eax@4
  const void *v9; // esi@7
  CSendStream *v10; // edi@8
  char *v11; // eax@8
  char v12; // dl@9
  char v13; // cl@9
  struct in_addr v14; // edx@10
  CSession *v15; // edi@10
  CServerRequest *v17; // eax@12
  int v18; // [sp-A8h] [bp-BCh]@7
  CSession *v19; // [sp-24h] [bp-38h]@10
  CAuthClientDispatch *v20; // [sp-20h] [bp-34h]@10
  CPacketDispatch *v21; // [sp-1Ch] [bp-30h]@4
  signed int v22; // [sp-18h] [bp-2Ch]@9
  unsigned int v23; // [sp-14h] [bp-28h]@7
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+0h] [bp-14h]@2
  int v25; // [sp+8h] [bp-Ch]@1
  _EXCEPTION_DISPOSITION (__cdecl *v26)(EHExceptionRecord *, EHRegistrationNode *, void *, void *); // [sp+Ch] [bp-8h]@1
  int v27; // [sp+10h] [bp-4h]@1

  v27 = -1;
  v26 = _ehhandler__UserMove_CAuthClientDispatch__QAEXXZ;
  v25 = v2;
  v3 = this;
  if ( lpPktSAN_In->m_cAccountNation >= 4u )
    return CAuthClientDispatch::SendSelectAccountNation(&v3->baseclass_0.m_SendStream, 0, 0, 0, 1u);
  v4 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v4);
  v5 = 0;
  v27 = 0;
  v6 = StoragelpAuthAgentDispatch.m_lpDispatch;
  if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
  {
    v21 = StoragelpAuthAgentDispatch.m_lpDispatch;
    v8 = CServerRequest::GetInstance();
    v5 = CServerRequest::AddRequest(v8, &v3->baseclass_0.baseclass_0, v21, 0x64u, 0);
    if ( v5 )
      goto LABEL_8;
    v7 = (unsigned int)"Get requestkey failed.";
  }
  else
  {
    v7 = (unsigned int)"Get agent failed.";
  }
  if ( !v7 )
  {
LABEL_8:
    v10 = (CSendStream *)&v6[8];
    v11 = CSendStream::GetBuffer(v10, 0x18u);
    if ( v11 )
    {
      *((_DWORD *)v11 + 3) = v5;
      *((_WORD *)v11 + 8) = 4;
      *(_DWORD *)(v11 + 18) = lpPktSAN_In->m_dwUserID;
      v12 = lpPktSAN_In->m_cType;
      v23 = 0;
      v22 = 0;
      v11[22] = v12;
      v13 = lpPktSAN_In->m_cAccountNation;
      v21 = (CPacketDispatch *)37;
      v11[23] = v13;
      if ( CSendStream::WrapHeader(v10, 0x18u, (char)v21, v22, v23) )
      {
        v14 = *(struct in_addr *)&CRylServerDispatch::GetRemoteAddr(&v3->baseclass_0)->m_SockAddr.sa_data[2];
        v15 = v3->baseclass_0.baseclass_0.m_Session;
        v23 = v5;
        v22 = 4;
        v21 = (CPacketDispatch *)inet_ntoa(v14);
        v20 = v3;
        v19 = v15;
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CAuthClientDispatch::ParseSelectAccountNation",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
          817,
          "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
        v27 = -1;
        CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
        return 1;
      }
    }
    if ( v5 )
    {
      v17 = CServerRequest::GetInstance();
      CServerRequest::RemoveRequest(v17, v5);
    }
    goto LABEL_13;
  }
  v9 = v3->baseclass_0.baseclass_0.m_Session;
  v23 = v7;
  memcpy(&v18, v9, 0x94u);
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CAuthClientDispatch::ParseSelectAccountNation",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
    796,
    "SS:0x%p/%s");
LABEL_13:
  v27 = -1;
  CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
  return CAuthClientDispatch::SendSelectAccountNation(&v3->baseclass_0.m_SendStream, 0, 0, 0, 1u);
}

//----- (00403470) --------------------------------------------------------
void __thiscall CAuthClientDispatch::SetBlockedID(CAuthClientDispatch *this, char cBlockedFlag, const char **szBlockedChar)
{
  unsigned int v3; // esi@1
  char *v4; // edi@1
  const char *v5; // eax@2

  this->m_cBlockedFlag = cBlockedFlag;
  v3 = 0;
  v4 = (char *)this->m_szBlockedID;
  do
  {
    v5 = szBlockedChar[v3];
    if ( v5 )
      strncpy(v4, v5, 0x10u);
    ++v3;
    v4 += 16;
  }
  while ( v3 < 5 );
}

//----- (004034C0) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseJapanAuthAccount(CAuthClientDispatch *this, PktJPAU *lpPktJPAU)
{
  PktJPAU *v2; // edi@1
  unsigned __int16 v3; // si@1
  unsigned int v4; // edx@1
  CAuthClientDispatch *v5; // ebp@1
  unsigned int v6; // ecx@1
  const char *v7; // ebx@1
  unsigned __int16 v8; // ax@1
  unsigned __int16 v9; // si@1
  CAuthAgentServerTable *v11; // eax@5
  unsigned int v12; // eax@5
  CAuthAgentServerTable *v13; // eax@9
  const char *v14; // edi@9
  void *v15; // eax@13
  CAuthInfo *v16; // eax@14
  CAuthInfo *v17; // esi@14
  CAuthorizeUser *v18; // eax@18
  unsigned int CheckSum; // [sp+0h] [bp-1Ch]@1
  unsigned int ClientVer; // [sp+4h] [bp-18h]@1
  unsigned __int16 Flag; // [sp+8h] [bp-14h]@1
  unsigned int SessionID; // [sp+Ch] [bp-10h]@1
  unsigned int lpPktJPAUa; // [sp+20h] [bp+4h]@1

  v2 = lpPktJPAU;
  v3 = lpPktJPAU->m_usFlag;
  v4 = lpPktJPAU->m_dwCheckSum;
  v5 = this;
  v6 = lpPktJPAU->m_dwClientVer;
  SessionID = lpPktJPAU->m_dwSessionID;
  v7 = (const char *)&lpPktJPAU->m_dwUserID;
  Flag = lpPktJPAU->m_usFlag;
  lpPktJPAU->m_szUserAccount[15] = 0;
  v8 = v5->m_usPacketProcessFlag;
  ClientVer = v6;
  v9 = (v3 & 0x2000) == 8192;
  CheckSum = v4;
  lpPktJPAUa = lpPktJPAU->m_dwUserID;
  if ( !(v8 & 0x30) )
  {
    v5->m_usPacketProcessFlag = v8 | 0x10;
    if ( v5->m_CnFlag == 1 && v9 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CAuthClientDispatch::ParseJapanAuthAccount",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        876,
        "UID:%10u/CnFlag:0x%04x/Disconnect account count is more than twice. Disconnect now.");
      CSession::Shutdown(v5->baseclass_0.baseclass_0.m_Session);
      return 0;
    }
    v5->m_CnFlag = v9;
    v11 = CAuthAgentServerTable::GetInstance();
    v12 = CAuthAgentServerTable::GetServerChecksum(v11);
    if ( CheckSum != v12 && v12 != 1 || !v12 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseJapanAuthAccount",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        887,
        "Checksum failed [%s] : Client:0x%08X, Server:0x%08X");
      AuthSendPacket::SendAuthAccount(v5, lpPktJPAUa, 3u);
      return 0;
    }
    v13 = CAuthAgentServerTable::GetInstance();
    v14 = v2->m_szUserAccount;
    if ( ClientVer == CAuthAgentServerTable::GetServerVersion(v13) )
    {
      if ( Filter::AccountCheck(v14) )
      {
        v15 = operator new(0x44u);
        if ( v15 )
        {
          CAuthInfo::CAuthInfo((CAuthInfo *)v15, v5, SessionID, v14, v7, 0x10u, 4u, Flag, v9);
          v17 = v16;
        }
        else
        {
          v17 = 0;
        }
        if ( v17 )
        {
          v18 = CAuthorizeUser::GetInstance();
          if ( !CAuthorizeUser::AddAuthorizeUser(v18, v17) )
          {
            CServerLog::DetailLog(
              &g_Log,
              LOG_DETAIL,
              "CAuthClientDispatch::ParseJapanAuthAccount",
              "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
              926,
              "Authorize user limit failed - Account : %s");
            AuthSendPacket::SendAuthAccount(v5, lpPktJPAUa, 7u);
            CAuthInfo::_CAuthInfo(v17);
            operator delete(v17);
          }
        }
        else
        {
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CAuthClientDispatch::ParseJapanAuthAccount",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
            918,
            "Authorize info create failed");
          AuthSendPacket::SendAuthAccount(v5, lpPktJPAUa, 1u);
        }
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CAuthClientDispatch::ParseJapanAuthAccount",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
          906,
          "Blocked Account : %s");
        AuthSendPacket::SendAuthAccount(v5, lpPktJPAUa, 8u);
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseJapanAuthAccount",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        897,
        "Version error [%s] : Client:%3d, Server:%3d");
      AuthSendPacket::SendAuthAccount(v5, lpPktJPAUa, 4u);
    }
  }
  return 1;
}

//----- (00403780) --------------------------------------------------------
bool __cdecl SendGuildLeaveToDBAgent(CSendStream *SendStream, unsigned int dwGID, unsigned int dwCID, const char *szName)
{
  char *v4; // eax@1
  char *v5; // esi@1
  bool result; // al@5

  v4 = CSendStream::GetBuffer(SendStream, 0x35u);
  v5 = v4;
  if ( v4 )
  {
    *((_DWORD *)v4 + 3) = dwGID;
    *((_DWORD *)v4 + 4) = dwCID;
    *((_DWORD *)v4 + 5) = dwCID;
    *((_DWORD *)v4 + 6) = *(_DWORD *)"";
    v4[28] = byte_451CE8;
    if ( szName )
    {
      strncpy(v4 + 35, szName, 0x10u);
    }
    else
    {
      *(_DWORD *)(v4 + 35) = 0;
      *(_DWORD *)(v4 + 39) = 0;
      *(_DWORD *)(v4 + 43) = 0;
      *(_DWORD *)(v4 + 47) = 0;
    }
    *(_WORD *)(v5 + 51) = 5;
    result = CSendStream::WrapCrypt(SendStream, 0x35u, -119, 0, 0);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 451CE8: using guessed type char byte_451CE8;

//----- (00403810) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseUnifiedCharSelect(CAuthClientDispatch *this, PktUnifiedCharSelectReq *lpPktUnifiedCharSelectReq)
{
  CAuthClientDispatch *v2; // ebp@1
  CSingleDispatch *v3; // eax@4
  CPacketDispatch *v4; // edi@4
  char *v5; // ebx@6
  CServerRequest *v6; // eax@8
  unsigned int v7; // eax@8
  INET_Addr *v8; // eax@10
  CServerRequest *v9; // eax@11
  unsigned __int16 usError; // [sp+0h] [bp-20h]@1
  unsigned int dwRequestKey; // [sp+4h] [bp-1Ch]@8
  CSendStream *DBASendStream; // [sp+8h] [bp-18h]@6
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+Ch] [bp-14h]@4
  int v15; // [sp+1Ch] [bp-4h]@4

  v2 = this;
  lpPktUnifiedCharSelectReq->szPassword[32] = 0;
  usError = 0;
  if ( this->m_cAgentServerType == 23 && strcmp(lpPktUnifiedCharSelectReq->szPassword, this->m_szSucceededPassword) )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthClientDispatch::ParseUnifiedCharSelect",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
      984,
      "UID:%10u /    : ");
    usError = 3;
LABEL_13:
    AuthSendPacket::SendUnifiedCharSelectAck(&v2->baseclass_0.m_SendStream, v2->m_dwUID, 0, usError);
    return 1;
  }
  v3 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v3);
  v15 = 0;
  v4 = StoragelpAuthAgentDispatch.m_lpDispatch;
  if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
  {
    DBASendStream = (CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8];
    v5 = CSendStream::GetBuffer((CSendStream *)&StoragelpAuthAgentDispatch.m_lpDispatch[8], 0x4Cu);
    if ( v5 )
    {
      v6 = CServerRequest::GetInstance();
      v7 = CServerRequest::AddRequest(v6, &v2->baseclass_0.baseclass_0, v4, 0x64u, 0);
      dwRequestKey = v7;
      if ( v7 )
      {
        memcpy(v5, lpPktUnifiedCharSelectReq, 0x4Cu);
        *((_DWORD *)v5 + 13) = v2->m_dwUID;
        *((_DWORD *)v5 + 12) = v7;
        if ( CSendStream::WrapHeader(DBASendStream, 0x4Cu, -63, 0, 0) )
        {
          v8 = CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0);
          inet_ntoa(*(struct in_addr *)&v8->m_SockAddr.sa_data[2]);
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CAuthClientDispatch::ParseUnifiedCharSelect",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
            1024,
            "SS:0x%p/DP:0x%p/IP:%15s/RequestKey:%d/DBRequest Send success.");
        }
        else
        {
          usError = 1;
          v9 = CServerRequest::GetInstance();
          CServerRequest::RemoveRequest(v9, dwRequestKey);
        }
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseUnifiedCharSelect",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        1004,
        "Session:0x%p Buffer allocate failed.");
      usError = 1;
    }
  }
  else
  {
    usError = 1;
  }
  v15 = -1;
  CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
  if ( usError )
    goto LABEL_13;
  return 1;
}

//----- (00403A30) --------------------------------------------------------
void __thiscall CAuthClientDispatch::CAuthClientDispatch(CAuthClientDispatch *this, CSession *Session)
{
  CAuthClientDispatch *v2; // esi@1

  v2 = this;
  CRylServerDispatch::CRylServerDispatch(&this->baseclass_0, Session, 0xAu);
  v2->baseclass_0.baseclass_0.vfptr = (CPacketDispatchVtbl *)&CAuthClientDispatch::_vftable_;
  CCheckPing::CCheckPing(&v2->m_CheckPing);
  v2->m_dwSessionID = 0;
  v2->m_dwUID = 0;
  v2->m_cBlockedFlag = 0;
  v2->m_usPacketProcessFlag = 0;
  v2->m_CnFlag = 0;
  v2->m_MoveAddress.m_iAddrLen = 0;
  *(_DWORD *)&v2->m_MoveAddress.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v2->m_MoveAddress.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v2->m_MoveAddress.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v2->m_MoveAddress.m_SockAddr.sa_data[10] = 0;
  v2->m_dwMoveServerID = 0;
  memset(v2->m_CharView, 0, 0x16Cu);
  HIBYTE(v2->m_CharView[4].Equip[14]) = 0;
  memset(v2->m_szBlockedID, 0, sizeof(v2->m_szBlockedID));
}
// 451954: using guessed type int (__thiscall *CAuthClientDispatch___vftable_)(void *p, char);

//----- (00403AF0) --------------------------------------------------------
void *__thiscall CAuthClientDispatch::_vector_deleting_destructor_(CAuthClientDispatch *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CAuthClientDispatch::_CAuthClientDispatch(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00403B10) --------------------------------------------------------
CMultiDispatch *__cdecl CAuthClientDispatch::GetDispatchTable()
{
  if ( !(_S1_1 & 1) )
  {
    _S1_1 |= 1u;
    CMultiDispatch::CMultiDispatch(&multiDispatch);
    atexit(_E2_1);
  }
  return &multiDispatch;
}

//----- (00403B70) --------------------------------------------------------
void __thiscall CAuthClientDispatch::UserLogin(CAuthClientDispatch *this, unsigned int dwSessionID, unsigned int dwUID)
{
  CAuthClientDispatch *v3; // esi@1
  unsigned int v4; // ST0C_4@3
  CMultiDispatch *v5; // eax@3

  v3 = this;
  if ( dwUID )
  {
    if ( dwSessionID )
    {
      this->m_dwSessionID = dwSessionID;
      this->m_dwUID = dwUID;
      CServerLog::SimpleLog(&g_Log, LOG_INFO, "UID:%10u / SessionID:%10u / ");
      v4 = v3->m_dwUID;
      v5 = CAuthClientDispatch::GetDispatchTable();
      CMultiDispatch::SetDispatch(v5, v4, &v3->baseclass_0.baseclass_0);
    }
  }
}

//----- (00403BC0) --------------------------------------------------------
void __thiscall CAuthClientDispatch::UserLogout(CAuthClientDispatch *this)
{
  CAuthClientDispatch *v1; // esi@1
  unsigned int v2; // ST20_4@3
  CMultiDispatch *v3; // eax@3
  unsigned int v4; // ST20_4@5
  CMultiDispatch *v5; // eax@5
  CAuthorizeUser *v6; // eax@9
  CMultiDispatch::Storage StoragelpAuthClientDispatch; // [sp+0h] [bp-14h]@3
  int v8; // [sp+10h] [bp-4h]@3

  v1 = this;
  if ( this->m_dwUID && this->m_dwSessionID )
  {
    v2 = this->m_dwUID;
    v3 = CAuthClientDispatch::GetDispatchTable();
    CMultiDispatch::Storage::Storage(&StoragelpAuthClientDispatch, v3, v2);
    v8 = 0;
    if ( (_DWORD)StoragelpAuthClientDispatch.m_lpDispatch
      && v1 == (CAuthClientDispatch *)StoragelpAuthClientDispatch.m_lpDispatch )
    {
      CServerLog::SimpleLog(&g_Log, LOG_INFO, "UID:%10u / SessionID:%10u / ");
      v4 = v1->m_dwUID;
      v5 = CAuthClientDispatch::GetDispatchTable();
      CMultiDispatch::RemoveDispatch(v5, v4);
      AuthSendPacket::SendUserLogout(v1->m_dwSessionID, v1->m_dwUID);
      v1->m_dwUID = 0;
      v1->m_dwSessionID = 0;
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::UserLogout",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        135,
        "this:0x%p/UIDDB_DP:0x%p/Unknown Dispatch's User(UID:%08d) Logout");
    }
    v8 = -1;
    CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
  }
  else
  {
    if ( this->m_usPacketProcessFlag & 0x10 )
    {
      v6 = CAuthorizeUser::GetInstance();
      CAuthorizeUser::RemovePending(v6, v1->m_szAccountName);
    }
  }
}

//----- (00403D00) --------------------------------------------------------
void __thiscall CAuthClientDispatch::UserMove(CAuthClientDispatch *this)
{
  CAuthClientDispatch *v1; // esi@1
  unsigned int v2; // ST20_4@3
  CMultiDispatch *v3; // eax@3
  unsigned int v4; // ST20_4@5
  CMultiDispatch *v5; // eax@5
  CMultiDispatch::Storage StoragelpAuthClientDispatch; // [sp+0h] [bp-14h]@3
  int v7; // [sp+10h] [bp-4h]@3

  v1 = this;
  if ( this->m_dwUID && this->m_dwSessionID )
  {
    v2 = this->m_dwUID;
    v3 = CAuthClientDispatch::GetDispatchTable();
    CMultiDispatch::Storage::Storage(&StoragelpAuthClientDispatch, v3, v2);
    v7 = 0;
    if ( (_DWORD)StoragelpAuthClientDispatch.m_lpDispatch
      && v1 == (CAuthClientDispatch *)StoragelpAuthClientDispatch.m_lpDispatch )
    {
      CServerLog::SimpleLog(&g_Log, LOG_INFO, "UID:%10u / SessionID:%10u / ");
      v4 = v1->m_dwUID;
      v5 = CAuthClientDispatch::GetDispatchTable();
      CMultiDispatch::RemoveDispatch(v5, v4);
      AuthSendPacket::SendUserMove(v1->m_dwSessionID, v1->m_dwUID);
      v1->m_dwUID = 0;
      v1->m_dwSessionID = 0;
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::UserMove",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        167,
        "this:0x%p/UIDDB_DP:0x%p/Unknown Dispatch's User(UID:%08d) Move");
    }
    v7 = -1;
    CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)&StoragelpAuthClientDispatch);
  }
}

//----- (00403E10) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseAuthAccount(CAuthClientDispatch *this, PktAU *lpPktAU)
{
  unsigned int v2; // edx@1
  CAuthClientDispatch *v3; // edi@1
  const char *v4; // ebp@1
  const char *v5; // ebx@1
  unsigned int v6; // ecx@1
  int v7; // esi@1
  unsigned __int16 v8; // ax@1
  unsigned __int16 v9; // si@1
  CAuthAgentServerTable *v11; // eax@5
  unsigned int v12; // eax@5
  CAuthAgentServerTable *v13; // eax@9
  void *v14; // eax@15
  CAuthInfo *v15; // eax@16
  CAuthInfo *v16; // esi@16
  CAuthorizeUser *v17; // eax@20
  unsigned int ClientVer; // [sp+0h] [bp-18h]@1
  unsigned __int16 Flag; // [sp+4h] [bp-14h]@1
  unsigned int SessionID; // [sp+8h] [bp-10h]@1
  unsigned int lpPktAUa; // [sp+1Ch] [bp+4h]@1

  v2 = lpPktAU->m_dwClientVer;
  v3 = this;
  v4 = lpPktAU->m_UserAccount;
  v5 = lpPktAU->m_UserPassword;
  SessionID = lpPktAU->m_dwSessionID;
  v6 = lpPktAU->m_dwCheckSum;
  v7 = -((lpPktAU->m_usFlag & 0x2000) != 8192);
  Flag = lpPktAU->m_usFlag;
  lpPktAU->m_UserAccount[15] = 0;
  lpPktAU->m_UserPassword[32] = 0;
  v8 = v3->m_usPacketProcessFlag;
  v9 = v7 + 1;
  ClientVer = v2;
  lpPktAUa = v6;
  if ( !(v8 & 0x30) )
  {
    v3->m_usPacketProcessFlag = v8 | 0x10;
    if ( v3->m_CnFlag == 1 && v9 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CAuthClientDispatch::ParseAuthAccount",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        313,
        "UID:%10u/CnFlag:0x%04x/Disconnect account count is more than twice. Disconnect now.");
      CRylServerDispatch::Shutdown(&v3->baseclass_0);
      return 0;
    }
    v3->m_CnFlag = v9;
    v11 = CAuthAgentServerTable::GetInstance();
    v12 = CAuthAgentServerTable::GetServerChecksum(v11);
    if ( lpPktAUa != v12 && v12 != 1 || !v12 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseAuthAccount",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        324,
        "Checksum error [%s] : Client:0x%08X, Server:0x%08X");
      AuthSendPacket::SendAuthAccount(v3, 0, 3u);
      return 0;
    }
    v13 = CAuthAgentServerTable::GetInstance();
    if ( ClientVer == CAuthAgentServerTable::GetServerVersion(v13) )
    {
      if ( CAuthorizeThread::CheckUserIDAndPass(v4, v5) )
      {
        if ( Filter::AccountCheck(v4) )
        {
          v14 = operator new(0x44u);
          if ( v14 )
          {
            CAuthInfo::CAuthInfo((CAuthInfo *)v14, v3, SessionID, v4, v5, 0x10u, 0x21u, Flag, v9);
            v16 = v15;
          }
          else
          {
            v16 = 0;
          }
          if ( v16 )
          {
            v17 = CAuthorizeUser::GetInstance();
            if ( CAuthorizeUser::AddAuthorizeUser(v17, v16) )
            {
              _snprintf(v3->m_szAccountName, 0x10u, "%s");
              v3->m_szAccountName[15] = 0;
            }
            else
            {
              CServerLog::DetailLog(
                &g_Log,
                LOG_DETAIL,
                "CAuthClientDispatch::ParseAuthAccount",
                "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
                367,
                "Can't over authorize limit. Account name : %s");
              AuthSendPacket::SendAuthAccount(v3, 0, 7u);
              CAuthInfo::_CAuthInfo(v16);
              operator delete(v16);
            }
          }
          else
          {
            CServerLog::DetailLog(
              &g_Log,
              LOG_DETAIL,
              "CAuthClientDispatch::ParseAuthAccount",
              "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
              360,
              "User authorize info create failed");
            AuthSendPacket::SendAuthAccount(v3, 0, 1u);
          }
        }
        else
        {
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CAuthClientDispatch::ParseAuthAccount",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
            349,
            "Blocked user : %s");
          AuthSendPacket::SendAuthAccount(v3, 0, 8u);
        }
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CAuthClientDispatch::ParseAuthAccount",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
          341,
          "Can't recognize account name : [%s][%s]");
        AuthSendPacket::SendAuthAccount(v3, 0, 5u);
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseAuthAccount",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        333,
        "Version error [%s] : Client:%3d, Server:%3d");
      AuthSendPacket::SendAuthAccount(v3, 0, 4u);
    }
  }
  return 1;
}

//----- (00404120) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::ParseCharCreate(CAuthClientDispatch *this, PktCC *lpPktCC)
{
  CAuthClientDispatch *v2; // ebp@1
  const char *v3; // esi@1
  CServerSetup *v4; // eax@4
  CSingleDispatch *v5; // eax@11
  CPacketDispatch *v6; // edi@11
  CAuthAgentServerTable *v7; // eax@12
  char *v8; // edi@12
  CServerRequest *v9; // eax@13
  unsigned int v10; // eax@13
  POS *v11; // eax@14
  float v12; // ecx@14
  float v13; // edx@14
  float v14; // eax@14
  INET_Addr *v15; // eax@15
  CServerRequest *v16; // eax@16
  bool v17; // al@21
  int v18; // [sp-20h] [bp-14Ch]@5
  const char *v19; // [sp-1Ch] [bp-148h]@5
  CPacketDispatch *dwRequestKey; // [sp+0h] [bp-12Ch]@11
  unsigned int dwRequestKeya; // [sp+0h] [bp-12Ch]@13
  unsigned __int16 usErrorCode; // [sp+4h] [bp-128h]@1
  CSendStream *SendStream; // [sp+8h] [bp-124h]@12
  CSingleDispatch::Storage StoragelpAuthAgentDispatch; // [sp+Ch] [bp-120h]@11
  POS result; // [sp+14h] [bp-118h]@14
  RylServerInfo AgentServerInfo; // [sp+20h] [bp-10Ch]@12
  unsigned int v27; // [sp+11Ch] [bp-10h]@21
  int v28; // [sp+128h] [bp-4h]@11

  v2 = this;
  usErrorCode = 1;
  v3 = (const char *)&lpPktCC->m_CreateChar;
  if ( !(this->m_usPacketProcessFlag & 0x40) )
  {
    if ( CServerSetup::GetInstance()->m_bSupressCharCreate )
    {
      usErrorCode = 10;
LABEL_20:
      CAuthClientDispatch::SendCharCreate(&v2->baseclass_0.m_SendStream, 0, 0, 0, usErrorCode);
      goto LABEL_21;
    }
    v4 = CServerSetup::GetInstance();
    if ( !CharCreate::CheckCharCreateName(v3, v4->m_bHanCheck) )
    {
      v19 = "UID:0x%08X ";
      usErrorCode = 5;
      v18 = 571;
LABEL_6:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseCharCreate",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        v18,
        v19);
      goto LABEL_20;
    }
    if ( !Filter::NameCheck(v3) )
    {
      v19 = "UID:0x%08X    %s";
      usErrorCode = 7;
      v18 = 577;
      goto LABEL_6;
    }
    if ( !CharCreate::CheckCharCreateData((CHAR_CREATE *)v3) )
    {
      usErrorCode = 6;
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseCharCreate",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        583,
        "UID:0x%08X ");
      goto LABEL_20;
    }
    v5 = CAuthAgentDispatch::GetDispatchTable();
    CSingleDispatch::Storage::Storage(&StoragelpAuthAgentDispatch, v5);
    v6 = StoragelpAuthAgentDispatch.m_lpDispatch;
    v28 = 0;
    dwRequestKey = StoragelpAuthAgentDispatch.m_lpDispatch;
    if ( (_DWORD)StoragelpAuthAgentDispatch.m_lpDispatch )
    {
      RylServerInfo::RylServerInfo(&AgentServerInfo);
      v7 = CAuthAgentServerTable::GetInstance();
      CAuthAgentServerTable::GetAgentServerInfo(v7, &AgentServerInfo);
      SendStream = (CSendStream *)&v6[8];
      v8 = CSendStream::GetBuffer((CSendStream *)&v6[8], 0x6Au);
      if ( v8 )
      {
        v9 = CServerRequest::GetInstance();
        v10 = CServerRequest::AddRequest(v9, &v2->baseclass_0.baseclass_0, dwRequestKey, 0x64u, 0);
        dwRequestKeya = v10;
        if ( v10 )
        {
          *((_DWORD *)v8 + 3) = v10;
          *((_WORD *)v8 + 8) = 33;
          *(_DWORD *)(v8 + 18) = lpPktCC->m_dwUserID;
          *(_DWORD *)(v8 + 22) = lpPktCC->m_dwSlotNum;
          *(_DWORD *)(v8 + 26) = std::basic_streambuf<char_std::char_traits<char>>::showmanyc();
          v11 = CharCreate::GetDefaultCharacterPos(
                  &result,
                  lpPktCC->m_CreateChar.Race,
                  AgentServerInfo.m_usChannelClientNum[lpPktCC->m_CreateChar.Race]);
          v12 = v11->fPointX;
          v13 = v11->fPointY;
          v14 = v11->fPointZ;
          *(_DWORD *)(v8 + 30) = LODWORD(v12);
          *(_DWORD *)(v8 + 34) = LODWORD(v13);
          *(_DWORD *)(v8 + 38) = LODWORD(v14);
          memcpy(v8 + 42, v3, 0x3Eu);
          LOBYTE(v2->m_usPacketProcessFlag) |= 0x40u;
          if ( CSendStream::WrapHeader(SendStream, 0x6Au, 37, 0, 0) )
          {
            v15 = CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0);
            inet_ntoa(*(struct in_addr *)&v15->m_SockAddr.sa_data[2]);
            CServerLog::DetailLog(
              &g_Log,
              LOG_DETAIL,
              "CAuthClientDispatch::ParseCharCreate",
              "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
              624,
              "SS:0x%p/DP:0x%p/IP:%15s/sCmd:0x%02x/RequestKey:%d/DBRequest Send success.");
            v28 = -1;
            CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
            goto LABEL_21;
          }
          LOBYTE(v2->m_usPacketProcessFlag) &= 0xBFu;
          v16 = CServerRequest::GetInstance();
          CServerRequest::RemoveRequest(v16, dwRequestKeya);
        }
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CAuthClientDispatch::ParseCharCreate",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
          635,
          "Session:0x%p Buffer allocate failed.");
      }
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CAuthClientDispatch::ParseCharCreate",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
        640,
        "Get agent session failed.");
    }
    v28 = -1;
    CSingleDispatch::Storage::_Storage(&StoragelpAuthAgentDispatch);
    goto LABEL_20;
  }
LABEL_21:
  __security_check_cookie(v27);
  return v17;
}

//----- (00404450) --------------------------------------------------------
void __thiscall CAuthClientDispatch::Disconnected(CAuthClientDispatch *this)
{
  CAuthClientDispatch *v1; // esi@1

  v1 = this;
  CAuthClientDispatch::UserLogout(this);
  inet_ntoa(*(struct in_addr *)&v1->baseclass_0.baseclass_0.m_Session->m_RemoteAddr.m_SockAddr.sa_data[2]);
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthClientDispatch::Disconnected",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthClientDispath.cpp",
    66,
    "SS:0x%p/DP:0x%p/IP:%15s/Disconnected AuthClientDispatch");
}

//----- (00404490) --------------------------------------------------------
bool __thiscall CAuthClientDispatch::DispatchPacket(CAuthClientDispatch *this, PktBase *lpPktBase)
{
  CAuthClientDispatch *v2; // esi@1
  bool result; // al@2
  unsigned int v4; // eax@12

  v2 = this;
  switch ( lpPktBase->m_Cmd )
  {
    case 1:
      result = CAuthClientDispatch::ParseAuthAccount(this, (PktAU *)lpPktBase);
      break;
    case 0x82:
      result = CAuthClientDispatch::ParseJapanAuthAccount(this, (PktJPAU *)lpPktBase);
      break;
    case 3:
      result = CAuthClientDispatch::ParseUserLogin(this, (PktULi *)lpPktBase);
      break;
    case 0x4A:
      result = CAuthClientDispatch::ParseSysPatchAddress(this, (PktSPI *)lpPktBase);
      break;
    case 5:
      result = CAuthClientDispatch::ParseCharSelect(this, (PktCS *)lpPktBase);
      break;
    case 6:
      result = CAuthClientDispatch::ParseCharCreate(this, (PktCC *)lpPktBase);
      break;
    case 7:
      result = CAuthClientDispatch::ParseCharDelete(this, (PktCD *)lpPktBase);
      break;
    case 0xBE:
      result = CAuthClientDispatch::ParseSelectAccountNation(this, (PktSelectAccountNation *)lpPktBase);
      break;
    case 0xC1:
      result = CAuthClientDispatch::ParseUnifiedCharSelect(this, (PktUnifiedCharSelectReq *)lpPktBase);
      break;
    case 0x29:
      result = CAuthClientDispatch::ParseServerZone(this, (PktSZ *)lpPktBase);
      break;
    case 0x59:
      v4 = timeGetTime();
      CCheckPing::SetLastPingRecvTime(&v2->m_CheckPing, v4);
      result = 1;
      break;
    default:
      CRylServerDispatch::LogErrorPacket(&this->baseclass_0, " ", lpPktBase->m_Cmd);
      result = 1;
      break;
  }
  return result;
}

//----- (00404650) --------------------------------------------------------
bool __cdecl CAuthClientDispatch::SendCharSelect(CSendStream *SendStream, char Zone, unsigned __int16 *lpChannelNum, unsigned __int16 usError_In)
{
  char *v4; // eax@1
  int v5; // eax@3
  bool result; // al@4

  v4 = CSendStream::GetBuffer(SendStream, 0x17u);
  if ( v4 )
  {
    v4[12] = Zone;
    if ( lpChannelNum )
    {
      v5 = (int)(v4 + 13);
      *(_DWORD *)v5 = *(_DWORD *)lpChannelNum;
      *(_DWORD *)(v5 + 4) = *((_DWORD *)lpChannelNum + 1);
      *(_WORD *)(v5 + 8) = lpChannelNum[4];
    }
    result = CSendStream::WrapCrypt(SendStream, 0x17u, 5, 0, usError_In);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004046A0) --------------------------------------------------------
bool __cdecl CAuthClientDispatch::SendCharCreate(CSendStream *SendStream, unsigned int CharID_In, unsigned int Slot_In, CHAR_VIEW *lpCharView_In, unsigned __int16 usError_In)
{
  char *v5; // edx@1
  bool result; // al@5

  v5 = CSendStream::GetBuffer(SendStream, 0x5Du);
  if ( v5 )
  {
    *((_DWORD *)v5 + 4) = Slot_In;
    *((_DWORD *)v5 + 3) = CharID_In;
    if ( usError_In )
    {
      memset(v5 + 20, 0, 0x48u);
      v5[92] = 0;
    }
    else
    {
      memcpy(v5 + 20, lpCharView_In, 0x49u);
    }
    result = CSendStream::WrapCrypt(SendStream, 0x5Du, 6, 0, usError_In);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00404700) --------------------------------------------------------
bool __cdecl CAuthClientDispatch::SendCharDelete(CSendStream *SendStream, unsigned int UserID_In, unsigned int Slot_In, unsigned __int16 usError_In)
{
  char *v4; // eax@1
  bool result; // al@3

  v4 = CSendStream::GetBuffer(SendStream, 0x14u);
  if ( v4 )
  {
    if ( usError_In )
    {
      *((_DWORD *)v4 + 3) = 0;
      *((_DWORD *)v4 + 4) = 0;
      result = CSendStream::WrapCrypt(SendStream, 0x14u, 7, 0, usError_In);
    }
    else
    {
      *((_DWORD *)v4 + 3) = UserID_In;
      *((_DWORD *)v4 + 4) = Slot_In;
      result = CSendStream::WrapCrypt(SendStream, 0x14u, 7, 0, 0);
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00404760) --------------------------------------------------------
bool __cdecl CAuthClientDispatch::SendSelectAccountNation(CSendStream *SendStream, unsigned int UserID_In, char cType, char cAccountNation_In, unsigned __int16 usError_In)
{
  char *v5; // eax@1
  bool result; // al@5

  v5 = CSendStream::GetBuffer(SendStream, 0x12u);
  if ( v5 )
  {
    if ( usError_In )
    {
      *((_DWORD *)v5 + 3) = 0;
      v5[16] = 0;
      v5[17] = 0;
    }
    else
    {
      v5[16] = cType;
      *((_DWORD *)v5 + 3) = UserID_In;
      v5[17] = cAccountNation_In;
    }
    result = CSendStream::WrapCrypt(SendStream, 0x12u, -66, 0, usError_In);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004047C0) --------------------------------------------------------
bool __cdecl CAuthClientDispatch::SendNationChangeResult(CSendStream *SendStream, unsigned int UserID_In, unsigned int *dwGID, unsigned int *dwFame, unsigned __int16 usError_In)
{
  char *v5; // eax@1
  int v6; // eax@3
  unsigned int v7; // edx@3
  int v8; // edi@4
  bool result; // al@5

  v5 = CSendStream::GetBuffer(SendStream, 0x38u);
  if ( v5 )
  {
    if ( usError_In )
    {
      *((_DWORD *)v5 + 3) = 0;
      v7 = 0;
      v8 = (int)(v5 + 16);
      *((_DWORD *)v5 + 4) = 0;
      *((_DWORD *)v5 + 5) = 0;
      *((_DWORD *)v5 + 6) = 0;
      *((_DWORD *)v5 + 7) = 0;
      v6 = (int)(v5 + 36);
      *(_DWORD *)(v8 + 16) = 0;
      *(_DWORD *)v6 = 0;
      *(_DWORD *)(v6 + 4) = 0;
      *(_DWORD *)(v6 + 8) = 0;
      *(_DWORD *)(v6 + 12) = 0;
    }
    else
    {
      *((_DWORD *)v5 + 3) = UserID_In;
      *((_DWORD *)v5 + 4) = *dwGID;
      *((_DWORD *)v5 + 5) = dwGID[1];
      *((_DWORD *)v5 + 6) = dwGID[2];
      *((_DWORD *)v5 + 7) = dwGID[3];
      *((_DWORD *)v5 + 8) = dwGID[4];
      v6 = (int)(v5 + 36);
      *(_DWORD *)v6 = *dwFame;
      *(_DWORD *)(v6 + 4) = dwFame[1];
      *(_DWORD *)(v6 + 8) = dwFame[2];
      *(_DWORD *)(v6 + 12) = dwFame[3];
      v7 = dwFame[4];
    }
    *(_DWORD *)(v6 + 16) = v7;
    result = CSendStream::WrapCrypt(SendStream, 0x38u, -65, 0, usError_In);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00404880) --------------------------------------------------------
void __thiscall CIOWorker::_CIOWorker(CIOWorker *this)
{
  this->baseclass_0.vfptr = (CThreadVtbl *)&CThread::_vftable_;
}
// 452100: using guessed type int (__thiscall *CThread___vftable_)(void *p, char);

//----- (00404890) --------------------------------------------------------
void *__thiscall CThread::_vector_deleting_destructor_(CThread *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (CThreadVtbl *)&CThread::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 452100: using guessed type int (__thiscall *CThread___vftable_)(void *p, char);

//----- (004048B0) --------------------------------------------------------
void __thiscall CAuthClientDispatch::SetSucceededPassword(CAuthClientDispatch *this, const char *szPassword)
{
  CAuthClientDispatch *v2; // esi@1

  v2 = this;
  strncpy(this->m_szSucceededPassword, szPassword, 0x21u);
  v2->m_szSucceededPassword[32] = 0;
}

//----- (004048E0) --------------------------------------------------------
bool __thiscall CAuthorizeThread::Initialize(CAuthorizeThread *this)
{
  CAuthorizeThread *v1; // esi@1
  void *v2; // eax@1
  CDBComponent *v3; // eax@2
  void *v4; // eax@4
  CDBComponent *v5; // eax@5
  CDBComponent *v6; // ecx@7
  int v8; // [sp-8h] [bp-1Ch]@10
  const char *v9; // [sp-4h] [bp-18h]@10

  v1 = this;
  v2 = operator new(0xC284u);
  if ( v2 )
    CDBComponent::CDBComponent((CDBComponent *)v2);
  else
    v3 = 0;
  v1->m_lpComponent = v3;
  v4 = operator new(0xC284u);
  if ( v4 )
    CDBComponent::CDBComponent((CDBComponent *)v4);
  else
    v5 = 0;
  v6 = v1->m_lpComponent;
  v1->m_lpAdminToolComponent = v5;
  if ( !v6 || !v5 )
    return 0;
  if ( !CDBComponent::Connect(v6, Class_AuthDB) )
  {
    v9 = "";
    v8 = 69;
LABEL_13:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CAuthorizeThread::Initialize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      v8,
      v9);
    return 0;
  }
  if ( !CDBComponent::Connect(v1->m_lpAdminToolComponent, Class_AdminDB) )
  {
    v9 = "";
    v8 = 74;
    goto LABEL_13;
  }
  return 1;
}

//----- (004049D0) --------------------------------------------------------
int __thiscall CAuthorizeThread::End(CAuthorizeThread *this)
{
  CSyncronizedObjectQueue *v1; // eax@1

  v1 = (CSyncronizedObjectQueue *)CAuthorizeUser::GetInstance();
  CSyncronizedObjectQueue::stop(v1);
  return 1;
}

//----- (004049F0) --------------------------------------------------------
bool __cdecl CAuthorizeThread::CheckUserIDAndPass(const char *szUserAccount_In, const char *szUserPW_In)
{
  unsigned int v2; // esi@1
  unsigned int v3; // edi@1
  unsigned int v5; // edi@15
  unsigned int v6; // esi@18
  signed int v7; // esi@29
  char szFilterChar[9]; // [sp+10h] [bp-10h]@1

  szFilterChar[0] = 32;
  szFilterChar[1] = 39;
  szFilterChar[2] = 34;
  szFilterChar[3] = 35;
  szFilterChar[4] = 126;
  szFilterChar[5] = 33;
  szFilterChar[6] = 64;
  szFilterChar[7] = 91;
  szFilterChar[8] = 93;
  v2 = strlen(szUserAccount_In);
  v3 = strlen(szUserPW_In);
  switch ( CServerSetup::GetInstance()->m_dwAuthType )
  {
    case 0u:
      if ( v2 >= 3 && v2 <= 0xC && v3 == 32 )
        goto LABEL_26;
      return 0;
    case 2u:
      if ( v2 < 4 || v2 > 0xF || v3 < 4 )
        return 0;
      if ( v3 <= 0xF )
        goto LABEL_26;
      return 0;
    case 1u:
      if ( v2 < 6 || v2 > 0xC || v3 != 32 || !isalpha(*szUserAccount_In) )
        return 0;
      v5 = 0;
      if ( !v2 )
        goto LABEL_18;
      break;
    case 3u:
      if ( v2 >= 4 && v2 <= 0x10 && v3 >= 4 && v3 <= 0x10 )
        goto LABEL_26;
      return 0;
    default:
      goto LABEL_26;
  }
  while ( isalnum(szUserAccount_In[v5]) )
  {
    ++v5;
    if ( v5 >= v2 )
    {
LABEL_18:
      v6 = 0;
      while ( isalnum(szUserPW_In[v6]) )
      {
        ++v6;
        if ( v6 >= 0x20 )
        {
LABEL_26:
          if ( !strchr(szUserPW_In, 32) && !strchr(szUserPW_In, 39) && !strchr(szUserPW_In, 34) )
          {
            v7 = 0;
            while ( !strchr(szUserAccount_In, szFilterChar[v7]) )
            {
              ++v7;
              if ( v7 >= 9 )
                return 1;
            }
          }
          return 0;
        }
      }
      return 0;
    }
  }
  return 0;
}

//----- (00404BD0) --------------------------------------------------------
void __thiscall CYouxilandAuthorizeThread::Authorize(CYouxilandAuthorizeThread *this, CAuthInfo *lpAuthInfo)
{
  unsigned int v2; // edx@1
  CYouxilandAuthorizeThread *v3; // esi@1
  CAuthClientDispatch *v4; // ebx@1
  CDBComponent *v5; // edx@1
  CServerSetup *v6; // eax@5
  char v7; // al@5
  CAuthClientDispatch *v8; // ecx@7
  INET_Addr *v9; // eax@11
  char *v10; // eax@11
  unsigned __int16 v11; // si@13
  char *v12; // ebp@27
  int v13; // eax@27
  int v14; // ecx@27
  int v15; // eax@28
  unsigned int dwUserID; // [sp+10h] [bp-B4h]@1
  char *AccountName_In; // [sp+14h] [bp-B0h]@1
  int usCnFlag; // [sp+18h] [bp-ACh]@1
  int dwSessionID; // [sp+1Ch] [bp-A8h]@1
  AUTH Auth; // [sp+20h] [bp-A4h]@1
  void *szBlockedID[5]; // [sp+48h] [bp-7Ch]@7
  _RE_CMS_CheckUserBlock cms_CheckUserBlock; // [sp+5Ch] [bp-68h]@5

  v2 = lpAuthInfo->m_dwSessionID;
  v3 = this;
  Auth.UID = 0;
  v4 = lpAuthInfo->m_lpDispatch;
  *(_QWORD *)&Auth.Comment.Point = 0i64;
  *(_QWORD *)&Auth.Comment.Time.Minute = 0i64;
  Auth.Dumy[0] = 0;
  Auth.Dumy[1] = 0;
  Auth.Dumy[2] = 0;
  Auth.Dumy[3] = 0;
  dwSessionID = v2;
  v5 = this->baseclass_0.m_lpComponent;
  Auth.Errcode = 0;
  dwUserID = 0;
  LOWORD(usCnFlag) = lpAuthInfo->m_usCnFlag;
  AccountName_In = lpAuthInfo->m_szUserAccount;
  if ( DBComponent::AuthDB::GetMythUIDByAccount(v5, lpAuthInfo->m_szUserAccount, &dwUserID) )
  {
    if ( dwUserID )
    {
      cms_CheckUserBlock.m_cFlags = 0;
      memset(cms_CheckUserBlock.m_szCharName, 0, sizeof(cms_CheckUserBlock.m_szCharName));
      v6 = CServerSetup::GetInstance();
      v7 = CServerSetup::GetServerGroup(v6);
      if ( DBComponent::AuthDB::CheckBlockedUser(
             v3->baseclass_0.m_lpAdminToolComponent,
             dwUserID,
             v7,
             &cms_CheckUserBlock) )
      {
        szBlockedID[0] = cms_CheckUserBlock.m_szCharName;
        szBlockedID[2] = cms_CheckUserBlock.m_szCharName[2];
        szBlockedID[3] = cms_CheckUserBlock.m_szCharName[3];
        szBlockedID[1] = cms_CheckUserBlock.m_szCharName[1];
        v8 = lpAuthInfo->m_lpDispatch;
        szBlockedID[4] = cms_CheckUserBlock.m_szCharName[4];
        CAuthClientDispatch::SetBlockedID(v8, cms_CheckUserBlock.m_cFlags, (const char **)szBlockedID);
        if ( cms_CheckUserBlock.m_cFlags == 1 )
        {
          CServerLog::DetailLog(
            &g_Log,
            LOG_DETAIL,
            "CYouxilandAuthorizeThread::Authorize",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
            490,
            "Blocked account : %s");
          AuthSendPacket::SendAuthAccount(v4, dwUserID, 8u);
        }
        else
        {
          if ( cms_CheckUserBlock.m_cFlags == 5 )
          {
            CServerLog::DetailLog(
              &g_Log,
              LOG_DETAIL,
              "CYouxilandAuthorizeThread::Authorize",
              "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
              497,
              "Admin edit character now.. Account : %s");
            AuthSendPacket::SendAuthAccount(v4, dwUserID, 9u);
          }
          else
          {
            v9 = CRylServerDispatch::GetRemoteAddr(&v4->baseclass_0);
            v10 = inet_ntoa(*(struct in_addr *)&v9->m_SockAddr.sa_data[2]);
            if ( DBComponent::AuthDB::LoginAuthMyth(
                   v3->baseclass_0.m_lpComponent,
                   AccountName_In,
                   lpAuthInfo->m_szUserPassword,
                   v10,
                   &Auth) )
            {
              dwUserID = Auth.UID;
              switch ( Auth.Errcode )
              {
                case 1u:
                  v11 = 20;
                  break;
                case 2u:
                  v11 = 21;
                  break;
                case 3u:
                  v11 = 22;
                  break;
                case 9u:
                  v11 = 23;
                  break;
                case 0x15u:
                  v11 = 29;
                  break;
                case 0x16u:
                  v11 = 30;
                  break;
                case 0x1Du:
                  v11 = 31;
                  break;
                case 0xBu:
                case 0x33u:
                  v11 = 24;
                  break;
                case 0xCu:
                case 0x34u:
                  v11 = 25;
                  break;
                case 0xDu:
                case 0x35u:
                  v11 = 26;
                  break;
                case 0xEu:
                case 0x36u:
                  v11 = 27;
                  break;
                case 0x13u:
                case 0x3Bu:
                  v11 = 28;
                  break;
                default:
                  goto LABEL_27;
              }
              CServerLog::DetailLog(
                &g_Log,
                LOG_ERROR,
                "CYouxilandAuthorizeThread::Authorize",
                "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
                541,
                "Auth Error. Account:%s UID:%d");
              AuthSendPacket::SendAuthAccount(lpAuthInfo->m_lpDispatch, dwUserID, v11);
            }
            else
            {
              CServerLog::DetailLog(
                &g_Log,
                LOG_ERROR,
                "CYouxilandAuthorizeThread::Authorize",
                "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
                534,
                "DB Error : %s (LoginAuthMyth)");
              AuthSendPacket::SendAuthAccount(lpAuthInfo->m_lpDispatch, dwUserID, 1u);
LABEL_27:
              v12 = AccountName_In;
              CServerLog::DetailLog(
                &g_Log,
                LOG_DETAIL,
                "CYouxilandAuthorizeThread::Authorize",
                "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
                546,
                "UID:%10u / Account:%s / Authorize succeeded");
              CAuthClientDispatch::SetSucceededPassword(v4, lpAuthInfo->m_szUserPassword);
              v13 = dwSessionID;
              v14 = v3->baseclass_0.m_AuthCount + 1;
              v3->baseclass_0.m_AuthCount = v14;
              if ( v13 == v14 )
                v15 = rand();
              else
                v15 = v13 ^ v14;
              CAuthAgentDispatch::SendStartSession(v4, v15, v12, dwUserID, usCnFlag);
            }
          }
        }
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CYouxilandAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          473,
          "DB Error : %s (CheckBlockedUser)");
        AuthSendPacket::SendAuthAccount(v4, dwUserID, 1u);
      }
    }
    else
    {
      AuthSendPacket::SendAuthAccount(v4, 0, 0x14u);
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CYouxilandAuthorizeThread::Authorize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      455,
      "Account:%s / DB Error : %s (GetMythUIDByAccount)");
    AuthSendPacket::SendAuthAccount(v4, dwUserID, 1u);
  }
}

//----- (00405010) --------------------------------------------------------
void __thiscall CJapanAuthorizeThread::Authorize(CJapanAuthorizeThread *this, CAuthInfo *lpAuthInfo)
{
  unsigned int v2; // edx@1
  CJapanAuthorizeThread *v3; // esi@1
  void *v4; // edi@1
  CDBComponent *v5; // edx@1
  const char *v6; // ebx@1
  CServerSetup *v7; // eax@5
  char v8; // al@5
  CAuthClientDispatch *v9; // ecx@7
  INET_Addr *v10; // eax@12
  char *v11; // eax@12
  CAuthClientDispatch *v12; // edi@14
  int v13; // eax@14
  int v14; // ecx@14
  int v15; // eax@15
  unsigned __int16 v16; // [sp-20h] [bp-E4h]@6
  unsigned int dwUserID; // [sp+10h] [bp-B4h]@1
  CAuthClientDispatch *lpDispatch; // [sp+14h] [bp-B0h]@1
  int usCnFlag; // [sp+18h] [bp-ACh]@1
  int dwSessionID; // [sp+1Ch] [bp-A8h]@1
  AUTH Auth; // [sp+20h] [bp-A4h]@1
  void *szBlockedID[5]; // [sp+48h] [bp-7Ch]@7
  _RE_CMS_CheckUserBlock cms_CheckUserBlock; // [sp+5Ch] [bp-68h]@5

  v2 = lpAuthInfo->m_dwSessionID;
  v3 = this;
  Auth.UID = 0;
  *(_QWORD *)&Auth.Comment.Point = 0i64;
  *(_QWORD *)&Auth.Comment.Time.Minute = 0i64;
  Auth.Dumy[0] = 0;
  Auth.Dumy[1] = 0;
  Auth.Dumy[2] = 0;
  v4 = lpAuthInfo->m_lpDispatch;
  Auth.Dumy[3] = 0;
  dwSessionID = v2;
  v5 = this->baseclass_0.m_lpComponent;
  v6 = lpAuthInfo->m_szUserAccount;
  Auth.Errcode = 0;
  dwUserID = 0;
  LOWORD(usCnFlag) = lpAuthInfo->m_usCnFlag;
  lpDispatch = (CAuthClientDispatch *)v4;
  if ( !DBComponent::AuthDB::GetMythUIDByAccount(v5, lpAuthInfo->m_szUserAccount, &dwUserID) )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CJapanAuthorizeThread::Authorize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      703,
      "Account:%s / DB Error : %s (GetMythUIDByAccount)");
    AuthSendPacket::SendAuthAccount((CAuthClientDispatch *)v4, dwUserID, 1u);
    return;
  }
  if ( !dwUserID )
  {
    AuthSendPacket::SendAuthAccount((CAuthClientDispatch *)v4, 0, 0x14u);
    return;
  }
  cms_CheckUserBlock.m_cFlags = 0;
  memset(cms_CheckUserBlock.m_szCharName, 0, sizeof(cms_CheckUserBlock.m_szCharName));
  v7 = CServerSetup::GetInstance();
  v8 = CServerSetup::GetServerGroup(v7);
  if ( !DBComponent::AuthDB::CheckBlockedUser(v3->baseclass_0.m_lpAdminToolComponent, dwUserID, v8, &cms_CheckUserBlock) )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CJapanAuthorizeThread::Authorize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      721,
      "DB Error : %s (CheckBlockedUser)");
    v16 = 1;
LABEL_9:
    AuthSendPacket::SendAuthAccount(lpDispatch, dwUserID, v16);
    return;
  }
  szBlockedID[0] = cms_CheckUserBlock.m_szCharName;
  szBlockedID[2] = cms_CheckUserBlock.m_szCharName[2];
  szBlockedID[3] = cms_CheckUserBlock.m_szCharName[3];
  v9 = lpAuthInfo->m_lpDispatch;
  szBlockedID[1] = cms_CheckUserBlock.m_szCharName[1];
  szBlockedID[4] = cms_CheckUserBlock.m_szCharName[4];
  CAuthClientDispatch::SetBlockedID(v9, cms_CheckUserBlock.m_cFlags, (const char **)szBlockedID);
  if ( cms_CheckUserBlock.m_cFlags == 1 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CJapanAuthorizeThread::Authorize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      738,
      "Blocked account : %s");
    v16 = 8;
    goto LABEL_9;
  }
  if ( cms_CheckUserBlock.m_cFlags == 5 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CJapanAuthorizeThread::Authorize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      745,
      "Admin edit character now.. Account : %s");
    AuthSendPacket::SendAuthAccount(lpDispatch, dwUserID, 9u);
    return;
  }
  v10 = CRylServerDispatch::GetRemoteAddr(&lpDispatch->baseclass_0);
  v11 = inet_ntoa(*(struct in_addr *)&v10->m_SockAddr.sa_data[2]);
  if ( DBComponent::AuthDB::LoginAuthMyth(v3->baseclass_0.m_lpComponent, v6, lpAuthInfo->m_szUserPassword, v11, &Auth) )
  {
    dwUserID = Auth.UID;
    if ( Auth.Errcode == 1 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CJapanAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        771,
        "Auth Error. Account:%s UID:%d");
      AuthSendPacket::SendAuthAccount(lpAuthInfo->m_lpDispatch, dwUserID, 0x14u);
      return;
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CJapanAuthorizeThread::Authorize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
      764,
      "DB Error : %s (LoginAuthMyth)");
    AuthSendPacket::SendAuthAccount(lpAuthInfo->m_lpDispatch, dwUserID, 1u);
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CJapanAuthorizeThread::Authorize",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
    776,
    "UID:%10u / Account:%s / Authorize succeeded");
  v12 = lpDispatch;
  CAuthClientDispatch::SetSucceededPassword(lpDispatch, lpAuthInfo->m_szUserPassword);
  v13 = dwSessionID;
  v14 = v3->baseclass_0.m_AuthCount + 1;
  v3->baseclass_0.m_AuthCount = v14;
  if ( v13 == v14 )
    v15 = rand();
  else
    v15 = v13 ^ v14;
  CAuthAgentDispatch::SendStartSession(v12, v15, v6, dwUserID, usCnFlag);
}

//----- (00405360) --------------------------------------------------------
void __thiscall CAuthorizeThread::_CAuthorizeThread(CAuthorizeThread *this)
{
  CAuthorizeThread *v1; // esi@1
  CDBComponent *v2; // ecx@1
  CDBComponent *v3; // ecx@3

  v1 = this;
  this->baseclass_0.vfptr = (CThreadVtbl *)&CAuthorizeThread::_vftable_;
  v2 = this->m_lpComponent;
  if ( v2 )
  {
    ((void (__stdcall *)(_DWORD))v2->baseclass_0.vfptr->__vecDelDtor)(1);
    v1->m_lpComponent = 0;
  }
  v3 = v1->m_lpAdminToolComponent;
  if ( v3 )
  {
    ((void (__stdcall *)(_DWORD))v3->baseclass_0.vfptr->__vecDelDtor)(1);
    v1->m_lpAdminToolComponent = 0;
  }
  v1->baseclass_0.vfptr = (CThreadVtbl *)&CThread::_vftable_;
}
// 452100: using guessed type int (__thiscall *CThread___vftable_)(void *p, char);
// 45210C: using guessed type int (__thiscall *CAuthorizeThread___vftable_)(void *p, char);

//----- (004053D0) --------------------------------------------------------
unsigned int __thiscall CAuthorizeThread::Run(CAuthorizeThread *this)
{
  CAuthorizeThread *v1; // ebp@1
  CAuthorizeUser *v2; // ebx@1
  CAuthInfo *v3; // esi@2

  v1 = this;
  v2 = CAuthorizeUser::GetInstance();
  do
  {
    while ( 1 )
    {
      v3 = CAuthorizeUser::GetAuthorizeInfo(v2, 0xFFFFFFFFu);
      if ( !v3 )
        break;
      v1->baseclass_0.vfptr[1].__vecDelDtor((CThread *)v1, (unsigned int)v3);
      if ( (signed int)(timeGetTime() - v3->m_dwAuthStartTime) > 3000 )
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CAuthorizeThread::Run",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          114,
          "SS:0x%p/DP:0x%p/Too overhead in Authorize time :%s, %dms(Total queue:%d)");
      CAuthInfo::_CAuthInfo(v3);
      operator delete(v3);
    }
  }
  while ( !CSyncronizedObjectQueue::is_stopped(&v2->m_AuthInfoQueue) );
  GetCurrentThreadId();
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CAuthorizeThread::Run",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
    123,
    "TID:0x%p/Authorize thread stop now.");
  return 0;
}

//----- (00405490) --------------------------------------------------------
CMasterPassword *__cdecl CStaticSingleton<CMasterPassword>::GetInstance()
{
  if ( !(__S1__1__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA & 1) )
  {
    __S1__1__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA |= 1u;
    CMasterPassword::CMasterPassword(&Instance);
    atexit(Instance);
  }
  return &Instance;
}
// 4721EC: using guessed type int ?$S1_?1??GetInstance_?$CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA;

//----- (004054F0) --------------------------------------------------------
void *__thiscall CAuthorizeThread::_vector_deleting_destructor_(CAuthorizeThread *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CAuthorizeThread::_CAuthorizeThread(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00405510) --------------------------------------------------------
CAuthorizeThread *__cdecl CAuthorizeThread::Create()
{
  CAuthorizeThread *v0; // esi@1
  void *v1; // eax@2

  v0 = 0;
  switch ( CServerSetup::GetInstance()->m_dwAuthType )
  {
    case 0u:
      v1 = operator new(0x14u);
      if ( !v1 )
        goto LABEL_10;
      *((_DWORD *)v1 + 1) = -1;
      *((_DWORD *)v1 + 2) = 0;
      *((_DWORD *)v1 + 3) = 0;
      *(_DWORD *)v1 = &CHangameAuthorizeThread::_vftable_;
      goto LABEL_11;
    case 1u:
      v1 = operator new(0x14u);
      if ( !v1 )
        goto LABEL_10;
      *((_DWORD *)v1 + 1) = -1;
      *((_DWORD *)v1 + 2) = 0;
      *((_DWORD *)v1 + 3) = 0;
      *(_DWORD *)v1 = &CGamaAuthorizeThread::_vftable_;
      goto LABEL_11;
    case 2u:
      v1 = operator new(0x14u);
      if ( !v1 )
        goto LABEL_10;
      *((_DWORD *)v1 + 1) = -1;
      *((_DWORD *)v1 + 2) = 0;
      *((_DWORD *)v1 + 3) = 0;
      *(_DWORD *)v1 = &CYouxilandAuthorizeThread::_vftable_;
      goto LABEL_11;
    case 3u:
      v1 = operator new(0x14u);
      if ( v1 )
      {
        *((_DWORD *)v1 + 1) = -1;
        *((_DWORD *)v1 + 2) = 0;
        *((_DWORD *)v1 + 3) = 0;
        *(_DWORD *)v1 = &CJapanAuthorizeThread::_vftable_;
      }
      else
      {
LABEL_10:
        v1 = 0;
      }
LABEL_11:
      v0 = (CAuthorizeThread *)v1;
      if ( v1 && !CAuthorizeThread::Initialize((CAuthorizeThread *)v1) )
      {
        v0->baseclass_0.vfptr->__vecDelDtor((CThread *)v0, 1u);
        v0 = 0;
      }
      break;
    default:
      return v0;
  }
  return v0;
}
// 452384: using guessed type int (__thiscall *CHangameAuthorizeThread___vftable_)(void *p, char);
// 452394: using guessed type int (__thiscall *CGamaAuthorizeThread___vftable_)(void *p, char);
// 4523A4: using guessed type int (__thiscall *CYouxilandAuthorizeThread___vftable_)(void *p, char);
// 4523B4: using guessed type int (__thiscall *CJapanAuthorizeThread___vftable_)(void *p, char);

//----- (004055F0) --------------------------------------------------------
void *__thiscall CYouxilandAuthorizeThread::_vector_deleting_destructor_(CJapanAuthorizeThread *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CHangameAuthorizeThread::_CHangameAuthorizeThread(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00405620) --------------------------------------------------------
void __thiscall CHangameAuthorizeThread::Authorize(CHangameAuthorizeThread *this, CAuthInfo *lpAuthInfo)
{
  unsigned __int16 v2; // dx@1
  CAuthClientDispatch *v3; // edi@1
  CHangameAuthorizeThread *v4; // esi@1
  unsigned __int16 v5; // ax@1
  char *v6; // ebp@1
  bool v7; // al@1
  bool v8; // zf@2
  char *v9; // eax@2
  bool v10; // al@5
  INET_Addr *v11; // ST28_4@11
  CMasterPassword *v12; // eax@11
  bool v13; // al@13
  int v14; // ebx@16
  bool v15; // al@21
  unsigned __int16 v16; // bx@28
  INET_Addr *v17; // eax@35
  CDBComponent *v18; // ST20_4@38
  CServerSetup *v19; // eax@41
  char v20; // al@41
  CAuthClientDispatch *v21; // ecx@43
  unsigned int v22; // eax@49
  int v23; // ecx@49
  int v24; // eax@50
  int v25; // [sp-10h] [bp-C4h]@10
  CDBComponent *v26; // [sp-10h] [bp-C4h]@20
  const char *v27; // [sp-Ch] [bp-C0h]@10
  bool bBattleAuth; // [sp+13h] [bp-A1h]@1
  unsigned int dwUserID; // [sp+14h] [bp-A0h]@26
  int dwNumber_Out; // [sp+18h] [bp-9Ch]@1
  char *szPassword; // [sp+1Ch] [bp-98h]@1
  CAuthClientDispatch *lpDispatch; // [sp+20h] [bp-94h]@1
  _HAN_UID hanAuth; // [sp+24h] [bp-90h]@1
  int usCnFlag; // [sp+2Ch] [bp-88h]@1
  unsigned int dwSessionID; // [sp+30h] [bp-84h]@1
  void *szBlockedID[5]; // [sp+34h] [bp-80h]@43
  _RE_CMS_CheckUserBlock cms_CheckUserBlock; // [sp+48h] [bp-6Ch]@13

  v2 = lpAuthInfo->m_usFlag;
  hanAuth.hUID = 0;
  hanAuth.lUID = 0;
  v3 = lpAuthInfo->m_lpDispatch;
  v4 = this;
  dwSessionID = lpAuthInfo->m_dwSessionID;
  v5 = lpAuthInfo->m_usCnFlag;
  v6 = lpAuthInfo->m_szUserAccount;
  szPassword = lpAuthInfo->m_szUserPassword;
  LOWORD(dwNumber_Out) = v2;
  LOWORD(usCnFlag) = v5;
  lpDispatch = v3;
  v7 = CServerSetup::GetInstance()->m_bBattleAuth;
  bBattleAuth = v7;
  if ( SBYTE1(dwNumber_Out) < 0 )
  {
    v8 = v7 == 0;
    v9 = "Y";
    if ( v8 )
    {
      if ( !(BYTE1(dwNumber_Out) & 0x40) )
        v9 = "N";
      v10 = DBComponent::AuthDB::RegRylGameHan(v4->baseclass_0.m_lpComponent, v6, v9);
    }
    else
    {
      if ( !(BYTE1(dwNumber_Out) & 0x40) )
        v9 = "N";
      v10 = DBComponent::AuthDB::RegBattleRylGameHan(v4->baseclass_0.m_lpComponent, v6, v9);
    }
    if ( !v10 )
    {
      v27 = "DB Error : %s (%s)";
      v25 = 288;
LABEL_25:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CHangameAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        v25,
        v27);
      AuthSendPacket::SendAuthAccount(v3, 0, 1u);
      return;
    }
  }
  v11 = CRylServerDispatch::GetRemoteAddr(&v3->baseclass_0);
  v12 = CStaticSingleton<CMasterPassword>::GetInstance();
  if ( CMasterPassword::CheckMasterPassword(v12, v6, szPassword, (sockaddr_in *)v11) )
  {
    if ( bBattleAuth )
      v13 = DBComponent::AuthDB::GetBattleUIDByAccount(v4->baseclass_0.m_lpComponent, v6, &cms_CheckUserBlock.m_cFlags);
    else
      v13 = DBComponent::AuthDB::GetUIDByAccount(v4->baseclass_0.m_lpComponent, v6, &cms_CheckUserBlock.m_cFlags);
    if ( !v13 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CHangameAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        320,
        "DB Error : %s (LoginAuthHan)");
      AuthSendPacket::SendAuthAccount(v3, 0, 1u);
      return;
    }
    v14 = atoi(&cms_CheckUserBlock.m_cFlags);
    if ( !v14 )
    {
      AuthSendPacket::SendAuthAccount(v3, 0, 0xBu);
      return;
    }
    strncpy(v3->m_szSucceededPassword, szPassword, 0x21u);
    v3->m_szSucceededPassword[32] = 0;
  }
  else
  {
    v26 = v4->baseclass_0.m_lpComponent;
    if ( bBattleAuth )
      v15 = DBComponent::AuthDB::LoginBattleAuthHan(v26, v6, szPassword, &hanAuth);
    else
      v15 = DBComponent::AuthDB::LoginAuthHan(v26, v6, szPassword, &hanAuth);
    if ( !v15 )
    {
      v27 = "DB Error : %s (%s)";
      v25 = 334;
      goto LABEL_25;
    }
    dwUserID = hanAuth.hUID;
    if ( hanAuth.hUID >= 0x64 )
    {
      if ( !(BYTE1(dwNumber_Out) & 0x10) )
      {
        v18 = v4->baseclass_0.m_lpComponent;
        dwNumber_Out = 0;
        if ( DBComponent::AuthDB::GetPCCheckAgreement(v18, v6, (unsigned int *)&dwNumber_Out) )
        {
          if ( dwNumber_Out == 2 )
          {
            AuthSendPacket::SendAuthAccount(v3, dwUserID, 0x2Bu);
            return;
          }
        }
      }
      CAuthClientDispatch::SetSucceededPassword(v3, szPassword);
      cms_CheckUserBlock.m_cFlags = 0;
      memset(cms_CheckUserBlock.m_szCharName, 0, sizeof(cms_CheckUserBlock.m_szCharName));
      v19 = CServerSetup::GetInstance();
      v20 = CServerSetup::GetServerGroup(v19);
      if ( !DBComponent::AuthDB::CheckBlockedUser(
              v4->baseclass_0.m_lpAdminToolComponent,
              dwUserID,
              v20,
              &cms_CheckUserBlock) )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CHangameAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          391,
          "DB Error : %s (LoginAuthHan)");
        AuthSendPacket::SendAuthAccount(lpDispatch, dwUserID, 1u);
        return;
      }
      szBlockedID[0] = cms_CheckUserBlock.m_szCharName;
      szBlockedID[2] = cms_CheckUserBlock.m_szCharName[2];
      szBlockedID[3] = cms_CheckUserBlock.m_szCharName[3];
      v21 = lpAuthInfo->m_lpDispatch;
      szBlockedID[1] = cms_CheckUserBlock.m_szCharName[1];
      szBlockedID[4] = cms_CheckUserBlock.m_szCharName[4];
      CAuthClientDispatch::SetBlockedID(v21, cms_CheckUserBlock.m_cFlags, (const char **)szBlockedID);
      if ( cms_CheckUserBlock.m_cFlags == 1 )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CHangameAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          408,
          " .  : %s");
        AuthSendPacket::SendAuthAccount(lpDispatch, dwUserID, 8u);
        return;
      }
      if ( cms_CheckUserBlock.m_cFlags == 5 )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CHangameAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          415,
          "  ");
        AuthSendPacket::SendAuthAccount(lpDispatch, dwUserID, 9u);
        return;
      }
      v3 = lpDispatch;
    }
    else
    {
      switch ( hanAuth.hUID )
      {
        case 1u:
          v16 = 11;
          break;
        case 2u:
          v16 = 13;
          break;
        case 3u:
          v16 = 12;
          break;
        case 4u:
          v16 = 15;
          break;
        case 5u:
          v16 = 16;
          break;
        case 6u:
          v16 = 14;
          break;
        default:
          v16 = 10;
          break;
      }
      v17 = CRylServerDispatch::GetRemoteAddr(&v3->baseclass_0);
      inet_ntoa(*(struct in_addr *)&v17->m_SockAddr.sa_data[2]);
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CHangameAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        357,
        "Auth Error : IP:%s/ID:%s/Errcode:%d/usError:%d");
      if ( v16 )
      {
        AuthSendPacket::SendAuthAccount(v3, dwUserID, v16);
        return;
      }
    }
    v14 = dwUserID;
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CHangameAuthorizeThread::Authorize",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
    429,
    "UID:%10u / Account:%s / ");
  v22 = dwSessionID;
  v23 = v4->baseclass_0.m_AuthCount + 1;
  v4->baseclass_0.m_AuthCount = v23;
  if ( v22 == v23 )
    v24 = rand();
  else
    v24 = v22 ^ v23;
  CAuthAgentDispatch::SendStartSession(v3, v24, v6, v14, usCnFlag);
}

//----- (00405AF0) --------------------------------------------------------
void __thiscall CGamaAuthorizeThread::Authorize(CGamaAuthorizeThread *this, CAuthInfo *lpAuthInfo)
{
  CAuthClientDispatch *v2; // ebp@1
  unsigned int v3; // eax@1
  const char *v4; // ebx@1
  const char *v5; // edi@1
  INET_Addr *v6; // ST28_4@1
  CMasterPassword *v7; // eax@1
  CGamaAuthorizeThread *v8; // esi@2
  unsigned __int16 v9; // si@13
  INET_Addr *v10; // eax@17
  CServerSetup *v11; // eax@19
  char v12; // al@19
  CAuthClientDispatch *v13; // ecx@21
  bool v14; // zf@26
  int v15; // eax@26
  unsigned int dwUserID; // [sp+10h] [bp-8Ch]@1
  CGamaAuthorizeThread *v17; // [sp+14h] [bp-88h]@1
  unsigned int dwSessionID; // [sp+18h] [bp-84h]@1
  int usCnFlag; // [sp+1Ch] [bp-80h]@1
  void *szBlockedID[5]; // [sp+20h] [bp-7Ch]@21
  _RE_CMS_CheckUserBlock cms_CheckUserBlock; // [sp+34h] [bp-68h]@19

  v2 = lpAuthInfo->m_lpDispatch;
  v3 = lpAuthInfo->m_dwSessionID;
  v17 = this;
  LOWORD(usCnFlag) = lpAuthInfo->m_usCnFlag;
  dwUserID = 0;
  dwSessionID = v3;
  v4 = lpAuthInfo->m_szUserAccount;
  v5 = lpAuthInfo->m_szUserPassword;
  v6 = CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0);
  v7 = CStaticSingleton<CMasterPassword>::GetInstance();
  if ( CMasterPassword::CheckMasterPassword(
         v7,
         lpAuthInfo->m_szUserAccount,
         lpAuthInfo->m_szUserPassword,
         (sockaddr_in *)v6) )
  {
    v8 = v17;
    if ( !DBComponent::AuthDB::GetGamaUIDByAccount(v17->baseclass_0.m_lpComponent, v4, &dwUserID) )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CGamaAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        595,
        "DB Error : %s (LoginAuthHan)");
      AuthSendPacket::SendAuthAccount(v2, dwUserID, 1u);
      return;
    }
    if ( !dwUserID )
    {
      AuthSendPacket::SendAuthAccount(v2, 0, 0xBu);
      return;
    }
    strncpy(v2->m_szSucceededPassword, v5, 0x21u);
    v2->m_szSucceededPassword[32] = 0;
  }
  else
  {
    if ( !DBComponent::AuthDB::LoginAuthGama(v17->baseclass_0.m_lpComponent, v4, v5, &dwUserID) )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CGamaAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        608,
        "DB Error : %s (%s)");
      AuthSendPacket::SendAuthAccount(v2, dwUserID, 1u);
      return;
    }
    if ( dwUserID >= 0x64 )
    {
      strncpy(v2->m_szSucceededPassword, v5, 0x21u);
      cms_CheckUserBlock.m_cFlags = 0;
      memset(cms_CheckUserBlock.m_szCharName, 0, sizeof(cms_CheckUserBlock.m_szCharName));
      v2->m_szSucceededPassword[32] = 0;
      v11 = CServerSetup::GetInstance();
      v12 = CServerSetup::GetServerGroup(v11);
      if ( !DBComponent::AuthDB::CheckBlockedUser(
              v17->baseclass_0.m_lpAdminToolComponent,
              dwUserID,
              v12,
              &cms_CheckUserBlock) )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CGamaAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          637,
          "DB Error : %s (LoginAuthHan)");
        AuthSendPacket::SendAuthAccount(v2, dwUserID, 1u);
        return;
      }
      szBlockedID[0] = cms_CheckUserBlock.m_szCharName;
      szBlockedID[2] = cms_CheckUserBlock.m_szCharName[2];
      szBlockedID[3] = cms_CheckUserBlock.m_szCharName[3];
      v13 = lpAuthInfo->m_lpDispatch;
      szBlockedID[1] = cms_CheckUserBlock.m_szCharName[1];
      szBlockedID[4] = cms_CheckUserBlock.m_szCharName[4];
      CAuthClientDispatch::SetBlockedID(v13, cms_CheckUserBlock.m_cFlags, (const char **)szBlockedID);
      if ( cms_CheckUserBlock.m_cFlags == 1 )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CGamaAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          654,
          " .  : %s");
        AuthSendPacket::SendAuthAccount(v2, dwUserID, 8u);
        return;
      }
      if ( cms_CheckUserBlock.m_cFlags == 5 )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CGamaAuthorizeThread::Authorize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
          661,
          "  ");
        AuthSendPacket::SendAuthAccount(v2, dwUserID, 9u);
        return;
      }
    }
    else
    {
      switch ( dwUserID )
      {
        case 1u:
          v9 = 11;
          break;
        case 2u:
          v9 = 13;
          break;
        case 5u:
          v9 = 16;
          break;
        default:
          v9 = 10;
          break;
      }
      v10 = CRylServerDispatch::GetRemoteAddr(&v2->baseclass_0);
      inet_ntoa(*(struct in_addr *)&v10->m_SockAddr.sa_data[2]);
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CGamaAuthorizeThread::Authorize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
        624,
        "Auth Error : IP:%s/ID:%s/Errcode:%d/usError:%d");
      if ( v9 )
      {
        AuthSendPacket::SendAuthAccount(v2, dwUserID, v9);
        return;
      }
    }
    v8 = v17;
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CGamaAuthorizeThread::Authorize",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeThread.cpp",
    674,
    "UID:%10u / Account:%s / ");
  v15 = dwSessionID ^ (v8->baseclass_0.m_AuthCount + 1);
  v14 = dwSessionID == v8->baseclass_0.m_AuthCount++ + 1;
  if ( v14 )
    v15 = rand();
  CAuthAgentDispatch::SendStartSession(v2, v15, v4, dwUserID, usCnFlag);
}

//----- (00405EB0) --------------------------------------------------------
void __thiscall CAuthInfo::_CAuthInfo(CAuthInfo *this)
{
  CAuthClientDispatch *v1; // eax@1

  v1 = this->m_lpDispatch;
  if ( v1 )
    CSession::Release(v1->baseclass_0.baseclass_0.m_Session);
}

//----- (00405EC0) --------------------------------------------------------
bool __thiscall CAuthorizeUser::Initialize(CAuthorizeUser *this, unsigned int nThreadNum, unsigned int dwMaxAuthorizeListSize)
{
  unsigned int v3; // edi@1
  CThreadMgr *v4; // esi@2
  CThread *v5; // eax@3
  bool result; // al@5

  v3 = nThreadNum;
  this->m_AuthInfoQueue.m_nMaxSize = dwMaxAuthorizeListSize;
  if ( nThreadNum )
  {
    v4 = &this->m_AuthorizeThreadMgr;
    while ( 1 )
    {
      v5 = (CThread *)CAuthorizeThread::Create();
      if ( !CThreadMgr::RegisterAndRun(v4, v5) )
        break;
      --v3;
      if ( !v3 )
        goto LABEL_5;
    }
    result = 0;
  }
  else
  {
LABEL_5:
    result = 1;
  }
  return result;
}

//----- (00405F00) --------------------------------------------------------
void __thiscall CSyncronizedObjectQueue::stop(CSyncronizedObjectQueue *this)
{
  CSyncronizedObjectQueue *v1; // esi@1
  void *v2; // ST00_4@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_hHandles[0];
  v1->m_bStop = 1;
  SetEvent(v2);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (00405F30) --------------------------------------------------------
bool __thiscall CSyncronizedObjectQueue::is_stopped(CSyncronizedObjectQueue *this)
{
  CSyncronizedObjectQueue *v1; // esi@1
  bool v2; // bl@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_bStop;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (00405F50) --------------------------------------------------------
void __thiscall CAuthInfo::CAuthInfo(CAuthInfo *this, CAuthClientDispatch *lpDispatch, unsigned int dwSessionID, const char *szUserAccount, const char *szUserPassword, unsigned int nMaxUserAccountSize, unsigned int nMaxUserPasswordSize, unsigned __int16 usFlag, unsigned __int16 usCnFlag)
{
  unsigned __int16 v9; // dx@1
  CAuthInfo *v10; // ebx@1
  unsigned __int16 v11; // cx@1
  DWORD v12; // eax@1
  unsigned int v13; // ecx@1
  void *v14; // eax@1
  unsigned int v15; // ecx@3
  void *v16; // eax@3
  unsigned int v17; // eax@5
  CAuthClientDispatch *v18; // eax@5

  v9 = usCnFlag;
  v10 = this;
  v11 = usFlag;
  v10->m_dwSessionID = dwSessionID;
  v10->m_usFlag = v11;
  v10->m_usCnFlag = v9;
  v10->m_lpDispatch = lpDispatch;
  v12 = timeGetTime();
  v13 = nMaxUserAccountSize;
  v10->m_dwAuthStartTime = v12;
  *(_DWORD *)&usFlag = 16;
  v14 = &nMaxUserAccountSize;
  if ( v13 >= 0x10 )
    v14 = &usFlag;
  v15 = *(_DWORD *)v14;
  *(_DWORD *)&usFlag = 33;
  v16 = &nMaxUserPasswordSize;
  if ( nMaxUserPasswordSize >= 0x21 )
    v16 = &usFlag;
  v17 = *(_DWORD *)v16;
  memcpy(v10->m_szUserAccount, szUserAccount, v15);
  memcpy(v10->m_szUserPassword, szUserPassword, v17);
  v18 = v10->m_lpDispatch;
  if ( v18 )
    CSession::AddRef(v18->baseclass_0.baseclass_0.m_Session);
}

//----- (00406000) --------------------------------------------------------
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, bool _Built, unsigned int _Newsize)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v3; // ebx@1
  const void *v4; // eax@3

  v3 = this;
  if ( _Built && this->_Myres >= 0x10 )
  {
    v4 = *(const void **)&this->_Bx._Buf[0];
    if ( _Newsize )
      memcpy(&this->_Bx, v4, _Newsize);
    operator delete((void *)v4);
  }
  v3->_Mysize = _Newsize;
  v3->_Myres = 15;
  v3->_Bx._Buf[_Newsize] = 0;
}

//----- (00406060) --------------------------------------------------------
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, unsigned int _Off, unsigned int _Count)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v3; // esi@1
  unsigned int v4; // edi@3
  unsigned int v5; // eax@3
  unsigned int v6; // ecx@6
  int v7; // ebx@6
  int v8; // edx@7
  int v9; // ecx@10
  unsigned int v10; // ecx@12
  int v11; // eax@12

  v3 = this;
  if ( this->_Mysize < _Off )
    std::_String_base::_Xran(&this->baseclass_0.___u0.baseclass_0);
  v4 = _Count;
  v5 = this->_Mysize - _Off;
  if ( v5 < _Count )
    v4 = this->_Mysize - _Off;
  if ( v4 )
  {
    v6 = this->_Myres;
    v7 = (int)&v3->_Bx;
    if ( v6 < 0x10 )
      v8 = (int)&v3->_Bx;
    else
      v8 = *(_DWORD *)v7;
    if ( v6 < 0x10 )
      v9 = (int)&v3->_Bx;
    else
      v9 = *(_DWORD *)v7;
    memmove((char *)(_Off + v9), (char *)(v4 + _Off + v8), v5 - v4);
    v10 = v3->_Myres;
    v11 = v3->_Mysize - v4;
    v3->_Mysize = v11;
    if ( v10 >= 0x10 )
      v7 = *(_DWORD *)v7;
    *(_BYTE *)(v7 + v11) = 0;
  }
  return v3;
}

//----- (004060E0) --------------------------------------------------------
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Copy(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, unsigned int _Newsize, unsigned int _Oldlen)
{
  unsigned int v3; // ebx@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v4; // esi@1
  unsigned int v5; // edi@3
  unsigned int v6; // ecx@3
  void *v7; // edx@6
  unsigned int v8; // ecx@6
  const void *v9; // esi@8
  int v10; // eax@13
  int v11; // [sp-Ch] [bp-24h]@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v12; // [sp+4h] [bp-14h]@1
  int *v13; // [sp+8h] [bp-10h]@1
  int v14; // [sp+14h] [bp-4h]@6
  void *_Ptr; // [sp+20h] [bp+8h]@6

  v3 = _Newsize | 0xF;
  v4 = this;
  v13 = &v11;
  v12 = this;
  if ( (_Newsize | 0xF) <= 0xFFFFFFFE )
  {
    v5 = this->_Myres;
    v6 = this->_Myres >> 1;
    if ( v3 / 3 < v6 && v5 <= -2 - v6 )
      v3 = v6 + v5;
  }
  else
  {
    v3 = _Newsize;
  }
  v14 = 0;
  v7 = operator new(v3 + 1);
  _Ptr = v7;
  v8 = _Oldlen;
  if ( _Oldlen )
  {
    if ( v4->_Myres < 0x10 )
      v9 = &v4->_Bx;
    else
      v9 = *(const void **)&v4->_Bx._Buf[0];
    memcpy(v7, v9, _Oldlen);
    v4 = v12;
    v8 = _Oldlen;
  }
  if ( v4->_Myres >= 0x10 )
  {
    operator delete(*(void **)&v4->_Bx._Buf[0]);
    v7 = _Ptr;
    v8 = _Oldlen;
  }
  v10 = (int)&v4->_Bx;
  v4->_Bx._Buf[0] = 0;
  *(_DWORD *)&v4->_Bx._Buf[0] = v7;
  v4->_Myres = v3;
  v4->_Mysize = v8;
  if ( v3 >= 0x10 )
    v10 = (int)v7;
  *(_BYTE *)(v10 + v8) = 0;
}

//----- (00406220) --------------------------------------------------------
void __thiscall CSyncronizedObjectQueue::remove(CSyncronizedObjectQueue *this, const char *szUserAccount)
{
  CSyncronizedObjectQueue *v2; // ebp@1
  void **v3; // eax@1
  void *v4; // esi@1
  int v5; // edi@2
  int v6; // eax@2
  void *v7; // ebx@3
  int v8; // eax@6
  void *v9; // [sp+0h] [bp-14h]@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = (void **)v2->m_CommandQueue._Myhead;
  v4 = *v3;
  v9 = v2->m_CommandQueue._Myhead;
  if ( *v3 != v3 )
  {
    do
    {
      v5 = *((_DWORD *)v4 + 2);
      strncmp((char *)(v5 + 8), (char *)szUserAccount, 0x10u);
      if ( v6 )
      {
        v4 = *(void **)v4;
      }
      else
      {
        v7 = *(void **)v4;
        if ( v4 != v2->m_CommandQueue._Myhead )
        {
          **((_DWORD **)v4 + 1) = v7;
          *(_DWORD *)(*(_DWORD *)v4 + 4) = *((_DWORD *)v4 + 1);
          operator delete(v4);
          --v2->m_CommandQueue._Mysize;
        }
        v4 = v7;
        if ( v5 )
        {
          v8 = *(_DWORD *)(v5 + 64);
          if ( v8 )
            CSession::Release(*(CSession **)(v8 + 4));
          operator delete((void *)v5);
        }
      }
    }
    while ( v4 != v9 );
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
}

//----- (004062F0) --------------------------------------------------------
void __thiscall CSyncronizedObjectQueue::clear(CSyncronizedObjectQueue *this)
{
  CSyncronizedObjectQueue *v1; // esi@1
  std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *v2; // ebp@1
  std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *i; // edi@1
  CAuthInfo *v4; // ebx@2
  CAuthClientDispatch *v5; // eax@3
  void **v6; // ecx@7
  void *v7; // eax@7
  bool v8; // zf@7
  void *v9; // edi@8

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_CommandQueue._Myhead;
  for ( i = v2->_Next; i != v2; i = i->_Next )
  {
    v4 = i->_Myval;
    if ( v4 )
    {
      v5 = v4->m_lpDispatch;
      if ( v5 )
        CSession::Release(v5->baseclass_0.baseclass_0.m_Session);
      operator delete(v4);
    }
  }
  v6 = (void **)v1->m_CommandQueue._Myhead;
  v7 = *v6;
  *v6 = v6;
  v1->m_CommandQueue._Myhead->_Prev = v1->m_CommandQueue._Myhead;
  v8 = v7 == v1->m_CommandQueue._Myhead;
  v1->m_CommandQueue._Mysize = 0;
  if ( !v8 )
  {
    do
    {
      v9 = *(void **)v7;
      operator delete(v7);
      v7 = v9;
    }
    while ( v9 != v1->m_CommandQueue._Myhead );
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (004063B0) --------------------------------------------------------
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v1; // esi@1

  v1 = this;
  if ( this->_Myres >= 0x10 )
    operator delete(*(void **)&this->_Bx._Buf[0]);
  v1->_Myres = 15;
  v1->_Mysize = 0;
  v1->_Bx._Buf[0] = 0;
}

//----- (004063E0) --------------------------------------------------------
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this)
{
  std::list<LogBuffer *,std::allocator<LogBuffer *> > *v1; // esi@1

  v1 = this;
  std::list<CThread___std::allocator<CThread__>>::clear(this);
  operator delete(v1->_Myhead);
  v1->_Myhead = 0;
}

//----- (00406400) --------------------------------------------------------
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::pop_front(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this)
{
  std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *v1; // esi@1
  std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *v2; // ecx@1
  void *v3; // eax@1

  v1 = this;
  v2 = this->_Myhead;
  v3 = v2->_Next;
  if ( v2->_Next != v2 )
  {
    **((_DWORD **)v3 + 1) = *(_DWORD *)v3;
    *(_DWORD *)(*(_DWORD *)v3 + 4) = *((_DWORD *)v3 + 1);
    operator delete(v3);
    --v1->_Mysize;
  }
}

//----- (00406430) --------------------------------------------------------
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::pop_back(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this)
{
  std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *v1; // esi@1
  std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *v2; // ecx@1
  void *v3; // eax@1

  v1 = this;
  v2 = this->_Myhead;
  v3 = v2->_Prev;
  if ( v3 != v2 )
  {
    **((_DWORD **)v3 + 1) = *(_DWORD *)v3;
    *(_DWORD *)(*(_DWORD *)v3 + 4) = *((_DWORD *)v3 + 1);
    operator delete(v3);
    --v1->_Mysize;
  }
}

//----- (00406460) --------------------------------------------------------
const char *__thiscall std::logic_error::what(std::logic_error *this)
{
  const char *result; // eax@2

  if ( this->_Str._Myres < 0x10 )
    result = (const char *)&this->_Str._Bx;
  else
    result = *(const char **)&this->_Str._Bx._Buf[0];
  return result;
}

//----- (00406470) --------------------------------------------------------
void *__thiscall std::out_of_range::_vector_deleting_destructor_(std::out_of_range *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::length_error::_length_error(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00406490) --------------------------------------------------------
void __thiscall CSyncronizedObjectQueue::_CSyncronizedObjectQueue(CSyncronizedObjectQueue *this)
{
  CSyncronizedObjectQueue *v1; // esi@1

  v1 = this;
  CSyncronizedObjectQueue::clear(this);
  EnterCriticalSection((LPCRITICAL_SECTION)v1);
  CloseHandle(v1->m_hHandles[0]);
  CloseHandle(v1->m_hHandles[1]);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_CommandQueue);
  operator delete(v1->m_CommandQueue._Myhead);
  v1->m_CommandQueue._Myhead = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (00406510) --------------------------------------------------------
CAuthInfo *__thiscall CSyncronizedObjectQueue::dequeue(CSyncronizedObjectQueue *this, unsigned int dwMilliSecond)
{
  CSyncronizedObjectQueue *v2; // esi@1
  CAuthInfo *v3; // edi@1
  DWORD v4; // eax@1
  void **v6; // ecx@5
  void *v7; // eax@5

  v2 = this;
  v3 = 0;
  v4 = WaitForMultipleObjects(2u, this->m_hHandles, 0, dwMilliSecond);
  if ( v4 == 1 )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)v2);
    if ( v2->m_CommandQueue._Mysize )
    {
      v3 = v2->m_CommandQueue._Myhead->_Next->_Myval;
      v6 = (void **)v2->m_CommandQueue._Myhead;
      v7 = *v6;
      if ( *v6 != v6 )
      {
        **((_DWORD **)v7 + 1) = *(_DWORD *)v7;
        *(_DWORD *)(*(_DWORD *)v7 + 4) = *((_DWORD *)v7 + 1);
        operator delete(v7);
        --v2->m_CommandQueue._Mysize;
      }
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
  else
  {
    if ( v4 == -1 )
    {
      GetLastError();
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CSyncronizedObjectQueue::dequeue",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\AuthorizeUser.cpp",
        83,
        "Err:%d/Error from WaitForMultipleObject");
      return 0;
    }
  }
  return v3;
}

//----- (004065B0) --------------------------------------------------------
void __thiscall CAuthorizeUser::_CAuthorizeUser(CAuthorizeUser *this)
{
  CAuthorizeUser *v1; // esi@1
  void *v2; // ST00_4@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_AuthInfoQueue.m_hHandles[0];
  v1->m_AuthInfoQueue.m_bStop = 1;
  SetEvent(v2);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  CThreadMgr::JoinThread(&v1->m_AuthorizeThreadMgr);
  CSyncronizedObjectQueue::clear(&v1->m_AuthInfoQueue);
  CThreadMgr::_CThreadMgr(&v1->m_AuthorizeThreadMgr);
  CSyncronizedObjectQueue::_CSyncronizedObjectQueue(&v1->m_AuthInfoQueue);
}

//----- (00406640) --------------------------------------------------------
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Right, unsigned int _Roff, unsigned int _Count)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v4; // ebx@1
  unsigned int v5; // ebp@3
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *result; // eax@6
  unsigned int v7; // eax@9
  bool v8; // cf@10
  bool v9; // zf@10
  char *v10; // edx@13
  int v11; // eax@19
  void *v12; // edi@20

  v4 = this;
  if ( _Right->_Mysize < _Roff )
    std::_String_base::_Xran(&this->baseclass_0.___u0.baseclass_0);
  v5 = _Right->_Mysize - _Roff;
  if ( _Count < v5 )
    v5 = _Count;
  if ( this == _Right )
  {
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(this, _Roff + v5, 0xFFFFFFFFu);
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(v4, 0, _Roff);
    return v4;
  }
  if ( v5 > 0xFFFFFFFE )
    std::_String_base::_Xlen(&this->baseclass_0.___u0.baseclass_0);
  v7 = this->_Myres;
  if ( v7 >= v5 )
  {
    v8 = 0;
    v9 = v5 == 0;
    if ( !v5 )
    {
      this->_Mysize = 0;
      if ( v7 < 0x10 )
      {
        this->_Bx._Buf[0] = 0;
        result = this;
      }
      else
      {
        **(_BYTE **)&this->_Bx._Buf[0] = 0;
        result = this;
      }
      return result;
    }
  }
  else
  {
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Copy(this, v5, this->_Mysize);
    v8 = 0;
    v9 = v5 == 0;
  }
  if ( !(v8 | v9) )
  {
    if ( _Right->_Myres < 0x10 )
      v10 = (char *)&_Right->_Bx;
    else
      v10 = *(char **)&_Right->_Bx._Buf[0];
    v11 = (int)&v4->_Bx;
    if ( v4->_Myres < 0x10 )
      v12 = &v4->_Bx;
    else
      v12 = *(void **)v11;
    memcpy(v12, &v10[_Roff], v5);
    v8 = v4->_Myres < 0x10;
    v4->_Mysize = v5;
    if ( !v8 )
      v11 = *(_DWORD *)v11;
    *(_BYTE *)(v11 + v5) = 0;
  }
  return v4;
}

//----- (00406730) --------------------------------------------------------
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, const char *_Ptr, unsigned int _Num)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v3; // ebx@1
  unsigned int v4; // edx@1
  char *v5; // eax@2
  char *v6; // eax@5
  char *v7; // ecx@6
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *result; // eax@11
  unsigned int v9; // eax@14
  bool v10; // cf@15
  bool v11; // zf@15
  void *v12; // edi@18

  v3 = this;
  v4 = this->_Myres;
  if ( v4 < 0x10 )
    v5 = (char *)&this->_Bx;
  else
    v5 = *(char **)&this->_Bx._Buf[0];
  if ( _Ptr < v5
    || ((v6 = (char *)&this->_Bx, v4 < 0x10) ? (v7 = (char *)&this->_Bx) : (v7 = *(char **)v6), &v7[v3->_Mysize] <= _Ptr) )
  {
    if ( _Num > 0xFFFFFFFE )
      std::_String_base::_Xlen(&v3->baseclass_0.___u0.baseclass_0);
    v9 = v3->_Myres;
    if ( v9 >= _Num )
    {
      v10 = 0;
      v11 = _Num == 0;
      if ( !_Num )
      {
        v3->_Mysize = 0;
        if ( v9 < 0x10 )
        {
          v3->_Bx._Buf[0] = 0;
          result = v3;
        }
        else
        {
          **(_BYTE **)&v3->_Bx._Buf[0] = 0;
          result = v3;
        }
        return result;
      }
    }
    else
    {
      std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Copy(v3, _Num, v3->_Mysize);
      v10 = 0;
      v11 = _Num == 0;
    }
    if ( !(v10 | v11) )
    {
      if ( v3->_Myres < 0x10 )
        v12 = &v3->_Bx;
      else
        v12 = *(void **)&v3->_Bx._Buf[0];
      memcpy(v12, _Ptr, _Num);
      v10 = v3->_Myres < 0x10;
      v3->_Mysize = _Num;
      if ( !v10 )
      {
        *(_BYTE *)(*(_DWORD *)&v3->_Bx._Buf[0] + _Num) = 0;
        return v3;
      }
      v3->_Bx._Buf[_Num] = 0;
    }
    result = v3;
  }
  else
  {
    if ( v4 >= 0x10 )
      v6 = *(char **)v6;
    result = std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(v3, v3, _Ptr - v6, _Num);
  }
  return result;
}

//----- (00406820) --------------------------------------------------------
void __thiscall CSyncronizedObjectQueue::CSyncronizedObjectQueue(CSyncronizedObjectQueue *this)
{
  CSyncronizedObjectQueue *v1; // esi@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_CommandQueue._Myhead = (std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *)std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_CommandQueue);
  v1->m_CommandQueue._Mysize = 0;
  v1->m_nMaxSize = 2147483647;
  v1->m_bStop = 0;
  v1->m_hHandles[0] = CreateEventA(0, 1, 0, 0);
  v1->m_hHandles[1] = CreateSemaphoreA(0, 0, 2147483647, 0);
}

//----- (004068B0) --------------------------------------------------------
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Right)
{
  this->_Mysize = 0;
  this->_Myres = 15;
  this->_Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(this, _Right, 0, 0xFFFFFFFFu);
}

//----- (004068E0) --------------------------------------------------------
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, const char *_Ptr)
{
  return std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(this, _Ptr, strlen(_Ptr));
}

//----- (00406910) --------------------------------------------------------
void __thiscall std::logic_error::logic_error(std::logic_error *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Message)
{
  std::logic_error *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&std::logic_error::_vftable_;
  v2->_Str._Mysize = 0;
  v2->_Str._Myres = 15;
  v2->_Str._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&v2->_Str, _Message, 0, 0xFFFFFFFFu);
}
// 4640E0: using guessed type int (__thiscall *std__logic_error___vftable_)(void *p, char);

//----- (00406970) --------------------------------------------------------
CAuthorizeUser *__cdecl CAuthorizeUser::GetInstance()
{
  if ( !(_S1_2 & 1) )
  {
    _S1_2 |= 1u;
    CSyncronizedObjectQueue::CSyncronizedObjectQueue(&authorizeUser.m_AuthInfoQueue);
    CThreadMgr::CThreadMgr(&stru_472224);
    atexit(_E2_2);
  }
  return &authorizeUser;
}

//----- (004069E0) --------------------------------------------------------
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, const char *_Ptr)
{
  this->_Myres = 15;
  this->_Mysize = 0;
  this->_Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(this, _Ptr, strlen(_Ptr));
}

//----- (00406A20) --------------------------------------------------------
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_Incsize(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this, unsigned int _Count)
{
  unsigned int v2; // eax@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v5; // [sp+4Ch] [bp-4h]@2

  v2 = this->_Mysize;
  if ( 1073741823 - v2 < _Count )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "list<T> too long", 0x10u);
    v5 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  this->_Mysize = _Count + v2;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00406AC0) --------------------------------------------------------
void __thiscall std::logic_error::logic_error(std::logic_error *this, std::logic_error *__that)
{
  std::logic_error *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0, &__that->baseclass_0);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&std::logic_error::_vftable_;
  v2->_Str._Myres = 15;
  v2->_Str._Mysize = 0;
  v2->_Str._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&v2->_Str, &__that->_Str, 0, 0xFFFFFFFFu);
}
// 4640E0: using guessed type int (__thiscall *std__logic_error___vftable_)(void *p, char);

//----- (00406B30) --------------------------------------------------------
void __thiscall std::length_error::length_error(std::length_error *this, std::length_error *__that)
{
  std::length_error *v2; // esi@1

  v2 = this;
  std::logic_error::logic_error(&this->baseclass_0, &__that->baseclass_0);
  v2->baseclass_0.baseclass_0.vfptr = (exceptionVtbl *)&std::length_error::_vftable_;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00406B50) --------------------------------------------------------
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::push_front(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this, CAuthInfo *const *_Val)
{
  std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *v2; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **v3; // eax@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // edi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // ebx@1

  v2 = this;
  v3 = (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)this->_Myhead;
  v4 = *v3;
  v5 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
         (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)this,
         *v3,
         (*v3)->_Prev,
         (LogBuffer *const *)_Val);
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_Incsize(v2, 1u);
  v4->_Prev = v5;
  v5->_Prev->_Next = v5;
}

//----- (00406B90) --------------------------------------------------------
void __thiscall std::list<CAuthInfo___std::allocator<CAuthInfo__>>::push_back(std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *this, CAuthInfo *const *_Val)
{
  std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *v2; // esi@1
  std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *v3; // edi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ebx@1

  v2 = this;
  v3 = this->_Myhead;
  v4 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
         (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)this,
         (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)this->_Myhead,
         (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v3->_Prev,
         (LogBuffer *const *)_Val);
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_Incsize(v2, 1u);
  v3->_Prev = (std::_List_nod<CAuthInfo *,std::allocator<CAuthInfo *> >::_Node *)v4;
  v4->_Prev->_Next = v4;
}

//----- (00406BD0) --------------------------------------------------------
bool __thiscall CSyncronizedObjectQueue::enqueue(CSyncronizedObjectQueue *this, CAuthInfo *lpCommand, bool bPendHead)
{
  CSyncronizedObjectQueue *v3; // esi@1
  bool v4; // bl@3
  std::list<CAuthInfo *,std::allocator<CAuthInfo *> > *v5; // ecx@7
  bool result; // al@10

  v3 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( lpCommand && v3->m_nMaxSize >= v3->m_CommandQueue._Mysize )
  {
    v4 = bPendHead;
    if ( bPendHead )
      std::list<CAuthInfo___std::allocator<CAuthInfo__>>::push_front(&v3->m_CommandQueue, &lpCommand);
    else
      std::list<CAuthInfo___std::allocator<CAuthInfo__>>::push_back(&v3->m_CommandQueue, &lpCommand);
    if ( ReleaseSemaphore(v3->m_hHandles[1], 1, 0) )
    {
      LeaveCriticalSection((LPCRITICAL_SECTION)v3);
      result = 1;
    }
    else
    {
      v5 = &v3->m_CommandQueue;
      if ( v4 )
        std::list<CAuthInfo___std::allocator<CAuthInfo__>>::pop_front(v5);
      else
        std::list<CAuthInfo___std::allocator<CAuthInfo__>>::pop_back(v5);
      LeaveCriticalSection((LPCRITICAL_SECTION)v3);
      result = 0;
    }
  }
  else
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v3);
    result = 0;
  }
  return result;
}

//----- (00406CC0) --------------------------------------------------------
bool __thiscall CAuthorizeUser::AddAuthorizeUser(CAuthorizeUser *this, CAuthInfo *lpAuthInfo)
{
  return CSyncronizedObjectQueue::enqueue(&this->m_AuthInfoQueue, lpAuthInfo, 0);
}

//----- (00406CD0) --------------------------------------------------------
unsigned __int64 __thiscall CItemCreator::GetUID(CItemCreator *this)
{
  return Item::CItemFactory::GetInstance()->m_nCurrentUID;
}

//----- (00406CE0) --------------------------------------------------------
bool __thiscall CItemCreator::Initialize(CItemCreator *this)
{
  _RTL_CRITICAL_SECTION *v1; // esi@1
  CServerSetup *v2; // eax@1
  Item::CItemMgr *v3; // eax@4
  char *v5; // [sp-14h] [bp-12Ch]@2
  const char *v6; // [sp-10h] [bp-128h]@2
  char szItemScriptName[260]; // [sp+4h] [bp-114h]@2
  unsigned int v8; // [sp+108h] [bp-10h]@4
  int v9; // [sp+114h] [bp-4h]@1

  v1 = (_RTL_CRITICAL_SECTION *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v9 = 0;
  v2 = CServerSetup::GetInstance();
  if ( CServerSetup::GetServerGroup(v2) == 7 )
  {
    v6 = "./Script/Game/BGItemScript.txt";
    v5 = szItemScriptName;
  }
  else
  {
    v6 = "./Script/Game/ItemScript.txt";
    v5 = szItemScriptName;
  }
  strncpy(v5, v6, 0x104u);
  v3 = Item::CItemMgr::GetInstance();
  Item::CItemMgr::LoadItemProtoType(v3, szItemScriptName);
  LeaveCriticalSection(v1);
  __security_check_cookie(v8);
  return (char)v3;
}

//----- (00406DA0) --------------------------------------------------------
void __thiscall CItemCreator::SetUID(CItemCreator *this, unsigned __int64 dwUID)
{
  _RTL_CRITICAL_SECTION *v2; // esi@1
  Item::CItemFactory *v3; // eax@1

  v2 = (_RTL_CRITICAL_SECTION *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = Item::CItemFactory::GetInstance();
  if ( v3->m_nCurrentUID < dwUID )
    v3->m_nCurrentUID = dwUID;
  LeaveCriticalSection(v2);
}

//----- (00406E10) --------------------------------------------------------
Item::CItem *__thiscall CItemCreator::Create(CItemCreator *this, unsigned __int16 usID)
{
  _RTL_CRITICAL_SECTION *v2; // esi@1
  Item::CItemFactory *v3; // eax@1
  Item::CItem *v4; // edi@1

  v2 = (_RTL_CRITICAL_SECTION *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = Item::CItemFactory::GetInstance();
  v4 = Item::CItemFactory::CreateItem(v3, usID);
  LeaveCriticalSection(v2);
  return v4;
}

//----- (00406E70) --------------------------------------------------------
CItemCreator *__cdecl CItemCreator::GetInstance()
{
  if ( !(_S1_3 & 1) )
  {
    _S1_3 |= 1u;
    InitializeCriticalSection((LPCRITICAL_SECTION)&itemCreator);
    atexit(_E2_3);
  }
  return &itemCreator;
}

//----- (00406EB0) --------------------------------------------------------
bool __thiscall CMasterPassword::CheckMasterPassword(CMasterPassword *this, const char *szUserID, const char *szPassword, sockaddr_in *peerAddr)
{
  CMasterPassword *v4; // edi@1
  int v6; // esi@4
  unsigned int *v7; // ecx@4
  unsigned int *v8; // edx@4

  v4 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( !v4->m_szMasterPassword[0] )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v4);
    return 0;
  }
  if ( strcmp(szPassword, v4->m_szMasterPassword) )
    goto LABEL_8;
  v6 = *(_DWORD *)&peerAddr->sin_addr.S_un.S_un_b.s_b1;
  inet_ntoa(peerAddr->sin_addr);
  v7 = v4->m_AddressList._Myfirst;
  v8 = v4->m_AddressList._Mylast;
  if ( v7 == v8 )
  {
LABEL_7:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CMasterPassword::CheckMasterPassword",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\MasterPassword.cpp",
      78,
      "Can't apply master password : Unauthorized IP Address - UserName(%s), from(%15s)");
LABEL_8:
    LeaveCriticalSection((LPCRITICAL_SECTION)v4);
    return 0;
  }
  while ( v6 != *v7 )
  {
    ++v7;
    if ( v7 == v8 )
      goto LABEL_7;
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_DETAIL,
    "CMasterPassword::CheckMasterPassword",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\MasterPassword.cpp",
    72,
    "Used master password : UserName(%s), from(%15s)");
  LeaveCriticalSection((LPCRITICAL_SECTION)v4);
  return 1;
}

//----- (00407000) --------------------------------------------------------
void __thiscall CMasterPassword::_CMasterPassword(CMasterPassword *this)
{
  CMasterPassword *v1; // esi@1

  v1 = this;
  if ( this->m_AddressList._Myfirst )
    operator delete(this->m_AddressList._Myfirst);
  v1->m_AddressList._Myfirst = 0;
  v1->m_AddressList._Mylast = 0;
  v1->m_AddressList._Myend = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (00407040) --------------------------------------------------------
void __thiscall CMasterPassword::Init(CMasterPassword *this)
{
  CMasterPassword *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( v1->m_AddressList._Myfirst )
    operator delete(v1->m_AddressList._Myfirst);
  v1->m_AddressList._Myfirst = 0;
  v1->m_AddressList._Mylast = 0;
  v1->m_AddressList._Myend = 0;
  *(_DWORD *)&v1->m_szMasterPassword[0] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[4] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[8] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[12] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[16] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[20] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[24] = 0;
  *(_DWORD *)&v1->m_szMasterPassword[28] = 0;
  v1->m_szMasterPassword[32] = 0;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (004070A0) --------------------------------------------------------
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::_Xlen(std::vector<unsigned long,std::allocator<unsigned long> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00407110) --------------------------------------------------------
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::_Insert_n(std::vector<unsigned long,std::allocator<unsigned long> > *this, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Where, unsigned int _Count, const unsigned int *_Val)
{
  std::vector<unsigned long,std::allocator<unsigned long> > *v4; // esi@1
  unsigned int *v5; // edx@1
  signed int v6; // eax@2
  unsigned int v7; // edi@4
  signed int v8; // ecx@6
  int v9; // ecx@11
  int v10; // eax@15
  int v11; // ecx@18
  int v12; // eax@22
  void *v13; // eax@25
  unsigned int v14; // ebp@25
  int v15; // eax@25
  int *v16; // eax@25
  unsigned int *v17; // eax@25
  int v18; // ecx@26
  int v19; // edi@28
  int v20; // ebp@31
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v21; // ebx@31
  int v22; // edx@31
  unsigned int v23; // eax@31
  int v24; // ecx@32
  int *v25; // edi@33
  void *_Newvec; // [sp+0h] [bp-4h]@25
  unsigned int _Wherea; // [sp+8h] [bp+4h]@31
  int _Counta; // [sp+Ch] [bp+8h]@25

  v4 = this;
  v5 = this->_Myfirst;
  _Val = (const unsigned int *)*_Val;
  if ( v5 )
    v6 = this->_Myend - v5;
  else
    v6 = 0;
  v7 = _Count;
  if ( _Count )
  {
    if ( v5 )
      v8 = this->_Mylast - v5;
    else
      v8 = 0;
    if ( 1073741823 - v8 < _Count )
      std::vector<unsigned_long_std::allocator<unsigned_long>>::_Xlen(v4);
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( v6 >= _Count + v9 )
    {
      v20 = (int)v4->_Mylast;
      v21 = _Where;
      v22 = (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2;
      v23 = 4 * _Count;
      _Wherea = 4 * _Count;
      if ( v22 >= _Count )
      {
        v25 = (int *)(v20 - v23);
        v4->_Mylast = (unsigned int *)std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
                                        (char *)(v20 - v23),
                                        v20,
                                        (char *)v20);
        std::copy_backward<char_____char____>(*(int **)&v21, v25, (int *)v20);
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(*(_DWORD *)&v21 + _Wherea),
          (const int *)&_Val);
      }
      else
      {
        std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
          *(char **)&v21,
          v20,
          (char *)(*(_DWORD *)&v21 + v23));
        std::vector<char___std::allocator<char__>>::_Ufill(
          (std::vector<int,std::allocator<int> > *)v4,
          (int *)v4->_Mylast,
          _Count - ((signed int)((char *)v4->_Mylast - *(_DWORD *)&v21) >> 2),
          (const int *)&_Val);
        v24 = (int)&v4->_Mylast[_Wherea / 4];
        v4->_Mylast = (unsigned int *)v24;
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(v24 - _Wherea),
          (const int *)&_Val);
      }
    }
    else
    {
      if ( 1073741823 - ((unsigned int)v6 >> 1) >= v6 )
        v10 = ((unsigned int)v6 >> 1) + v6;
      else
        v10 = 0;
      if ( v5 )
        v11 = v4->_Mylast - v5;
      else
        v11 = 0;
      if ( v10 < _Count + v11 )
      {
        if ( v5 )
          v12 = v4->_Mylast - v5;
        else
          v12 = 0;
        v10 = _Count + v12;
      }
      _Counta = 4 * v10;
      v13 = operator new(4 * v10);
      v14 = 4 * ((signed int)(*(_DWORD *)&_Where - (unsigned int)v4->_Myfirst) >> 2);
      _Newvec = v13;
      memmove((char *)v13, (char *)v4->_Myfirst, v14);
      v16 = std::vector<char___std::allocator<char__>>::_Ufill(
              (std::vector<int,std::allocator<int> > *)v4,
              (int *)(v14 + v15),
              v7,
              (const int *)&_Val);
      memmove((char *)v16, *(char **)&_Where, 4 * ((signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2));
      v17 = v4->_Myfirst;
      if ( v17 )
        v18 = v4->_Mylast - v17;
      else
        v18 = 0;
      v19 = v18 + v7;
      if ( v17 )
        operator delete(v4->_Myfirst);
      v4->_Myend = (unsigned int *)((char *)_Newvec + _Counta);
      v4->_Mylast = (unsigned int *)((char *)_Newvec + 4 * v19);
      v4->_Myfirst = (unsigned int *)_Newvec;
    }
  }
}

//----- (004072F0) --------------------------------------------------------
void __thiscall CMasterPassword::CMasterPassword(CMasterPassword *this)
{
  CMasterPassword *v1; // esi@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_AddressList._Myfirst = 0;
  v1->m_AddressList._Mylast = 0;
  v1->m_AddressList._Myend = 0;
  CMasterPassword::Init(v1);
}

//----- (00407340) --------------------------------------------------------
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::push_back(std::vector<unsigned long,std::allocator<unsigned long> > *this, const unsigned int *_Val)
{
  unsigned int *v2; // esi@1
  signed int v3; // edx@2
  unsigned int *v4; // eax@6

  v2 = this->_Myfirst;
  if ( v2 )
    v3 = this->_Mylast - v2;
  else
    v3 = 0;
  if ( v2 && v3 < this->_Myend - v2 )
  {
    v4 = this->_Mylast;
    *v4 = *_Val;
    this->_Mylast = v4 + 1;
  }
  else
  {
    std::vector<unsigned_long_std::allocator<unsigned_long>>::_Insert_n(
      this,
      (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)this->_Mylast,
      1u,
      _Val);
  }
}

//----- (00407390) --------------------------------------------------------
void __thiscall CMasterPassword::Process(CMasterPassword *this, const char *szCommand, const char *szValue)
{
  CMasterPassword *v3; // ebx@1

  v3 = this;
  if ( szCommand && szValue && strncmp(szCommand, "//", 3) )
  {
    if ( strncmp(szCommand, "MASTER_PASSWORD", 16) )
    {
      if ( !strncmp(szCommand, "ALLOWED_IP", 11) )
      {
        szCommand = (const char *)inet_addr(szValue);
        std::vector<unsigned_long_std::allocator<unsigned_long>>::push_back(
          &v3->m_AddressList,
          (const unsigned int *)&szCommand);
      }
    }
    else
    {
      strncpy(v3->m_szMasterPassword, szValue, 0x20u);
      v3->m_szMasterPassword[32] = 0;
    }
  }
}

//----- (00407440) --------------------------------------------------------
bool __thiscall CMasterPassword::LoadMasterPassword(CMasterPassword *this, const char *szTextFileName)
{
  CMasterPassword *v2; // edi@1
  _iobuf *v3; // eax@1
  _iobuf *v4; // ebx@1
  char *v5; // esi@3
  char *v6; // eax@3
  bool result; // al@6
  char szRead[4096]; // [sp+4h] [bp-1010h]@2
  unsigned int v9; // [sp+1004h] [bp-10h]@6
  int v10; // [sp+1010h] [bp-4h]@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v10 = 0;
  v3 = fopen(szTextFileName, "rt");
  v4 = v3;
  if ( v3 )
  {
    if ( fgets(szRead, 4096, v3) )
    {
      do
      {
        v5 = strtok(szRead, " =\t\n\r");
        v6 = strtok(0, " =\t\n\r");
        CMasterPassword::Process(v2, v5, v6);
      }
      while ( fgets(szRead, 4096, v4) );
    }
    fclose(v4);
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
  else
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
  __security_check_cookie(v9);
  return result;
}

//----- (00407550) --------------------------------------------------------
void __thiscall CRylAuthServerProcess::CRylAuthServerProcess(CRylAuthServerProcess *this, CRylAuthServer *RylAuthServer, unsigned int dwProcessTick)
{
  CRylAuthServerProcess *v3; // esi@1

  v3 = this;
  CProcessThread::CProcessThread(&this->baseclass_0, &RylAuthServer->baseclass_0, dwProcessTick);
  v3->m_RylAuthServer = RylAuthServer;
  v3->baseclass_0.baseclass_0.vfptr = (CThreadVtbl *)&CRylAuthServerProcess::_vftable_;
}
// 452770: using guessed type int (__thiscall *CRylAuthServerProcess___vftable_)(void *p, char);

//----- (00407580) --------------------------------------------------------
int __thiscall CProcessThread::End(CProcessThread *this)
{
  InterlockedExchange(&this->m_bExit, 1);
  return 1;
}

//----- (004075A0) --------------------------------------------------------
void __thiscall CRylAuthServerProcess::Cleanup(CRylAuthServerProcess *this, CPulse *Pulse)
{
  CLimitUserByIP *v2; // ecx@1

  v2 = this->m_RylAuthServer->m_lpLimitUserByIP;
  if ( v2 )
    CLimitUserByIP::OperateMode(v2, DENY_ALL);
}

//----- (004075C0) --------------------------------------------------------
void __thiscall CRylAuthServer::CRylAuthServer(CRylAuthServer *this)
{
  CRylAuthServer *v1; // esi@1
  void *v2; // eax@1
  CLimitUserByIP *v3; // eax@2

  v1 = this;
  CServerWindowFramework::CServerWindowFramework(&this->baseclass_0);
  v1->baseclass_0.vfptr = (CServerWindowFrameworkVtbl *)&CRylAuthServer::_vftable_;
  v1->m_lpDBASessionPolicy = 0;
  v1->m_lpUserSessionPolicy = 0;
  v2 = operator new(0x34u);
  if ( v2 )
    CLimitUserByIP::CLimitUserByIP((CLimitUserByIP *)v2, 0);
  else
    v3 = 0;
  v1->m_bInitializedClientListener = 0;
  v1->m_lpLimitUserByIP = v3;
}
// 452784: using guessed type int (__thiscall *CRylAuthServer___vftable_)(void *p, char);

//----- (00407640) --------------------------------------------------------
void __thiscall CRylAuthServer::_CRylAuthServer(CRylAuthServer *this)
{
  CRylAuthServer *v1; // esi@1
  CSessionPolicy *v2; // ecx@1
  CSessionPolicy *v3; // ecx@3
  CValidateConnection *v4; // ecx@5

  v1 = this;
  this->baseclass_0.vfptr = (CServerWindowFrameworkVtbl *)&CRylAuthServer::_vftable_;
  v2 = this->m_lpUserSessionPolicy;
  if ( v2 )
  {
    CSessionPolicy::Release(v2);
    v1->m_lpUserSessionPolicy = 0;
  }
  v3 = v1->m_lpDBASessionPolicy;
  if ( v3 )
  {
    CSessionPolicy::Release(v3);
    v1->m_lpDBASessionPolicy = 0;
  }
  v4 = (CValidateConnection *)v1->m_lpLimitUserByIP;
  if ( v4 )
  {
    CValidateConnection::Release(v4);
    v1->m_lpLimitUserByIP = 0;
  }
  CServerWindowFramework::_CServerWindowFramework(&v1->baseclass_0);
}
// 452784: using guessed type int (__thiscall *CRylAuthServer___vftable_)(void *p, char);

//----- (004076D0) --------------------------------------------------------
void __thiscall CRylAuthServer::PrintStatistics(CRylAuthServer *this)
{
  CServerWindowFramework *v1; // edi@1
  CIOCPNet *v2; // esi@1

  v1 = (CServerWindowFramework *)this;
  v2 = this->baseclass_0.m_lpIOCPNet;
  if ( v2 )
  {
    CIOCPNet::GetSessionNum(this->baseclass_0.m_lpIOCPNet);
    CIOCPNet::GetAcceptPendingNum(v2);
    CServerWindowFramework::PrintOutput(v1, "Accept Pending : %d / Session : %d");
  }
}

//----- (00407700) --------------------------------------------------------
void __thiscall CRylAuthServer::ReloadSetup(CRylAuthServer *this)
{
  CServerWindowFramework *v1; // esi@1
  CServerSetup *v2; // eax@1

  v1 = (CServerWindowFramework *)this;
  v2 = CServerSetup::GetInstance();
  if ( CServerSetup::Initialize(v2, AuthServer) )
    CServerWindowFramework::PrintOutput(v1, "ServerSetup reload success.");
  else
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CRylAuthServer::ReloadSetup",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServer.cpp",
      342,
      "ServerSetup reinitialize failed.");
}

//----- (00407750) --------------------------------------------------------
void *__thiscall CRylAuthServerProcess::_scalar_deleting_destructor_(CRylAuthServerProcess *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CRylAuthServerProcess::_CRylAuthServerProcess(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00407780) --------------------------------------------------------
void *__thiscall CRylAuthServer::_scalar_deleting_destructor_(CRylAuthServer *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CRylAuthServer::_CRylAuthServer(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (004077A0) --------------------------------------------------------
void __thiscall CRylAuthServer::PrintServerInfo(CRylAuthServer *this)
{
  CServerWindowFramework *v1; // ebx@1
  unsigned int v2; // ST10_4@1
  int v3; // esi@1
  CSingleDispatch *v4; // eax@1
  CAuthAgentServerTable *v5; // eax@2
  int v6; // esi@2
  const char *v7; // [sp-4h] [bp-51Ch]@4
  RylServerInfo AgentServerInfo; // [sp+10h] [bp-508h]@2
  char szBuffer[1024]; // [sp+110h] [bp-408h]@1

  v1 = (CServerWindowFramework *)this;
  szBuffer[0] = 0;
  memset(&szBuffer[1], 0, 0x3FCu);
  *(_WORD *)&szBuffer[1021] = 0;
  szBuffer[1023] = 0;
  v2 = CServerSetup::GetInstance()->m_dwUserLimit;
  v3 = _snprintf(szBuffer, 0x400u, "@ Limit Players : %d\r\n%s");
  v4 = CAuthAgentDispatch::GetDispatchTable();
  if ( CSingleDispatch::GetDispatchNum(v4) )
  {
    RylServerInfo::RylServerInfo(&AgentServerInfo);
    v5 = CAuthAgentServerTable::GetInstance();
    CAuthAgentServerTable::GetAgentServerInfo(v5, &AgentServerInfo);
    v6 = _snprintf(&szBuffer[v3], 1024 - v3, "Client Version : %d, CheckSum : 0x%08X\r\nPatchAddress : %10s\r\n") + v3;
    if ( AgentServerInfo.m_usChannelNum )
      _snprintf(&szBuffer[v6], 1024 - v6, "  Human: %4d, Akhan: %4d, Total: %4d\r\n");
    v7 = szBuffer;
  }
  else
  {
    v7 = "There is no DBAgent Server\r\n";
  }
  CServerWindowFramework::PrintInfo(v1, v7);
}

//----- (004078E0) --------------------------------------------------------
CRylAuthServer *__cdecl CRylAuthServer::GetInstance()
{
  if ( !(_S1_4 & 1) )
  {
    _S1_4 |= 1u;
    CRylAuthServer::CRylAuthServer(&rylAuthServer);
    atexit(_E2_4);
  }
  return &rylAuthServer;
}

//----- (00407940) --------------------------------------------------------
void __thiscall CRylAuthServerProcess::InternalRun(CRylAuthServerProcess *this, CPulse *Pulse)
{
  int v2; // esi@1
  unsigned int v3; // edi@1
  CRylAuthServerProcess *v4; // ebp@1
  CGameLog *v5; // eax@1
  CIOCPNet *v6; // ebx@2
  CPerformanceCheck *v7; // eax@5
  signed int v8; // esi@7
  CSingleDispatch *v9; // eax@7
  CServerWindowFramework *Pulsea; // [sp+10h] [bp+4h]@2

  v2 = Pulse->m_nTicksPerSec;
  v3 = Pulse->m_dwPulse;
  v4 = this;
  v5 = CGameLog::GetInstance();
  time(&v5->m_time);
  if ( !(v3 % (2 * v2)) )
  {
    CRylAuthServer::PrintServerInfo(v4->m_RylAuthServer);
    v6 = v4->m_RylAuthServer->baseclass_0.m_lpIOCPNet;
    Pulsea = (CServerWindowFramework *)v4->m_RylAuthServer;
    if ( v6 )
    {
      CIOCPNet::GetSessionNum(v6);
      CIOCPNet::GetAcceptPendingNum(v6);
      CServerWindowFramework::PrintOutput(Pulsea, "Accept Pending : %d / Session : %d");
    }
  }
  if ( !(v3 % (1200 * v2)) )
  {
    v7 = CPerformanceCheck::GetInstance();
    CPerformanceCheck::PrintAllTime(v7, "RylAuthServer", 1);
  }
  if ( !(v3 % (5 * v2)) )
  {
    v8 = 0;
    v9 = CAuthAgentDispatch::GetDispatchTable();
    if ( CSingleDispatch::GetDispatchNum(v9) )
      v8 = 8;
    v4->m_RylAuthServer->baseclass_0.m_dwServerStatus = v8;
  }
}

//----- (00407A00) --------------------------------------------------------
bool __thiscall boost::pool<boost::default_user_allocator_new_delete>::purge_memory(boost::pool<boost::default_user_allocator_new_delete> *this)
{
  boost::pool<boost::default_user_allocator_new_delete> *v1; // ebx@1
  void *v2; // eax@1
  unsigned int v3; // ecx@1
  bool result; // al@2
  void *v5; // esi@3
  unsigned int v6; // edi@3

  v1 = this;
  v2 = this->list.ptr;
  v3 = this->list.sz;
  if ( v2 )
  {
    do
    {
      v5 = *(void **)((char *)v2 + v3 - 8);
      v6 = *(_DWORD *)((char *)v2 + v3 - 4);
      operator delete__(v2);
      v2 = v5;
      v3 = v6;
    }
    while ( v5 );
    v1->list.ptr = 0;
    v1->baseclass_0.first = 0;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00407A40) --------------------------------------------------------
CPacketDispatch *__thiscall CPoolDispatchFactory<CAuthClientDispatch>::CreateDispatch(CPoolDispatchFactory<CAuthClientDispatch> *this, CSession *Session)
{
  boost::pool<boost::default_user_allocator_new_delete> *v2; // ecx@1
  void *v3; // eax@1
  CPacketDispatch *result; // eax@5

  v2 = &this->m_DispatchPool;
  v3 = v2->baseclass_0.first;
  if ( v2->baseclass_0.first )
    v2->baseclass_0.first = *(void **)v3;
  else
    v3 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v2);
  if ( v3 )
    CAuthClientDispatch::CAuthClientDispatch((CAuthClientDispatch *)v3, Session);
  else
    result = 0;
  return result;
}

//----- (00407AB0) --------------------------------------------------------
void *__thiscall boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(boost::pool<boost::default_user_allocator_new_delete> *this)
{
  boost::pool<boost::default_user_allocator_new_delete> *v1; // edi@1
  unsigned int v2; // eax@1
  unsigned int v3; // ebp@1
  unsigned int v4; // ebx@1
  void *result; // eax@1
  void *v6; // esi@1
  void *v7; // ecx@2
  char *v8; // eax@2
  int v9; // ecx@3
  char *v10; // edx@6
  boost::details::PODptr<unsigned int> node; // [sp+10h] [bp-8h]@2

  v1 = this;
  v2 = boost::pool<boost::default_user_allocator_new_delete>::alloc_size(this);
  v3 = v2;
  v4 = v2 * v1->next_size + 8;
  result = operator new__(v2 * v1->next_size + 8, &std::nothrow);
  v6 = result;
  if ( result )
  {
    v1->next_size *= 2;
    v7 = v1->baseclass_0.first;
    node.ptr = (char *)result;
    node.sz = v4;
    v8 = (char *)result + v3 * (v4 - v3 - 8) / v3;
    *(_DWORD *)v8 = v7;
    if ( v8 != v6 )
    {
      v9 = (int)&v8[-v3];
      if ( &v8[-v3] != v6 )
      {
        do
        {
          *(_DWORD *)v9 = v8;
          v8 = (char *)v9;
          v9 -= v3;
        }
        while ( (void *)v9 != v6 );
      }
      *(_DWORD *)v6 = v8;
    }
    v1->baseclass_0.first = v6;
    boost::details::PODptr<unsigned_int>::next(&node, &v1->list);
    v10 = node.ptr;
    v1->list.sz = node.sz;
    result = v1->baseclass_0.first;
    v1->list.ptr = v10;
    v1->baseclass_0.first = *(void **)result;
  }
  return result;
}

//----- (00407B50) --------------------------------------------------------
unsigned int __thiscall boost::pool<boost::default_user_allocator_new_delete>::alloc_size(boost::pool<boost::default_user_allocator_new_delete> *this)
{
  unsigned int v1; // edi@1
  unsigned int v2; // ecx@1
  unsigned int v3; // eax@1
  int v4; // edx@2
  unsigned int v5; // esi@2

  v1 = this->requested_size;
  v2 = 4;
  v3 = v1;
  do
  {
    v4 = v3 % v2;
    v5 = v2;
    v3 = v2;
    v2 = v4;
  }
  while ( v4 );
  return 4 * v1 / v5;
}

//----- (00407B80) --------------------------------------------------------
void __thiscall boost::details::PODptr<unsigned_int>::next(boost::details::PODptr<unsigned int> *this, boost::details::PODptr<unsigned int> *arg)
{
  *(_DWORD *)&this->ptr[this->sz - 8] = arg->ptr;
  *(_DWORD *)&this->ptr[this->sz - 4] = arg->sz;
}

//----- (00407BB0) --------------------------------------------------------
void __thiscall CPoolDispatchFactory<CAuthAgentDispatch>::DeleteDispatch(CPoolDispatchFactory<CAuthAgentDispatch> *this, CPacketDispatch *lpDispatch)
{
  CPoolDispatchFactory<CAuthAgentDispatch> *v2; // edi@1

  v2 = this;
  lpDispatch->vfptr->__vecDelDtor(lpDispatch, 0);
  lpDispatch->vfptr = (CPacketDispatchVtbl *)v2->m_DispatchPool.baseclass_0.first;
  v2->m_DispatchPool.baseclass_0.first = lpDispatch;
}

//----- (00407BD0) --------------------------------------------------------
CPacketDispatch *__thiscall CPoolDispatchFactory<CAuthAgentDispatch>::CreateDispatch(CPoolDispatchFactory<CAuthAgentDispatch> *this, CSession *Session)
{
  boost::pool<boost::default_user_allocator_new_delete> *v2; // ecx@1
  void *v3; // eax@1
  CPacketDispatch *result; // eax@5

  v2 = &this->m_DispatchPool;
  v3 = v2->baseclass_0.first;
  if ( v2->baseclass_0.first )
    v2->baseclass_0.first = *(void **)v3;
  else
    v3 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v2);
  if ( v3 )
    CAuthAgentDispatch::CAuthAgentDispatch((CAuthAgentDispatch *)v3, Session);
  else
    result = 0;
  return result;
}

//----- (00407C40) --------------------------------------------------------
void *__thiscall CPoolDispatchFactory<CAuthClientDispatch>::_scalar_deleting_destructor_(CPoolDispatchFactory<CAuthClientDispatch> *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CPoolDispatchFactory<CAuthClientDispatch>::_CPoolDispatchFactory<CAuthClientDispatch>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00407C60) --------------------------------------------------------
void __thiscall CPoolDispatchFactory<CAuthClientDispatch>::_CPoolDispatchFactory<CAuthClientDispatch>(CPoolDispatchFactory<CAuthClientDispatch> *this)
{
  CPoolDispatchFactory<CAuthClientDispatch> *v1; // esi@1

  v1 = this;
  this->baseclass_0.vfptr = (CDispatchFactoryVtbl *)&CPoolDispatchFactory<CAuthClientDispatch>::_vftable_;
  boost::pool<boost::default_user_allocator_new_delete>::purge_memory(&this->m_DispatchPool);
  v1->baseclass_0.vfptr = (CDispatchFactoryVtbl *)CDispatchFactory::_vftable_;
}
// 452764: using guessed type int (*CDispatchFactory___vftable_[3])();
// 45292C: using guessed type int (__thiscall *CPoolDispatchFactory_CAuthClientDispatch____vftable_)(void *p, char);

//----- (00407C80) --------------------------------------------------------
void *__thiscall CPoolDispatchFactory<CAuthAgentDispatch>::_vector_deleting_destructor_(CPoolDispatchFactory<CAuthAgentDispatch> *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CPoolDispatchFactory<CAuthAgentDispatch>::_CPoolDispatchFactory<CAuthAgentDispatch>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00407CA0) --------------------------------------------------------
void __thiscall CPoolDispatchFactory<CAuthAgentDispatch>::_CPoolDispatchFactory<CAuthAgentDispatch>(CPoolDispatchFactory<CAuthAgentDispatch> *this)
{
  CPoolDispatchFactory<CAuthAgentDispatch> *v1; // esi@1

  v1 = this;
  this->baseclass_0.vfptr = (CDispatchFactoryVtbl *)&CPoolDispatchFactory<CAuthAgentDispatch>::_vftable_;
  boost::pool<boost::default_user_allocator_new_delete>::purge_memory(&this->m_DispatchPool);
  v1->baseclass_0.vfptr = (CDispatchFactoryVtbl *)CDispatchFactory::_vftable_;
}
// 452764: using guessed type int (*CDispatchFactory___vftable_[3])();
// 452938: using guessed type int (__thiscall *CPoolDispatchFactory_CAuthAgentDispatch____vftable_)(void *p, char);

//----- (00407CC0) --------------------------------------------------------
void __thiscall std::list<CCommand___std::allocator<CCommand__>>::_Incsize(std::list<CCommand *,std::allocator<CCommand *> > *this, unsigned int _Count)
{
  unsigned int v2; // eax@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v5; // [sp+4Ch] [bp-4h]@2

  v2 = this->_Mysize;
  if ( 1073741823 - v2 < _Count )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "list<T> too long", 0x10u);
    v5 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  this->_Mysize = _Count + v2;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00407D60) --------------------------------------------------------
int __cdecl CSessionPolicy::Create<CTCPFactory_CPoolBufferFactory_CPoolDispatchFactory<CAuthClientDispatch>_CStreamOverlappedFactory>()
{
  void *v0; // eax@2
  COverlappedFactory *v1; // eax@3
  COverlappedFactory *v2; // ebp@3
  void *v3; // eax@5
  CDispatchFactory *v4; // edi@6
  void *v5; // eax@8
  CBufferFactory *v6; // eax@9
  CBufferFactory *v7; // esi@9
  void *v8; // eax@11
  CSocketFactory *v9; // eax@12
  int v10; // eax@14
  int v11; // esi@14
  void *this; // [sp+8h] [bp-14h]@1

  this = operator new(0x14u, &std::nothrow);
  if ( this )
  {
    v0 = operator new(0x28u);
    if ( v0 )
    {
      CStreamOverlappedFactory::CStreamOverlappedFactory((CStreamOverlappedFactory *)v0);
      v2 = v1;
    }
    else
    {
      v2 = 0;
    }
    v3 = operator new(0x18u);
    if ( v3 )
    {
      *(_DWORD *)v3 = &CPoolDispatchFactory<CAuthClientDispatch>::_vftable_;
      *((_DWORD *)v3 + 1) = 0;
      *((_DWORD *)v3 + 2) = 0;
      *((_DWORD *)v3 + 3) = 0;
      *((_DWORD *)v3 + 4) = 676;
      *((_DWORD *)v3 + 5) = 32;
      v4 = (CDispatchFactory *)v3;
    }
    else
    {
      v4 = 0;
    }
    v5 = operator new(0x30u);
    if ( v5 )
    {
      CPoolBufferFactory::CPoolBufferFactory((CPoolBufferFactory *)v5);
      v7 = v6;
    }
    else
    {
      v7 = 0;
    }
    v8 = operator new(0x14u);
    if ( v8 )
      CTCPFactory::CTCPFactory((CTCPFactory *)v8);
    else
      v9 = 0;
    CSessionPolicy::CSessionPolicy((CSessionPolicy *)this, v9, v7, v4, v2);
    v11 = v10;
  }
  else
  {
    v11 = 0;
  }
  if ( !v11 )
    return 0;
  if ( !*(_DWORD *)(v11 + 4) || !*(_DWORD *)v11 || !*(_DWORD *)(v11 + 8) || !*(_DWORD *)(v11 + 12) )
  {
    CSessionPolicy::_CSessionPolicy((CSessionPolicy *)v11);
    operator delete((void *)v11);
    return 0;
  }
  return v11;
}
// 45292C: using guessed type int (__thiscall *CPoolDispatchFactory_CAuthClientDispatch____vftable_)(void *p, char);

//----- (00407EB0) --------------------------------------------------------
int __cdecl CSessionPolicy::Create<CTCPFactory_CPoolBufferFactory_CPoolDispatchFactory<CAuthAgentDispatch>_CStreamOverlappedFactory>()
{
  void *v0; // eax@2
  COverlappedFactory *v1; // eax@3
  COverlappedFactory *v2; // ebp@3
  void *v3; // eax@5
  CDispatchFactory *v4; // edi@6
  void *v5; // eax@8
  CBufferFactory *v6; // eax@9
  CBufferFactory *v7; // esi@9
  void *v8; // eax@11
  CSocketFactory *v9; // eax@12
  int v10; // eax@14
  int v11; // esi@14
  void *this; // [sp+8h] [bp-14h]@1

  this = operator new(0x14u, &std::nothrow);
  if ( this )
  {
    v0 = operator new(0x28u);
    if ( v0 )
    {
      CStreamOverlappedFactory::CStreamOverlappedFactory((CStreamOverlappedFactory *)v0);
      v2 = v1;
    }
    else
    {
      v2 = 0;
    }
    v3 = operator new(0x18u);
    if ( v3 )
    {
      *(_DWORD *)v3 = &CPoolDispatchFactory<CAuthAgentDispatch>::_vftable_;
      *((_DWORD *)v3 + 1) = 0;
      *((_DWORD *)v3 + 2) = 0;
      *((_DWORD *)v3 + 3) = 0;
      *((_DWORD *)v3 + 4) = 80;
      *((_DWORD *)v3 + 5) = 32;
      v4 = (CDispatchFactory *)v3;
    }
    else
    {
      v4 = 0;
    }
    v5 = operator new(0x30u);
    if ( v5 )
    {
      CPoolBufferFactory::CPoolBufferFactory((CPoolBufferFactory *)v5);
      v7 = v6;
    }
    else
    {
      v7 = 0;
    }
    v8 = operator new(0x14u);
    if ( v8 )
      CTCPFactory::CTCPFactory((CTCPFactory *)v8);
    else
      v9 = 0;
    CSessionPolicy::CSessionPolicy((CSessionPolicy *)this, v9, v7, v4, v2);
    v11 = v10;
  }
  else
  {
    v11 = 0;
  }
  if ( !v11 )
    return 0;
  if ( !*(_DWORD *)(v11 + 4) || !*(_DWORD *)v11 || !*(_DWORD *)(v11 + 8) || !*(_DWORD *)(v11 + 12) )
  {
    CSessionPolicy::_CSessionPolicy((CSessionPolicy *)v11);
    operator delete((void *)v11);
    return 0;
  }
  return v11;
}
// 452938: using guessed type int (__thiscall *CPoolDispatchFactory_CAuthAgentDispatch____vftable_)(void *p, char);

//----- (00408000) --------------------------------------------------------
void __thiscall CRylAuthServer::InitializeClientListener(CRylAuthServer *this)
{
  CRylAuthServer *v1; // esi@1
  CIOCPNet *v2; // edi@2
  const char *v3; // eax@3
  CSessionPolicy *v4; // ecx@7
  int v5; // eax@9
  CValidateConnection *v6; // ST14_4@9

  v1 = this;
  if ( !this->m_bInitializedClientListener )
  {
    v2 = this->baseclass_0.m_lpIOCPNet;
    if ( v2 )
    {
      v4 = this->m_lpUserSessionPolicy;
      if ( v4 )
        CSessionPolicy::Release(v4);
      v5 = CSessionPolicy::Create<CTCPFactory_CPoolBufferFactory_CPoolDispatchFactory<CAuthClientDispatch>_CStreamOverlappedFactory>();
      v6 = (CValidateConnection *)v1->m_lpLimitUserByIP;
      v1->m_lpUserSessionPolicy = (CSessionPolicy *)v5;
      if ( CIOCPNet::AddListener(v2, (CSessionPolicy *)v5, 0, 0x277Eu, 0xAu, v6) )
      {
        v1->m_bInitializedClientListener = 1;
        return;
      }
      v3 = "AddListener failed";
    }
    else
    {
      v3 = "IOCPNet is null";
    }
    if ( v3 )
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CRylAuthServer::InitializeClientListener",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServer.cpp",
        229,
        v3);
  }
}

//----- (00408090) --------------------------------------------------------
void __thiscall CRylAuthServer::ConnectToDBAgent(CRylAuthServer *this)
{
  CRylAuthServer *v1; // esi@1
  CSingleDispatch *v2; // eax@1
  CIOCPNet *v3; // ebp@3
  const char *v4; // eax@4
  CSessionPolicy *v5; // ecx@5
  CServerSetup *v6; // edi@7
  char *v7; // ebx@7
  unsigned __int16 v8; // ax@7
  CSingleDispatch::Storage StoragelpAgentDispatch; // [sp+0h] [bp-14h]@1
  int v10; // [sp+10h] [bp-4h]@1

  v1 = this;
  v2 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAgentDispatch, v2);
  v10 = 0;
  if ( (_DWORD)StoragelpAgentDispatch.m_lpDispatch )
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CRylAuthServer::ConnectToDBAgent",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServer.cpp",
      244,
      "this:0x%p/Already connected to DBAgent server");
  v3 = v1->baseclass_0.m_lpIOCPNet;
  if ( !v3 )
  {
    v4 = "this:0x%p/IOCPNet is null";
    goto LABEL_9;
  }
  v5 = v1->m_lpDBASessionPolicy;
  if ( v5 )
    CSessionPolicy::Release(v5);
  v1->m_lpDBASessionPolicy = (CSessionPolicy *)CSessionPolicy::Create<CTCPFactory_CPoolBufferFactory_CPoolDispatchFactory<CAuthAgentDispatch>_CStreamOverlappedFactory>();
  v6 = CServerSetup::GetInstance();
  v7 = inet_ntoa(*(struct in_addr *)&v6->m_ServerAddress[3].m_SockAddr.sa_data[2]);
  v8 = ntohs(*(_WORD *)&v6->m_ServerAddress[3].m_SockAddr.sa_data[0]);
  if ( !CIOCPNet::Connect(v3, v1->m_lpDBASessionPolicy, v7, v8) )
  {
    v4 = "this:0x%p/Cannot connect to DBAgent server";
LABEL_9:
    if ( v4 )
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CRylAuthServer::ConnectToDBAgent",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServer.cpp",
        276,
        v4);
  }
  v10 = -1;
  CSingleDispatch::Storage::_Storage(&StoragelpAgentDispatch);
}

//----- (004081A0) --------------------------------------------------------
void __thiscall CCommandProcess::Add(CCommandProcess *this, CCommand *lpNewCMD)
{
  CCommandProcess *v2; // esi@1
  std::_List_nod<CCommand *,std::allocator<CCommand *> >::_Node *v3; // ebx@2
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ebp@2

  v2 = this;
  if ( lpNewCMD )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    v3 = v2->m_CMDList._Myhead;
    v4 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
           (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v2->m_CMDList,
           (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v2->m_CMDList._Myhead,
           (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v3->_Prev,
           (LogBuffer *const *)&lpNewCMD);
    std::list<CCommand___std::allocator<CCommand__>>::_Incsize(&v2->m_CMDList, 1u);
    v3->_Prev = (std::_List_nod<CCommand *,std::allocator<CCommand *> >::_Node *)v4;
    v4->_Prev->_Next = v4;
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
}

//----- (00408220) --------------------------------------------------------
bool __thiscall CRylAuthServer::ApplicationSpecificInit(CRylAuthServer *this, const char *szCmdLine)
{
  CRylAuthServer *v2; // esi@1
  int v3; // edi@1
  CServerSetup *v4; // eax@3
  CMasterPassword *v5; // eax@7
  CGameLog *v6; // eax@9
  CItemCreator *v7; // eax@11
  CAuthorizeUser *v8; // eax@17
  void *v9; // eax@19
  CThread *v10; // eax@20
  bool result; // al@25
  CConsoleCMDFactory *v12; // ecx@26
  CCommandProcess *v13; // esi@26
  CCommand *v14; // eax@26

  v2 = this;
  v3 = 0;
  if ( this->m_lpLimitUserByIP )
  {
    v4 = CServerSetup::GetInstance();
    if ( CServerSetup::Initialize(v4, AuthServer) )
    {
      if ( Filter::InitFilter(0) )
      {
        v5 = CStaticSingleton<CMasterPassword>::GetInstance();
        if ( CMasterPassword::LoadMasterPassword(v5, "./Script/Server/masterpass.txt") )
        {
          v6 = CGameLog::GetInstance();
          if ( CGameLog::Initialize(v6, 0) )
          {
            v7 = CItemCreator::GetInstance();
            if ( CItemCreator::Initialize(v7) )
            {
              if ( CRylAuthServer::InitializeCommand(v2) )
              {
                if ( CRylAuthServer::InitializeMsgProc(v2) )
                {
                  v8 = CAuthorizeUser::GetInstance();
                  if ( CAuthorizeUser::Initialize(v8, 1u, 0xC8u) )
                  {
                    v9 = operator new(0x18u);
                    if ( v9 )
                      CRylAuthServerProcess::CRylAuthServerProcess((CRylAuthServerProcess *)v9, v2, 0x64u);
                    else
                      v10 = 0;
                    if ( !CServerWindowFramework::AddProcessThread(&v2->baseclass_0, v10) )
                      v3 = (int)"AuthServer initialize failed - Add AuthServer process thread failed";
                  }
                  else
                  {
                    v3 = (int)"AuthServer initialize failed - AuthorizeUser init failed";
                  }
                }
                else
                {
                  v3 = (int)"AuthServer initialize failed - Server message proc init failed";
                }
              }
              else
              {
                v3 = (int)"AuthServer initialize failed - Server command init failed";
              }
            }
            else
            {
              v3 = (int)"AuthServer initialize failed - ItemCreator init failed";
            }
          }
          else
          {
            v3 = (int)"AuthServer initialize failed - GameLog init failed";
          }
        }
        else
        {
          v3 = (int)"AuthServer initialize failed - Master password init failed";
        }
      }
      else
      {
        v3 = (int)"AuthServer initialize failed - Filter init failed";
      }
    }
    else
    {
      v3 = (int)"AuthServer initialize failed - ServerSetup init failed";
    }
  }
  else
  {
    v3 = (int)"AuthServer initialize failed - CLimitUserByIP create failed";
  }
  CLimitUserByIP::OperateMode(v2->m_lpLimitUserByIP, 0);
  if ( v3 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CRylAuthServer::ApplicationSpecificInit",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServer.cpp",
      187,
      "this:0x%p/%s");
    result = 0;
  }
  else
  {
    v12 = v2->baseclass_0.m_lpCommandFactory;
    v13 = v2->baseclass_0.m_lpCommandProcess;
    v14 = (CCommand *)CConsoleCMDFactory::Create(v12, "startserver", 0xBu);
    CCommandProcess::Add(v13, v14);
    result = 1;
  }
  return result;
}

//----- (004083E0) --------------------------------------------------------
bool __thiscall CCMDStartServer::DoProcess(CCMDStartServer *this)
{
  CRylAuthServer *v1; // eax@1
  CRylAuthServer *v2; // eax@1

  v1 = CRylAuthServer::GetInstance();
  CRylAuthServer::InitializeClientListener(v1);
  v2 = CRylAuthServer::GetInstance();
  CRylAuthServer::ConnectToDBAgent(v2);
  return 1;
}

//----- (00408400) --------------------------------------------------------
bool __thiscall CCMDReloadSetup::DoProcess(CCMDReloadSetup *this)
{
  CRylAuthServer *v1; // eax@1

  v1 = CRylAuthServer::GetInstance();
  CRylAuthServer::ReloadSetup(v1);
  return 1;
}

//----- (00408410) --------------------------------------------------------
bool __thiscall CCMDFlushLog::DoProcess(CCMDFlushLog *this)
{
  CRylAuthServer *v1; // eax@1
  CRylAuthServer *v2; // eax@1
  CPerformanceCheck *v3; // eax@1
  CGameLog *v4; // eax@1

  v1 = CRylAuthServer::GetInstance();
  CRylAuthServer::PrintStatistics(v1);
  v2 = CRylAuthServer::GetInstance();
  CRylAuthServer::PrintServerInfo(v2);
  v3 = CPerformanceCheck::GetInstance();
  CPerformanceCheck::PrintAllTime(v3, "RylAuthServer", 1);
  v4 = CGameLog::GetInstance();
  CGameLog::Flush(v4);
  CServerLog::DetailLog(
    &g_Log,
    LOG_SYSERR,
    "CCMDFlushLog::DoProcess",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerCommands.cpp",
    61,
    "Flush Log.");
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_SYSERR,
    "CCMDFlushLog::DoProcess",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerCommands.cpp",
    62,
    "Flush Log.");
  return 1;
}

//----- (00408490) --------------------------------------------------------
bool __thiscall CCMDMasterPass::DoProcess(CCMDMasterPass *this)
{
  CMasterPassword *v1; // eax@1
  bool result; // al@2

  Filter::InitFilter(0);
  v1 = CStaticSingleton<CMasterPassword>::GetInstance();
  if ( CMasterPassword::LoadMasterPassword(v1, "./Script/Server/masterpass.txt") )
  {
    result = 1;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_SYSERR,
      "CCMDMasterPass::DoProcess",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerCommands.cpp",
      88,
      "this:0x%p/Master password reload failed");
    result = 0;
  }
  return result;
}

//----- (004084E0) --------------------------------------------------------
bool __thiscall CCMDStatClear::DoProcess(CCMDStatClear *this)
{
  CPacketStatistics *v1; // eax@1

  v1 = CPacketStatistics::GetInstance();
  CPacketStatistics::Clear(v1);
  return 1;
}

//----- (004084F0) --------------------------------------------------------
bool __thiscall CCMDStatLog::DoProcess(CCMDStatLog *this)
{
  CPacketStatistics *v1; // eax@1

  v1 = CPacketStatistics::GetInstance();
  CPacketStatistics::Log(v1);
  return 1;
}

//----- (00408500) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDStatClear>::Clone(CConsoleCMDSingleton<CCMDStatClear> *this, const char *szCommand, unsigned int nCommandLength)
{
  if ( !(_local_static_guard_ & 1) )
  {
    _local_static_guard_ |= 1u;
    Instance.baseclass_0.baseclass_0.baseclass_0.vfptr = (CCommandVtbl *)CCMDStatClear::_vftable_;
  }
  return (CConsoleCommand *)&Instance;
}
// 452DC8: using guessed type int (*CCMDStatClear___vftable_[2])();
// 4725E0: using guessed type int _local static guard_;

//----- (00408530) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDStatLog>::Clone(CConsoleCMDSingleton<CCMDStatLog> *this, const char *szCommand, unsigned int nCommandLength)
{
  if ( !(_local_static_guard_ & 1) )
  {
    _local_static_guard_ |= 1u;
    Instance.baseclass_0.baseclass_0.baseclass_0.vfptr = (CCommandVtbl *)CCMDStatLog::_vftable_;
  }
  return (CConsoleCommand *)&Instance;
}
// 452DD4: using guessed type int (*CCMDStatLog___vftable_[2])();
// 4725E8: using guessed type int _local static guard_;

//----- (00408560) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDStartServer>::Clone(CConsoleCMDSingleton<CCMDStartServer> *this, const char *szCommand, unsigned int nCommandLength)
{
  if ( !(_local_static_guard_ & 1) )
  {
    _local_static_guard_ |= 1u;
    Instance.baseclass_0.baseclass_0.baseclass_0.vfptr = (CCommandVtbl *)CCMDStartServer::_vftable_;
  }
  return (CConsoleCommand *)&Instance;
}
// 452CE4: using guessed type int (*CCMDStartServer___vftable_[2])();
// 4725F0: using guessed type int _local static guard_;

//----- (00408590) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDFlushLog>::Clone(CConsoleCMDSingleton<CCMDFlushLog> *this, const char *szCommand, unsigned int nCommandLength)
{
  if ( !(_local_static_guard_ & 1) )
  {
    _local_static_guard_ |= 1u;
    Instance.baseclass_0.baseclass_0.baseclass_0.vfptr = (CCommandVtbl *)CCMDFlushLog::_vftable_;
  }
  return (CConsoleCommand *)&Instance;
}
// 452CFC: using guessed type int (*CCMDFlushLog___vftable_[2])();
// 4725F8: using guessed type int _local static guard_;

//----- (004085C0) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDReloadSetup>::Clone(CConsoleCMDSingleton<CCMDReloadSetup> *this, const char *szCommand, unsigned int nCommandLength)
{
  if ( !(_local_static_guard_ & 1) )
  {
    _local_static_guard_ |= 1u;
    Instance.baseclass_0.baseclass_0.baseclass_0.vfptr = (CCommandVtbl *)CCMDReloadSetup::_vftable_;
  }
  return (CConsoleCommand *)&Instance;
}
// 452CF0: using guessed type int (*CCMDReloadSetup___vftable_[2])();
// 472600: using guessed type int _local static guard_;

//----- (004085F0) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDSingleton<CCMDMasterPass>::Clone(CConsoleCMDSingleton<CCMDMasterPass> *this, const char *szCommand, unsigned int nCommandLength)
{
  if ( !(_local_static_guard_ & 1) )
  {
    _local_static_guard_ |= 1u;
    Instance.baseclass_0.baseclass_0.baseclass_0.vfptr = (CCommandVtbl *)CCMDMasterPass::_vftable_;
  }
  return (CConsoleCommand *)&Instance;
}
// 452D78: using guessed type int (*CCMDMasterPass___vftable_[2])();
// 472608: using guessed type int _local static guard_;

//----- (00408620) --------------------------------------------------------
bool __thiscall CRylAuthServer::InitializeCommand(CRylAuthServer *this)
{
  CRylAuthServer *v1; // esi@1
  void *v2; // eax@1
  const char *v3; // eax@5
  void *v4; // eax@6
  void *v5; // eax@11
  void *v6; // eax@16
  void *v7; // eax@21
  void *v8; // eax@26
  bool result; // al@31

  v1 = this;
  v2 = operator new(4u);
  if ( v2 )
    *(_DWORD *)v2 = CCMDStartServer::_vftable_;
  else
    v2 = 0;
  if ( (CConsoleCMDFactory::AddCommand(v1->baseclass_0.m_lpCommandFactory, "startserver", (CConsoleCommand *)v2)
     || (v3 = "Command create failed - startserver") == 0)
    && ((v4 = operator new(4u)) == 0 ? (v4 = 0) : (*(_DWORD *)v4 = CCMDReloadSetup::_vftable_),
        (CConsoleCMDFactory::AddCommand(v1->baseclass_0.m_lpCommandFactory, "reloadsetup", (CConsoleCommand *)v4)
      || (v3 = "Command create failed - reloadsetup", !"Command create failed - reloadsetup"))
     && ((v5 = operator new(4u)) == 0 ? (v5 = 0) : (*(_DWORD *)v5 = CCMDFlushLog::_vftable_),
         (CConsoleCMDFactory::AddCommand(v1->baseclass_0.m_lpCommandFactory, "flush", (CConsoleCommand *)v5)
       || (v3 = "Command create failed - flush", !"Command create failed - flush"))
      && ((v6 = operator new(4u)) == 0 ? (v6 = 0) : (*(_DWORD *)v6 = CCMDMasterPass::_vftable_),
          (CConsoleCMDFactory::AddCommand(v1->baseclass_0.m_lpCommandFactory, "reloadpass", (CConsoleCommand *)v6)
        || (v3 = "Command create failed - reloadpass", !"Command create failed - reloadpass"))
       && ((v7 = operator new(4u)) == 0 ? (v7 = 0) : (*(_DWORD *)v7 = CCMDStatClear::_vftable_),
           (CConsoleCMDFactory::AddCommand(v1->baseclass_0.m_lpCommandFactory, "statclear", (CConsoleCommand *)v7)
         || (v3 = "Command create failed - statclear", !"Command create failed - statclear"))
        && ((v8 = operator new(4u)) == 0 ? (v8 = 0) : (*(_DWORD *)v8 = CCMDStatLog::_vftable_),
            CConsoleCMDFactory::AddCommand(v1->baseclass_0.m_lpCommandFactory, "statlog", (CConsoleCommand *)v8)
         || (v3 = "Command create failed - statlog", !"Command create failed - statlog")))))) )
  {
    result = 1;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CRylAuthServer::InitializeCommand",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerCommands.cpp",
      116,
      v3);
    result = 0;
  }
  return result;
}
// 452CE4: using guessed type int (*CCMDStartServer___vftable_[2])();
// 452CF0: using guessed type int (*CCMDReloadSetup___vftable_[2])();
// 452CFC: using guessed type int (*CCMDFlushLog___vftable_[2])();
// 452D78: using guessed type int (*CCMDMasterPass___vftable_[2])();
// 452DC8: using guessed type int (*CCMDStatClear___vftable_[2])();
// 452DD4: using guessed type int (*CCMDStatLog___vftable_[2])();

//----- (004087A0) --------------------------------------------------------
int __stdcall ExceptionUserFunc(char *szBuffer, const int nBufferSize)
{
  CGameLog *v2; // eax@1

  CServerLog::DetailLog(
    &g_Log,
    LOG_SYSERR,
    "ExceptionUserFunc",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerMain.cpp",
    15,
    "Flush log");
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_SYSERR,
    "ExceptionUserFunc",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerMain.cpp",
    16,
    "Flush log");
  v2 = CGameLog::GetInstance();
  CGameLog::Flush(v2);
  return _snprintf(szBuffer, nBufferSize, "Userdata flush completed.");
}

//----- (00408810) --------------------------------------------------------
int __stdcall WinMain(HINSTANCE__ *hInstance, HINSTANCE__ *hPrevInstance, char *lpCmdLine, int nCmdShow)
{
  HANDLE v4; // esi@1
  CExceptionReport *v5; // eax@3
  CServerWindowFramework *v6; // edi@3

  v4 = CreateMutexA(0, 1, "RylAuthServer");
  if ( GetLastError() == 183 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "WinMain",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerMain.cpp",
      29,
      "AuthServer already operating now. please shutdown and restart");
  }
  else
  {
    v5 = CExceptionReport::GetInstance();
    CExceptionReport::Enable(v5, 7u);
    CExceptionReport::GetInstance()->m_lpUserFunc = ExceptionUserFunc;
    CExceptionReport::GetInstance()->m_eMiniDumpType = 2;
    v6 = (CServerWindowFramework *)CRylAuthServer::GetInstance();
    if ( CServerWindowFramework::Initialize(v6, hInstance, "Auth Server", lpCmdLine, 102, 106) )
      CServerWindowFramework::ProcessMessage(v6);
  }
  if ( v4 )
    CloseHandle(v4);
  return 0;
}

//----- (004088C0) --------------------------------------------------------
bool __thiscall CRylAuthServer::InitializeMsgProc(CRylAuthServer *this)
{
  CRylAuthServer *v1; // esi@1
  CMsgProcessMgr *v2; // edi@1
  int v3; // eax@1
  void *v4; // eax@3
  CConsoleWindow *v5; // esi@4

  v1 = this;
  v2 = this->baseclass_0.m_lpMsgProcessMgr;
  v3 = 0;
  if ( v2 && this->baseclass_0.m_lpConsoleWindow )
  {
    v4 = operator new(8u);
    if ( v4 )
    {
      v5 = v1->baseclass_0.m_lpConsoleWindow;
      *(_DWORD *)v4 = &CProcessCOMMAND::_vftable_;
      *((_DWORD *)v4 + 1) = v5;
    }
    else
    {
      v4 = 0;
    }
    v3 = CMsgProcessMgr::Register(v2, 0x111u, (CMsgProc *)v4) == 0;
  }
  return v3 == 0;
}
// 452FE8: using guessed type int (__thiscall *CProcessCOMMAND___vftable_)(void *p, char);

//----- (00408910) --------------------------------------------------------
int __thiscall CProcessCOMMAND::operator__(CProcessCOMMAND *this, HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam)
{
  const char *v5; // edi@2
  unsigned int v6; // kr00_4@8
  CConsoleWindow *v7; // edx@8
  CCommandProcess *v8; // esi@8
  CCommand *v9; // eax@8

  switch ( (unsigned __int16)wParam )
  {
    case 0x72u:
      v5 = "startserver";
      goto LABEL_7;
    case 0x6Du:
      CConsoleWindow::Initialize(this->m_ConsoleWindow, "RylAuthServer");
      break;
    case 0x6Eu:
      CConsoleWindow::Destroy(this->m_ConsoleWindow);
      break;
    case 0x70u:
      v5 = "pool";
      goto LABEL_7;
    case 0x73u:
      v5 = "reloadsetup";
LABEL_7:
      if ( v5 )
      {
        v6 = strlen(v5);
        v7 = this->m_ConsoleWindow;
        v8 = v7->m_CMDProcess;
        v9 = (CCommand *)CConsoleCMDFactory::Create(v7->m_CMDFactory, v5, v6);
        CCommandProcess::Add(v8, v9);
      }
      break;
    default:
      break;
  }
  if ( (_WORD)wParam == 117 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CProcessCOMMAND::operator`()'",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylAuthServer\\RylAuthServerWindow.cpp",
      40,
      "Terminate AuthServer System Tray.");
    PostMessageA(hWnd, 0x12u, 0, 0);
  }
  return 0;
}

//----- (004089F0) --------------------------------------------------------
bool __cdecl AuthSendPacket::SendAuthAccount(CAuthClientDispatch *lpDispatch, unsigned int UserID_In, unsigned __int16 usErrorCode_In)
{
  char *v3; // eax@2
  bool result; // al@3

  if ( lpDispatch
    && (LOBYTE(lpDispatch->m_usPacketProcessFlag) &= 0xEFu,
        (v3 = CSendStream::GetBuffer(&lpDispatch->baseclass_0.m_SendStream, 0x12u)) != 0) )
  {
    *((_DWORD *)v3 + 3) = UserID_In;
    v3[16] = lpDispatch->m_cAgentServerType;
    v3[17] = lpDispatch->m_cFirstLogin;
    result = CSendStream::WrapCrypt(&lpDispatch->baseclass_0.m_SendStream, 0x12u, 1, 0, usErrorCode_In);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00408A50) --------------------------------------------------------
bool __cdecl AuthSendPacket::SendUserLogin(CSendStream *SendStream, unsigned int SessionID_In, unsigned int UserID_In, CHAR_VIEW *lpCharView_In, sGuildData *lpGuildData_In, unsigned int dwFlag, char cAccountNation, int nPlayTime, unsigned __int16 usAdminLevel, char cBillingType, char cBillingUser, char cLoginType, unsigned __int16 usError_In)
{
  char *v13; // eax@1
  char *v14; // ebp@1

  v13 = CSendStream::GetBuffer(SendStream, 0x1E8u);
  v14 = v13;
  return v13
      && (usError_In ? (*((_DWORD *)v13 + 3) = 0,
                        *((_DWORD *)v13 + 4) = 0,
                        *(_DWORD *)(v13 + 475) = 0,
                        *(_DWORD *)(v13 + 479) = 0,
                        *(_WORD *)(v13 + 483) = 0,
                        v13[485] = 0,
                        v13[486] = 0,
                        v13[487] = 0,
                        v13[474] = 0,
                        memset(v13 + 20, 0, 0x16Cu),
                        v13[384] = 0,
                        memset(v13 + 385, 0, 0x54u),
                        v13[469] = 0) : (*((_DWORD *)v13 + 3) = SessionID_In,
                                         *((_DWORD *)v13 + 4) = UserID_In,
                                         *(_DWORD *)(v13 + 475) = time(0),
                                         *(_DWORD *)(v14 + 479) = nPlayTime,
                                         v14[485] = cBillingType,
                                         *(_WORD *)(v14 + 483) = usAdminLevel,
                                         v14[486] = cBillingUser,
                                         v14[487] = cLoginType,
                                         *(_DWORD *)(v14 + 470) = dwFlag,
                                         v14[474] = cAccountNation,
                                         memcpy(v14 + 20, lpCharView_In, 0x16Du),
                                         memcpy(v14 + 385, lpGuildData_In, 0x55u)),
          CSendStream::WrapCrypt(SendStream, 0x1E8u, 3, 0, usError_In));
}

//----- (00408B80) --------------------------------------------------------
bool __cdecl AuthSendPacket::SendUserLogout(unsigned int SessionID_In, unsigned int UserID_In)
{
  CSingleDispatch *v2; // eax@1
  CSendStream *v3; // esi@2
  char *v4; // eax@2
  bool v5; // bl@3
  bool result; // al@3
  CSingleDispatch::Storage StoragelpAgentDispatch; // [sp+0h] [bp-14h]@1
  int v8; // [sp+10h] [bp-4h]@1

  v2 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAgentDispatch, v2);
  v8 = 0;
  if ( (_DWORD)StoragelpAgentDispatch.m_lpDispatch
    && (v3 = (CSendStream *)&StoragelpAgentDispatch.m_lpDispatch[8],
        (v4 = CSendStream::GetBuffer((CSendStream *)&StoragelpAgentDispatch.m_lpDispatch[8], 0x1Au)) != 0) )
  {
    *(_DWORD *)(v4 + 18) = SessionID_In;
    *((_DWORD *)v4 + 3) = 0;
    *((_WORD *)v4 + 8) = 2;
    *(_DWORD *)(v4 + 22) = UserID_In;
    v5 = CSendStream::WrapCrypt(v3, 0x1Au, 37, 0, 0);
    v8 = -1;
    CSingleDispatch::Storage::_Storage(&StoragelpAgentDispatch);
    result = v5;
  }
  else
  {
    v8 = -1;
    CSingleDispatch::Storage::_Storage(&StoragelpAgentDispatch);
    result = 0;
  }
  return result;
}

//----- (00408C40) --------------------------------------------------------
bool __cdecl AuthSendPacket::SendUserMove(unsigned int SessionID_In, unsigned int UserID_In)
{
  CSingleDispatch *v2; // eax@1
  CSendStream *v3; // esi@2
  char *v4; // eax@2
  bool v5; // bl@3
  bool result; // al@3
  CSingleDispatch::Storage StoragelpAgentDispatch; // [sp+0h] [bp-14h]@1
  int v8; // [sp+10h] [bp-4h]@1

  v2 = CAuthAgentDispatch::GetDispatchTable();
  CSingleDispatch::Storage::Storage(&StoragelpAgentDispatch, v2);
  v8 = 0;
  if ( (_DWORD)StoragelpAgentDispatch.m_lpDispatch
    && (v3 = (CSendStream *)&StoragelpAgentDispatch.m_lpDispatch[8],
        (v4 = CSendStream::GetBuffer((CSendStream *)&StoragelpAgentDispatch.m_lpDispatch[8], 0x1Au)) != 0) )
  {
    *(_DWORD *)(v4 + 18) = SessionID_In;
    *((_DWORD *)v4 + 3) = 0;
    *((_WORD *)v4 + 8) = 3;
    *(_DWORD *)(v4 + 22) = UserID_In;
    v5 = CSendStream::WrapCrypt(v3, 0x1Au, 37, 0, 0);
    v8 = -1;
    CSingleDispatch::Storage::_Storage(&StoragelpAgentDispatch);
    result = v5;
  }
  else
  {
    v8 = -1;
    CSingleDispatch::Storage::_Storage(&StoragelpAgentDispatch);
    result = 0;
  }
  return result;
}

//----- (00408D00) --------------------------------------------------------
bool __cdecl AuthSendPacket::SendServerZone(CSendStream *SendStream, unsigned int ServerID_In, sockaddr_in *gameServerTCPAddress, unsigned __int16 usError_In)
{
  char *v4; // eax@1
  int v5; // eax@2

  v4 = CSendStream::GetBuffer(SendStream, 0x20u);
  return v4
      && (*((_DWORD *)v4 + 3) = ServerID_In,
          v5 = (int)(v4 + 16),
          *(_DWORD *)v5 = *(_DWORD *)&gameServerTCPAddress->sin_family,
          *(_DWORD *)(v5 + 4) = *(_DWORD *)&gameServerTCPAddress->sin_addr.S_un.S_un_b.s_b1,
          *(_DWORD *)(v5 + 8) = *(_DWORD *)&gameServerTCPAddress->sin_zero[0],
          *(_DWORD *)(v5 + 12) = *(_DWORD *)&gameServerTCPAddress->sin_zero[4],
          CSendStream::WrapCrypt(SendStream, 0x20u, 41, 0, usError_In));
}

//----- (00408D60) --------------------------------------------------------
bool __cdecl AuthSendPacket::SendUnifiedCharSelectAck(CSendStream *SendStream, unsigned int dwUID, unsigned int dwRequestKey, unsigned __int16 usError_In)
{
  char *v4; // eax@1

  v4 = CSendStream::GetBuffer(SendStream, 0x14u);
  return v4
      && (*((_DWORD *)v4 + 3) = dwUID,
          *((_DWORD *)v4 + 4) = dwRequestKey,
          CSendStream::WrapCrypt(SendStream, 0x14u, -63, 0, usError_In));
}

//----- (00408DB0) --------------------------------------------------------
void __thiscall INET_Addr::set_addr(INET_Addr *this, const char *addr, const unsigned __int16 port)
{
  INET_Addr *v3; // esi@1
  unsigned __int32 v4; // eax@2

  v3 = this;
  *(_DWORD *)&this->m_SockAddr.sa_family = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[10] = 0;
  this->m_SockAddr.sa_family = 2;
  if ( addr )
    v4 = inet_addr(addr);
  else
    v4 = htonl(0);
  *(_DWORD *)&v3->m_SockAddr.sa_data[2] = v4;
  if ( port )
  {
    *(_WORD *)&v3->m_SockAddr.sa_data[0] = htons(port);
    v3->m_iAddrLen = 16;
  }
  else
  {
    *(_WORD *)&v3->m_SockAddr.sa_data[0] = 0;
    v3->m_iAddrLen = 16;
  }
}

//----- (00408E20) --------------------------------------------------------
void __thiscall INET_Addr::set_addr(INET_Addr *this, sockaddr *addr, const int size)
{
  *(_DWORD *)&this->m_SockAddr.sa_family = *(_DWORD *)&addr->sa_family;
  *(_DWORD *)&this->m_SockAddr.sa_data[2] = *(_DWORD *)&addr->sa_data[2];
  *(_DWORD *)&this->m_SockAddr.sa_data[6] = *(_DWORD *)&addr->sa_data[6];
  *(_DWORD *)&this->m_SockAddr.sa_data[10] = *(_DWORD *)&addr->sa_data[10];
  this->m_iAddrLen = size;
}

//----- (00408E50) --------------------------------------------------------
void __thiscall INET_Addr::set_addr(INET_Addr *this, in_addr addr, const unsigned __int16 port)
{
  INET_Addr *v3; // esi@1

  v3 = this;
  *(_DWORD *)&this->m_SockAddr.sa_family = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&this->m_SockAddr.sa_data[10] = 0;
  this->m_SockAddr.sa_family = 2;
  *(_DWORD *)&this->m_SockAddr.sa_data[2] = addr;
  if ( port )
  {
    *(_WORD *)&this->m_SockAddr.sa_data[0] = htons(port);
    v3->m_iAddrLen = 16;
  }
  else
  {
    *(_WORD *)&this->m_SockAddr.sa_data[0] = 0;
    this->m_iAddrLen = 16;
  }
}

//----- (00408EA0) --------------------------------------------------------
void __thiscall CPacketDispatch::_CPacketDispatch(CPacketDispatch *this)
{
  this->vfptr = (CPacketDispatchVtbl *)&CPacketDispatch::_vftable_;
}
// 453088: using guessed type int (__thiscall *CPacketDispatch___vftable_)(void *p, char);

//----- (00408EB0) --------------------------------------------------------
void *__thiscall CPacketDispatch::_vector_deleting_destructor_(CPacketDispatch *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (CPacketDispatchVtbl *)&CPacketDispatch::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 453088: using guessed type int (__thiscall *CPacketDispatch___vftable_)(void *p, char);

//----- (00408ED0) --------------------------------------------------------
void __thiscall CRylServerDispatch::CRylServerDispatch(CRylServerDispatch *this, CSession *Session, unsigned int dwMaxProcessPacketPerPulse)
{
  CRylServerDispatch *v3; // esi@1

  v3 = this;
  this->baseclass_0.m_Session = Session;
  this->baseclass_0.vfptr = (CPacketDispatchVtbl *)&CRylServerDispatch::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_BufferQueueLock);
  CBufferQueue::CBufferQueue(&v3->m_ProcessQueue);
  CSendStream::CSendStream(&v3->m_SendStream, Session);
  v3->m_dwMaxProcessPacketPerPulse = dwMaxProcessPacketPerPulse;
  v3->m_dwFlags = 0;
}
// 45309C: using guessed type int (__thiscall *CRylServerDispatch___vftable_)(void *p, char);

//----- (00408F50) --------------------------------------------------------
INET_Addr *__thiscall CRylServerDispatch::GetRemoteAddr(CRylServerDispatch *this)
{
  return &this->baseclass_0.m_Session->m_RemoteAddr;
}

//----- (00408F60) --------------------------------------------------------
bool __thiscall CRylServerDispatch::Shutdown(CRylServerDispatch *this)
{
  return CSession::Shutdown(this->baseclass_0.m_Session);
}

//----- (00408F70) --------------------------------------------------------
void __thiscall CRylServerDispatch::LogErrorPacket(CRylServerDispatch *this, const char *szDetailText, const char cCmd)
{
  inet_ntoa(*(struct in_addr *)&this->baseclass_0.m_Session->m_RemoteAddr.m_SockAddr.sa_data[2]);
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_ERROR,
    "CRylServerDispatch::LogErrorPacket",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\RylServerDispatch.cpp",
    72,
    "SP:0x%p/DP:0x%p/IP:%15s/PktCmd:0x%02x/%s");
}

//----- (00408FC0) --------------------------------------------------------
void __thiscall CRylServerDispatch::LogErrorPacketCreation(CRylServerDispatch *this, CRylServerDispatch::CreationResult eResult)
{
  CRylServerDispatch *v2; // esi@1
  int v3; // ecx@4

  v2 = this;
  switch ( eResult )
  {
    case 1:
      v3 = (int)"Invalid packet startbit";
      break;
    case 2:
      v3 = (int)"Allocate packetbuffer failed";
      break;
    case 3:
      v3 = (int)"Decompress packet failed";
      break;
    default:
      v3 = (int)"Unknown error occured";
      break;
  }
  if ( v3 )
  {
    inet_ntoa(*(struct in_addr *)&v2->baseclass_0.m_Session->m_RemoteAddr.m_SockAddr.sa_data[2]);
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_ERROR,
      "CRylServerDispatch::LogErrorPacket",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\RylServerDispatch.cpp",
      72,
      "SP:0x%p/DP:0x%p/IP:%15s/PktCmd:0x%02x/%s");
  }
}

//----- (00409030) --------------------------------------------------------
bool __cdecl greator_second<std::pair<unsigned_long_unsigned_long>>(std::pair<unsigned long,unsigned long> *lhspair, std::pair<unsigned long,unsigned long> *rhspair)
{
  return rhspair->second < lhspair->second;
}

//----- (00409050) --------------------------------------------------------
void __thiscall CRylServerDispatch::_CRylServerDispatch(CRylServerDispatch *this)
{
  CRylServerDispatch *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1

  v1 = this;
  this->baseclass_0.vfptr = (CPacketDispatchVtbl *)&CRylServerDispatch::_vftable_;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_BufferQueueLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_BufferQueueLock);
  CBufferQueue::clear(&v1->m_ProcessQueue);
  LeaveCriticalSection(v2);
  CSendStream::_CSendStream(&v1->m_SendStream);
  CBufferQueue::_CBufferQueue(&v1->m_ProcessQueue);
  DeleteCriticalSection(v2);
  v1->baseclass_0.vfptr = (CPacketDispatchVtbl *)&CPacketDispatch::_vftable_;
}
// 453088: using guessed type int (__thiscall *CPacketDispatch___vftable_)(void *p, char);
// 45309C: using guessed type int (__thiscall *CRylServerDispatch___vftable_)(void *p, char);

//----- (004090E0) --------------------------------------------------------
CRylServerDispatch::CreationResult __cdecl CRylServerDispatch::CreatePacket(CBufferFactory *bufferFactory, CBufferQueue *bufferQueue, char *const lpStream_In, unsigned int *dwStreamSize_InOut)
{
  unsigned int v4; // ebp@1
  bool v5; // cf@1
  CXORCrypt *v6; // esi@1
  char *const v7; // edi@1
  unsigned __int16 v9; // ax@4
  unsigned int v10; // ebx@5
  CBufferFactoryVtbl *v11; // edx@8
  int v12; // eax@9
  CBuffer *v13; // esi@9
  int v14; // ebp@10
  int v15; // ecx@10
  CBuffer *v16; // eax@12
  unsigned int dwStreamSize; // [sp+10h] [bp-8h]@1
  CXORCrypt *Crypt; // [sp+14h] [bp-4h]@1

  v4 = *dwStreamSize_InOut;
  v5 = *dwStreamSize_InOut < 0xC;
  v6 = CSingleton<CXORCrypt>::ms_pSingleton;
  v7 = lpStream_In;
  Crypt = CSingleton<CXORCrypt>::ms_pSingleton;
  dwStreamSize = *dwStreamSize_InOut;
  lpStream_In = 0;
  if ( v5 )
  {
    *dwStreamSize_InOut -= v4;
    return 0;
  }
  while ( 1 )
  {
    CXORCrypt::DecodeHeader(v6, v7 + 1, 11, 0, 0);
    v9 = *((_WORD *)v7 + 1) & 0x3FFF;
    if ( *v7 != -1 )
      return 1;
    v10 = v9;
    if ( v4 < v9 )
    {
      CXORCrypt::EncodeHeader(v6, v7 + 1, 11, 0, 0);
      *dwStreamSize_InOut -= v4;
      return 0;
    }
    if ( (char)(*((_WORD *)v7 + 1) >> 8) < 0 )
      CXORCrypt::DecodePacket(v6, v7 + 12, v9 - 12, *((_DWORD *)v7 + 1));
    v11 = bufferFactory->vfptr;
    if ( !(v7[3] & 0x40) )
      break;
    lpStream_In = (char *const )16371;
    v12 = ((int (__stdcall *)(signed int))v11->Create)(16383);
    v13 = (CBuffer *)v12;
    if ( !v12 )
      return 2;
    v14 = *(_DWORD *)(v12 + 8);
    v15 = *(_DWORD *)(v12 + 8);
    *(_DWORD *)v15 = *(_DWORD *)v7;
    *(_DWORD *)(v15 + 4) = *((_DWORD *)v7 + 1);
    *(_DWORD *)(v15 + 8) = *((_DWORD *)v7 + 2);
    if ( !CMiniLZO::Decompress(v7 + 12, v10 - 12, (char *)(v14 + 12), (unsigned int *)&lpStream_In) )
    {
      ((void (__stdcall *)(CBuffer *))v13->bufferfactory_->vfptr->Release)(v13);
      return 3;
    }
    v13->wr_ptr_ += (unsigned int)(lpStream_In + 12);
    *(_WORD *)(v14 + 2) = ((_WORD)lpStream_In + 12) | *(_WORD *)(v14 + 2) & 0xC000;
    v4 = dwStreamSize;
LABEL_14:
    CBufferQueue::enqueue(bufferQueue, v13, 0);
    v4 -= v10;
    v7 += v10;
    dwStreamSize = v4;
    if ( v4 < 0xC )
    {
      *dwStreamSize_InOut -= v4;
      return 0;
    }
    v6 = Crypt;
  }
  v16 = (CBuffer *)((int (__stdcall *)(unsigned int))v11->Create)(v10);
  v13 = v16;
  if ( v16 )
  {
    CBuffer::push(v16, v7, v10);
    goto LABEL_14;
  }
  return 2;
}

//----- (004092A0) --------------------------------------------------------
bool __thiscall CRylServerDispatch::ParsePacket(CRylServerDispatch *this, char *const lpStream_In, unsigned int *dwStreamSize_InOut)
{
  CRylServerDispatch *v3; // esi@1
  CBufferFactory *v4; // edi@1
  CRylServerDispatch::CreationResult v5; // eax@1
  unsigned int v7; // edx@3
  int v8; // ecx@3
  int v9; // eax@5
  CBufferQueue bufferQueue; // [sp+0h] [bp-24h]@1
  int v11; // [sp+20h] [bp-4h]@1

  v3 = this;
  v4 = this->baseclass_0.m_Session->m_SessionPolicy->m_lpBufferFactory;
  CBufferQueue::CBufferQueue(&bufferQueue);
  v11 = 0;
  v5 = CRylServerDispatch::CreatePacket(v4, &bufferQueue, lpStream_In, dwStreamSize_InOut);
  if ( v5 )
  {
    CRylServerDispatch::LogErrorPacketCreation(v3, v5);
    v11 = -1;
    CBufferQueue::_CBufferQueue(&bufferQueue);
    return 0;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)&v3->m_BufferQueueLock);
  LOBYTE(v11) = 1;
  CBufferQueue::splice(&v3->m_ProcessQueue, &bufferQueue, 0);
  v7 = v3->m_ProcessQueue.m_bufferNum;
  v8 = 5 * v3->m_dwMaxProcessPacketPerPulse;
  if ( v3->m_dwFlags & 2 || v8 >= v7 )
  {
    if ( !(v3->m_dwFlags & 2) || v7 >= v8 )
      goto LABEL_10;
    CSession::ResumeRecv(v3->baseclass_0.m_Session);
    v9 = v3->m_dwFlags & 0xFFFFFFFD;
  }
  else
  {
    CSession::SuspendRecv(v3->baseclass_0.m_Session);
    v9 = v3->m_dwFlags | 2;
  }
  v3->m_dwFlags = v9;
LABEL_10:
  LeaveCriticalSection((LPCRITICAL_SECTION)&v3->m_BufferQueueLock);
  v11 = -1;
  CBufferQueue::_CBufferQueue(&bufferQueue);
  return 1;
}

//----- (004093B0) --------------------------------------------------------
bool __thiscall CRylServerDispatch::Dispatch(CRylServerDispatch *this)
{
  CRylServerDispatch *v1; // esi@1
  unsigned int v2; // eax@1
  unsigned int v3; // ecx@3
  unsigned int v4; // edx@3
  int v5; // eax@3
  int v6; // eax@3
  int v7; // ecx@3
  int v8; // eax@5
  CBuffer *v9; // eax@11
  CBuffer *v10; // ebp@11
  char *v11; // edi@12
  int v12; // ST04_4@12
  char v13; // ST00_1@12
  CPacketStatistics *v14; // eax@12
  char v15; // bl@12
  _RTL_CRITICAL_SECTION *v17; // [sp-Ch] [bp-58h]@2
  unsigned int dwCount; // [sp+8h] [bp-44h]@10
  CBufferQueue ProcessQueue; // [sp+10h] [bp-3Ch]@1
  CBufferQueue Processed; // [sp+28h] [bp-24h]@1
  int v21; // [sp+48h] [bp-4h]@1

  v1 = this;
  CBufferQueue::CBufferQueue(&ProcessQueue);
  v21 = 0;
  CBufferQueue::CBufferQueue(&Processed);
  EnterCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferQueueLock);
  v2 = v1->m_dwFlags;
  LOBYTE(v21) = 2;
  if ( v2 & 1 )
  {
    v17 = (_RTL_CRITICAL_SECTION *)&v1->m_BufferQueueLock;
    goto LABEL_19;
  }
  v3 = v1->m_dwMaxProcessPacketPerPulse;
  v4 = v1->m_ProcessQueue.m_bufferNum;
  v5 = v2 | 1;
  v1->m_dwFlags = v5;
  v6 = v5 & 2;
  v7 = 5 * v3;
  if ( v6 || v7 >= v4 )
  {
    if ( !v6 || v4 >= v7 )
      goto LABEL_10;
    CSession::ResumeRecv(v1->baseclass_0.m_Session);
    v8 = v1->m_dwFlags & 0xFFFFFFFD;
  }
  else
  {
    CSession::SuspendRecv(v1->baseclass_0.m_Session);
    v8 = v1->m_dwFlags | 2;
  }
  v1->m_dwFlags = v8;
LABEL_10:
  CBufferQueue::splice(&ProcessQueue, &v1->m_ProcessQueue, 0);
  LOBYTE(v21) = 1;
  LeaveCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferQueueLock);
  dwCount = 0;
  if ( v1->m_dwMaxProcessPacketPerPulse )
  {
    do
    {
      v9 = CBufferQueue::dequeue(&ProcessQueue);
      v10 = v9;
      if ( !v9 )
        break;
      v11 = v9->rd_ptr_;
      v12 = *((_WORD *)v11 + 1) & 0x3FFF;
      v13 = v11[1];
      v14 = CPacketStatistics::GetInstance();
      CPacketStatistics::Recv(v14, v13, v12);
      v15 = ((int (__thiscall *)(CRylServerDispatch *, char *))v1->baseclass_0.vfptr[1].ParsePacket)(v1, v11);
      CBufferQueue::enqueue(&Processed, v10, 0);
      if ( !v15 )
      {
        LOBYTE(v21) = 0;
        CBufferQueue::_CBufferQueue(&Processed);
        v21 = -1;
        CBufferQueue::_CBufferQueue(&ProcessQueue);
        return 0;
      }
      ++dwCount;
    }
    while ( dwCount < v1->m_dwMaxProcessPacketPerPulse );
  }
  if ( ProcessQueue.m_bufferNum )
    v1->baseclass_0.vfptr[1].__vecDelDtor((CPacketDispatch *)v1, (unsigned int)&ProcessQueue);
  EnterCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferQueueLock);
  if ( ProcessQueue.m_bufferNum )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferQueueLock);
    LOBYTE(v21) = 4;
    CBufferQueue::splice(&v1->m_ProcessQueue, &ProcessQueue, 1);
    LeaveCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferQueueLock);
  }
  v1->m_dwFlags &= 0xFFFFFFFEu;
  v17 = (_RTL_CRITICAL_SECTION *)&v1->m_BufferQueueLock;
LABEL_19:
  LeaveCriticalSection(v17);
  LOBYTE(v21) = 0;
  CBufferQueue::_CBufferQueue(&Processed);
  v21 = -1;
  CBufferQueue::_CBufferQueue(&ProcessQueue);
  return 1;
}

//----- (004095A0) --------------------------------------------------------
ItemDataParser::ParseData *__cdecl std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _First, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _Last, ItemDataParser::ParseData *_Dest, std::allocator<ItemDataParser::ParseData> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v5; // ecx@1
  ItemDataParser::ParseData *result; // eax@1

  v5 = _First;
  for ( result = _Dest; v5 != _Last; ++result )
  {
    if ( result )
    {
      result->m_szColumnName = (const char *)**(_DWORD **)&v5;
      result->m_fnParseFunc = *(bool (__cdecl **)(Item::ItemInfo *, const char *))(*(_DWORD *)&v5 + 4);
    }
    *(_DWORD *)&v5 += 8;
  }
  return result;
}

//----- (004095D0) --------------------------------------------------------
void __cdecl std::_Push_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, int _Hole, int _Top, std::pair<unsigned long,unsigned long> _Val, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  int v5; // edi@1
  int i; // esi@1
  int v7; // ebx@2
  unsigned int v8; // ecx@4

  v5 = _Hole;
  for ( i = (_Hole - 1) / 2; _Top < v5; i = (i - 1) / 2 )
  {
    v7 = *(_DWORD *)&_First + 8 * i;
    if ( !_Pred((std::pair<unsigned long,unsigned long> *)(*(_DWORD *)&_First + 8 * i), &_Val) )
      break;
    *(_DWORD *)(*(_DWORD *)&_First + 8 * v5) = *(_DWORD *)v7;
    *(_DWORD *)(*(_DWORD *)&_First + 8 * v5 + 4) = *(_DWORD *)(v7 + 4);
    v5 = i;
  }
  v8 = _Val.second;
  *(_DWORD *)(*(_DWORD *)&_First + 8 * v5) = _Val.first;
  *(_DWORD *)(*(_DWORD *)&_First + 8 * v5 + 4) = v8;
}

//----- (00409640) --------------------------------------------------------
void __cdecl std::_Rotate<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Mid, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, int *__formal, std::pair<unsigned long,unsigned long> *a5)
{
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v5; // ebx@1
  int v6; // esi@1
  int v7; // eax@1
  int v8; // edi@1
  int v9; // edx@2
  int v10; // edi@5
  int v11; // ebp@6
  int v12; // edx@6
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator *v13; // eax@7
  int v14; // ecx@9
  int v15; // eax@10
  int *v16; // eax@11
  unsigned int v17; // ecx@14
  bool v18; // zf@14
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v19; // eax@14
  int v20; // [sp+10h] [bp-10h]@11
  int v21; // [sp+14h] [bp-Ch]@12
  std::pair<unsigned long,unsigned long> _Holeval; // [sp+18h] [bp-8h]@6

  v5 = _Last;
  v6 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) >> 3;
  v7 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3;
  v8 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) >> 3;
  if ( v6 )
  {
    do
    {
      v9 = v7 % v8;
      v7 = v8;
      v8 = v9;
    }
    while ( v9 );
  }
  if ( v7 < (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3 && v7 > 0 )
  {
    v10 = *(_DWORD *)&_First + 8 * v7;
    _Mid = (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)v7;
    do
    {
      v11 = *(_DWORD *)v10;
      _Holeval.second = *(_DWORD *)(v10 + 4);
      v12 = v10;
      if ( v10 + 8 * v6 == v5 )
      {
        v13 = &_First;
      }
      else
      {
        _Last = (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(v10 + 8 * v6);
        v13 = &_Last;
      }
      v14 = *(_DWORD *)&v13->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      if ( *(_DWORD *)&v13->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] != v10 )
      {
        do
        {
          *(_DWORD *)v12 = *(_DWORD *)v14;
          *(_DWORD *)(v12 + 4) = *(_DWORD *)(v14 + 4);
          v15 = (*(_DWORD *)&v5 - v14) >> 3;
          v12 = v14;
          if ( v6 >= v15 )
          {
            v21 = *(_DWORD *)&_First + 8 * (v6 + 536870911 * v15);
            v16 = &v21;
          }
          else
          {
            v20 = v14 + 8 * v6;
            v16 = &v20;
          }
          v14 = *v16;
        }
        while ( *v16 != v10 );
      }
      v17 = _Holeval.second;
      v10 -= 8;
      v19 = (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(*(_DWORD *)&_Mid - 1);
      v18 = _Mid == 1;
      *(_DWORD *)v12 = v11;
      *(_DWORD *)(v12 + 4) = v17;
      _Mid = v19;
    }
    while ( !v18 );
  }
}

//----- (00409720) --------------------------------------------------------
void *__thiscall CRylServerDispatch::_vector_deleting_destructor_(CRylServerDispatch *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CRylServerDispatch::_CRylServerDispatch(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00409740) --------------------------------------------------------
void __cdecl std::_Adjust_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, int _Hole, int _Bottom, std::pair<unsigned long,unsigned long> _Val, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  int v5; // ebx@1
  int v6; // esi@1
  bool i; // zf@1

  v5 = _Hole;
  v6 = 2 * _Hole + 2;
  for ( i = v6 == _Bottom; v6 < _Bottom; i = v6 == _Bottom )
  {
    if ( _Pred(
           (std::pair<unsigned long,unsigned long> *)(*(_DWORD *)&_First + 8 * v6),
           (std::pair<unsigned long,unsigned long> *)(*(_DWORD *)&_First + 8 * v6 - 8)) )
      --v6;
    *(_DWORD *)(*(_DWORD *)&_First + 8 * v5) = *(_DWORD *)(*(_DWORD *)&_First + 8 * v6);
    *(_DWORD *)(*(_DWORD *)&_First + 8 * v5 + 4) = *(_DWORD *)(*(_DWORD *)&_First + 8 * v6 + 4);
    v5 = v6;
    v6 = 2 * v6 + 2;
  }
  if ( i )
  {
    *(_DWORD *)(*(_DWORD *)&_First + 8 * v5) = *(_DWORD *)(*(_DWORD *)&_First + 8 * _Bottom - 8);
    *(_DWORD *)(*(_DWORD *)&_First + 8 * v5 + 4) = *(_DWORD *)(*(_DWORD *)&_First + 8 * _Bottom - 4);
    v5 = _Bottom - 1;
  }
  std::_Push_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
    _First,
    v5,
    _Hole,
    _Val,
    _Pred);
}

//----- (004097D0) --------------------------------------------------------
void __cdecl std::_Make_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *), int *__formal, std::pair<unsigned long,unsigned long> *a5)
{
  int v5; // esi@1
  int v6; // edi@2
  unsigned int v7; // ecx@3
  unsigned int v8; // edx@3

  v5 = ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3) / 2;
  if ( v5 > 0 )
  {
    v6 = *(_DWORD *)&_First + 8 * v5;
    do
    {
      v7 = *(_DWORD *)(v6 - 4);
      v8 = *(_DWORD *)(v6 - 8);
      v6 -= 8;
      --v5;
      std::_Adjust_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
        _First,
        v5,
        (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3,
        (std::pair<unsigned long,unsigned long>)__PAIR__(v7, v8),
        _Pred);
    }
    while ( v5 > 0 );
  }
}

//----- (00409820) --------------------------------------------------------
void __cdecl std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Mid, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  int v4; // eax@2
  int v5; // eax@2
  int v6; // eax@4
  int v7; // eax@4
  int v8; // eax@6
  int v9; // eax@6

  if ( _Pred(*(std::pair<unsigned long,unsigned long> **)&_Mid, *(std::pair<unsigned long,unsigned long> **)&_First) )
  {
    v4 = **(_DWORD **)&_Mid;
    **(_DWORD **)&_Mid = **(_DWORD **)&_First;
    **(_DWORD **)&_First = v4;
    v5 = *(_DWORD *)(*(_DWORD *)&_Mid + 4);
    *(_DWORD *)(*(_DWORD *)&_Mid + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
    *(_DWORD *)(*(_DWORD *)&_First + 4) = v5;
  }
  if ( _Pred(*(std::pair<unsigned long,unsigned long> **)&_Last, *(std::pair<unsigned long,unsigned long> **)&_Mid) )
  {
    v6 = **(_DWORD **)&_Last;
    **(_DWORD **)&_Last = **(_DWORD **)&_Mid;
    **(_DWORD **)&_Mid = v6;
    v7 = *(_DWORD *)(*(_DWORD *)&_Last + 4);
    *(_DWORD *)(*(_DWORD *)&_Last + 4) = *(_DWORD *)(*(_DWORD *)&_Mid + 4);
    *(_DWORD *)(*(_DWORD *)&_Mid + 4) = v7;
  }
  if ( _Pred(*(std::pair<unsigned long,unsigned long> **)&_Mid, *(std::pair<unsigned long,unsigned long> **)&_First) )
  {
    v8 = **(_DWORD **)&_Mid;
    **(_DWORD **)&_Mid = **(_DWORD **)&_First;
    **(_DWORD **)&_First = v8;
    v9 = *(_DWORD *)(*(_DWORD *)&_Mid + 4);
    *(_DWORD *)(*(_DWORD *)&_Mid + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
    *(_DWORD *)(*(_DWORD *)&_First + 4) = v9;
  }
}

//----- (004098A0) --------------------------------------------------------
void __cdecl std::_Insertion_sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v3; // ebx@1
  int i; // esi@2
  std::pair<unsigned long,unsigned long> *v5; // edi@7
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v6; // ebx@8

  v3 = _First;
  if ( _First != _Last )
  {
    for ( i = *(_DWORD *)&_First + 8; i != _Last; i += 8 )
    {
      if ( _Pred((std::pair<unsigned long,unsigned long> *)i, *(std::pair<unsigned long,unsigned long> **)&v3) )
      {
        if ( v3 != i )
        {
          if ( i != i + 8 )
            std::_Rotate<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>>(
              v3,
              (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)i,
              (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(i + 8),
              0,
              0);
        }
      }
      else
      {
        v5 = (std::pair<unsigned long,unsigned long> *)(i - 8);
        if ( _Pred((std::pair<unsigned long,unsigned long> *)i, (std::pair<unsigned long,unsigned long> *)(i - 8)) )
        {
          do
          {
            v6 = (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)v5;
            --v5;
          }
          while ( _Pred((std::pair<unsigned long,unsigned long> *)i, v5) );
          if ( v6 != i && i != i + 8 )
            std::_Rotate<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>>(
              v6,
              (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)i,
              (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(i + 8),
              0,
              0);
          v3 = _First;
        }
      }
    }
  }
}

//----- (00409940) --------------------------------------------------------
void __cdecl std::_Median<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Mid, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  int v4; // eax@1
  int v5; // eax@2
  int v6; // esi@2
  int v7; // edx@2
  int v8; // edi@2
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v9; // ST30_4@2
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v10; // ST18_4@2
  int v11; // ST10_4@2
  int _Firsta; // [sp+4h] [bp+4h]@2
  int _Lasta; // [sp+Ch] [bp+Ch]@2

  v4 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3;
  if ( v4 <= 40 )
  {
    std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      _First,
      _Mid,
      _Last,
      _Pred);
  }
  else
  {
    v5 = (v4 + 1) / 8;
    v6 = 16 * v5;
    v7 = 16 * v5 + *(_DWORD *)&_First;
    v8 = 8 * v5;
    v9 = _First;
    _Firsta = 8 * v5 + *(_DWORD *)&_First;
    std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      v9,
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)_Firsta,
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)v7,
      _Pred);
    std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(*(_DWORD *)&_Mid - v8),
      _Mid,
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(v8 + *(_DWORD *)&_Mid),
      _Pred);
    v10 = _Last;
    v11 = *(_DWORD *)&_Last - v6;
    _Lasta = *(_DWORD *)&_Last - v8;
    std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)v11,
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)_Lasta,
      v10,
      _Pred);
    std::_Med3<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)_Firsta,
      _Mid,
      (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)_Lasta,
      _Pred);
  }
}

//----- (004099E0) --------------------------------------------------------
int std::_Unguarded_partition<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(...)
{
  int v4; // esi@1
  int v5; // ebp@1
  unsigned int v6; // ebx@9
  unsigned int v7; // edi@9
  int v8; // ecx@13
  int v9; // ecx@13
  bool v10; // zf@15
  int v11; // ebx@16
  int v12; // eax@19
  int v13; // eax@19
  bool v14; // cf@20
  int v15; // eax@25
  int v16; // eax@25
  unsigned int v17; // eax@26
  int v18; // ST24_4@26
  int v19; // ST24_4@26
  int v20; // eax@29
  int v21; // eax@29
  int v22; // eax@30
  int v23; // edx@30
  int v24; // eax@30
  int v25; // ecx@31
  int v26; // ecx@31
  std::pair<std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator,std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator> *v27; // eax@32
  int _Glast; // [sp+10h] [bp-8h]@2
  unsigned int _Glasta; // [sp+10h] [bp-8h]@9

  v4 = *(_DWORD *)&_First + 8 * ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3) / 2;
  std::_Median<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
    _First,
    (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(*(_DWORD *)&_First + 8 * ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3) / 2),
    (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)(*(_DWORD *)&_Last - 8),
    _Pred);
  v5 = v4 + 8;
  if ( *(unsigned int *)&_First < v4 )
  {
    do
    {
      _Glast = v4 - 8;
      if ( _Pred((std::pair<unsigned long,unsigned long> *)(v4 - 8), (std::pair<unsigned long,unsigned long> *)v4) )
        break;
      if ( _Pred((std::pair<unsigned long,unsigned long> *)v4, (std::pair<unsigned long,unsigned long> *)_Glast) )
        break;
      v4 -= 8;
    }
    while ( *(unsigned int *)&_First < _Glast );
  }
  for ( ; v5 < *(unsigned int *)&_Last; v5 += 8 )
  {
    if ( _Pred((std::pair<unsigned long,unsigned long> *)v5, (std::pair<unsigned long,unsigned long> *)v4) )
      break;
    if ( _Pred((std::pair<unsigned long,unsigned long> *)v4, (std::pair<unsigned long,unsigned long> *)v5) )
      break;
  }
  v6 = v4;
  v7 = v5;
  _Glasta = v4;
  while ( 1 )
  {
    while ( 1 )
    {
      for ( ; v7 < *(_DWORD *)&_Last; v7 += 8 )
      {
        if ( !_Pred((std::pair<unsigned long,unsigned long> *)v4, (std::pair<unsigned long,unsigned long> *)v7) )
        {
          if ( _Pred((std::pair<unsigned long,unsigned long> *)v7, (std::pair<unsigned long,unsigned long> *)v4) )
            break;
          v8 = *(_DWORD *)v5;
          *(_DWORD *)v5 = *(_DWORD *)v7;
          *(_DWORD *)v7 = v8;
          v9 = *(_DWORD *)(v5 + 4);
          *(_DWORD *)(v5 + 4) = *(_DWORD *)(v7 + 4);
          v5 += 8;
          *(_DWORD *)(v7 + 4) = v9;
        }
      }
      v10 = v6 == _First;
      if ( v6 > *(_DWORD *)&_First )
      {
        v11 = v6 - 8;
        do
        {
          if ( !_Pred((std::pair<unsigned long,unsigned long> *)v11, (std::pair<unsigned long,unsigned long> *)v4) )
          {
            if ( _Pred((std::pair<unsigned long,unsigned long> *)v4, (std::pair<unsigned long,unsigned long> *)v11) )
              break;
            v12 = *(_DWORD *)(v4 - 8);
            v4 -= 8;
            *(_DWORD *)v4 = *(_DWORD *)v11;
            *(_DWORD *)v11 = v12;
            v13 = *(_DWORD *)(v4 + 4);
            *(_DWORD *)(v4 + 4) = *(_DWORD *)(v11 + 4);
            *(_DWORD *)(v11 + 4) = v13;
          }
          v11 -= 8;
          v14 = *(_DWORD *)&_First < _Glasta - 8;
          _Glasta -= 8;
        }
        while ( v14 );
        v6 = _Glasta;
        v10 = _Glasta == _First;
      }
      if ( v10 )
        break;
      v6 -= 8;
      _Glasta = v6;
      if ( v7 == _Last )
      {
        v4 -= 8;
        if ( v6 != v4 )
        {
          v20 = *(_DWORD *)v6;
          *(_DWORD *)v6 = *(_DWORD *)v4;
          *(_DWORD *)v4 = v20;
          v21 = *(_DWORD *)(v6 + 4);
          *(_DWORD *)(v6 + 4) = *(_DWORD *)(v4 + 4);
          *(_DWORD *)(v4 + 4) = v21;
        }
        v22 = *(_DWORD *)v4;
        v23 = *(_DWORD *)(v5 - 8);
        v5 -= 8;
        *(_DWORD *)v4 = v23;
        *(_DWORD *)v5 = v22;
        v24 = *(_DWORD *)(v4 + 4);
        *(_DWORD *)(v4 + 4) = *(_DWORD *)(v5 + 4);
        *(_DWORD *)(v5 + 4) = v24;
      }
      else
      {
        v25 = *(_DWORD *)v7;
        *(_DWORD *)v7 = *(_DWORD *)v6;
        *(_DWORD *)v6 = v25;
        v26 = *(_DWORD *)(v7 + 4);
        *(_DWORD *)(v7 + 4) = *(_DWORD *)(v6 + 4);
        v7 += 8;
        *(_DWORD *)(v6 + 4) = v26;
      }
    }
    if ( v7 == _Last )
      break;
    if ( v5 != v7 )
    {
      v15 = *(_DWORD *)v4;
      *(_DWORD *)v4 = *(_DWORD *)v5;
      *(_DWORD *)v5 = v15;
      v16 = *(_DWORD *)(v4 + 4);
      *(_DWORD *)(v4 + 4) = *(_DWORD *)(v5 + 4);
      *(_DWORD *)(v5 + 4) = v16;
    }
    v17 = v7;
    v18 = *(_DWORD *)v4;
    *(_DWORD *)v4 = *(_DWORD *)v7;
    *(_DWORD *)v7 = v18;
    v19 = *(_DWORD *)(v4 + 4);
    *(_DWORD *)(v4 + 4) = *(_DWORD *)(v7 + 4);
    v5 += 8;
    v7 += 8;
    v4 += 8;
    *(_DWORD *)(v17 + 4) = v19;
  }
  v27 = result;
  *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v4;
  *(_DWORD *)&result->second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  return v27;
}

//----- (00409BF0) --------------------------------------------------------
void __cdecl std::sort_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  signed int i; // esi@1
  std::pair<unsigned long,unsigned long> v4; // ST0C_8@2

  for ( i = *(_DWORD *)&_Last - *(_DWORD *)&_First; i >> 3 > 1; i -= 8 )
  {
    v4.second = *(_DWORD *)(*(_DWORD *)&_First + i - 4);
    v4.first = *(_DWORD *)(*(_DWORD *)&_First + i - 8);
    *(_DWORD *)(*(_DWORD *)&_First + i - 8) = **(_DWORD **)&_First;
    *(_DWORD *)(*(_DWORD *)&_First + i - 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
    std::_Adjust_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      _First,
      0,
      (i - 8) >> 3,
      v4,
      _Pred);
  }
}

//----- (00409C50) --------------------------------------------------------
void __cdecl std::_Sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _First, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Last, int _Ideal, bool (__cdecl *_Pred)(std::pair<unsigned long,unsigned long> *, std::pair<unsigned long,unsigned long> *))
{
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v4; // ebx@1
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v5; // edi@1
  int v6; // eax@1
  signed int v7; // esi@2
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v8; // ebp@4
  std::pair<std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator,std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator> _Mid; // [sp+10h] [bp-8h]@4

  v4 = _First;
  v5 = _Last;
  v6 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 3;
  if ( v6 <= 32 )
    goto LABEL_8;
  v7 = _Ideal;
  while ( v7 > 0 )
  {
    std::_Unguarded_partition<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      &_Mid,
      v4,
      v5,
      _Pred);
    v8 = *(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v7 = v7 / 2 / 2 + v7 / 2;
    if ( ((*(_DWORD *)&_Mid - *(_DWORD *)&v4) & 0xFFFFFFF8) >= ((*(_DWORD *)&v5
                                                               - *(_DWORD *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]) & 0xFFFFFFF8) )
    {
      std::_Sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
        _Mid.second,
        v5,
        v7,
        _Pred);
      v5 = *(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator *)&_Mid;
    }
    else
    {
      std::_Sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
        v4,
        _Mid.first,
        v7,
        _Pred);
      v4 = v8;
    }
    v6 = (*(_DWORD *)&v5 - *(_DWORD *)&v4) >> 3;
    if ( v6 <= 32 )
      goto LABEL_8;
  }
  if ( v6 <= 32 )
  {
LABEL_8:
    if ( v6 > 1 )
      std::_Insertion_sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
        v4,
        v5,
        _Pred);
  }
  else
  {
    if ( ((*(_DWORD *)&v5 - *(_DWORD *)&v4) & 0xFFFFFFF8) > 8 )
      std::_Make_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_std::pair<unsigned_long_unsigned_long>_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
        v4,
        v5,
        _Pred,
        0,
        0);
    std::sort_heap<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
      v4,
      v5,
      _Pred);
  }
}

//----- (00409D40) --------------------------------------------------------
void __thiscall std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Xlen(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00409DB0) --------------------------------------------------------
void __thiscall std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Insert_n(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *this, std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator _Where, unsigned int _Count, std::pair<unsigned long,unsigned long> *_Val)
{
  unsigned int v4; // edx@1
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *v5; // esi@1
  std::pair<unsigned long,unsigned long> *v6; // ecx@1
  int v7; // eax@2
  unsigned int v8; // ebx@4
  int v9; // edx@6
  int v10; // edx@11
  int v11; // eax@15
  int v12; // edx@18
  int v13; // eax@22
  void *v14; // edi@25
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v15; // ST14_4@25
  std::pair<unsigned long,unsigned long> *v16; // ecx@25
  int v17; // eax@26
  int v18; // ebx@28
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v19; // eax@31
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v20; // edi@31
  bool v21; // cf@31
  unsigned int v22; // ecx@31
  unsigned int v23; // ST24_4@32
  ItemDataParser::ParseData *v24; // ST20_4@32
  int v25; // ebx@32
  ItemDataParser::ParseData *v26; // ebx@33
  std::_Nonscalar_ptr_iterator_tag v27; // [sp-10h] [bp-2Ch]@31
  int v28; // [sp-Ch] [bp-28h]@1
  std::pair<unsigned long,unsigned long> _Tmp; // [sp+0h] [bp-1Ch]@1
  void *_Newvec; // [sp+8h] [bp-14h]@25
  int *v31; // [sp+Ch] [bp-10h]@1
  int v32; // [sp+18h] [bp-4h]@25
  unsigned int _Wherea; // [sp+24h] [bp+8h]@31
  int _Counta; // [sp+28h] [bp+Ch]@25
  ItemDataParser::ParseData *_Valb; // [sp+2Ch] [bp+10h]@25
  ItemDataParser::ParseData *_Vala; // [sp+2Ch] [bp+10h]@31

  v4 = _Val->second;
  v5 = this;
  _Tmp.first = _Val->first;
  v6 = this->_Myfirst;
  v31 = &v28;
  _Tmp.second = v4;
  if ( v6 )
    v7 = v5->_Myend - v6;
  else
    v7 = 0;
  v8 = _Count;
  if ( _Count )
  {
    if ( v6 )
      v9 = v5->_Mylast - v6;
    else
      v9 = 0;
    if ( 536870911 - v9 < _Count )
      std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Xlen(v5);
    if ( v6 )
      v10 = v5->_Mylast - v6;
    else
      v10 = 0;
    if ( v7 >= _Count + v10 )
    {
      v19 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v5->_Mylast;
      v20 = _Where;
      v21 = (signed int)((char *)v5->_Mylast - *(_DWORD *)&_Where) >> 3 < _Count;
      v22 = 8 * _Count;
      _Wherea = 8 * _Count;
      v27.dummy[0] = 8 * _Count;
      _Vala = (ItemDataParser::ParseData *)v5->_Mylast;
      if ( v21 )
      {
        std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
          (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v20,
          v19,
          (ItemDataParser::ParseData *)(*(_DWORD *)&v20 + v22),
          (std::allocator<ItemDataParser::ParseData> *)v5,
          v27);
        v23 = _Count - ((signed int)((char *)v5->_Mylast - *(_DWORD *)&v20) >> 3);
        v24 = (ItemDataParser::ParseData *)v5->_Mylast;
        v32 = 2;
        std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Ufill(
          (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *)v5,
          v24,
          v23,
          (ItemDataParser::ParseData *)&_Tmp);
        v25 = (int)&v5->_Mylast[_Wherea / 8];
        v5->_Mylast = (std::pair<unsigned long,unsigned long> *)v25;
        std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(
          *(ItemDataParser::ParseData **)&v20,
          (ItemDataParser::ParseData *)(v25 - _Wherea),
          (ItemDataParser::ParseData *)&_Tmp);
      }
      else
      {
        v26 = (ItemDataParser::ParseData *)(*(_DWORD *)&v19 - v22);
        v5->_Mylast = (std::pair<unsigned long,unsigned long> *)std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
                                                                  (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)(*(_DWORD *)&v19 - v22),
                                                                  v19,
                                                                  *(ItemDataParser::ParseData **)&v19,
                                                                  (std::allocator<ItemDataParser::ParseData> *)v5,
                                                                  v27);
        std::copy_backward<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>__>(
          *(ItemDataParser::ParseData **)&v20,
          v26,
          _Vala);
        std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(
          *(ItemDataParser::ParseData **)&v20,
          (ItemDataParser::ParseData *)(*(_DWORD *)&v20 + _Wherea),
          (ItemDataParser::ParseData *)&_Tmp);
      }
    }
    else
    {
      if ( 536870911 - ((unsigned int)v7 >> 1) >= v7 )
        v11 = ((unsigned int)v7 >> 1) + v7;
      else
        v11 = 0;
      if ( v6 )
        v12 = v5->_Mylast - v6;
      else
        v12 = 0;
      if ( v11 < _Count + v12 )
      {
        if ( v6 )
          v13 = v5->_Mylast - v6;
        else
          v13 = 0;
        v11 = _Count + v13;
      }
      _Counta = 8 * v11;
      v14 = operator new(8 * v11);
      v15 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v5->_Myfirst;
      _Newvec = v14;
      v32 = 0;
      _Valb = std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
                v15,
                (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)_Where,
                (ItemDataParser::ParseData *)v14,
                (std::allocator<ItemDataParser::ParseData> *)v5,
                (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
        _Valb,
        v8,
        (ItemDataParser::ParseData *)&_Tmp,
        (std::allocator<ItemDataParser::ParseData> *)v5,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
        (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)_Where,
        (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v5->_Mylast,
        &_Valb[v8],
        (std::allocator<ItemDataParser::ParseData> *)v5,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v16 = v5->_Myfirst;
      if ( v16 )
        v17 = v5->_Mylast - v16;
      else
        v17 = 0;
      v18 = v17 + v8;
      if ( v16 )
        operator delete(v5->_Myfirst);
      v5->_Myend = (std::pair<unsigned long,unsigned long> *)((char *)v14 + _Counta);
      v5->_Mylast = (std::pair<unsigned long,unsigned long> *)((char *)v14 + 8 * v18);
      v5->_Myfirst = (std::pair<unsigned long,unsigned long> *)v14;
    }
  }
}

//----- (0040A000) --------------------------------------------------------
void __thiscall std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::reserve(std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *this, unsigned int _Count)
{
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > *v2; // esi@1
  std::pair<unsigned long,unsigned long> *v3; // ecx@3
  int v4; // ebx@3
  int v5; // eax@4
  void *v6; // eax@7
  void *v7; // edi@7
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v8; // ST04_4@7
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v9; // ST00_4@7
  std::pair<unsigned long,unsigned long> *v10; // eax@7
  int v11; // [sp-Ch] [bp-20h]@1
  void *_Ptr; // [sp+0h] [bp-14h]@7
  int *v13; // [sp+4h] [bp-10h]@1
  int v14; // [sp+10h] [bp-4h]@7
  unsigned int _Counta; // [sp+1Ch] [bp+8h]@7

  v13 = &v11;
  v2 = this;
  if ( _Count > 0x1FFFFFFF )
    std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Xlen(this);
  v3 = this->_Myfirst;
  v4 = 0;
  if ( v3 )
    v5 = v2->_Myend - v3;
  else
    v5 = 0;
  if ( v5 < _Count )
  {
    _Counta = 8 * _Count;
    v6 = operator new(_Counta);
    v7 = v6;
    v8 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v2->_Mylast;
    v9 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v2->_Myfirst;
    _Ptr = v6;
    v14 = 0;
    std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
      v9,
      v8,
      (ItemDataParser::ParseData *)v6,
      (std::allocator<ItemDataParser::ParseData> *)v2,
      (std::_Nonscalar_ptr_iterator_tag)_Counta);
    v10 = v2->_Myfirst;
    if ( v10 )
      v4 = v2->_Mylast - v10;
    if ( v10 )
      operator delete(v2->_Myfirst);
    v2->_Myend = (std::pair<unsigned long,unsigned long> *)((char *)v7 + _Counta);
    v2->_Mylast = (std::pair<unsigned long,unsigned long> *)((char *)v7 + 8 * v4);
    v2->_Myfirst = (std::pair<unsigned long,unsigned long> *)v7;
  }
}

//----- (0040A0D0) --------------------------------------------------------
void __thiscall CRylServerDispatch::ProcessTooManyPacket(CRylServerDispatch *this, CBufferQueue *bufferQueue)
{
  int v2; // ebp@1
  unsigned int v3; // ST28_4@1
  CBuffer *v4; // edi@1
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator v5; // esi@1
  void *i; // ebx@1
  char v7; // cl@2
  void *v8; // eax@2
  void *j; // edi@12
  int v10; // eax@13
  std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > > statistics; // [sp+0h] [bp-C2Ch]@1
  std::_Nonscalar_ptr_iterator_tag __formal[4]; // [sp+10h] [bp-C1Ch]@1
  ItemDataParser::ParseData _Val; // [sp+14h] [bp-C18h]@7
  char szBuffer[3072]; // [sp+1Ch] [bp-C10h]@1
  unsigned int v15; // [sp+C1Ch] [bp-10h]@18
  int v16; // [sp+C28h] [bp-4h]@1

  *(_DWORD *)&__formal[0].dummy[0] = this;
  v2 = _snprintf(szBuffer, 0xC00u, "Processed:%d/Remain:%d/Remain packets(cmd:num)/");
  statistics._Myfirst = 0;
  statistics._Mylast = 0;
  statistics._Myend = 0;
  v3 = bufferQueue->m_bufferNum;
  v16 = 0;
  std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::reserve(
    &statistics,
    v3);
  v4 = bufferQueue->m_lpHead;
  v5 = (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)statistics._Mylast;
  for ( i = statistics._Myfirst; v4; v4 = v4->next_ )
  {
    v7 = v4->rd_ptr_[1];
    v8 = i;
    if ( i != (void *)v5 )
    {
      while ( *(_DWORD *)v8 != v7 )
      {
        v8 = (char *)v8 + 8;
        if ( v8 == (void *)v5 )
          goto LABEL_7;
      }
      ++*((_DWORD *)v8 + 1);
      if ( v8 != (void *)v5 )
        continue;
    }
LABEL_7:
    _Val.m_szColumnName = (const char *)(unsigned __int8)v7;
    _Val.m_fnParseFunc = (bool (__cdecl *)(Item::ItemInfo *, const char *))1;
    if ( i
      && (*(_DWORD *)&v5 - (signed int)i) >> 3 < (unsigned int)((signed int)((char *)statistics._Myend - (char *)i) >> 3) )
    {
      std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
        *(ItemDataParser::ParseData **)&v5,
        1u,
        &_Val,
        (std::allocator<ItemDataParser::ParseData> *)&statistics,
        __formal[0]);
      *(_DWORD *)&v5 += 8;
      statistics._Mylast = (std::pair<unsigned long,unsigned long> *)v5;
    }
    else
    {
      std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::_Insert_n(
        &statistics,
        v5,
        1u,
        (std::pair<unsigned long,unsigned long> *)&_Val);
      v5 = (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)statistics._Mylast;
      i = statistics._Myfirst;
    }
  }
  std::_Sort<std::vector<std::pair<unsigned_long_unsigned_long>_std::allocator<std::pair<unsigned_long_unsigned_long>>>::iterator_int_bool____cdecl____std::pair<unsigned_long_unsigned_long>_const___std::pair<unsigned_long_unsigned_long>_const___>(
    (std::vector<std::pair<unsigned long,unsigned long>,std::allocator<std::pair<unsigned long,unsigned long> > >::iterator)i,
    v5,
    (*(_DWORD *)&v5 - (signed int)i) >> 3,
    greator_second<std::pair<unsigned_long_unsigned_long>>);
  for ( j = i; j != (void *)v5; j = (char *)j + 8 )
  {
    v10 = _snprintf(&szBuffer[v2], 3072 - v2, "0x%02x:%5d/");
    if ( v10 > 0 )
      v2 += v10;
  }
  inet_ntoa(*(struct in_addr *)(*(_DWORD *)(*(_DWORD *)&__formal[0].dummy[0] + 4) + 48));
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_ERROR,
    "CRylServerDispatch::LogErrorPacket",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\RylServerDispatch.cpp",
    72,
    "SP:0x%p/DP:0x%p/IP:%15s/PktCmd:0x%02x/%s");
  if ( i )
    operator delete(i);
  __security_check_cookie(v15);
}

//----- (0040A2C0) --------------------------------------------------------
void __thiscall CServerLog::CServerLog(CServerLog *this, const char *szLogName, const char *szPathName)
{
  CServerLog *v3; // esi@1

  v3 = this;
  this->vfptr = (CServerLogVtbl *)&CServerLog::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_ServerLogLock);
  v3->m_hFile = (void *)-1;
  v3->m_dwLogEnabled = -1;
  LODWORD(v3->m_dwTotalFileWriteSize) = 0;
  HIDWORD(v3->m_dwTotalFileWriteSize) = 0;
  LODWORD(v3->m_dwTotalLoggedSize) = 0;
  HIDWORD(v3->m_dwTotalLoggedSize) = 0;
  v3->m_dwCurrentFileWriteSize = 0;
  v3->m_dwBufferUsed = 0;
  if ( szLogName )
  {
    _snprintf(v3->m_szProgramName, 0x103u, "%s");
    v3->m_szProgramName[259] = 0;
  }
  else
  {
    DbgUtils::SetProgramName(v3->m_szProgramName, 260, 0);
  }
  if ( szPathName )
  {
    _snprintf(v3->m_szLogPath, 0x103u, "%s");
    v3->m_szLogPath[259] = 0;
  }
  else
  {
    DbgUtils::SetProgramName(v3->m_szLogPath, 260, 0);
  }
  v3->m_lpBuffer = (char *)operator new__(0x40000u, &std::nothrow);
}
// 453230: using guessed type int (__thiscall *CServerLog___vftable_)(void *p, char);

//----- (0040A3C0) --------------------------------------------------------
void *__thiscall CServerLog::CreateLogFile(CServerLog *this)
{
  CServerLog *v1; // ebx@1
  const char *v2; // esi@1
  void *result; // eax@3
  int v4; // edi@4
  _SYSTEMTIME sysTime; // [sp+Ch] [bp-21Ch]@4
  char szFileName[260]; // [sp+1Ch] [bp-20Ch]@4
  char szTime[260]; // [sp+120h] [bp-108h]@4

  v1 = this;
  v2 = this->m_szLogPath;
  if ( GetFileAttributesA(this->m_szLogPath) != -1 || CreateDirectoryA(v2, 0) )
  {
    GetLocalTime(&sysTime);
    _snprintf(szTime, 0x104u, "%s%04d-%02d-%02d %02d,%02d,%02d-");
    v4 = 0;
    if ( _snprintf(szFileName, 0x104u, "%s/%s%04d.log") < 0 )
    {
LABEL_7:
      result = (void *)-1;
    }
    else
    {
      while ( GetFileAttributesA(szFileName) != -1 )
      {
        ++v4;
        if ( _snprintf(szFileName, 0x104u, "%s/%s%04d.log") < 0 )
          goto LABEL_7;
      }
      v1->m_dwCurrentFileWriteSize = 0;
      result = CreateFileA(szFileName, 0x40000000u, 1u, 0, 1u, 0x80u, 0);
    }
  }
  else
  {
    result = (void *)-1;
  }
  return result;
}

//----- (0040A510) --------------------------------------------------------
void __thiscall CServerLog::InternalFlush(CServerLog *this)
{
  CServerLog *v1; // esi@1
  bool v2; // zf@1
  int v3; // eax@3
  CServerLog *dwWritten; // [sp+0h] [bp-4h]@1

  dwWritten = this;
  v1 = this;
  v2 = this->m_hFile == (void *)-1;
  dwWritten = 0;
  if ( v2 )
    this->m_hFile = CServerLog::CreateLogFile(this);
  WriteFile(v1->m_hFile, v1->m_lpBuffer, v1->m_dwBufferUsed, (LPDWORD)&dwWritten, 0);
  v3 = (int)((char *)dwWritten + v1->m_dwCurrentFileWriteSize);
  v1->m_dwCurrentFileWriteSize = v3;
  v1->m_dwBufferUsed = 0;
  if ( (unsigned int)v3 > 0x6400000 )
  {
    CloseHandle(v1->m_hFile);
    v1->m_hFile = CServerLog::CreateLogFile(v1);
  }
}

//----- (0040A580) --------------------------------------------------------
void __cdecl CServerLog::SimpleLog(CServerLog *this, LOG_TYPE eLogType, const char *pFormat)
{
  int v3; // eax@3
  int v4; // eax@8
  unsigned int v5; // ecx@9
  _SYSTEMTIME sysTime; // [sp+0h] [bp-4014h]@6
  char szBuffer[16384]; // [sp+10h] [bp-4004h]@6
  char ap; // [sp+4024h] [bp+10h]@0

  if ( (1 << eLogType) & this->m_dwLogEnabled && this->m_lpBuffer )
  {
    v3 = 0;
    if ( eLogType )
    {
      if ( (signed int)eLogType > 0 && (signed int)eLogType <= 2 )
      {
        GetLocalTime(&sysTime);
        v3 = _snprintf(szBuffer, 0x4000u, "[Ty-%s][Tm-%04d-%02d-%02d %02d:%02d:%02d][Ex-");
      }
    }
    else
    {
      v3 = _snprintf(szBuffer, 0x4000u, "[Ty-%s][");
    }
    _vsnprintf(&szBuffer[v3], 16384 - v3, pFormat, &ap);
    EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ServerLogLock);
    v4 = _snprintf(&this->m_lpBuffer[this->m_dwBufferUsed], 262144 - this->m_dwBufferUsed, "%s]\r\n");
    if ( v4 > 0 )
    {
      v5 = LODWORD(this->m_dwTotalLoggedSize);
      this->m_dwBufferUsed += v4;
      this->m_dwTotalLoggedSize = v4 + __PAIR__(HIDWORD(this->m_dwTotalLoggedSize), v5);
    }
    if ( this->m_dwBufferUsed >= 0x3E000 )
      CServerLog::InternalFlush(this);
    LeaveCriticalSection((LPCRITICAL_SECTION)&this->m_ServerLogLock);
  }
}

//----- (0040A6E0) --------------------------------------------------------
void __cdecl CServerLog::DetailLog(CServerLog *this, LOG_TYPE eLogType, const char *pRtn, const char *pFileName, int nLine, const char *pFormat)
{
  int v6; // eax@3
  int v7; // eax@3
  unsigned int v8; // ecx@4
  _SYSTEMTIME sysTime; // [sp+0h] [bp-4014h]@3
  char szBuffer[16384]; // [sp+10h] [bp-4004h]@3
  char ap; // [sp+4030h] [bp+1Ch]@0

  if ( (1 << eLogType) & this->m_dwLogEnabled && this->m_lpBuffer )
  {
    GetLocalTime(&sysTime);
    v6 = _snprintf(szBuffer, 0x4000u, "[Ty-%s][Tm-%04d-%02d-%02d %02d:%02d:%02d][Ex-");
    _vsnprintf(&szBuffer[v6], 16384 - v6, pFormat, &ap);
    EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ServerLogLock);
    v7 = _snprintf(
           &this->m_lpBuffer[this->m_dwBufferUsed],
           262144 - this->m_dwBufferUsed,
           "%s][Rt-%s][FN-%s][LN-%d]\r\n");
    if ( v7 > 0 )
    {
      v8 = LODWORD(this->m_dwTotalLoggedSize);
      this->m_dwBufferUsed += v7;
      this->m_dwTotalLoggedSize = v7 + __PAIR__(HIDWORD(this->m_dwTotalLoggedSize), v8);
    }
    if ( this->m_dwBufferUsed >= 0x3E000 || eLogType == 4 )
      CServerLog::InternalFlush(this);
    LeaveCriticalSection((LPCRITICAL_SECTION)&this->m_ServerLogLock);
  }
}

//----- (0040A830) --------------------------------------------------------
void __thiscall CServerLog::_CServerLog(CServerLog *this)
{
  CServerLog *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ServerLogLock;
  this->vfptr = (CServerLogVtbl *)&CServerLog::_vftable_;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ServerLogLock);
  CServerLog::SimpleLog(v1, 0, " .");
  if ( v1->m_dwBufferUsed )
    CServerLog::InternalFlush(v1);
  if ( v1->m_hFile != (void *)-1 )
    CloseHandle(v1->m_hFile);
  operator delete__(v1->m_lpBuffer);
  v1->m_lpBuffer = 0;
  LeaveCriticalSection(v2);
  DeleteCriticalSection(v2);
}
// 453230: using guessed type int (__thiscall *CServerLog___vftable_)(void *p, char);

//----- (0040A8A0) --------------------------------------------------------
void *__thiscall CServerLog::_scalar_deleting_destructor_(CServerLog *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CServerLog::_CServerLog(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0040A8C0) --------------------------------------------------------
void __thiscall CSendStream::CSendStream(CSendStream *this, CSession *Session)
{
  this->m_lpBuffer = 0;
  this->m_Session = Session;
}

//----- (0040A8E0) --------------------------------------------------------
void __thiscall CSendStream::_CSendStream(CSendStream *this)
{
  CSendStream *v1; // esi@1

  v1 = this;
  if ( this->m_lpBuffer )
  {
    ((void (__stdcall *)(_DWORD))this->m_lpBuffer->bufferfactory_->vfptr->Release)(this->m_lpBuffer);
    v1->m_lpBuffer = 0;
  }
}

//----- (0040A900) --------------------------------------------------------
char *__thiscall CSendStream::GetBuffer(CSendStream *this, unsigned int dwReserve_In)
{
  CSendStream *v2; // esi@1
  CBuffer *v3; // eax@1
  char *v4; // edx@3
  CBuffer *v5; // esi@8
  char *result; // eax@9

  v2 = this;
  v3 = this->m_lpBuffer;
  if ( this->m_lpBuffer )
  {
    v4 = v3->wr_ptr_;
    if ( &v3->internal_buffer_[v3->buffer_size_ - (signed int)v4] < (char *)dwReserve_In )
    {
      if ( v4 == v3->rd_ptr_ )
      {
        ((void (__stdcall *)(_DWORD))v3->bufferfactory_->vfptr->Release)(v3);
        v2->m_lpBuffer = 0;
      }
      else
      {
        CSession::SendPending(this->m_Session, v3);
      }
      v2->m_lpBuffer = (CBuffer *)((int (__stdcall *)(_DWORD))v2->m_Session->m_SessionPolicy->m_lpBufferFactory->vfptr->Create)(dwReserve_In);
    }
  }
  else
  {
    this->m_lpBuffer = (CBuffer *)((int (__stdcall *)(_DWORD))this->m_Session->m_SessionPolicy->m_lpBufferFactory->vfptr->Create)(dwReserve_In);
  }
  v5 = v2->m_lpBuffer;
  if ( v5 )
    result = v5->wr_ptr_;
  else
    result = 0;
  return result;
}

//----- (0040A980) --------------------------------------------------------
bool __thiscall CSession::Send(CSession *this)
{
  CSession *v1; // esi@1
  bool v2; // bl@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = CSession::InternalSend(v1);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (0040A9D0) --------------------------------------------------------
bool __thiscall CSendStream::ForceSend(CSendStream *this)
{
  CSendStream *v1; // edi@1
  CBuffer *v2; // esi@1
  CSession *v4; // ecx@4

  v1 = this;
  v2 = this->m_lpBuffer;
  if ( this->m_lpBuffer )
  {
    if ( v2->wr_ptr_ == v2->rd_ptr_ )
      return 1;
    v4 = this->m_Session;
    v1->m_lpBuffer = 0;
    if ( CSession::SendPending(v4, v2) )
      return CSession::Send(v1->m_Session);
    if ( v2 )
      ((void (__stdcall *)(_DWORD))v2->bufferfactory_->vfptr->Release)(v2);
  }
  return 0;
}

//----- (0040AA20) --------------------------------------------------------
bool __thiscall CSendStream::WrapHeader(CSendStream *this, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In)
{
  CSendStream *v5; // esi@1
  char *v6; // eax@1
  CPacketStatistics *v7; // eax@3
  bool result; // al@3

  v5 = this;
  v6 = CSendStream::GetBuffer(this, usUsed_In);
  if ( v6 && PacketWrap::WrapHeader(v6, usUsed_In, cCMD_In, usState_In, usError_In) )
  {
    v5->m_lpBuffer->wr_ptr_ += usUsed_In;
    v7 = CPacketStatistics::GetInstance();
    CPacketStatistics::Send(v7, cCMD_In, usUsed_In);
    result = CSendStream::ForceSend(v5);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0040AA90) --------------------------------------------------------
bool __thiscall CSendStream::WrapCrypt(CSendStream *this, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In)
{
  CSendStream *v5; // esi@1
  char *v6; // eax@1
  CPacketStatistics *v7; // eax@3
  bool result; // al@3

  v5 = this;
  v6 = CSendStream::GetBuffer(this, usUsed_In);
  if ( v6 && PacketWrap::WrapCrypt(v6, usUsed_In, cCMD_In, usState_In, usError_In) )
  {
    v5->m_lpBuffer->wr_ptr_ += usUsed_In;
    v7 = CPacketStatistics::GetInstance();
    CPacketStatistics::Send(v7, cCMD_In, usUsed_In);
    result = CSendStream::ForceSend(v5);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0040AB00) --------------------------------------------------------
bool __thiscall CSendStream::WrapCompress(CSendStream *this, char *lpSourceData, unsigned __int16 usSourceLength, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In)
{
  unsigned __int16 v6; // di@1
  CSendStream *v7; // esi@1
  char *v8; // eax@1
  char v9; // bl@2
  unsigned int v10; // ST18_4@3
  CPacketStatistics *v11; // eax@3
  bool result; // al@3

  v6 = usSourceLength;
  v7 = this;
  *(_DWORD *)&usSourceLength = ((unsigned int)usSourceLength >> 6) + usSourceLength + 19;
  v8 = CSendStream::GetBuffer(this, usSourceLength);
  if ( v8
    && (v9 = cCMD_In,
        PacketWrap::WrapCompress(v8, (unsigned int *)&usSourceLength, lpSourceData, v6, cCMD_In, usState_In, usError_In)) )
  {
    v7->m_lpBuffer->wr_ptr_ += usSourceLength;
    v10 = usSourceLength;
    v11 = CPacketStatistics::GetInstance();
    CPacketStatistics::Send(v11, v9, v10);
    result = CSendStream::ForceSend(v7);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0040AB90) --------------------------------------------------------
void __thiscall CServerRequest::Result::_Result(CServerRequest::Result *this)
{
  if ( this->m_lpSrcDispatch )
  {
    if ( this->m_bRemove )
      CSession::Release(this->m_lpSrcDispatch->m_Session);
  }
}

//----- (0040ABB0) --------------------------------------------------------
CSession *__thiscall CServerRequest::Result::GetSession(CServerRequest::Result *this)
{
  CSession *result; // eax@2

  if ( this->m_lpSrcDispatch )
    result = this->m_lpSrcDispatch->m_Session;
  else
    result = 0;
  return result;
}

//----- (0040ABC0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *i; // ecx@1

  result = _Pnode;
  for ( i = _Pnode->_Right; !i->_Isnil; i = i->_Right )
    result = i;
  return result;
}

//----- (0040ABE0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v2; // ecx@1

  result = _Pnode;
  v2 = _Pnode->_Left;
  if ( !_Pnode->_Left->_Isnil )
  {
    do
    {
      result = v2;
      v2 = v2->_Left;
    }
    while ( !v2->_Isnil );
  }
  return result;
}

//----- (0040AC00) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v3; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v4; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v5; // ecx@5

  v2 = _Wherenode->_Left;
  _Wherenode->_Left = _Wherenode->_Left->_Right;
  v3 = v2->_Right;
  if ( !v3->_Isnil )
    v3->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v4 = this->_Myhead;
  if ( _Wherenode == v4->_Parent )
  {
    v4->_Parent = v2;
    v2->_Right = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v5 = _Wherenode->_Parent;
    if ( _Wherenode == v5->_Right )
    {
      v5->_Right = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v5->_Left = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (0040AC60) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@2
  int j; // eax@3
  int i; // eax@6

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( !*(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 33) )
  {
    v2 = *(_DWORD *)(v1 + 8);
    if ( *(_BYTE *)(v2 + 33) )
    {
      for ( i = *(_DWORD *)(v1 + 4); !*(_BYTE *)(i + 33); i = *(_DWORD *)(i + 4) )
      {
        if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)(i + 8) )
          break;
        *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
      }
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
    }
    else
    {
      for ( j = *(_DWORD *)v2; !*(_BYTE *)(j + 33); j = *(_DWORD *)j )
        v2 = j;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (0040ACC0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@3
  int i; // eax@4
  int v4; // eax@7

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( *(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 33) )
  {
    *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = *(_DWORD *)(v1 + 8);
  }
  else
  {
    v2 = *(_DWORD *)v1;
    if ( *(_BYTE *)(*(_DWORD *)v1 + 33) )
    {
      v4 = *(_DWORD *)(v1 + 4);
      if ( !*(_BYTE *)(v4 + 33) )
      {
        do
        {
          if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)v4 )
            break;
          *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v4;
          v4 = *(_DWORD *)(v4 + 4);
        }
        while ( !*(_BYTE *)(v4 + 33) );
        if ( !*(_BYTE *)(v4 + 33) )
          *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v4;
      }
    }
    else
    {
      for ( i = *(_DWORD *)(v2 + 8); !*(_BYTE *)(i + 33); i = *(_DWORD *)(i + 8) )
        v2 = i;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (0040AD20) --------------------------------------------------------
void __thiscall CServerRequest::RequestOff(CServerRequest *this)
{
  CServerRequest *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_dwRequestFlags |= 1u;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040AD40) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v3; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v4; // ecx@5

  v2 = _Wherenode->_Right;
  _Wherenode->_Right = v2->_Left;
  if ( !v2->_Left->_Isnil )
    v2->_Left->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v3 = this->_Myhead;
  if ( _Wherenode == v3->_Parent )
  {
    v3->_Parent = v2;
    v2->_Left = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v4 = _Wherenode->_Parent;
    if ( _Wherenode == v4->_Left )
    {
      v4->_Left = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v4->_Right = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (0040ADA0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (0040ADE0) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Buynode(...)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)operator new(0x24u);
  if ( result )
  {
    result->_Left = _Larg;
    result->_Parent = _Parg;
    result->_Right = _Rarg;
    result->_Myval.first = _Val->first;
    result->_Myval.second.m_lpSrcDispatch = _Val->second.m_lpSrcDispatch;
    result->_Myval.second.m_lpDstDispatch = _Val->second.m_lpDstDispatch;
    result->_Myval.second.m_dwDurationSec = _Val->second.m_dwDurationSec;
    result->_Myval.second.m_lpTimeoutRequest = _Val->second.m_lpTimeoutRequest;
    result->_Color = _Carg;
    result->_Isnil = 0;
  }
  return result;
}

//----- (0040AE40) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)operator new(0x24u);
  if ( result )
    result->_Left = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)-4 )
    result->_Parent = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)-8 )
    result->_Right = 0;
  result->_Color = 1;
  result->_Isnil = 0;
  return result;
}

//----- (0040AE80) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::find(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *result, const unsigned int *_Keyval)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v3; // edx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v4; // eax@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *v5; // eax@8

  v3 = this->_Myhead;
  v4 = v3->_Parent;
  while ( !v4->_Isnil )
  {
    if ( v4->_Myval.first >= *_Keyval )
    {
      v3 = v4;
      v4 = v4->_Left;
    }
    else
    {
      v4 = v4->_Right;
    }
  }
  if ( v3 == this->_Myhead || *_Keyval < v3->_Myval.first )
  {
    v5 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = this->_Myhead;
  }
  else
  {
    v5 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v3;
  }
  return v5;
}

//----- (0040AEF0) --------------------------------------------------------
void __thiscall CServerRequest::RemoveAllRequest(CServerRequest *this)
{
  CServerRequest *v1; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v3; // esi@1
  bool v4; // zf@1
  void (__cdecl *v5)(_DWORD); // eax@3
  int v6; // esi@6
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v7; // ecx@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v8; // ebp@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v9; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v10; // eax@11
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator pos; // [sp+0h] [bp-14h]@1
  CLock<CCSLock>::Syncronize sync; // [sp+4h] [bp-10h]@1
  int v13; // [sp+10h] [bp-4h]@1

  v1 = this;
  sync.m_Lock = (CCSLock *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_RequestMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)v2->_Left;
  v4 = v2->_Left == v2;
  v13 = 0;
  pos = v3;
  if ( !v4 )
  {
    do
    {
      if ( *(_DWORD *)(*(_DWORD *)&v3 + 16) )
      {
        v5 = *(void (__cdecl **)(_DWORD))(*(_DWORD *)&v3 + 28);
        if ( v5 )
          v5(*(_DWORD *)(*(_DWORD *)&v3 + 16));
        CSession::Release(*(CSession **)(*(_DWORD *)(*(_DWORD *)&v3 + 16) + 4));
      }
      v6 = *(_DWORD *)(*(_DWORD *)&v3 + 20);
      if ( v6 )
        CSession::Release(*(CSession **)(v6 + 4));
      std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Inc(&pos.baseclass_0);
      v3 = pos;
    }
    while ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)pos != v2 );
  }
  v7 = v1->m_RequestMap.baseclass_0._Myhead;
  v8 = v7->_Parent;
  v9 = v7->_Parent;
  if ( !v8->_Isnil )
  {
    do
    {
      std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Erase(
        &v1->m_RequestMap.baseclass_0,
        v9->_Right);
      v9 = v9->_Left;
      operator delete(v8);
      v8 = v9;
    }
    while ( !v9->_Isnil );
  }
  v1->m_RequestMap.baseclass_0._Myhead->_Parent = v1->m_RequestMap.baseclass_0._Myhead;
  v10 = v1->m_RequestMap.baseclass_0._Myhead;
  v1->m_RequestMap.baseclass_0._Mysize = 0;
  v10->_Left = v10;
  v1->m_RequestMap.baseclass_0._Myhead->_Right = v1->m_RequestMap.baseclass_0._Myhead;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040AFE0) --------------------------------------------------------
CPacketDispatch *__thiscall CServerRequest::GetRequest(CServerRequest *this, unsigned int dwRequestKey)
{
  CServerRequest *v2; // esi@1
  CPacketDispatch *v3; // edi@2
  CPacketDispatch *result; // eax@2
  CServerRequest *pos; // [sp+0h] [bp-4h]@1

  pos = this;
  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::find(
    &v2->m_RequestMap.baseclass_0,
    (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&pos,
    &dwRequestKey);
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)pos == v2->m_RequestMap.baseclass_0._Myhead )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = 0;
  }
  else
  {
    v3 = (CPacketDispatch *)pos->m_RequestLock.___u0.m_CSLock.LockSemaphore;
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = v3;
  }
  return result;
}

//----- (0040B030) --------------------------------------------------------
void __thiscall std::length_error::_length_error(std::out_of_range *this)
{
  std::out_of_range *v1; // esi@1

  v1 = this;
  this->baseclass_0.baseclass_0.vfptr = (exceptionVtbl *)&std::logic_error::_vftable_;
  if ( this->baseclass_0._Str._Myres >= 0x10 )
    operator delete(*(void **)&this->baseclass_0._Str._Bx._Buf[0]);
  v1->baseclass_0._Str._Myres = 15;
  v1->baseclass_0._Str._Mysize = 0;
  v1->baseclass_0._Str._Bx._Buf[0] = 0;
  exception::_exception(&v1->baseclass_0.baseclass_0);
}
// 4640E0: using guessed type int (__thiscall *std__logic_error___vftable_)(void *p, char);

//----- (0040B070) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Insert(...)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *v5; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v6; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v7; // eax@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v8; // eax@7
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v9; // eax@9
  int v10; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v11; // esi@11
  int v12; // ecx@12
  int v13; // ebp@12
  int v14; // edx@12
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *v15; // eax@24
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v18; // [sp+4Ch] [bp-4h]@2
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *_Vala; // [sp+60h] [bp+10h]@4

  v5 = this;
  if ( this->_Mysize >= 0xCCCCCCB )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "map/set<T> too long", 0x13u);
    v18 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  v6 = std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Buynode(
         this,
         this->_Myhead,
         _Wherenode,
         this->_Myhead,
         _Val,
         0);
  v7 = v5->_Myhead;
  _Vala = v6;
  ++v5->_Mysize;
  if ( _Wherenode == v7 )
  {
    v7->_Parent = v6;
    v5->_Myhead->_Left = v6;
    v5->_Myhead->_Right = v6;
  }
  else
  {
    if ( _Addleft )
    {
      _Wherenode->_Left = v6;
      v8 = v5->_Myhead;
      if ( _Wherenode == v8->_Left )
        v8->_Left = v6;
    }
    else
    {
      _Wherenode->_Right = v6;
      v9 = v5->_Myhead;
      if ( _Wherenode == v9->_Right )
        v9->_Right = v6;
    }
  }
  v10 = (int)&v6->_Parent;
  v11 = v6;
  if ( !v6->_Parent->_Color )
  {
    while ( 1 )
    {
      v12 = *(_DWORD *)v10;
      v13 = *(_DWORD *)(*(_DWORD *)v10 + 4);
      v14 = *(_DWORD *)v13;
      if ( *(_DWORD *)v10 == *(_DWORD *)v13 )
      {
        v14 = *(_DWORD *)(v13 + 8);
        if ( *(_BYTE *)(v14 + 32) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)(v12 + 8) )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(
              v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(
            v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      else
      {
        if ( *(_BYTE *)(v14 + 32) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)v12 )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(
              v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(
            v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      *(_BYTE *)(*(_DWORD *)v10 + 32) = 1;
      *(_BYTE *)(v14 + 32) = 1;
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)v10 + 4) + 32) = 0;
      v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)(*(_DWORD *)v10 + 4);
LABEL_22:
      v10 = (int)&v11->_Parent;
      if ( v11->_Parent->_Color )
      {
        v6 = _Vala;
        break;
      }
    }
  }
  v15 = result;
  v5->_Myhead->_Parent->_Color = 1;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6;
  return v15;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (0040B220) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator,bool> *result, std::pair<unsigned long const ,CServerRequest::RequestInfo> *_Val)
{
  std::pair<unsigned long const ,CServerRequest::RequestInfo> *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *v4; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v5; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v6; // eax@1
  bool v7; // cl@1
  const unsigned int v8; // edx@2
  std::pair<unsigned long const ,CServerRequest::RequestInfo> *v9; // edx@7
  int v10; // edx@9
  std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator,bool> *v11; // eax@9
  int v12; // ecx@12
  char _Addleft; // [sp+Ch] [bp-4h]@1

  v3 = _Val;
  v4 = this;
  v5 = this->_Myhead;
  v6 = v5->_Parent;
  v7 = 1;
  _Addleft = 1;
  if ( !v6->_Isnil )
  {
    v8 = _Val->first;
    do
    {
      v7 = v8 < v6->_Myval.first;
      v5 = v6;
      _Addleft = v8 < v6->_Myval.first;
      if ( v8 >= v6->_Myval.first )
        v6 = v6->_Right;
      else
        v6 = v6->_Left;
    }
    while ( !v6->_Isnil );
  }
  v9 = (std::pair<unsigned long const ,CServerRequest::RequestInfo> *)v5;
  _Val = (std::pair<unsigned long const ,CServerRequest::RequestInfo> *)v5;
  if ( v7 )
  {
    if ( v5 == v4->_Myhead->_Left )
    {
      v10 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Insert(
                          v4,
                          (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&_Val,
                          1,
                          v5,
                          v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      v11 = result;
      result->second = 1;
      *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v10;
      return v11;
    }
    std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::const_iterator *)&_Val);
    v9 = _Val;
  }
  if ( v9->second.m_dwDurationSec >= v3->first )
  {
    v11 = result;
    result->second = 0;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v9;
  }
  else
  {
    v12 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Insert(
                        v4,
                        (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&_Val,
                        _Addleft,
                        v5,
                        v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v11 = result;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v12;
    result->second = 1;
  }
  return v11;
}

//----- (0040B2E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 33) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Inc(&_Where.baseclass_0);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 33) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 33) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 33) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)&v5);
      v9->_Left = v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 33) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v7;
      else
        v11->_Right = std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 33) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 33) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 32);
  *(_BYTE *)(*(_DWORD *)&v6 + 32) = *(_BYTE *)(*(_DWORD *)&v4 + 32);
  *(_BYTE *)(*(_DWORD *)&v4 + 32) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 32) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 32) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 32) )
          {
            *(_BYTE *)(v15 + 32) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 32) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 33) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 32) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 32) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 32) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 32) = 1;
              *(_BYTE *)(v15 + 32) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 32) = *(_BYTE *)(*(_DWORD *)&v7 + 32);
            *(_BYTE *)(*(_DWORD *)&v7 + 32) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 32) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 32) )
          {
            *(_BYTE *)(v15 + 32) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 32) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 33) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 32) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 32) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 32) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 32) = 1;
              *(_BYTE *)(v15 + 32) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Lrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 32) = *(_BYTE *)(*(_DWORD *)&v7 + 32);
            *(_BYTE *)(*(_DWORD *)&v7 + 32) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 32) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 32) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 32) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (0040B5A0) --------------------------------------------------------
void __thiscall std::out_of_range::out_of_range(std::out_of_range *this, std::out_of_range *__that)
{
  std::out_of_range *v2; // esi@1

  v2 = this;
  std::logic_error::logic_error(&this->baseclass_0, &__that->baseclass_0);
  v2->baseclass_0.baseclass_0.vfptr = (exceptionVtbl *)&std::out_of_range::_vftable_;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (0040B5C0) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 33) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 33) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 33);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 33);
                  j = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (0040B680) --------------------------------------------------------
unsigned int __thiscall CServerRequest::AddRequest(CServerRequest *this, CPacketDispatch *lpSrcDispatch, CPacketDispatch *lpDstDispatch, unsigned int dwDurationSec, void (__cdecl *lpTimeoutRequest)(CPacketDispatch *))
{
  int v5; // eax@0
  CPacketDispatch *v6; // ebx@1
  CServerRequest *v7; // esi@1
  char v8; // cl@4
  const unsigned int v9; // edi@7
  CSession *DstSession; // [sp+0h] [bp-30h]@5
  std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator,bool> result; // [sp+8h] [bp-28h]@7
  std::pair<unsigned long const ,CServerRequest::RequestInfo> _Val; // [sp+10h] [bp-20h]@7
  int v14; // [sp+24h] [bp-Ch]@1
  int (*v15)(); // [sp+28h] [bp-8h]@1
  int v16; // [sp+2Ch] [bp-4h]@1
  CSession *lpSrcDispatcha; // [sp+34h] [bp+4h]@5

  v16 = -1;
  v15 = _ehhandler__AddRequest_CServerRequest__QAEKPAVCPacketDispatch__0KP6AX0_Z_Z;
  v14 = v5;
  v6 = lpSrcDispatch;
  v7 = this;
  if ( lpSrcDispatch && lpDstDispatch && dwDurationSec )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    v8 = LOBYTE(v7->m_dwRequestFlags);
    v16 = 0;
    if ( !(v8 & 1) )
    {
      lpSrcDispatcha = lpSrcDispatch->m_Session;
      DstSession = lpDstDispatch->m_Session;
      if ( !v7->m_dwRequestCounter )
        v7->m_dwRequestCounter = 1;
      v9 = v7->m_dwRequestCounter;
      v7->m_dwRequestCounter = v9 + 1;
      _Val.second.m_lpTimeoutRequest = lpTimeoutRequest;
      _Val.second.m_dwDurationSec = dwDurationSec;
      _Val.first = v9;
      _Val.second.m_lpSrcDispatch = v6;
      _Val.second.m_lpDstDispatch = lpDstDispatch;
      if ( std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::insert(
             &v7->m_RequestMap.baseclass_0,
             &result,
             &_Val)->second )
      {
        CSession::AddRef(lpSrcDispatcha);
        CSession::AddRef(DstSession);
        inet_ntoa(*(struct in_addr *)&v6->m_Session->m_RemoteAddr.m_SockAddr.sa_data[2]);
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CServerRequest::AddRequest",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Dispatch\\ServerRequest.cpp",
          105,
          "SS:0x%p/DP:0x%p/IP:%15s/Request:%d/DstDP:0x%p/Request Added");
        LeaveCriticalSection((LPCRITICAL_SECTION)v7);
        return v9;
      }
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)v7);
  }
  return 0;
}
// 44E4C8: using guessed type int _ehhandler$?AddRequest_CServerRequest__QAEKPAVCPacketDispatch__0KP6AX0_Z_Z();

//----- (0040B7C0) --------------------------------------------------------
void __thiscall CServerRequest::RemoveRequest(CServerRequest *this, unsigned int dwRequestKey)
{
  CServerRequest *v2; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v3; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v4; // eax@1
  int v5; // esi@1
  unsigned int v6; // ecx@2
  void (__cdecl *v7)(CPacketDispatch *); // edx@2
  struct in_addr v8; // ST28_4@2
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator pos; // [sp+10h] [bp-14h]@1
  CServerRequest::RequestInfo info; // [sp+14h] [bp-10h]@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::find(
    &v2->m_RequestMap.baseclass_0,
    &pos,
    &dwRequestKey);
  v3 = pos;
  v4 = v2->m_RequestMap.baseclass_0._Myhead;
  v5 = 0;
  info.m_lpDstDispatch = 0;
  info.m_lpTimeoutRequest = 0;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)pos != v4 )
  {
    v5 = *(_DWORD *)(*(_DWORD *)&pos + 16);
    v6 = *(_DWORD *)(*(_DWORD *)&pos + 24);
    v7 = *(void (__cdecl **)(CPacketDispatch *))(*(_DWORD *)&pos + 28);
    info.m_lpDstDispatch = *(CPacketDispatch **)(*(_DWORD *)&pos + 20);
    v8 = *(struct in_addr *)(*(_DWORD *)(v5 + 4) + 48);
    info.m_dwDurationSec = v6;
    info.m_lpTimeoutRequest = v7;
    inet_ntoa(v8);
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CServerRequest::RemoveRequest",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Dispatch\\ServerRequest.cpp",
      131,
      "SS:0x%p/DP:0x%p/IP:%15s/Request:%d/DstDP:0x%p/Request Removed(By RequestKey)");
    std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(
      &v2->m_RequestMap.baseclass_0,
      (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&dwRequestKey,
      v3);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  if ( v5 )
  {
    if ( info.m_lpTimeoutRequest )
      info.m_lpTimeoutRequest((CPacketDispatch *)v5);
    CSession::Release(*(CSession **)(v5 + 4));
  }
  if ( info.m_lpDstDispatch )
    CSession::Release(info.m_lpDstDispatch->m_Session);
}

//----- (0040B8A0) --------------------------------------------------------
void __thiscall CServerRequest::RemoveTimeoutRequest(CServerRequest *this)
{
  CServerRequest *v1; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v2; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v3; // esi@1
  bool v4; // zf@1
  void (__cdecl *v5)(_DWORD); // ecx@4
  int v6; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *v7; // eax@9
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator pos; // [sp+0h] [bp-18h]@1
  CLock<CCSLock>::Syncronize sync; // [sp+4h] [bp-14h]@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator result; // [sp+8h] [bp-10h]@9
  int v11; // [sp+14h] [bp-4h]@1

  v1 = this;
  sync.m_Lock = (CCSLock *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_RequestMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)v2->_Left;
  v4 = v2->_Left == v2;
  v11 = 0;
  pos = v3;
  if ( !v4 )
  {
    do
    {
      v4 = (*(_DWORD *)(*(_DWORD *)&v3 + 24))-- == 1;
      if ( v4 )
      {
        inet_ntoa(*(struct in_addr *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v3 + 16) + 4) + 48));
        CServerLog::DetailLog(
          &g_Log,
          LOG_DETAIL,
          "CServerRequest::RemoveTimeoutRequest",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Dispatch\\ServerRequest.cpp",
          187,
          "SS:0x%p/DP:0x%p/IP:%15s/Request:%d/DstDP:0x%p/Request Removed(By Timeout)");
        if ( *(_DWORD *)(*(_DWORD *)&v3 + 16) )
        {
          v5 = *(void (__cdecl **)(_DWORD))(*(_DWORD *)&v3 + 28);
          if ( v5 )
            v5(*(_DWORD *)(*(_DWORD *)&v3 + 16));
          CSession::Release(*(CSession **)(*(_DWORD *)(*(_DWORD *)&v3 + 16) + 4));
        }
        v6 = *(_DWORD *)(*(_DWORD *)&v3 + 20);
        if ( v6 )
          CSession::Release(*(CSession **)(v6 + 4));
        v7 = std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(
               &v1->m_RequestMap.baseclass_0,
               &result,
               v3);
        v3 = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&v7->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
        pos = *(std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&v7->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      }
      else
      {
        std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::const_iterator::_Inc(&pos.baseclass_0);
        v3 = pos;
      }
    }
    while ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)v3 != v2 );
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040B9B0) --------------------------------------------------------
CPacketDispatch *__thiscall CServerRequest::PopRequest(CServerRequest *this, unsigned int dwRequestKey)
{
  CServerRequest *v2; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v3; // edi@1
  int v4; // esi@2
  void (__cdecl *v5)(CPacketDispatch *); // edx@2
  struct in_addr v6; // ST28_4@2
  CPacketDispatch *result; // eax@2
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator pos; // [sp+0h] [bp-24h]@1
  CLock<CCSLock>::Syncronize sync; // [sp+4h] [bp-20h]@1
  CServerRequest::RequestInfo info; // [sp+8h] [bp-1Ch]@2
  int v11; // [sp+20h] [bp-4h]@1

  v2 = this;
  sync.m_Lock = (CCSLock *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v11 = 0;
  std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::find(
    &v2->m_RequestMap.baseclass_0,
    &pos,
    &dwRequestKey);
  v3 = pos;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *)pos == v2->m_RequestMap.baseclass_0._Myhead )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = 0;
  }
  else
  {
    v4 = *(_DWORD *)(*(_DWORD *)&pos + 16);
    v5 = *(void (__cdecl **)(CPacketDispatch *))(*(_DWORD *)&pos + 28);
    v6 = *(struct in_addr *)(*(_DWORD *)(v4 + 4) + 48);
    info.m_dwDurationSec = *(_DWORD *)(*(_DWORD *)&pos + 24);
    info.m_lpTimeoutRequest = v5;
    inet_ntoa(v6);
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CServerRequest::PopRequest",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Dispatch\\ServerRequest.cpp",
      264,
      "SS:0x%p/DP:0x%p/IP:%15s/Request:%d/DstDP:0x%p/Request Removed(By Pop Request)");
    std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(
      &v2->m_RequestMap.baseclass_0,
      (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator *)&dwRequestKey,
      v3);
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = (CPacketDispatch *)v4;
  }
  return result;
}

//----- (0040BAA0) --------------------------------------------------------
void __thiscall std::map<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>>::_map<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>>(std::map<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> > > *this)
{
  std::map<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (0040BAD0) --------------------------------------------------------
void __thiscall CServerRequest::_CServerRequest(CServerRequest *this)
{
  CServerRequest *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v2; // ST08_4@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator v3; // ST04_4@1
  std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator result; // [sp+Ch] [bp-10h]@1
  int v5; // [sp+18h] [bp-4h]@1

  v1 = this;
  v5 = 1;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_dwRequestFlags |= 1u;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  CServerRequest::RemoveAllRequest(v1);
  v2 = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)v1->m_RequestMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::iterator)v1->m_RequestMap.baseclass_0._Myhead->_Left;
  LOBYTE(v5) = 0;
  std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::erase(
    &v1->m_RequestMap.baseclass_0,
    &result,
    v3,
    v2);
  operator delete(v1->m_RequestMap.baseclass_0._Myhead);
  v1->m_RequestMap.baseclass_0._Myhead = 0;
  v1->m_RequestMap.baseclass_0._Mysize = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040BB70) --------------------------------------------------------
void __thiscall CServerRequest::CServerRequest(CServerRequest *this)
{
  CServerRequest *v1; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> >,0> >::_Node *v2; // eax@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v2 = std::_Tree<std::_Tmap_traits<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>_0>>::_Buynode(&v1->m_RequestMap.baseclass_0);
  v1->m_RequestMap.baseclass_0._Myhead = v2;
  v2->_Isnil = 1;
  v1->m_RequestMap.baseclass_0._Myhead->_Parent = v1->m_RequestMap.baseclass_0._Myhead;
  v1->m_RequestMap.baseclass_0._Myhead->_Left = v1->m_RequestMap.baseclass_0._Myhead;
  v1->m_RequestMap.baseclass_0._Myhead->_Right = v1->m_RequestMap.baseclass_0._Myhead;
  v1->m_RequestMap.baseclass_0._Mysize = 0;
}

//----- (0040BBE0) --------------------------------------------------------
CServerRequest *__cdecl CServerRequest::GetInstance()
{
  if ( !(_S1_5 & 1) )
  {
    _S1_5 |= 1u;
    CServerRequest::CServerRequest(&serverRequest);
    atexit(_E2_6);
  }
  return &serverRequest;
}

//----- (0040BC40) --------------------------------------------------------
void __thiscall CServerRequest::Result::Result(CServerRequest::Result *this, unsigned int dwRequestKey, bool bRemove)
{
  CServerRequest::Result *v3; // esi@1
  CServerRequest *v4; // eax@2
  CServerRequest *v5; // eax@3

  v3 = this;
  this->m_bRemove = bRemove;
  if ( bRemove )
  {
    v4 = CServerRequest::GetInstance();
    v3->m_lpSrcDispatch = CServerRequest::PopRequest(v4, dwRequestKey);
  }
  else
  {
    v5 = CServerRequest::GetInstance();
    v3->m_lpSrcDispatch = CServerRequest::GetRequest(v5, dwRequestKey);
  }
}

//----- (0040BC80) --------------------------------------------------------
unsigned int __cdecl Math::Convert::StrToHex32(const char *szSrc)
{
  const char v1; // al@1
  int v2; // ecx@10
  const char v3; // al@10
  int v4; // ecx@10
  int v5; // eax@19
  const char v6; // cl@19
  int v7; // esi@28
  const char v8; // cl@28
  int v9; // esi@28
  int v10; // eax@37
  const char v11; // cl@37
  int v12; // esi@46
  const char v13; // cl@46
  int v14; // esi@46
  int v15; // eax@55
  const char v16; // cl@55
  int v17; // esi@64
  const char v18; // cl@64
  int v19; // esi@64
  unsigned int result; // eax@66

  v1 = szSrc[2];
  if ( v1 < 48 || v1 > 57 )
  {
    if ( v1 < 65 || v1 > 70 )
    {
      if ( v1 >= 97 && v1 <= 102 )
        v1 -= 87;
    }
    else
    {
      v1 -= 55;
    }
  }
  else
  {
    v1 -= 48;
  }
  v2 = v1;
  v3 = szSrc[3];
  v4 = v2 << 28;
  if ( v3 < 48 || v3 > 57 )
  {
    if ( v3 < 65 || v3 > 70 )
    {
      if ( v3 >= 97 && v3 <= 102 )
        v3 -= 87;
    }
    else
    {
      v3 -= 55;
    }
  }
  else
  {
    v3 -= 48;
  }
  v5 = v4 + (v3 << 24);
  v6 = szSrc[4];
  if ( szSrc[4] < 48 || v6 > 57 )
  {
    if ( v6 < 65 || v6 > 70 )
    {
      if ( v6 >= 97 && v6 <= 102 )
        v6 -= 87;
    }
    else
    {
      v6 -= 55;
    }
  }
  else
  {
    v6 -= 48;
  }
  v7 = v6;
  v8 = szSrc[5];
  v9 = v7 << 20;
  if ( v8 < 48 || v8 > 57 )
  {
    if ( v8 < 65 || v8 > 70 )
    {
      if ( v8 >= 97 && v8 <= 102 )
        v8 -= 87;
    }
    else
    {
      v8 -= 55;
    }
  }
  else
  {
    v8 -= 48;
  }
  v10 = v9 + (v8 << 16) + v5;
  v11 = szSrc[6];
  if ( szSrc[6] < 48 || v11 > 57 )
  {
    if ( v11 < 65 || v11 > 70 )
    {
      if ( v11 >= 97 && v11 <= 102 )
        v11 -= 87;
    }
    else
    {
      v11 -= 55;
    }
  }
  else
  {
    v11 -= 48;
  }
  v12 = v11;
  v13 = szSrc[7];
  v14 = v12 << 12;
  if ( v13 < 48 || v13 > 57 )
  {
    if ( v13 < 65 || v13 > 70 )
    {
      if ( v13 >= 97 && v13 <= 102 )
        v13 -= 87;
    }
    else
    {
      v13 -= 55;
    }
  }
  else
  {
    v13 -= 48;
  }
  v15 = v14 + (v13 << 8) + v10;
  v16 = szSrc[8];
  if ( szSrc[8] < 48 || v16 > 57 )
  {
    if ( v16 < 65 || v16 > 70 )
    {
      if ( v16 >= 97 && v16 <= 102 )
        v16 -= 87;
    }
    else
    {
      v16 -= 55;
    }
  }
  else
  {
    v16 -= 48;
  }
  v17 = v16;
  v18 = szSrc[9];
  v19 = 16 * v17;
  if ( v18 < 48 || v18 > 57 )
  {
    if ( v18 < 65 || v18 > 70 )
    {
      if ( v18 >= 97 )
      {
        if ( v18 <= 102 )
          v18 -= 87;
      }
      result = v19 + v18 + v15;
    }
    else
    {
      result = v19 + (char)(v18 - 55) + v15;
    }
  }
  else
  {
    result = v19 + (char)(v18 - 48) + v15;
  }
  return result;
}

//----- (0040BE40) --------------------------------------------------------
unsigned int __cdecl Math::Convert::Atoi(const char *szSrc)
{
  unsigned int result; // eax@2

  if ( _mbsnbcmp(szSrc, "0x", 2u) )
    result = atol(szSrc);
  else
    result = Math::Convert::StrToHex32(szSrc);
  return result;
}

//----- (0040BE70) --------------------------------------------------------
void *__thiscall CSocketFactory::_vector_deleting_destructor_(CSocketFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (CSocketFactoryVtbl *)&CSocketFactory::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 45352C: using guessed type int (__thiscall *CSocketFactory___vftable_)(void *p, char);

//----- (0040BE90) --------------------------------------------------------
void __thiscall CTCPFactory::_CTCPFactory(CTCPFactory *this)
{
  this->baseclass_0.baseclass_0.vfptr = (CSocketFactoryVtbl *)&CSocketFactory::_vftable_;
}
// 45352C: using guessed type int (__thiscall *CSocketFactory___vftable_)(void *p, char);

//----- (0040BEA0) --------------------------------------------------------
OleDB::ConnType __cdecl GetConnTypeFromString(const char *szConnType)
{
  OleDB::ConnType result; // eax@2
  bool v2; // zf@4
  char szBuffer[64]; // [sp+4h] [bp-44h]@1

  _snprintf(szBuffer, 0x40u, "%s");
  szBuffer[63] = 0;
  _mbsupr(szBuffer);
  if ( _mbscmp(szBuffer, "MSSQL") )
  {
    result = _mbscmp(szBuffer, "ODBC");
    if ( result )
    {
      v2 = _mbscmp(szBuffer, "ORACLE") == 0;
      result = 2;
      if ( !v2 )
        result = 1;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0040BF50) --------------------------------------------------------
unsigned int __thiscall CServerSetup::GetServerID(CServerSetup *this)
{
  return this->m_ServerID;
}

//----- (0040BF60) --------------------------------------------------------
char __thiscall CServerSetup::GetServerGroup(CServerSetup *this)
{
  return BYTE1(this->m_ServerID);
}

//----- (0040BF70) --------------------------------------------------------
bool __thiscall CServerSetup::InitLoginServer(CServerSetup *this)
{
  CServerSetup *v1; // esi@1
  const char *v2; // eax@2
  char szPingCheck[260]; // [sp+8h] [bp-428h]@1
  char szAloneMode[260]; // [sp+110h] [bp-320h]@1
  char szServerID[260]; // [sp+218h] [bp-218h]@1
  char szLimitVer[260]; // [sp+320h] [bp-110h]@1

  v1 = this;
  szServerID[0] = 0;
  memset(&szServerID[1], 0, 0x100u);
  *(_WORD *)&szServerID[257] = 0;
  szServerID[259] = 0;
  szPingCheck[0] = 0;
  memset(&szPingCheck[1], 0, 0x100u);
  *(_WORD *)&szPingCheck[257] = 0;
  szPingCheck[259] = 0;
  szAloneMode[0] = 0;
  memset(&szAloneMode[1], 0, 0x100u);
  *(_WORD *)&szAloneMode[257] = 0;
  szAloneMode[259] = 0;
  szLimitVer[0] = 0;
  memset(&szLimitVer[1], 0, 0x100u);
  *(_WORD *)&szLimitVer[257] = 0;
  szLimitVer[259] = 0;
  if ( !Registry::ReadString("DemonSetup.ini", "LoginServer", "ServerID", szServerID, 260) )
  {
    v2 = "LoginServer : ";
LABEL_11:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CServerSetup::InitLoginServer",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
      183,
      v2);
    return 0;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "LoginServer", "PingCheck", szPingCheck, 260) )
  {
    v2 = "LoginServer :  ";
    goto LABEL_11;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "LoginServer", "AloneMode", szAloneMode, 260) )
  {
    v2 = "LoginServer :  ";
    goto LABEL_11;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "LoginServer", "LeastPatchVer", szLimitVer, 260) )
  {
    v2 = "LoginServer : ";
    goto LABEL_11;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "LoginServer", "PatchAddr", v1->m_chPatchAddr, 260) )
  {
    v2 = "LoginServer :   ";
    goto LABEL_11;
  }
  v1->m_ServerID = atol(szServerID);
  v1->m_bPingCheck = atol(szPingCheck) == 1;
  v1->m_bAlone = atol(szAloneMode) == 1;
  v1->m_dwClientVer = atol(szLimitVer);
  return 1;
}

//----- (0040C180) --------------------------------------------------------
bool __thiscall CServerSetup::InitAuthServer(CServerSetup *this)
{
  CServerSetup *v1; // esi@1
  const char *v2; // eax@2
  char szPingCheck[260]; // [sp+8h] [bp-B60h]@1
  char szAuthDBType[260]; // [sp+110h] [bp-A58h]@1
  char szHanCheck[260]; // [sp+218h] [bp-950h]@1
  char szSupressCharCreate[260]; // [sp+320h] [bp-848h]@1
  char szAuthType[260]; // [sp+428h] [bp-740h]@1
  char szServerID[260]; // [sp+530h] [bp-638h]@1
  char szDBAgentAddr[260]; // [sp+638h] [bp-530h]@1
  char szSupressCharDelete[260]; // [sp+740h] [bp-428h]@1
  char szBattleServer[260]; // [sp+848h] [bp-320h]@1
  char szAdminToolDBType[260]; // [sp+950h] [bp-218h]@1
  char szTestGroupAuth[260]; // [sp+A58h] [bp-110h]@1

  v1 = this;
  szServerID[0] = 0;
  memset(&szServerID[1], 0, 0x100u);
  *(_WORD *)&szServerID[257] = 0;
  szServerID[259] = 0;
  szAuthType[0] = 0;
  memset(&szAuthType[1], 0, 0x100u);
  *(_WORD *)&szAuthType[257] = 0;
  szAuthType[259] = 0;
  szDBAgentAddr[0] = 0;
  memset(&szDBAgentAddr[1], 0, 0x100u);
  *(_WORD *)&szDBAgentAddr[257] = 0;
  szDBAgentAddr[259] = 0;
  szPingCheck[0] = 0;
  memset(&szPingCheck[1], 0, 0x100u);
  *(_WORD *)&szPingCheck[257] = 0;
  szPingCheck[259] = 0;
  szHanCheck[0] = 0;
  memset(&szHanCheck[1], 0, 0x100u);
  *(_WORD *)&szHanCheck[257] = 0;
  szHanCheck[259] = 0;
  szBattleServer[0] = 0;
  memset(&szBattleServer[1], 0, 0x100u);
  *(_WORD *)&szBattleServer[257] = 0;
  szBattleServer[259] = 0;
  szSupressCharCreate[0] = 0;
  memset(&szSupressCharCreate[1], 0, 0x100u);
  *(_WORD *)&szSupressCharCreate[257] = 0;
  szSupressCharCreate[259] = 0;
  szSupressCharDelete[0] = 0;
  memset(&szSupressCharDelete[1], 0, 0x100u);
  *(_WORD *)&szSupressCharDelete[257] = 0;
  szSupressCharDelete[259] = 0;
  szTestGroupAuth[0] = 0;
  memset(&szTestGroupAuth[1], 0, 0x100u);
  *(_WORD *)&szTestGroupAuth[257] = 0;
  szTestGroupAuth[259] = 0;
  szAuthDBType[0] = 0;
  memset(&szAuthDBType[1], 0, 0x100u);
  *(_WORD *)&szAuthDBType[257] = 0;
  szAuthDBType[259] = 0;
  szAdminToolDBType[0] = 0;
  memset(&szAdminToolDBType[1], 0, 0x100u);
  *(_WORD *)&szAdminToolDBType[257] = 0;
  szAdminToolDBType[259] = 0;
  if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "ServerID", szServerID, 260) )
  {
    if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "AuthType", szAuthType, 260) )
    {
      if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "DBAgentAddr", szDBAgentAddr, 260) )
      {
        if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "PingCheck", szPingCheck, 260) )
        {
          if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "KoreanLangCheck", szHanCheck, 260) )
          {
            if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "BattleServerAuth", szBattleServer, 260) )
            {
              if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "TestGroupAuth", szTestGroupAuth, 260) )
              {
                if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "AuthDBType", szAuthDBType, 260)
                  && Registry::ReadString(
                       "DemonSetup.ini",
                       "AuthServer",
                       "AuthDBAddr",
                       v1->m_stAuthDBInfo.m_szDBAddr,
                       128)
                  && Registry::ReadString(
                       "DemonSetup.ini",
                       "AuthServer",
                       "AuthDBName",
                       v1->m_stAuthDBInfo.m_szDBName,
                       128)
                  && Registry::ReadString(
                       "DemonSetup.ini",
                       "AuthServer",
                       "AuthDBUser",
                       v1->m_stAuthDBInfo.m_szDBUser,
                       128)
                  && Registry::ReadString(
                       "DemonSetup.ini",
                       "AuthServer",
                       "AuthDBPass",
                       v1->m_stAuthDBInfo.m_szDBPass,
                       128) )
                {
                  if ( Registry::ReadString("DemonSetup.ini", "AuthServer", "AdminToolDBType", szAdminToolDBType, 260)
                    && Registry::ReadString(
                         "DemonSetup.ini",
                         "AuthServer",
                         "AdminToolDBAddr",
                         v1->m_stAdminToolDBInfo.m_szDBAddr,
                         128)
                    && Registry::ReadString(
                         "DemonSetup.ini",
                         "AuthServer",
                         "AdminToolDBName",
                         v1->m_stAdminToolDBInfo.m_szDBName,
                         128)
                    && Registry::ReadString(
                         "DemonSetup.ini",
                         "AuthServer",
                         "AdminToolDBUser",
                         v1->m_stAdminToolDBInfo.m_szDBUser,
                         128)
                    && Registry::ReadString(
                         "DemonSetup.ini",
                         "AuthServer",
                         "AdminToolDBPass",
                         v1->m_stAdminToolDBInfo.m_szDBPass,
                         128) )
                  {
                    v1->m_stAuthDBInfo.m_ConnType = GetConnTypeFromString(szAuthDBType);
                    v1->m_stAdminToolDBInfo.m_ConnType = GetConnTypeFromString(szAdminToolDBType);
                    Registry::ReadString("DemonSetup.ini", "AuthServer", "SupressCharCreate", szSupressCharCreate, 260);
                    v1->m_bSupressCharCreate = atoi(szSupressCharCreate) == 1;
                    Registry::ReadString("DemonSetup.ini", "AuthServer", "SupressCharDelete", szSupressCharDelete, 260);
                    v1->m_bSupressCharDelete = atoi(szSupressCharDelete) == 1;
                    v1->m_ServerID = atoi(szServerID);
                    v1->m_bPingCheck = atoi(szPingCheck) == 1;
                    v1->m_bHanCheck = atoi(szHanCheck) == 1;
                    v1->m_dwAuthType = atoi(szAuthType);
                    INET_Addr::set_addr(&v1->m_ServerAddress[3], szDBAgentAddr, 0x2EE4u);
                    v1->m_bBattleAuth = atoi(szBattleServer) == 1;
                    v1->m_bTestGroupAuth = atoi(szTestGroupAuth) == 1;
                    return 1;
                  }
                  v2 = "AuthServer : ";
                }
                else
                {
                  v2 = "AuthServer : ";
                }
              }
              else
              {
                v2 = "AuthServer : ";
              }
            }
            else
            {
              v2 = "AuthServer : ";
            }
          }
          else
          {
            v2 = "AuthServer :  .";
          }
        }
        else
        {
          v2 = "AuthServer :  .";
        }
      }
      else
      {
        v2 = "AuthServer :  ";
      }
    }
    else
    {
      v2 = "AuthServer : ";
    }
  }
  else
  {
    v2 = "AuthServer : ";
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CServerSetup::InitAuthServer",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
    275,
    v2);
  return 0;
}

//----- (0040C760) --------------------------------------------------------
bool __thiscall CServerSetup::InitAgentServer(CServerSetup *this)
{
  CServerSetup *v1; // esi@1
  const char *v2; // eax@2
  UnifiedConst::AgentServerType v3; // eax@34
  int v5; // [sp-10h] [bp-11A0h]@36
  const char *v6; // [sp-Ch] [bp-119Ch]@36
  char szCheckSum[260]; // [sp+0h] [bp-1190h]@1
  char szGameDBConnType[260]; // [sp+108h] [bp-1088h]@1
  char szLoginServerAddr[260]; // [sp+210h] [bp-F80h]@1
  char szBillingType[260]; // [sp+318h] [bp-E78h]@1
  char szBattleServer[260]; // [sp+420h] [bp-D70h]@1
  char szAdminIPCheck[260]; // [sp+528h] [bp-C68h]@1
  char szNationType[260]; // [sp+630h] [bp-B60h]@1
  char szUserLimit[260]; // [sp+738h] [bp-A58h]@1
  char szServerVersion[260]; // [sp+840h] [bp-950h]@1
  char szSelectableUnifiedServerNum[260]; // [sp+948h] [bp-848h]@39
  char szBattleLimit[260]; // [sp+A50h] [bp-740h]@1
  char szPingCheck[260]; // [sp+B58h] [bp-638h]@1
  char szServerID[260]; // [sp+C60h] [bp-530h]@1
  char szUIDServerAddr[260]; // [sp+D68h] [bp-428h]@15
  char szRestrictedPart1ToPart2Level[260]; // [sp+E70h] [bp-320h]@37
  char szPart1UnifiedAgentAddr[260]; // [sp+F78h] [bp-218h]@35
  char szAgentServerType[260]; // [sp+1080h] [bp-110h]@3

  v1 = this;
  szServerID[0] = 0;
  memset(&szServerID[1], 0, 0x100u);
  *(_WORD *)&szServerID[257] = 0;
  szServerID[259] = 0;
  szBillingType[0] = 0;
  memset(&szBillingType[1], 0, 0x100u);
  *(_WORD *)&szBillingType[257] = 0;
  szBillingType[259] = 0;
  szPingCheck[0] = 0;
  memset(&szPingCheck[1], 0, 0x100u);
  *(_WORD *)&szPingCheck[257] = 0;
  szPingCheck[259] = 0;
  szAdminIPCheck[0] = 0;
  memset(&szAdminIPCheck[1], 0, 0x100u);
  *(_WORD *)&szAdminIPCheck[257] = 0;
  szAdminIPCheck[259] = 0;
  szServerVersion[0] = 0;
  memset(&szServerVersion[1], 0, 0x100u);
  *(_WORD *)&szServerVersion[257] = 0;
  szServerVersion[259] = 0;
  szCheckSum[0] = 0;
  memset(&szCheckSum[1], 0, 0x100u);
  *(_WORD *)&szCheckSum[257] = 0;
  szCheckSum[259] = 0;
  szLoginServerAddr[0] = 0;
  memset(&szLoginServerAddr[1], 0, 0x100u);
  *(_WORD *)&szLoginServerAddr[257] = 0;
  szLoginServerAddr[259] = 0;
  szBattleServer[0] = 0;
  memset(&szBattleServer[1], 0, 0x100u);
  *(_WORD *)&szBattleServer[257] = 0;
  szBattleServer[259] = 0;
  szNationType[0] = 0;
  memset(&szNationType[1], 0, 0x100u);
  *(_WORD *)&szNationType[257] = 0;
  szNationType[259] = 0;
  szUserLimit[0] = 0;
  memset(&szUserLimit[1], 0, 0x100u);
  *(_WORD *)&szUserLimit[257] = 0;
  szUserLimit[259] = 0;
  szBattleLimit[0] = 0;
  memset(&szBattleLimit[1], 0, 0x100u);
  *(_WORD *)&szBattleLimit[257] = 0;
  szBattleLimit[259] = 0;
  szGameDBConnType[0] = 0;
  memset(&szGameDBConnType[1], 0, 0x100u);
  *(_WORD *)&szGameDBConnType[257] = 0;
  szGameDBConnType[259] = 0;
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "ServerID", szServerID, 260) )
  {
    v2 = "DBAgentServer : ";
LABEL_48:
    v6 = v2;
    v5 = 435;
    goto LABEL_49;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "ServerType", szAgentServerType, 260) )
  {
    v2 = "DBAgentServer : ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "BillingType", szBillingType, 260) )
  {
    v2 = "DBAgentServer : ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "NationType", szNationType, 260) )
  {
    v2 = "DBAgentServer : ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "ClientVersion", szServerVersion, 260) )
  {
    v2 = "DBAgentServer : ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "PatchAddress", v1->m_chPatchAddr, 260) )
  {
    v2 = "DBAgentServer :   ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "LoginServerAddr", szLoginServerAddr, 260) )
  {
    v2 = "DBAgentServer :  ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "UIDServerAddr", szUIDServerAddr, 260) )
  {
    v2 = "DBAgentServer : UID ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "CheckSum", szCheckSum, 260) )
  {
    v2 = "DBAgentServer :  ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "PingCheck", szPingCheck, 260) )
  {
    v2 = "DBAgentServer :  ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "AdminIPCheck", szAdminIPCheck, 260) )
  {
    v2 = "DBAgentServer :  IP .";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "BattleServer", szBattleServer, 260) )
  {
    v2 = "DBAgentServer :  ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "LimitServerGroupUserNum", szUserLimit, 260) )
  {
    v2 = "DBAgentServer : ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "LimitBattleUser", szBattleLimit, 260) )
  {
    v2 = "DBAgentServer : ";
    goto LABEL_48;
  }
  if ( !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "GameDBType", szGameDBConnType, 260)
    || !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "GameDBAddr", v1->m_stGameDBInfo.m_szDBAddr, 128)
    || !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "GameDBName", v1->m_stGameDBInfo.m_szDBName, 128)
    || !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "GameDBUser", v1->m_stGameDBInfo.m_szDBUser, 128)
    || !Registry::ReadString("DemonSetup.ini", "DBAgentServer", "GameDBPass", v1->m_stGameDBInfo.m_szDBPass, 128) )
  {
    v2 = "DBAgentServer :  DB  ";
    goto LABEL_48;
  }
  v1->m_stGameDBInfo.m_ConnType = GetConnTypeFromString(szGameDBConnType);
  v1->m_ServerID = atol(szServerID);
  v1->m_dwBillingType = atoi(szBillingType);
  v1->m_bPingCheck = atoi(szPingCheck) == 1;
  v1->m_bAdminIPCheck = atoi(szAdminIPCheck) == 1;
  v1->m_dwClientVer = atol(szServerVersion);
  v1->m_dwUserLimit = atol(szUserLimit);
  v1->m_wBattleLimit = atol(szBattleLimit);
  v1->m_dwCheckSum = Math::Convert::Atoi(szCheckSum);
  INET_Addr::set_addr(v1->m_ServerAddress, szLoginServerAddr, 0x2EE2u);
  INET_Addr::set_addr(&v1->m_ServerAddress[4], szUIDServerAddr, 0x2EE1u);
  v1->m_bBattleAgent = atoi(szBattleServer) == 1;
  v1->m_eAgentServerType = atoi(szAgentServerType);
  v1->m_eNationType = atol(szNationType);
  v3 = v1->m_eAgentServerType;
  if ( v3 == 23 )
  {
    if ( Registry::ReadString("DemonSetup.ini", "DBAgentServer", "Part1UnifiedAgentAddr", szPart1UnifiedAgentAddr, 260) )
    {
      if ( Registry::ReadString(
             "DemonSetup.ini",
             "DBAgentServer",
             "RestrictedPart1ToPart2Level",
             szRestrictedPart1ToPart2Level,
             260) )
      {
        if ( Registry::ReadString(
               "DemonSetup.ini",
               "DBAgentServer",
               "MaxTransferCharNum",
               szSelectableUnifiedServerNum,
               260) )
        {
          INET_Addr::set_addr(&v1->m_Part1UnifiedAgentAddr, szPart1UnifiedAgentAddr, 0x2EE6u);
          v1->m_cRestrictedPart1ToPart2Level = atoi(szRestrictedPart1ToPart2Level);
          v1->m_cMaxTransferPart1ToPart2Count = atoi(szSelectableUnifiedServerNum);
          return 1;
        }
        v6 = "1 2 ";
        v5 = 408;
      }
      else
      {
        v6 = "1 2 ";
        v5 = 402;
      }
    }
    else
    {
      v6 = "1   ";
      v5 = 396;
    }
    goto LABEL_49;
  }
  if ( v3 != 24 )
    return 1;
  if ( Registry::ReadString(
         "DemonSetup.ini",
         "DBAgentServer",
         "Part2SelectableUnifiedServerNum",
         szSelectableUnifiedServerNum,
         260) )
  {
    v1->m_dwSelectableUnifiedServerNum = atol(szSelectableUnifiedServerNum);
    return 1;
  }
  v6 = " ";
  v5 = 425;
LABEL_49:
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CServerSetup::InitAgentServer",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
    v5,
    v6);
  return 0;
}

//----- (0040CF10) --------------------------------------------------------
bool __thiscall CServerSetup::InitUIDServer(CServerSetup *this)
{
  CServerSetup *v1; // esi@1
  const char *v2; // eax@2
  int v3; // eax@7
  const unsigned __int16 v4; // ax@15
  char szBillingType[260]; // [sp+8h] [bp-530h]@1
  char szFreeCheck[260]; // [sp+110h] [bp-428h]@1
  char szBillingDBConnType[260]; // [sp+218h] [bp-320h]@1
  char szIgnoreFlag[260]; // [sp+320h] [bp-218h]@1
  char szHanUnitedBillingAddr[260]; // [sp+428h] [bp-110h]@1

  v1 = this;
  szFreeCheck[0] = 0;
  memset(&szFreeCheck[1], 0, 0x100u);
  *(_WORD *)&szFreeCheck[257] = 0;
  szFreeCheck[259] = 0;
  szIgnoreFlag[0] = 0;
  memset(&szIgnoreFlag[1], 0, 0x100u);
  *(_WORD *)&szIgnoreFlag[257] = 0;
  szIgnoreFlag[259] = 0;
  szBillingType[0] = 0;
  memset(&szBillingType[1], 0, 0x100u);
  *(_WORD *)&szBillingType[257] = 0;
  szBillingType[259] = 0;
  szHanUnitedBillingAddr[0] = 0;
  memset(&szHanUnitedBillingAddr[1], 0, 0x100u);
  *(_WORD *)&szHanUnitedBillingAddr[257] = 0;
  szHanUnitedBillingAddr[259] = 0;
  szBillingDBConnType[0] = 0;
  memset(&szBillingDBConnType[1], 0, 0x100u);
  *(_WORD *)&szBillingDBConnType[257] = 0;
  szBillingDBConnType[259] = 0;
  if ( Registry::ReadString("DemonSetup.ini", "UIDServer", "FreeCheck", szFreeCheck, 260) )
  {
    if ( Registry::ReadString("DemonSetup.ini", "UIDServer", "IgnoreFlag", szIgnoreFlag, 260) )
    {
      if ( Registry::ReadString("DemonSetup.ini", "UIDServer", "BillingType", szBillingType, 260) )
      {
        v1->m_bFreeCheck = atoi(szFreeCheck) == 1;
        v1->m_bIgnoreFlag = atoi(szIgnoreFlag) == 1;
        v3 = atoi(szBillingType);
        v1->m_dwBillingType = v3;
        if ( v3 != 1
          || Registry::ReadString("DemonSetup.ini", "UIDServer", "HanUnitedBillingAddr", szHanUnitedBillingAddr, 260) )
        {
          if ( Registry::ReadString("DemonSetup.ini", "UIDServer", "BillingDBType", szBillingDBConnType, 260)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "UIDServer",
                 "BillingDBAddr",
                 v1->m_stKeeperDBInfo.m_szDBAddr,
                 128)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "UIDServer",
                 "BillingDBName",
                 v1->m_stKeeperDBInfo.m_szDBName,
                 128)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "UIDServer",
                 "BillingDBUser",
                 v1->m_stKeeperDBInfo.m_szDBUser,
                 128)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "UIDServer",
                 "BillingDBPass",
                 v1->m_stKeeperDBInfo.m_szDBPass,
                 128) )
          {
            v1->m_stKeeperDBInfo.m_ConnType = GetConnTypeFromString(szBillingDBConnType);
            v4 = Registry::ReadInt("DemonSetup.ini", "UIDServer", "HanUnitedBillingPort");
            INET_Addr::set_addr(&v1->m_HanUnitedBillingAddr, szHanUnitedBillingAddr, v4);
            return 1;
          }
          v2 = "UIDServer : ";
        }
        else
        {
          v2 = "UIDServer :  ";
        }
      }
      else
      {
        v2 = "UIDServer : ";
      }
    }
    else
    {
      v2 = "UIDServer :    .";
    }
  }
  else
  {
    v2 = "UIDServer :  .";
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CServerSetup::InitUIDServer",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
    495,
    v2);
  return 0;
}

//----- (0040D220) --------------------------------------------------------
bool __thiscall CServerSetup::InitChatServer(CServerSetup *this)
{
  CServerSetup *v1; // esi@1
  const char *v2; // eax@2
  char szChatPingCheck[260]; // [sp+8h] [bp-530h]@1
  char szAdminToolDBType[260]; // [sp+110h] [bp-428h]@1
  char szChatToolIPCheck[260]; // [sp+218h] [bp-320h]@1
  char szChatServerID[260]; // [sp+320h] [bp-218h]@1
  char szDBAgentServerAddr[260]; // [sp+428h] [bp-110h]@1

  v1 = this;
  szChatServerID[0] = 0;
  memset(&szChatServerID[1], 0, 0x100u);
  *(_WORD *)&szChatServerID[257] = 0;
  szChatServerID[259] = 0;
  szDBAgentServerAddr[0] = 0;
  memset(&szDBAgentServerAddr[1], 0, 0x100u);
  *(_WORD *)&szDBAgentServerAddr[257] = 0;
  szDBAgentServerAddr[259] = 0;
  szChatPingCheck[0] = 0;
  memset(&szChatPingCheck[1], 0, 0x100u);
  *(_WORD *)&szChatPingCheck[257] = 0;
  szChatPingCheck[259] = 0;
  szChatToolIPCheck[0] = 0;
  memset(&szChatToolIPCheck[1], 0, 0x100u);
  *(_WORD *)&szChatToolIPCheck[257] = 0;
  szChatToolIPCheck[259] = 0;
  szAdminToolDBType[0] = 0;
  memset(&szAdminToolDBType[1], 0, 0x100u);
  *(_WORD *)&szAdminToolDBType[257] = 0;
  szAdminToolDBType[259] = 0;
  if ( Registry::ReadString("DemonSetup.ini", "ChatServer", "ServerID", szChatServerID, 260) )
  {
    if ( Registry::ReadString("DemonSetup.ini", "ChatServer", "PingCheck", szChatPingCheck, 260) )
    {
      if ( Registry::ReadString("DemonSetup.ini", "ChatServer", "UserIPCheck", szChatToolIPCheck, 260) )
      {
        if ( Registry::ReadString("DemonSetup.ini", "ChatServer", "DBAgentAddress", szDBAgentServerAddr, 260) )
        {
          if ( Registry::ReadString("DemonSetup.ini", "ChatServer", "AdminToolDBType", szAdminToolDBType, 260)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "ChatServer",
                 "AdminToolDBAddr",
                 v1->m_stAdminToolDBInfo.m_szDBAddr,
                 128)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "ChatServer",
                 "AdminToolDBName",
                 v1->m_stAdminToolDBInfo.m_szDBName,
                 128)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "ChatServer",
                 "AdminToolDBUser",
                 v1->m_stAdminToolDBInfo.m_szDBUser,
                 128)
            && Registry::ReadString(
                 "DemonSetup.ini",
                 "ChatServer",
                 "AdminToolDBPass",
                 v1->m_stAdminToolDBInfo.m_szDBPass,
                 128) )
          {
            v1->m_stAdminToolDBInfo.m_ConnType = GetConnTypeFromString(szAdminToolDBType);
            v1->m_ServerID = atoi(szChatServerID);
            v1->m_bPingCheck = atoi(szChatPingCheck) == 1;
            v1->m_bChatToolIPCheck = atol(szChatToolIPCheck) == 1;
            INET_Addr::set_addr(&v1->m_ServerAddress[3], szDBAgentServerAddr, 0x2EE5u);
            return 1;
          }
          v2 = "ChatServer :  DB    (For chat ban)";
        }
        else
        {
          v2 = "ChatServer :   ";
        }
      }
      else
      {
        v2 = "ChatServer : ";
      }
    }
    else
    {
      v2 = "ChatServer :    ";
    }
  }
  else
  {
    v2 = "ChatServer : ";
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CServerSetup::InitChatServer",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
    547,
    v2);
  return 0;
}

//----- (0040D520) --------------------------------------------------------
bool __thiscall CServerSetup::InitLogServer(CServerSetup *this)
{
  CServerSetup *v1; // esi@1
  bool result; // al@6
  char szLogDBType[260]; // [sp+8h] [bp-110h]@1

  v1 = this;
  szLogDBType[0] = 0;
  memset(&szLogDBType[1], 0, 0x100u);
  *(_WORD *)&szLogDBType[257] = 0;
  szLogDBType[259] = 0;
  if ( Registry::ReadString("DemonSetup.ini", "LogServer", "LogDBType", szLogDBType, 260)
    && Registry::ReadString("DemonSetup.ini", "LogServer", "LogDBAddr", v1->m_stLogDBInfo.m_szDBAddr, 128)
    && Registry::ReadString("DemonSetup.ini", "LogServer", "LogDBName", v1->m_stLogDBInfo.m_szDBName, 128)
    && Registry::ReadString("DemonSetup.ini", "LogServer", "LogDBUser", v1->m_stLogDBInfo.m_szDBUser, 128)
    && Registry::ReadString("DemonSetup.ini", "LogServer", "LogDBPass", v1->m_stLogDBInfo.m_szDBPass, 128) )
  {
    v1->m_stLogDBInfo.m_ConnType = GetConnTypeFromString(szLogDBType);
    result = 1;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CServerSetup::InitLogServer",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
      562,
      "LogServer :  DB    ");
    result = 1;
  }
  return result;
}

//----- (0040D680) --------------------------------------------------------
const char *__cdecl CServerSetup::GetManageClientWindowName()
{
  return "ManageClient";
}

//----- (0040D690) --------------------------------------------------------
unsigned __int16 __cdecl CServerSetup::GetGameServerTCPPort(unsigned int dwServerID)
{
  return ((signed int)dwServerID >> 24) + 20 * ((char)(dwServerID >> 16) + 510);
}

//----- (0040D6B0) --------------------------------------------------------
unsigned __int16 __cdecl CServerSetup::GetP1GameServerUDPPort(unsigned int dwServerID)
{
  return ((signed int)dwServerID >> 24) + 20 * ((char)(dwServerID >> 16) + 525);
}

//----- (0040D6D0) --------------------------------------------------------
char __cdecl CServerSetup::GetZoneFromCmdLine()
{
  char *v1; // eax@4
  char *v2; // eax@6
  char szCommandLineBuffer[260]; // [sp+4h] [bp-108h]@1

  GetCommandLineA();
  if ( _snprintf(szCommandLineBuffer, 0x103u, "%s") < 0 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CServerSetup::GetZoneFromCmdLine",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
      759,
      "CommandLine Parse failed - Zone");
    return 1;
  }
  v1 = strtok(szCommandLineBuffer, " \r\n\t");
  if ( !v1 )
    return 1;
  while ( 1 )
  {
    if ( !strncmp(v1, "-z", 3) )
    {
      v2 = strtok(0, " \r\n\t");
      if ( v2 )
        break;
    }
    v1 = strtok(0, " \r\n\t");
    if ( !v1 )
      return 1;
  }
  return atoi(v2);
}

//----- (0040D7E0) --------------------------------------------------------
char __cdecl CServerSetup::GetChannelFromCmdLine()
{
  char *v1; // eax@4
  char *v2; // eax@6
  char szCommandLineBuffer[260]; // [sp+4h] [bp-108h]@1

  GetCommandLineA();
  if ( _snprintf(szCommandLineBuffer, 0x103u, "%s") < 0 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CServerSetup::GetChannelFromCmdLine",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
      795,
      "CommandLine Parse failed - Channel");
    return 0;
  }
  v1 = strtok(szCommandLineBuffer, " \r\n\t");
  if ( !v1 )
    return 0;
  while ( 1 )
  {
    if ( !strncmp(v1, "-c", 3) )
    {
      v2 = strtok(0, " \r\n\t");
      if ( v2 )
        break;
    }
    v1 = strtok(0, " \r\n\t");
    if ( !v1 )
      return 0;
  }
  return atoi(v2);
}

//----- (0040D8F0) --------------------------------------------------------
bool __thiscall CServerSetup::InitGameServer(CServerSetup *this)
{
  void *v1; // esp@1
  CServerSetup *v2; // esi@1
  int v3; // edi@1
  int v4; // ST44_4@1
  const char *v5; // eax@2
  unsigned __int16 v6; // ax@36
  bool result; // al@37
  CTCPFactory tcpFactory; // [sp+4h] [bp-12BCh]@36
  char szSection[260]; // [sp+18h] [bp-12A8h]@1
  char szBattleServer[260]; // [sp+120h] [bp-11A0h]@1
  char szDrop[260]; // [sp+228h] [bp-1098h]@1
  char szMinFame[260]; // [sp+330h] [bp-F90h]@1
  char szSpeedHack[260]; // [sp+438h] [bp-E88h]@1
  char szMaxFame[260]; // [sp+540h] [bp-D80h]@1
  char szLevelUpEvent[260]; // [sp+648h] [bp-C78h]@1
  char szBattleLimit[260]; // [sp+750h] [bp-B70h]@1
  char szServerID[260]; // [sp+858h] [bp-A68h]@1
  char szNationType[260]; // [sp+960h] [bp-960h]@1
  char szPingCheck[260]; // [sp+A68h] [bp-858h]@1
  char szDBAgentServerAddr[260]; // [sp+B70h] [bp-750h]@1
  char szDeathPenaltyEvent[260]; // [sp+C78h] [bp-648h]@1
  char szLogServerAddr[260]; // [sp+D80h] [bp-540h]@1
  char szLotteryEvent[260]; // [sp+E88h] [bp-438h]@1
  char szChatServerAddr[260]; // [sp+F90h] [bp-330h]@1
  char szExp[260]; // [sp+1098h] [bp-228h]@1
  char szMyAddress[260]; // [sp+11A0h] [bp-120h]@36
  unsigned int cookie; // [sp+12ACh] [bp-14h]@37
  CServerSetup *v28; // [sp+12B0h] [bp-10h]@1
  int v29; // [sp+12BCh] [bp-4h]@36

  v28 = this;
  v1 = alloca(4788);
  v2 = this;
  szServerID[0] = 0;
  memset(&szServerID[1], 0, 0x100u);
  *(_WORD *)&szServerID[257] = 0;
  szServerID[259] = 0;
  szPingCheck[0] = 0;
  memset(&szPingCheck[1], 0, 0x100u);
  *(_WORD *)&szPingCheck[257] = 0;
  szPingCheck[259] = 0;
  szSpeedHack[0] = 0;
  memset(&szSpeedHack[1], 0, 0x100u);
  *(_WORD *)&szSpeedHack[257] = 0;
  szSpeedHack[259] = 0;
  szLotteryEvent[0] = 0;
  memset(&szLotteryEvent[1], 0, 0x100u);
  *(_WORD *)&szLotteryEvent[257] = 0;
  szLotteryEvent[259] = 0;
  szLevelUpEvent[0] = 0;
  memset(&szLevelUpEvent[1], 0, 0x100u);
  *(_WORD *)&szLevelUpEvent[257] = 0;
  szLevelUpEvent[259] = 0;
  szDeathPenaltyEvent[0] = 0;
  memset(&szDeathPenaltyEvent[1], 0, 0x100u);
  *(_WORD *)&szDeathPenaltyEvent[257] = 0;
  szDeathPenaltyEvent[259] = 0;
  szExp[0] = 0;
  memset(&szExp[1], 0, 0x100u);
  *(_WORD *)&szExp[257] = 0;
  szExp[259] = 0;
  szDrop[0] = 0;
  memset(&szDrop[1], 0, 0x100u);
  *(_WORD *)&szDrop[257] = 0;
  szDrop[259] = 0;
  szMinFame[0] = 0;
  memset(&szMinFame[1], 0, 0x100u);
  *(_WORD *)&szMinFame[257] = 0;
  szMinFame[259] = 0;
  szMaxFame[0] = 0;
  memset(&szMaxFame[1], 0, 0x100u);
  *(_WORD *)&szMaxFame[257] = 0;
  szMaxFame[259] = 0;
  szBattleLimit[0] = 0;
  memset(&szBattleLimit[1], 0, 0x100u);
  *(_WORD *)&szBattleLimit[257] = 0;
  szBattleLimit[259] = 0;
  szDBAgentServerAddr[0] = 0;
  memset(&szDBAgentServerAddr[1], 0, 0x100u);
  *(_WORD *)&szDBAgentServerAddr[257] = 0;
  szDBAgentServerAddr[259] = 0;
  szLogServerAddr[0] = 0;
  memset(&szLogServerAddr[1], 0, 0x100u);
  *(_WORD *)&szLogServerAddr[257] = 0;
  szLogServerAddr[259] = 0;
  szChatServerAddr[0] = 0;
  memset(&szChatServerAddr[1], 0, 0x100u);
  *(_WORD *)&szChatServerAddr[257] = 0;
  szChatServerAddr[259] = 0;
  szNationType[0] = 0;
  memset(&szNationType[1], 0, 0x100u);
  *(_WORD *)&szNationType[257] = 0;
  szNationType[259] = 0;
  szBattleServer[0] = 0;
  memset(&szBattleServer[1], 0, 0x100u);
  *(_WORD *)&szBattleServer[257] = 0;
  szBattleServer[259] = 0;
  v3 = CServerSetup::GetZoneFromCmdLine();
  v4 = CServerSetup::GetChannelFromCmdLine();
  if ( _snprintf(szSection, 0x103u, "Zone_%02d%02d") > 0 )
  {
    if ( Registry::ReadString("DemonSetup.ini", szSection, "ServerID", szServerID, 260) )
    {
      if ( Registry::ReadString("DemonSetup.ini", szSection, "PingCheck", szPingCheck, 260) )
      {
        if ( Registry::ReadString("DemonSetup.ini", szSection, "SpeedHackCheck", szSpeedHack, 260) )
        {
          if ( Registry::ReadString("DemonSetup.ini", szSection, "LotteryEvent", szLotteryEvent, 260) )
          {
            if ( Registry::ReadString("DemonSetup.ini", szSection, "LevelUpEvent", szLevelUpEvent, 260) )
            {
              if ( Registry::ReadString("DemonSetup.ini", szSection, "DeathPenaltyEvent", szDeathPenaltyEvent, 260) )
              {
                if ( Registry::ReadString("DemonSetup.ini", szSection, "ExpRate", szExp, 260) )
                {
                  if ( Registry::ReadString("DemonSetup.ini", szSection, "DropRate", szDrop, 260) )
                  {
                    if ( Registry::ReadString("DemonSetup.ini", szSection, "FameMin", szMinFame, 260) )
                    {
                      if ( Registry::ReadString("DemonSetup.ini", szSection, "FameMax", szMaxFame, 260) )
                      {
                        if ( Registry::ReadString(
                               "DemonSetup.ini",
                               szSection,
                               "DBAgentServerAddr",
                               szDBAgentServerAddr,
                               260) )
                        {
                          if ( Registry::ReadString("DemonSetup.ini", szSection, "LogServerAddr", szLogServerAddr, 260) )
                          {
                            if ( Registry::ReadString(
                                   "DemonSetup.ini",
                                   szSection,
                                   "ChatServerAddr",
                                   szChatServerAddr,
                                   260) )
                            {
                              if ( Registry::ReadString(
                                     "DemonSetup.ini",
                                     szSection,
                                     "BattleUserLimit",
                                     szBattleLimit,
                                     260) )
                              {
                                if ( Registry::ReadString(
                                       "DemonSetup.ini",
                                       "Zone_ETC",
                                       "GameServerNation",
                                       szNationType,
                                       260) )
                                {
                                  if ( Registry::ReadString(
                                         "DemonSetup.ini",
                                         "Zone_ETC",
                                         "BattleServerGroup",
                                         szBattleServer,
                                         260) )
                                  {
                                    v2->m_ServerID = atol(szServerID);
                                    v2->m_bPingCheck = atol(szPingCheck) == 1;
                                    v2->m_bHackCheck = atol(szSpeedHack) == 1;
                                    v2->m_bLotteryEvent = atol(szLotteryEvent) == 1;
                                    v2->m_bLevelUpEvent = atol(szLevelUpEvent) == 1;
                                    v2->m_bDeathPenaltyEvent = atol(szDeathPenaltyEvent) == 1;
                                    v2->m_bBattleGame = atol(szBattleServer) == 1;
                                    v2->m_dwExp = atol(szExp);
                                    v2->m_dwDrop = atol(szDrop);
                                    v2->m_dwMinFame = atol(szMinFame);
                                    v2->m_dwMaxFame = atol(szMaxFame);
                                    v2->m_wBattleLimit = atol(szBattleLimit);
                                    v2->m_eNationType = atoi(szNationType);
                                    INET_Addr::set_addr(&v2->m_ServerAddress[3], szDBAgentServerAddr, 0x2EE3u);
                                    INET_Addr::set_addr(&v2->m_ServerAddress[6], szLogServerAddr, 0x2EE9u);
                                    INET_Addr::set_addr(&v2->m_ServerAddress[7], szChatServerAddr, 0x2EE7u);
                                    CTCPFactory::CTCPFactory(&tcpFactory);
                                    v29 = 0;
                                    CINETFamilyFactory::GetNetworkInfo(&tcpFactory.baseclass_0, szMyAddress, 260);
                                    v6 = CServerSetup::GetP1GameServerUDPPort(v2->m_ServerID);
                                    INET_Addr::set_addr(&v2->m_P1GameServerUDPAddr, szMyAddress, v6);
                                    goto LABEL_37;
                                  }
                                  v5 = "(z:%02d, c:%02d) ";
                                }
                                else
                                {
                                  v5 = "(z:%02d, c:%02d)  ";
                                }
                              }
                              else
                              {
                                v5 = "(z:%02d, c:%02d) ";
                              }
                            }
                            else
                            {
                              v5 = "(z:%02d, c:%02d)  ";
                            }
                          }
                          else
                          {
                            v5 = "(z:%02d, c:%02d)  ";
                          }
                        }
                        else
                        {
                          v5 = "(z:%02d, c:%02d)  ";
                        }
                      }
                      else
                      {
                        v5 = "(z:%02d, c:%02d)   ";
                      }
                    }
                    else
                    {
                      v5 = "(z:%02d, c:%02d)   ";
                    }
                  }
                  else
                  {
                    v5 = "(z:%02d, c:%02d) ";
                  }
                }
                else
                {
                  v5 = "(z:%02d, c:%02d)   ";
                }
              }
              else
              {
                v5 = "(z:%02d, c:%02d)     .";
              }
            }
            else
            {
              v5 = "(z:%02d, c:%02d) ";
            }
          }
          else
          {
            v5 = "(z:%02d, c:%02d)     .";
          }
        }
        else
        {
          v5 = "(z:%02d, c:%02d)   .";
        }
      }
      else
      {
        v5 = "(z:%02d, c:%02d)   .";
      }
    }
    else
    {
      v5 = "(z:%02d, c:%02d)  ";
    }
  }
  else
  {
    v5 = "(z:%02d, c:%02d)  ";
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_ERROR,
    "CServerSetup::InitGameServer",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\Setup\\ServerSetup.cpp",
    728,
    v5);
LABEL_37:
  __security_check_cookie(cookie);
  return result;
}

//----- (0040E020) --------------------------------------------------------
bool __thiscall CServerSetup::Initialize(CServerSetup *this, CServerSetup::ServerType eServerType)
{
  CServerSetup *v2; // esi@1
  bool result; // al@1

  v2 = this;
  result = 0;
  switch ( eServerType )
  {
    case 0:
      result = CServerSetup::InitLoginServer(this);
      break;
    case 1:
      result = CServerSetup::InitAuthServer(this);
      break;
    case 2:
      result = CServerSetup::InitGameServer(this);
      break;
    case 3:
      result = CServerSetup::InitAgentServer(this);
      break;
    case 4:
      result = CServerSetup::InitUIDServer(this);
      break;
    case 6:
      result = CServerSetup::InitLogServer(this);
      break;
    case 7:
      result = CServerSetup::InitChatServer(this);
      break;
    default:
      break;
  }
  switch ( v2->m_eNationType )
  {
    case 0:
    case 1:
    case 6:
    case 7:
      v2->m_dwGameContentsFlag = 4443;
      break;
    case 2:
      v2->m_dwGameContentsFlag = 347;
      break;
    case 3:
    case 4:
    case 5:
      v2->m_dwGameContentsFlag = 75;
      break;
    case 8:
      v2->m_dwGameContentsFlag = 91;
      break;
    default:
      return result;
  }
  return result;
}

//----- (0040E100) --------------------------------------------------------
void __thiscall CServerSetup::_CServerSetup(CServerSetup *this)
{
  CServerSetup *v1; // esi@1

  v1 = this;
  this->vfptr = (CServerSetupVtbl *)&CServerSetup::_vftable_;
  if ( this->m_vecAdminUID._Myfirst )
    operator delete(this->m_vecAdminUID._Myfirst);
  v1->m_vecAdminUID._Myfirst = 0;
  v1->m_vecAdminUID._Mylast = 0;
  v1->m_vecAdminUID._Myend = 0;
  _eh_vector_destructor_iterator_(v1->m_ServerAddress, 0x14u, 8, (void (__thiscall *)(void *))operator delete);
}
// 4545BC: using guessed type int (__thiscall *CServerSetup___vftable_)(void *p, char);

//----- (0040E160) --------------------------------------------------------
void *__thiscall CServerSetup::_scalar_deleting_destructor_(CServerSetup *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CServerSetup::_CServerSetup(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0040E180) --------------------------------------------------------
void __thiscall CServerSetup::CServerSetup(CServerSetup *this)
{
  CServerSetup *v1; // esi@1

  v1 = this;
  this->vfptr = (CServerSetupVtbl *)&CServerSetup::_vftable_;
  this->m_dwLimitVer = 0;
  this->m_dwClientVer = 0;
  this->m_dwBillingType = 0;
  this->m_dwAuthType = 0;
  this->m_bHanCheck = 0;
  this->m_bHackCheck = 0;
  this->m_bAdminIPCheck = 0;
  this->m_bDuelModeCheck = 0;
  this->m_bLotteryEvent = 0;
  this->m_bLevelUpEvent = 0;
  this->m_bBattleAuth = 0;
  this->m_bBattleGame = 0;
  this->m_bBattleAgent = 0;
  this->m_bSupressCharCreate = 0;
  this->m_bSupressCharDelete = 0;
  this->m_cRestrictedPart1ToPart2Level = 0;
  this->m_cMaxTransferPart1ToPart2Count = 0;
  this->m_dwUserLimit = 0;
  this->m_dwCheckSum = 0;
  this->m_dwExp = 0;
  this->m_dwDrop = 0;
  this->m_dwMinFame = 0;
  this->m_dwMaxFame = 0;
  this->m_wBattleLimit = 0;
  _eh_vector_constructor_iterator_(
    this->m_ServerAddress,
    0x14u,
    8,
    (void (__thiscall *)(void *))INET_Addr::INET_Addr,
    (void (__thiscall *)(void *))operator delete);
  v1->m_GameServerUDPAddr.m_iAddrLen = 0;
  *(_DWORD *)&v1->m_GameServerUDPAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v1->m_GameServerUDPAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v1->m_GameServerUDPAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v1->m_GameServerUDPAddr.m_SockAddr.sa_data[10] = 0;
  v1->m_HanUnitedBillingAddr.m_iAddrLen = 0;
  *(_DWORD *)&v1->m_HanUnitedBillingAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v1->m_HanUnitedBillingAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v1->m_HanUnitedBillingAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v1->m_HanUnitedBillingAddr.m_SockAddr.sa_data[10] = 0;
  v1->m_Part1UnifiedAgentAddr.m_iAddrLen = 0;
  *(_DWORD *)&v1->m_Part1UnifiedAgentAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v1->m_Part1UnifiedAgentAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v1->m_Part1UnifiedAgentAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v1->m_Part1UnifiedAgentAddr.m_SockAddr.sa_data[10] = 0;
  v1->m_P1GameServerUDPAddr.m_iAddrLen = 0;
  *(_DWORD *)&v1->m_P1GameServerUDPAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v1->m_P1GameServerUDPAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v1->m_P1GameServerUDPAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v1->m_P1GameServerUDPAddr.m_SockAddr.sa_data[10] = 0;
  v1->m_dwGameContentsFlag = 0;
  v1->m_eNationType = 0;
  v1->m_vecAdminUID._Myfirst = 0;
  v1->m_vecAdminUID._Mylast = 0;
  v1->m_vecAdminUID._Myend = 0;
  v1->m_ServerID = 0;
  memset(&v1->m_stPart1UnifiedDBInfo, 0, sizeof(v1->m_stPart1UnifiedDBInfo));
  memset(&v1->m_stAdminToolDBInfo, 0, sizeof(v1->m_stAdminToolDBInfo));
  memset(&v1->m_stKeeperDBInfo, 0, sizeof(v1->m_stKeeperDBInfo));
  memset(&v1->m_stAuthDBInfo, 0, sizeof(v1->m_stAuthDBInfo));
  memset(&v1->m_stGameDBInfo, 0, sizeof(v1->m_stGameDBInfo));
  memset(&v1->m_stLogDBInfo, 0, sizeof(v1->m_stLogDBInfo));
}
// 4545BC: using guessed type int (__thiscall *CServerSetup___vftable_)(void *p, char);

//----- (0040E350) --------------------------------------------------------
CServerSetup *__cdecl CServerSetup::GetInstance()
{
  if ( !(_S1_6 & 1) )
  {
    _S1_6 |= 1u;
    CServerSetup::CServerSetup(&serverSetup);
    atexit(_E2_7);
  }
  return &serverSetup;
}

//----- (0040E3B0) --------------------------------------------------------
void __thiscall CSingleDispatch::Storage::_Storage(CSingleDispatch::Storage *this)
{
  CSingleDispatch::Storage *v1; // esi@1

  v1 = this;
  if ( this->m_lpDispatch )
  {
    CSession::Release(this->m_lpDispatch->m_Session);
    v1->m_lpDispatch = 0;
  }
}

//----- (0040E3D0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // ecx@1

  result = _Pnode;
  v2 = _Pnode->_Left;
  if ( !_Pnode->_Left->_Isnil )
  {
    do
    {
      result = v2;
      v2 = v2->_Left;
    }
    while ( !v2->_Isnil );
  }
  return result;
}

//----- (0040E3F0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (0040E430) --------------------------------------------------------
CPacketDispatch *__thiscall CMultiDispatch::GetDispatch(CMultiDispatch *this, unsigned int dispatchKey)
{
  CMultiDispatch *v2; // esi@1
  CPacketDispatch *v3; // edi@2
  CPacketDispatch *result; // eax@2
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *find; // [sp+0h] [bp-14h]@1
  CLock<CCSLock>::Syncronize sync; // [sp+4h] [bp-10h]@1
  int v7; // [sp+10h] [bp-4h]@1

  v2 = this;
  sync.m_Lock = (CCSLock *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v7 = 0;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::find(
    &v2->m_DispatchMap.baseclass_0,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&find,
    &dispatchKey);
  if ( find == v2->m_DispatchMap.baseclass_0._Myhead )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = 0;
  }
  else
  {
    v3 = find->_Myval.second;
    CSession::AddRef(v3->m_Session);
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = v3;
  }
  return result;
}

//----- (0040E4C0) --------------------------------------------------------
void __thiscall CMultiDispatch::Storage::Storage(CMultiDispatch::Storage *this, CMultiDispatch *multiDispatch, unsigned int dispatchKey)
{
  CMultiDispatch::Storage *v3; // esi@1
  CPacketDispatch *v4; // eax@1

  v3 = this;
  v4 = CMultiDispatch::GetDispatch(multiDispatch, dispatchKey);
  v3->m_MultiDispatch = multiDispatch;
  v3->m_lpDispatch = v4;
}

//----- (0040E4E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *_Wherenode, std::pair<unsigned long const ,CPacketDispatch *> *_Val)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v5; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v6; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v7; // eax@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v8; // eax@7
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v9; // eax@9
  int v10; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v11; // esi@11
  int v12; // ecx@12
  int v13; // ebp@12
  int v14; // edx@12
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *v15; // eax@24
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v18; // [sp+4Ch] [bp-4h]@2
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Vala; // [sp+60h] [bp+10h]@4

  v5 = this;
  if ( this->_Mysize >= 0x1FFFFFFE )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "map/set<T> too long", 0x13u);
    v18 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  v6 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(
         (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *)this,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Wherenode,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
         (std::pair<enum Item::ItemType::Type const ,unsigned char> *)_Val,
         0);
  v7 = v5->_Myhead;
  _Vala = v6;
  ++v5->_Mysize;
  if ( _Wherenode == v7 )
  {
    v7->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
    v5->_Myhead->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
    v5->_Myhead->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
  }
  else
  {
    if ( _Addleft )
    {
      _Wherenode->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
      v8 = v5->_Myhead;
      if ( _Wherenode == v8->_Left )
        v8->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
    }
    else
    {
      _Wherenode->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
      v9 = v5->_Myhead;
      if ( _Wherenode == v9->_Right )
        v9->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
    }
  }
  v10 = (int)&v6->_Parent;
  v11 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v6;
  if ( !v6->_Parent->_Color )
  {
    while ( 1 )
    {
      v12 = *(_DWORD *)v10;
      v13 = *(_DWORD *)(*(_DWORD *)v10 + 4);
      v14 = *(_DWORD *)v13;
      if ( *(_DWORD *)v10 == *(_DWORD *)v13 )
      {
        v14 = *(_DWORD *)(v13 + 8);
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(v12 + 8) )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      else
      {
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v12 )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      *(_BYTE *)(*(_DWORD *)v10 + 20) = 1;
      *(_BYTE *)(v14 + 20) = 1;
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)v10 + 4) + 20) = 0;
      v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(*(_DWORD *)v10 + 4);
LABEL_22:
      v10 = (int)&v11->_Parent;
      if ( v11->_Parent->_Color )
      {
        v6 = _Vala;
        break;
      }
    }
  }
  v15 = result;
  v5->_Myhead->_Parent->_Color = 1;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6;
  return v15;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (0040E690) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 21) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&_Where);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 21) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
      v9->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v7;
      else
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 21) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 20);
  *(_BYTE *)(*(_DWORD *)&v6 + 20) = *(_BYTE *)(*(_DWORD *)&v4 + 20);
  *(_BYTE *)(*(_DWORD *)&v4 + 20) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 20) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 20) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 20) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 20) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (0040E950) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator,bool> *result, std::pair<unsigned long const ,CPacketDispatch *> *_Val)
{
  std::pair<unsigned long const ,CPacketDispatch *> *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v4; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v5; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v6; // eax@1
  bool v7; // cl@1
  const unsigned int v8; // edx@2
  std::pair<unsigned long const ,CPacketDispatch *> *v9; // edx@7
  int v10; // edx@9
  std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator,bool> *v11; // eax@9
  int v12; // ecx@12
  char _Addleft; // [sp+Ch] [bp-4h]@1

  v3 = _Val;
  v4 = this;
  v5 = this->_Myhead;
  v6 = v5->_Parent;
  v7 = 1;
  _Addleft = 1;
  if ( !v6->_Isnil )
  {
    v8 = _Val->first;
    do
    {
      v7 = v8 < v6->_Myval.first;
      v5 = v6;
      _Addleft = v8 < v6->_Myval.first;
      if ( v8 >= v6->_Myval.first )
        v6 = v6->_Right;
      else
        v6 = v6->_Left;
    }
    while ( !v6->_Isnil );
  }
  v9 = (std::pair<unsigned long const ,CPacketDispatch *> *)v5;
  _Val = (std::pair<unsigned long const ,CPacketDispatch *> *)v5;
  if ( v7 )
  {
    if ( v5 == v4->_Myhead->_Left )
    {
      v10 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
                          v4,
                          (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&_Val,
                          1,
                          v5,
                          v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      v11 = result;
      result->second = 1;
      *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v10;
      return v11;
    }
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    v9 = _Val;
  }
  if ( v9[1].second >= (CPacketDispatch *)v3->first )
  {
    v11 = result;
    result->second = 0;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v9;
  }
  else
  {
    v12 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
                        v4,
                        (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&_Val,
                        _Addleft,
                        v5,
                        v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v11 = result;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v12;
    result->second = 1;
  }
  return v11;
}

//----- (0040EA10) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 21) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 21);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 21);
                  j = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (0040EAD0) --------------------------------------------------------
void __thiscall CMultiDispatch::InternalRemoveDispatch(CMultiDispatch *this, unsigned int dispatchKey)
{
  CMultiDispatch *v2; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v3; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v4; // ebx@1
  void *v5; // esi@3
  CMultiDispatch *find; // [sp+0h] [bp-4h]@1

  find = this;
  v2 = this;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *)&this->m_DispatchMap;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::find(
    &this->m_DispatchMap.baseclass_0,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&find,
    &dispatchKey);
  v4 = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)find;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)find == v2->m_DispatchMap.baseclass_0._Myhead )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CMultiDispatch::InternalRemoveDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\MultiDispatchStorage.cpp",
      131,
      "Reset dispatch failed. Invalid dispatch key(%u)");
  }
  else
  {
    v5 = find->m_DispatchLock.___u0.m_CSLock.LockSemaphore;
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CMultiDispatch::InternalRemoveDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\MultiDispatchStorage.cpp",
      137,
      "Reset dispatch(Key:%u/DP:0x%p)");
    CSession::Release(*((CSession **)v5 + 1));
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(
      v3,
      (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&dispatchKey,
      v4);
  }
}

//----- (0040EB70) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator _Where, std::pair<unsigned long const ,CPacketDispatch *> *_Val)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *v4; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *v5; // eax@2
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v6; // eax@3
  std::pair<unsigned long const ,CPacketDispatch *> *v7; // esi@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v8; // eax@7
  CPacketDispatch *v9; // ebp@9
  bool v10; // cf@9
  int v11; // ecx@21
  char v12; // [sp+8h] [bp-8h]@21

  v4 = this;
  if ( !this->_Mysize )
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
      this,
      result,
      1,
      this->_Myhead,
      _Val);
    return result;
  }
  v6 = this->_Myhead;
  v7 = _Val;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Where == v6->_Left )
  {
    if ( _Val->first < *(_DWORD *)(*(_DWORD *)&_Where + 12) )
    {
      std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
        this,
        result,
        1,
        *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node **)&_Where,
        _Val);
      return result;
    }
    goto LABEL_21;
  }
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Where == v6 )
  {
    v8 = v6->_Right;
    if ( v8->_Myval.first < _Val->first )
    {
      std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
        this,
        result,
        0,
        v8,
        _Val);
      return result;
    }
    goto LABEL_21;
  }
  v9 = (CPacketDispatch *)_Val->first;
  v10 = *(_DWORD *)(*(_DWORD *)&_Where + 12) < _Val->first;
  if ( *(_DWORD *)(*(_DWORD *)&_Where + 12) > _Val->first )
  {
    _Val = (std::pair<unsigned long const ,CPacketDispatch *> *)_Where;
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    if ( _Val[1].second < v9 )
    {
      if ( *(_BYTE *)(_Val[1].first + 21) )
      {
        std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
          v4,
          result,
          0,
          (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Val,
          v7);
        v5 = result;
      }
      else
      {
        std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
          v4,
          result,
          1,
          *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node **)&_Where,
          v7);
        v5 = result;
      }
      return v5;
    }
    v10 = *(_DWORD *)(*(_DWORD *)&_Where + 12) < (unsigned int)v9;
  }
  if ( !v10
    || (_Val = (std::pair<unsigned long const ,CPacketDispatch *> *)_Where,
        std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&_Val),
        (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Val != v4->_Myhead)
    && v9 >= _Val[1].second )
  {
LABEL_21:
    v11 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::insert(
                        v4,
                        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator,bool> *)&v12,
                        v7)->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v5 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v11;
    return v5;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&_Where + 8) + 21) )
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
      v4,
      result,
      0,
      *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node **)&_Where,
      v7);
    v5 = result;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Insert(
      v4,
      result,
      1,
      (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)_Val,
      v7);
    v5 = result;
  }
  return v5;
}

//----- (0040ECE0) --------------------------------------------------------
bool __thiscall CMultiDispatch::SetDispatch(CMultiDispatch *this, unsigned int dispatchKey, CPacketDispatch *lpDispatch)
{
  int v3; // eax@0
  CPacketDispatch *v4; // edi@1
  CMultiDispatch *v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v6; // ebp@3
  std::pair<unsigned long const ,CPacketDispatch *> _Val; // [sp+4h] [bp-14h]@4
  int v9; // [sp+Ch] [bp-Ch]@1
  int (*v10)(); // [sp+10h] [bp-8h]@1
  int v11; // [sp+14h] [bp-4h]@1

  v11 = -1;
  v10 = _ehhandler__SetDispatch_CMultiDispatch__QAE_NKPAVCPacketDispatch___Z;
  v9 = v3;
  v4 = lpDispatch;
  v5 = this;
  if ( lpDispatch )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    v11 = 0;
    std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::find(
      &v5->m_DispatchMap.baseclass_0,
      (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&lpDispatch,
      &dispatchKey);
    v6 = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)lpDispatch;
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)lpDispatch == v5->m_DispatchMap.baseclass_0._Myhead )
    {
      CSession::AddRef(v4->m_Session);
      _Val.first = dispatchKey;
      _Val.second = v4;
      std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::insert(
        &v5->m_DispatchMap.baseclass_0,
        (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&lpDispatch,
        v6,
        &_Val);
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CMultiDispatch::SetDispatch",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\MultiDispatchStorage.cpp",
        25,
        "Setting new dispatch(Key:%u/DP:0x%p)");
      LeaveCriticalSection((LPCRITICAL_SECTION)v5);
      return 1;
    }
    if ( lpDispatch[2].vfptr )
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CMultiDispatch::SetDispatch",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\MultiDispatchStorage.cpp",
        34,
        "DP:0x%p/Already dispatch exist. cannot set dispatch");
    LeaveCriticalSection((LPCRITICAL_SECTION)v5);
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CMultiDispatch::SetDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\MultiDispatchStorage.cpp",
      12,
      "this:0x%p/Setting null dispatch");
  }
  return 0;
}
// 44E638: using guessed type int _ehhandler$?SetDispatch_CMultiDispatch__QAE_NKPAVCPacketDispatch___Z();

//----- (0040EE10) --------------------------------------------------------
void __thiscall CMultiDispatch::RemoveDispatch(CMultiDispatch *this, unsigned int dispatchKey)
{
  CMultiDispatch *v2; // esi@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  CMultiDispatch::InternalRemoveDispatch(v2, dispatchKey);
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
}

//----- (0040EE70) --------------------------------------------------------
void __thiscall std::map<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>>::_map<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>>(std::map<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> > > *this)
{
  std::map<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (0040EEA0) --------------------------------------------------------
void __thiscall CMultiDispatch::_CMultiDispatch(CMultiDispatch *this)
{
  CMultiDispatch *v1; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v2; // edi@1
  bool v3; // zf@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v4; // esi@2
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v5; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v6; // ebp@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v7; // esi@4
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v8; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v9; // ST18_4@7
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator v10; // ST14_4@7
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *pos; // [sp+0h] [bp-18h]@2
  CMultiDispatch *v12; // [sp+4h] [bp-14h]@1
  CLock<CCSLock>::Syncronize sync; // [sp+8h] [bp-10h]@1
  int v14; // [sp+14h] [bp-4h]@1

  v1 = this;
  v12 = this;
  v2 = 0;
  v14 = 0;
  sync.m_Lock = (CCSLock *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = v1->m_DispatchMap.baseclass_0._Mysize == 0;
  LOBYTE(v14) = 2;
  if ( !v3 )
  {
    v4 = v1->m_DispatchMap.baseclass_0._Myhead;
    for ( pos = v4->_Left;
          pos != v4;
          std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&pos) )
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CMultiDispatch::~CMultiDispatch",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\MultiDispatchStorage.cpp",
        116,
        "this:0x%p/Dispatch is not removed until destroy");
    v5 = v1->m_DispatchMap.baseclass_0._Myhead;
    v6 = v5->_Parent;
    v7 = v5->_Parent;
    if ( !v6->_Isnil )
    {
      do
      {
        std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::_Erase(
          &v1->m_DispatchMap.baseclass_0,
          v7->_Right);
        v7 = v7->_Left;
        operator delete(v6);
        v6 = v7;
      }
      while ( !v7->_Isnil );
    }
    v1->m_DispatchMap.baseclass_0._Myhead->_Parent = v1->m_DispatchMap.baseclass_0._Myhead;
    v8 = v1->m_DispatchMap.baseclass_0._Myhead;
    v1->m_DispatchMap.baseclass_0._Mysize = 0;
    v8->_Left = v8;
    v1->m_DispatchMap.baseclass_0._Myhead->_Right = v1->m_DispatchMap.baseclass_0._Myhead;
    v2 = 0;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  v9 = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)v1->m_DispatchMap.baseclass_0._Myhead;
  v10 = (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator)v1->m_DispatchMap.baseclass_0._Myhead->_Left;
  LOBYTE(v14) = 0;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::erase(
    &v1->m_DispatchMap.baseclass_0,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&sync,
    v10,
    v9);
  operator delete(v1->m_DispatchMap.baseclass_0._Myhead);
  v1->m_DispatchMap.baseclass_0._Myhead = v2;
  v1->m_DispatchMap.baseclass_0._Mysize = (unsigned int)v2;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040EFC0) --------------------------------------------------------
void __thiscall CMultiDispatch::CMultiDispatch(CMultiDispatch *this)
{
  CMultiDispatch *v1; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // eax@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v2 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)&v1->m_DispatchMap);
  v1->m_DispatchMap.baseclass_0._Myhead = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *)v2;
  v2->_Isnil = 1;
  v1->m_DispatchMap.baseclass_0._Myhead->_Parent = v1->m_DispatchMap.baseclass_0._Myhead;
  v1->m_DispatchMap.baseclass_0._Myhead->_Left = v1->m_DispatchMap.baseclass_0._Myhead;
  v1->m_DispatchMap.baseclass_0._Myhead->_Right = v1->m_DispatchMap.baseclass_0._Myhead;
  v1->m_DispatchMap.baseclass_0._Mysize = 0;
}

//----- (0040F030) --------------------------------------------------------
void __thiscall CSingleDispatch::CSingleDispatch(CSingleDispatch *this)
{
  CSingleDispatch *v1; // esi@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_lpDispatch = 0;
}

//----- (0040F050) --------------------------------------------------------
void __thiscall CSingleDispatch::InternalRemoveDispatch(CSingleDispatch *this, CPacketDispatch *lpDispatch)
{
  CSingleDispatch *v2; // esi@1

  v2 = this;
  if ( lpDispatch == this->m_lpDispatch )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CSingleDispatch::InternalRemoveDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\SingleDispatchStorage.cpp",
      71,
      "DP:0x%p/Reset dispatch");
    CSession::Release(v2->m_lpDispatch->m_Session);
    v2->m_lpDispatch = 0;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CSingleDispatch::InternalRemoveDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\SingleDispatchStorage.cpp",
      78,
      "this:0x%p/Reset dispatch failed. Invalid dispatch(0x%p)");
  }
}

//----- (0040F0C0) --------------------------------------------------------
void __thiscall CSingleDispatch::SetDispatch(CSingleDispatch *this, CPacketDispatch *lpDispatch)
{
  CSingleDispatch *v2; // esi@1

  v2 = this;
  if ( lpDispatch )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    if ( v2->m_lpDispatch )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CSingleDispatch::SetDispatch",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\SingleDispatchStorage.cpp",
        20,
        "this:0x%p/Already dispatch exist. close now");
      CSession::CloseSession(v2->m_lpDispatch->m_Session);
      CSession::Release(v2->m_lpDispatch->m_Session);
    }
    CServerLog::DetailLog(
      &g_Log,
      LOG_DETAIL,
      "CSingleDispatch::SetDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\SingleDispatchStorage.cpp",
      25,
      "DP:0x%p/Setting new dispatch(DP:0x%p)");
    v2->m_lpDispatch = lpDispatch;
    CSession::AddRef(lpDispatch->m_Session);
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
}

//----- (0040F180) --------------------------------------------------------
void __thiscall CSingleDispatch::RemoveDispatch(CSingleDispatch *this, CPacketDispatch *lpDispatch)
{
  CSingleDispatch *v2; // esi@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  CSingleDispatch::InternalRemoveDispatch(v2, lpDispatch);
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
}

//----- (0040F1E0) --------------------------------------------------------
unsigned int __thiscall CSingleDispatch::GetDispatchNum(CSingleDispatch *this)
{
  CSingleDispatch *v1; // esi@1
  unsigned int v2; // edi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_lpDispatch != 0;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (0040F210) --------------------------------------------------------
void __thiscall CSingleDispatch::_CSingleDispatch(CSingleDispatch *this)
{
  CSingleDispatch *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( v1->m_lpDispatch )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CSingleDispatch::~CSingleDispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Dispatch\\SingleDispatchStorage.cpp",
      62,
      "DP:0x%p/Dispatch is not removed until destroy");
    CSingleDispatch::InternalRemoveDispatch(v1, v1->m_lpDispatch);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040F2A0) --------------------------------------------------------
CPacketDispatch *__thiscall CSingleDispatch::GetDispatch(CSingleDispatch *this)
{
  CSingleDispatch *v1; // esi@1
  CPacketDispatch *v2; // eax@1
  CPacketDispatch *v3; // edi@3

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_lpDispatch;
  if ( v2 )
    CSession::AddRef(v2->m_Session);
  v3 = v1->m_lpDispatch;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v3;
}

//----- (0040F300) --------------------------------------------------------
void __thiscall CSingleDispatch::Storage::Storage(CSingleDispatch::Storage *this, CSingleDispatch *singleDispatch)
{
  CSingleDispatch::Storage *v2; // esi@1
  CPacketDispatch *v3; // eax@1

  v2 = this;
  v3 = CSingleDispatch::GetDispatch(singleDispatch);
  v2->m_SingleDispatch = singleDispatch;
  v2->m_lpDispatch = v3;
}

//----- (0040F320) --------------------------------------------------------
void __thiscall CSession::CSession(CSession *this, CSessionPolicy *SessionPolicy)
{
  CSession *v2; // esi@1
  CSessionPolicy *v3; // ecx@1

  v2 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v2->m_SessionPolicy = SessionPolicy;
  v2->m_hSocket = -1;
  v2->m_RemoteAddr.m_iAddrLen = 0;
  *(_DWORD *)&v2->m_RemoteAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v2->m_RemoteAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v2->m_RemoteAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v2->m_RemoteAddr.m_SockAddr.sa_data[10] = 0;
  v2->m_LocalAddr.m_iAddrLen = 0;
  *(_DWORD *)&v2->m_LocalAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v2->m_LocalAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v2->m_LocalAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v2->m_LocalAddr.m_SockAddr.sa_data[10] = 0;
  CBufferQueue::CBufferQueue(&v2->m_SendQueue);
  v2->m_dwRecvPending = 0;
  v2->m_dwSendPending = 0;
  v2->m_nRefCount = 0;
  v2->m_Statistics.m_dwTotalReceived = 0;
  v2->m_Statistics.m_dwTotalSendPending = 0;
  v2->m_Statistics.m_dwTotalSendCompleted = 0;
  v2->m_Statistics.m_ConnectedTime = 0;
  v2->m_Statistics.m_DisconnectedTime = 0;
  v3 = v2->m_SessionPolicy;
  v2->m_cCurrentStatus = 0;
  v2->m_cFlags = 0;
  v2->m_usPadding = 17219;
  CSessionPolicy::AddRef(v3);
  v2->m_lpRecvBuffer = (CBuffer *)((int (__stdcall *)(_DWORD))SessionPolicy->m_lpBufferFactory->vfptr->Create)(32768);
  v2->m_lpDispatch = (CPacketDispatch *)((int (__stdcall *)(_DWORD))SessionPolicy->m_lpDispatchFactory->vfptr->CreateDispatch)(v2);
}

//----- (0040F400) --------------------------------------------------------
void __thiscall CSession::SetAddress(CSession *this, INET_Addr *remoteAddr, INET_Addr *localAddr)
{
  char *v3; // ecx@1

  *(_DWORD *)&this->m_RemoteAddr.m_SockAddr.sa_family = *(_DWORD *)&remoteAddr->m_SockAddr.sa_family;
  *(_DWORD *)&this->m_RemoteAddr.m_SockAddr.sa_data[2] = *(_DWORD *)&remoteAddr->m_SockAddr.sa_data[2];
  *(_DWORD *)&this->m_RemoteAddr.m_SockAddr.sa_data[6] = *(_DWORD *)&remoteAddr->m_SockAddr.sa_data[6];
  *(_DWORD *)&this->m_RemoteAddr.m_SockAddr.sa_data[10] = *(_DWORD *)&remoteAddr->m_SockAddr.sa_data[10];
  this->m_RemoteAddr.m_iAddrLen = remoteAddr->m_iAddrLen;
  v3 = (char *)&this->m_LocalAddr;
  *(_DWORD *)v3 = *(_DWORD *)&localAddr->m_SockAddr.sa_family;
  *((_DWORD *)v3 + 1) = *(_DWORD *)&localAddr->m_SockAddr.sa_data[2];
  *((_DWORD *)v3 + 2) = *(_DWORD *)&localAddr->m_SockAddr.sa_data[6];
  *((_DWORD *)v3 + 3) = *(_DWORD *)&localAddr->m_SockAddr.sa_data[10];
  *((_DWORD *)v3 + 4) = localAddr->m_iAddrLen;
}

//----- (0040F450) --------------------------------------------------------
int __thiscall CSession::InternalPrintStatistics(CSession *this, char *szBuffer, int nBufferLen)
{
  int v3; // ST18_4@1
  int v4; // eax@1
  int result; // eax@1

  v3 = this->m_Statistics.m_ConnectedTime;
  v4 = time(0);
  difftime(v4, v3);
  result = _snprintf(
             szBuffer,
             nBufferLen - 1,
             "[m_hSocket:0x%08x][%15s][DiffTime(Sec):%8f][m_dwTotalReceived:%5d][m_dwTotalSendPending:%5d][m_dwTotalSendCompleted:%5d][m_dwSendPending:%d][m_dwRecvPending:%d][m_nRefCount:%2d][flags:0x%02x]");
  szBuffer[nBufferLen - 1] = 0;
  return result;
}

//----- (0040F4E0) --------------------------------------------------------
void __thiscall std::basic_ostream<char_std::char_traits<char>>::_Sentry_base::__Sentry_base(std::basic_ostream<char,std::char_traits<char> >::_Sentry_base *this)
{
  int v1; // eax@1

  v1 = *(_DWORD *)&this->_Myostr->dummy[*(_DWORD *)(*(_DWORD *)&this->_Myostr->dummy[0] + 4) + 40];
  if ( v1 )
    std::_Mutex::_Unlock((std::_Mutex *)(v1 + 4));
}

//----- (0040F500) --------------------------------------------------------
void __thiscall CSession::InternalCloseSocket(CSession *this)
{
  CSession *v1; // esi@1
  char szBuffer[1024]; // [sp+4h] [bp-404h]@6

  v1 = this;
  if ( this->m_hSocket != -1 )
  {
    inet_ntoa(*(struct in_addr *)&this->m_RemoteAddr.m_SockAddr.sa_data[2]);
    if ( shutdown(v1->m_hSocket, 1) == -1 )
    {
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_DETAIL,
        "CSession::InternalCloseSocket",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
        249,
        "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ Shutdown failed - ErrorCode:%d");
    }
    if ( closesocket(v1->m_hSocket) == -1 )
    {
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_DETAIL,
        "CSession::InternalCloseSocket",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
        255,
        "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket failed - ErrorCode:%d");
    }
    if ( CSession::InternalPrintStatistics(v1, szBuffer, 1024) > 0 )
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_DETAIL,
        "CSession::InternalCloseSocket",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
        264,
        "SP:0x%p/DP:0x%p/IP:%15s/ InternalCloseSocket - Statistics : %s");
    v1->m_cFlags |= 8u;
    v1->m_hSocket = -1;
  }
  v1->m_cCurrentStatus = 1;
}

//----- (0040F630) --------------------------------------------------------
bool __thiscall CSession::Shutdown(CSession *this)
{
  CSession *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_cFlags |= 4u;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return 0;
}

//----- (0040F660) --------------------------------------------------------
int __thiscall CSession::AddRef(CSession *this)
{
  CSession *v1; // esi@1
  int v2; // ecx@1
  int v3; // edi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_nRefCount + 1;
  v1->m_nRefCount = v2;
  v3 = v2;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v3;
}

//----- (0040F680) --------------------------------------------------------
int __thiscall CSession::Release(CSession *this)
{
  CSession *v1; // esi@1
  int v2; // ecx@1
  int v3; // edi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_nRefCount - 1;
  v1->m_nRefCount = v2;
  v3 = v2;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v3;
}

//----- (0040F6A0) --------------------------------------------------------
void __thiscall CSession::CloseSession(CSession *this)
{
  CSession *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  inet_ntoa(*(struct in_addr *)&v1->m_RemoteAddr.m_SockAddr.sa_data[2]);
  WSAGetLastError();
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_DETAIL,
    "CSession::CloseSession",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
    301,
    "SP:0x%p/DP:0x%p/IP:%15s/ InternalCloseSocket - SessionClose Called : %d");
  CSession::InternalCloseSocket(v1);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040F730) --------------------------------------------------------
bool __thiscall CSession::CalledDisconnected(CSession *this)
{
  CSession *v1; // esi@1
  bool v2; // bl@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = (v1->m_cFlags & 2) == 2;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (0040F760) --------------------------------------------------------
bool __thiscall CSession::InternalRecv(CSession *this)
{
  CSession *v1; // esi@1
  CBuffer *v3; // eax@5
  CSessionPolicy *v4; // ecx@5
  int v5; // eax@5
  int v6; // edi@5
  const char *v7; // ebp@8
  int dwFlags; // [sp+8h] [bp-10h]@5
  int dwReceived; // [sp+Ch] [bp-Ch]@5
  _WSABUF wsaBuf; // [sp+10h] [bp-8h]@5

  v1 = this;
  if ( this->m_cFlags & 0x10 )
  {
    inet_ntoa(*(struct in_addr *)&this->m_RemoteAddr.m_SockAddr.sa_data[2]);
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::InternalRecv",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      404,
      "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ Recv suspending now");
    return 1;
  }
  if ( this->m_dwRecvPending )
  {
    inet_ntoa(*(struct in_addr *)&this->m_RemoteAddr.m_SockAddr.sa_data[2]);
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::InternalRecv",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      411,
      "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ Recv pending now");
    return 1;
  }
  v3 = this->m_lpRecvBuffer;
  dwReceived = 0;
  dwFlags = 0;
  wsaBuf.buf = v3->wr_ptr_;
  v4 = this->m_SessionPolicy;
  wsaBuf.len = (unsigned int)&v3->internal_buffer_[v3->buffer_size_ - (unsigned int)v3->wr_ptr_];
  v5 = ((int (__stdcall *)(CSession *, CBuffer *))v4->m_lpOverlappedFactory->vfptr->CreateRecv)(v1, v3);
  v6 = v5;
  if ( v5 )
  {
    if ( WSARecv(v1->m_hSocket, &wsaBuf, 1u, (LPDWORD)&dwReceived, (LPDWORD)&dwFlags, (LPWSAOVERLAPPED)(v5 + 4), 0) != -1
      || WSAGetLastError() == 997 )
      goto LABEL_12;
    v7 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/InternalCloseSocket - WSARecv Error - ErrorCode:%d";
  }
  else
  {
    v7 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/InternalCloseSocket - WSARecv Error - Create RecvOverlapped Failed - ErrorCode:%d";
  }
  if ( v7 )
  {
    inet_ntoa(*(struct in_addr *)&v1->m_RemoteAddr.m_SockAddr.sa_data[2]);
    WSAGetLastError();
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::InternalRecv",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      449,
      v7);
    CSession::InternalCloseSocket(v1);
    ((void (__stdcall *)(int))v1->m_SessionPolicy->m_lpOverlappedFactory->vfptr->DeleteOverlapped)(v6);
    return 0;
  }
LABEL_12:
  ++v1->m_dwRecvPending;
  return 1;
}

//----- (0040F8E0) --------------------------------------------------------
CSession::SendResult __thiscall CSession::InternalSend(CSession *this, CBuffer *lpBuffer)
{
  CSession *v2; // esi@1
  CBuffer *v4; // ebx@5
  int v5; // edi@5
  char *v6; // ecx@7
  int v7; // ebp@7
  SOCKET v8; // eax@7
  const char *v9; // ebp@9
  _WSABUF wsaBuf; // [sp+8h] [bp-8h]@7

  v2 = this;
  if ( this->m_dwSendPending )
    return 2;
  if ( this->m_hSocket == -1 )
    return 1;
  v4 = lpBuffer;
  v5 = 0;
  if ( lpBuffer )
  {
    v5 = ((int (__stdcall *)(CSession *, CBuffer *))this->m_SessionPolicy->m_lpOverlappedFactory->vfptr->CreateSend)(
           this,
           lpBuffer);
    if ( v5 )
    {
      v6 = v4->rd_ptr_;
      v7 = &v4->wr_ptr_[v2->m_Statistics.m_dwTotalSendPending] - v6;
      wsaBuf.len = v4->wr_ptr_ - v6;
      v8 = v2->m_hSocket;
      wsaBuf.buf = v6;
      lpBuffer = 0;
      v2->m_Statistics.m_dwTotalSendPending = v7;
      if ( WSASend(v8, &wsaBuf, 1u, (LPDWORD)&lpBuffer, 0, (LPWSAOVERLAPPED)(v5 + 4), 0) != -1
        || WSAGetLastError() == 997 )
        goto LABEL_16;
      v9 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket - WSASend Error - ErrorCode:%d";
    }
    else
    {
      v9 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket - WSASend Error - Cannot Create SendOverlapped - ErrorCode:%d";
    }
  }
  else
  {
    v9 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket - WSASend Error - lpBuffer is 0 - ErrorCode:%d";
  }
  if ( !v9 )
  {
LABEL_16:
    ++v2->m_dwSendPending;
    return 0;
  }
  inet_ntoa(*(struct in_addr *)&v2->m_RemoteAddr.m_SockAddr.sa_data[2]);
  WSAGetLastError();
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_DETAIL,
    "CSession::InternalSend",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
    584,
    v9);
  CSession::InternalCloseSocket(v2);
  if ( v5 )
  {
    *(_DWORD *)(v5 + 28) = 0;
    ((void (__stdcall *)(int))v2->m_SessionPolicy->m_lpOverlappedFactory->vfptr->DeleteOverlapped)(v5);
  }
  return 1;
}

//----- (0040FA20) --------------------------------------------------------
CSession::SendResult __thiscall CSession::InternalSendTo(CSession *this, CBuffer *lpBuffer)
{
  CSession *v2; // esi@1
  CBuffer *v4; // edi@5
  int v5; // ebx@5
  unsigned int v6; // eax@7
  unsigned int v7; // ecx@7
  int v8; // ST20_4@7
  SOCKET v9; // ST08_4@7
  const char *v10; // ebp@9
  _WSABUF wsaBuf; // [sp+8h] [bp-8h]@7

  v2 = this;
  if ( this->m_dwSendPending )
    return 2;
  if ( this->m_hSocket == -1 )
    return 1;
  v4 = lpBuffer;
  v5 = 0;
  if ( lpBuffer )
  {
    v5 = ((int (__stdcall *)(CSession *, CBuffer *))this->m_SessionPolicy->m_lpOverlappedFactory->vfptr->CreateSend)(
           this,
           lpBuffer);
    if ( v5 )
    {
      v6 = v4->wr_ptr_ - v4->rd_ptr_;
      wsaBuf.buf = v4->rd_ptr_;
      v7 = v2->m_Statistics.m_dwTotalSendPending;
      wsaBuf.len = v6;
      v2->m_Statistics.m_dwTotalSendPending = v6 + v7;
      v8 = v4->address_.m_iAddrLen;
      v9 = v2->m_hSocket;
      lpBuffer = 0;
      if ( WSASendTo(v9, &wsaBuf, 1u, (LPDWORD)&lpBuffer, 0, &v4->address_.m_SockAddr, v8, (LPWSAOVERLAPPED)(v5 + 4), 0) != -1
        || WSAGetLastError() == 997 )
        goto LABEL_16;
      v10 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket - WSASendTo Error - ErrorCode:%d";
    }
    else
    {
      v10 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket - WSASendTo Error - Cannot Create SendOverlapped - ErrorCode:%d";
    }
  }
  else
  {
    v10 = "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ InternalCloseSocket - WSASendTo Error - lpBuffer is 0 - ErrorCode:%d";
  }
  if ( !v10 )
  {
LABEL_16:
    ++v2->m_dwSendPending;
    return 0;
  }
  inet_ntoa(*(struct in_addr *)&v2->m_RemoteAddr.m_SockAddr.sa_data[2]);
  WSAGetLastError();
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_DETAIL,
    "CSession::InternalSendTo",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
    660,
    v10);
  CSession::InternalCloseSocket(v2);
  if ( v5 )
  {
    *(_DWORD *)(v5 + 28) = 0;
    ((void (__stdcall *)(int))v2->m_SessionPolicy->m_lpOverlappedFactory->vfptr->DeleteOverlapped)(v5);
  }
  return 1;
}

//----- (0040FB70) --------------------------------------------------------
bool __thiscall CSession::SendPending(CSession *this, CBuffer *lpBuffer)
{
  CSession *v2; // esi@1
  bool result; // al@3

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( v2->m_cFlags & 4 || v2->m_hSocket == -1 )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = 0;
  }
  else
  {
    CBufferQueue::enqueue(&v2->m_SendQueue, lpBuffer, 0);
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = 1;
  }
  return result;
}

//----- (0040FBF0) --------------------------------------------------------
bool __thiscall CSession::InternalSend(CSession *this)
{
  CSession *v1; // edi@1
  CSession::SendResult v2; // ebx@1
  CBuffer *v3; // eax@2
  CBuffer *v4; // esi@2
  CSession::SendResult v5; // eax@4

  v1 = this;
  v2 = 0;
  if ( !this->m_dwSendPending )
  {
    v3 = CBufferQueue::dequeue(&this->m_SendQueue);
    v4 = v3;
    if ( v3 )
    {
      if ( v3->address_.m_iAddrLen )
        v5 = CSession::InternalSendTo(v1, v3);
      else
        v5 = CSession::InternalSend(v1, v3);
      v2 = v5;
      if ( v5 )
        CBufferQueue::enqueue(&v1->m_SendQueue, v4, 1);
    }
  }
  return v2 != 1;
}

//----- (0040FC50) --------------------------------------------------------
void __thiscall CSession::SuspendRecv(CSession *this)
{
  CSession *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_cFlags |= 0x10u;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040FC80) --------------------------------------------------------
void __thiscall CSession::ResumeRecv(CSession *this)
{
  CSession *v1; // esi@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_cFlags &= 0xEFu;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040FCB0) --------------------------------------------------------
void __thiscall CSession::_CSession(CSession *this)
{
  CSession *v1; // esi@1
  CBuffer *v2; // eax@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  CSession::InternalCloseSocket(v1);
  v2 = v1->m_lpRecvBuffer;
  if ( v2 )
  {
    ((void (__stdcall *)(_DWORD))v2->bufferfactory_->vfptr->Release)(v1->m_lpRecvBuffer);
    v1->m_lpRecvBuffer = 0;
  }
  ((void (__stdcall *)(_DWORD))v1->m_SessionPolicy->m_lpDispatchFactory->vfptr->DeleteDispatch)(v1->m_lpDispatch);
  v1->m_usPadding = 17476;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  CSessionPolicy::Release(v1->m_SessionPolicy);
  CBufferQueue::_CBufferQueue(&v1->m_SendQueue);
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0040FD60) --------------------------------------------------------
bool __thiscall CSession::Process(CSession *this)
{
  CSession *v1; // esi@1
  char v2; // bl@1
  CPacketDispatch *v3; // ebp@1
  int v5; // eax@10
  char v6; // bl@19
  SOCKET v7; // eax@25
  char bCallDisconnected; // [sp+0h] [bp-16h]@1
  int v9; // [sp+2h] [bp-14h]@1

  v1 = this;
  v2 = 0;
  bCallDisconnected = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = v1->m_lpDispatch;
  v9 = v1->m_cCurrentStatus;
  if ( v1->m_cCurrentStatus )
  {
    if ( v1->m_cCurrentStatus == 1 )
    {
      if ( v1->m_cFlags & 2 )
      {
        if ( v1->m_hSocket == -1 && !v1->m_dwRecvPending && !v1->m_dwSendPending && !v1->m_nRefCount )
        {
          CSession::InternalCloseSocket(v1);
          inet_ntoa(*(struct in_addr *)&v1->m_RemoteAddr.m_SockAddr.sa_data[2]);
          CServerLog::DetailLog(
            &g_SessionLog,
            LOG_DETAIL,
            "CSession::Process",
            "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
            139,
            "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/Eliminate Session");
          LeaveCriticalSection((LPCRITICAL_SECTION)v1);
          return 0;
        }
      }
      else
      {
        bCallDisconnected = 1;
        v1->m_Statistics.m_DisconnectedTime = time(0);
        v1->m_cFlags |= 2u;
      }
    }
  }
  else
  {
    v5 = v1->m_cFlags;
    if ( !(v5 & 1) )
    {
      v2 = 1;
      v1->m_cFlags = v5 | 1;
    }
    if ( !(v1->m_cFlags & 0x10) && !v1->m_dwRecvPending )
      CSession::InternalRecv(v1);
  }
  ++v1->m_nRefCount;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  if ( v2 )
  {
    inet_ntoa(*(struct in_addr *)&v1->m_RemoteAddr.m_SockAddr.sa_data[2]);
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::Process",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      156,
      "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/Connection Open - Process connected");
    v3->vfptr->Connected(v3);
    v1->m_Statistics.m_ConnectedTime = time(0);
  }
  if ( v9 || v3->vfptr->Dispatch(v3) )
  {
    v6 = 0;
  }
  else
  {
    inet_ntoa(*(struct in_addr *)&v1->m_RemoteAddr.m_SockAddr.sa_data[2]);
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::Process",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      167,
      "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/CloseSocket - Failed Dispatch");
    v6 = 1;
  }
  if ( bCallDisconnected )
  {
    inet_ntoa(*(struct in_addr *)&v1->m_RemoteAddr.m_SockAddr.sa_data[2]);
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::Process",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      176,
      "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/ Connection Closed - Process disconnect");
    v3->vfptr->Disconnected(v3);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)v1);
  CSession::InternalSend(v1);
  if ( v1->m_cFlags & 4 )
  {
    if ( !v1->m_SendQueue.m_bufferNum )
    {
      v7 = v1->m_hSocket;
      if ( v7 != -1 )
      {
        if ( shutdown(v7, 1) )
          v1->m_cFlags |= 8u;
      }
    }
  }
  --v1->m_nRefCount;
  if ( v6 )
    CSession::InternalCloseSocket(v1);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return 1;
}

//----- (00410010) --------------------------------------------------------
bool __thiscall CSession::Dispatch(CSession *this, unsigned int dwReceivedBytes)
{
  CSession *v2; // esi@1
  unsigned int v3; // edi@1
  CBuffer *v4; // ecx@1
  unsigned int v5; // eax@1
  bool v6; // zf@2
  bool v7; // bl@3
  int v8; // ecx@5

  v2 = this;
  v3 = dwReceivedBytes;
  this->m_lpRecvBuffer->wr_ptr_ += dwReceivedBytes;
  v4 = this->m_lpRecvBuffer;
  v5 = v4->wr_ptr_ - v4->rd_ptr_;
  dwReceivedBytes = v4->wr_ptr_ - v4->rd_ptr_;
  v7 = v3
    && (v6 = v2->m_lpDispatch->vfptr->ParsePacket(v2->m_lpDispatch, v4->rd_ptr_, &dwReceivedBytes) == 0,
        v5 = dwReceivedBytes,
        !v6);
  v2->m_lpRecvBuffer->rd_ptr_ += v5;
  CBuffer::pop_read_data(v2->m_lpRecvBuffer);
  EnterCriticalSection((LPCRITICAL_SECTION)v2);
  v8 = v2->m_dwRecvPending - 1;
  v2->m_Statistics.m_dwTotalReceived += v3;
  v2->m_dwRecvPending = v8;
  if ( !v7 )
  {
    inet_ntoa(*(struct in_addr *)&v2->m_RemoteAddr.m_SockAddr.sa_data[2]);
    WSAGetLastError();
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::Dispatch",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      232,
      "SP:0x%p/DP:0x%p/IP:%15s/SOCKET:0x%p/shutdown - %s : dwReceivedBytes:%d, ErrorCode:%d");
    CSession::InternalCloseSocket(v2);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  return v7;
}

//----- (00410130) --------------------------------------------------------
void __thiscall CSession::SendCompleted(CSession *this, int bResult, unsigned int dwSendedBytes)
{
  CSession *v3; // esi@1
  unsigned int v4; // ecx@1

  v3 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v4 = dwSendedBytes + v3->m_Statistics.m_dwTotalSendCompleted;
  --v3->m_dwSendPending;
  v3->m_Statistics.m_dwTotalSendCompleted = v4;
  if ( bResult )
  {
    CSession::InternalSend(v3);
  }
  else
  {
    inet_ntoa(*(struct in_addr *)&v3->m_RemoteAddr.m_SockAddr.sa_data[2]);
    WSAGetLastError();
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_DETAIL,
      "CSession::SendCompleted",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Session\\Session.cpp",
      336,
      "SP:0x%p/DP:0x%p/IP:%15s/ InternalCloseSocket - Send Completion Error : %d");
    CSession::InternalCloseSocket(v3);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v3);
}

//----- (004101F0) --------------------------------------------------------
std::basic_ostream<char,std::char_traits<char> > *__thiscall std::basic_ostream<char_std::char_traits<char>>::flush(std::basic_ostream<char,std::char_traits<char> > *this)
{
  std::basic_ostream<char,std::char_traits<char> > *v1; // esi@1
  char *v2; // eax@1
  signed int v3; // edi@1
  int v4; // ecx@4
  int v5; // eax@5

  v1 = this;
  v2 = (char *)this + *(_DWORD *)(*(_DWORD *)&this->dummy[0] + 4);
  v3 = 0;
  if ( !(v2[8] & 6) && (*(int (__thiscall **)(_DWORD))(**((_DWORD **)v2 + 10) + 44))(*((_DWORD *)v2 + 10)) == -1 )
    v3 = 4;
  v4 = (int)((char *)v1 + *(_DWORD *)(*(_DWORD *)&v1->dummy[0] + 4));
  if ( v3 )
  {
    v5 = v3 | *(_DWORD *)(v4 + 8);
    if ( !*(_DWORD *)(v4 + 40) )
      v5 |= 4u;
    std::ios_base::clear((std::ios_base *)v4, v5, 0);
  }
  return v1;
}

//----- (00410250) --------------------------------------------------------
void __thiscall std::basic_ostream<char_std::char_traits<char>>::sentry::sentry(std::basic_ostream<char,std::char_traits<char> >::sentry *this, std::basic_ostream<char,std::char_traits<char> > *_Ostr)
{
  std::basic_ostream<char,std::char_traits<char> >::sentry *v2; // edi@1
  int v3; // eax@1
  int v4; // eax@3
  int v5; // ecx@3
  char *v6; // eax@3
  std::basic_ostream<char,std::char_traits<char> > *v7; // eax@4

  v2 = this;
  this->baseclass_0._Myostr = _Ostr;
  v3 = *(_DWORD *)&_Ostr->dummy[*(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4) + 40];
  if ( v3 )
    std::_Mutex::_Lock((std::_Mutex *)(v3 + 4));
  v4 = *(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4);
  v5 = *(_DWORD *)&_Ostr->dummy[v4 + 8];
  v6 = (char *)_Ostr + v4;
  if ( !v5 )
  {
    v7 = (std::basic_ostream<char,std::char_traits<char> > *)*((_DWORD *)v6 + 11);
    if ( v7 )
      std::basic_ostream<char_std::char_traits<char>>::flush(v7);
  }
  v2->_Ok = *(_DWORD *)&_Ostr->dummy[*(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4) + 8] == 0;
}

//----- (004102E0) --------------------------------------------------------
void __thiscall std::basic_ostream<char_std::char_traits<char>>::sentry::_sentry(std::basic_ostream<char,std::char_traits<char> >::sentry *this)
{
  std::basic_ostream<char,std::char_traits<char> > **v1; // esi@1
  int v2; // eax@4

  v1 = (std::basic_ostream<char,std::char_traits<char> > **)this;
  if ( !std::uncaught_exception() && (*v1)->dummy[*(_DWORD *)(*(_DWORD *)&(*v1)->dummy[0] + 4) + 16] & 2 )
    std::basic_ostream<char_std::char_traits<char>>::flush(*v1);
  v2 = *(_DWORD *)&(*v1)->dummy[*(_DWORD *)(*(_DWORD *)&(*v1)->dummy[0] + 4) + 40];
  if ( v2 )
    std::_Mutex::_Unlock((std::_Mutex *)(v2 + 4));
}

//----- (00410350) --------------------------------------------------------
std::basic_ostream<char,std::char_traits<char> > *__cdecl std::operator<<<std::char_traits<char>>(std::basic_ostream<char,std::char_traits<char> > *_Ostr, const char *_Val)
{
  int v2; // ebx@1
  unsigned int v3; // edi@1
  signed int v4; // eax@1
  signed int v5; // edx@5
  int v6; // eax@6
  int v7; // edx@8
  int v8; // eax@8
  int v9; // ecx@8
  int v10; // edx@8
  int v11; // ecx@10
  int v12; // edx@10
  int v13; // edx@21
  int v14; // eax@21
  int v15; // ecx@21
  int v16; // edx@21
  int v17; // ecx@23
  int v18; // edx@23
  int v19; // edx@26
  char *v20; // ecx@29
  int v21; // eax@30
  int v23; // [sp-Ch] [bp-2Ch]@1
  std::basic_ostream<char,std::char_traits<char> >::sentry _Ok; // [sp+0h] [bp-20h]@4
  int _Pad; // [sp+8h] [bp-18h]@4
  int _State; // [sp+Ch] [bp-14h]@1
  int *v27; // [sp+10h] [bp-10h]@1
  int v28; // [sp+1Ch] [bp-4h]@4

  v2 = 0;
  v27 = &v23;
  _State = 0;
  v3 = strlen(_Val);
  v4 = *(_DWORD *)&_Ostr->dummy[*(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4) + 24];
  if ( v4 > 0 && v4 > (signed int)v3 )
    v2 = v4 - v3;
  _Pad = v2;
  std::basic_ostream<char_std::char_traits<char>>::sentry::sentry(&_Ok, _Ostr);
  v28 = 0;
  if ( !_Ok._Ok )
  {
    v5 = 4;
    goto LABEL_29;
  }
  v6 = *(_DWORD *)&_Ostr->dummy[*(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4) + 16] & 0x1C0;
  LOBYTE(v28) = 1;
  if ( v6 == 64 )
  {
LABEL_16:
    if ( (*(int (__stdcall **)(const char *, unsigned int))(**(_DWORD **)&_Ostr->dummy[*(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0]
                                                                                                 + 4)
                                                                                     + 40]
                                                          + 28))(
           _Val,
           v3) == v3 )
    {
      while ( v2 > 0 )
      {
        v13 = *(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4);
        LOBYTE(v14) = _Ostr->dummy[v13 + 48];
        v15 = *(_DWORD *)&_Ostr->dummy[v13 + 40];
        v16 = *(_DWORD *)(v15 + 36);
        if ( *(_DWORD *)v16 && *(_DWORD *)v16 < (unsigned int)(*(_DWORD *)v16 + **(_DWORD **)(v15 + 52)) )
        {
          --**(_DWORD **)(v15 + 52);
          v17 = *(_DWORD *)(v15 + 36);
          v18 = (*(_DWORD *)v17)++;
          *(_BYTE *)v18 = v14;
          v14 = (unsigned __int8)v14;
        }
        else
        {
          v14 = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v15 + 4))((unsigned __int8)v14);
        }
        if ( v14 == -1 )
        {
          v19 = *(_DWORD *)&_Ostr->dummy[0];
          _State |= 4u;
          *(_DWORD *)&_Ostr->dummy[*(_DWORD *)(v19 + 4) + 24] = 0;
          goto LABEL_28;
        }
        --v2;
      }
    }
    else
    {
      _State = 4;
    }
    goto LABEL_18;
  }
  while ( v2 > 0 )
  {
    v7 = *(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4);
    LOBYTE(v8) = _Ostr->dummy[v7 + 48];
    v9 = *(_DWORD *)&_Ostr->dummy[v7 + 40];
    v10 = *(_DWORD *)(v9 + 36);
    if ( *(_DWORD *)v10 )
    {
      if ( *(_DWORD *)v10 < (unsigned int)(*(_DWORD *)v10 + **(_DWORD **)(v9 + 52)) )
      {
        --**(_DWORD **)(v9 + 52);
        v11 = *(_DWORD *)(v9 + 36);
        v12 = (*(_DWORD *)v11)++;
        v2 = _Pad;
        *(_BYTE *)v12 = v8;
        v8 = (unsigned __int8)v8;
        goto LABEL_13;
      }
      v2 = _Pad;
    }
    v8 = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v9 + 4))((unsigned __int8)v8);
LABEL_13:
    if ( v8 == -1 )
    {
      _State |= 4u;
      break;
    }
    --v2;
    _Pad = v2;
  }
  if ( !_State )
    goto LABEL_16;
LABEL_18:
  *(_DWORD *)&_Ostr->dummy[*(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4) + 24] = 0;
LABEL_28:
  v5 = _State;
LABEL_29:
  v20 = (char *)_Ostr + *(_DWORD *)(*(_DWORD *)&_Ostr->dummy[0] + 4);
  v28 = 0;
  if ( v5 )
  {
    v21 = v5 | *((_DWORD *)v20 + 2);
    if ( !*((_DWORD *)v20 + 10) )
      v21 |= 4u;
    std::ios_base::clear((std::ios_base *)v20, v21, 0);
  }
  v28 = -1;
  std::basic_ostream<char_std::char_traits<char>>::sentry::_sentry(&_Ok);
  return _Ostr;
}

//----- (00410560) --------------------------------------------------------
void __thiscall CCheckPing::CCheckPing(CCheckPing *this)
{
  CCheckPing *v1; // esi@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_dwPingCount = 0;
  v1->m_dwLastPingRecvTime = 0;
  v1->m_dwFirstCheckTime = 0;
}

//----- (00410580) --------------------------------------------------------
bool __thiscall CCheckPing::CheckPing(CCheckPing *this, unsigned int dwCurrentTime)
{
  CCheckPing *v2; // esi@1
  unsigned int v3; // eax@2
  unsigned int v4; // eax@4
  bool result; // al@8
  bool v6; // bl@11

  v2 = this;
  if ( !CServerSetup::GetInstance()->m_bPingCheck )
    return 1;
  EnterCriticalSection((LPCRITICAL_SECTION)v2);
  v3 = v2->m_dwLastPingRecvTime;
  if ( v3 || v2->m_dwPingCount )
  {
    v6 = (signed int)(dwCurrentTime - v3) < 600000;
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = v6;
  }
  else
  {
    v4 = v2->m_dwFirstCheckTime;
    if ( !v4 )
    {
      v2->m_dwFirstCheckTime = dwCurrentTime;
      if ( !dwCurrentTime )
        v2->m_dwFirstCheckTime = 1;
      goto LABEL_7;
    }
    if ( (signed int)(dwCurrentTime - v4) <= 300000 )
    {
LABEL_7:
      LeaveCriticalSection((LPCRITICAL_SECTION)v2);
      return 1;
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
    result = 0;
  }
  return result;
}

//----- (00410610) --------------------------------------------------------
void __thiscall CCheckPing::SetLastPingRecvTime(CCheckPing *this, unsigned int dwCurrentTime)
{
  CCheckPing *v2; // esi@1
  bool v3; // zf@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2->m_dwLastPingRecvTime = dwCurrentTime;
  v3 = v2->m_dwPingCount++ == -1;
  if ( v3 )
    v2->m_dwPingCount = 1;
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
}

//----- (00410640) --------------------------------------------------------
void __thiscall CCheckPing::GetPingData(CCheckPing *this, unsigned int *dwPingCount, unsigned int *dwLastPingRecvTime, unsigned int *dwFirstCheckTime)
{
  CCheckPing *v4; // esi@1

  v4 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  *dwPingCount = v4->m_dwPingCount;
  *dwLastPingRecvTime = v4->m_dwLastPingRecvTime;
  *dwFirstCheckTime = v4->m_dwFirstCheckTime;
  LeaveCriticalSection((LPCRITICAL_SECTION)v4);
}

//----- (00410670) --------------------------------------------------------
bool __cdecl Filter::InitFilter(const char *szFilterFileName)
{
  const char *v1; // eax@1
  _iobuf *v2; // eax@3
  _iobuf *v3; // esi@3
  bool result; // al@4
  char *v5; // eax@6
  char *v6; // ecx@6
  char v7; // dl@7
  _iobuf *v8; // eax@9
  _iobuf *v9; // esi@9
  char *v10; // eax@11
  char *v11; // ecx@11
  char v12; // dl@12
  _iobuf *v13; // eax@15
  _iobuf *v14; // esi@15
  char *v15; // eax@17
  char *v16; // ecx@17
  char v17; // dl@18
  char Buffer[256]; // [sp+0h] [bp-104h]@5

  v1 = szFilterFileName;
  if ( !szFilterFileName )
    v1 = "./Script/Server/Abuse.txt";
  v2 = fopen(v1, "r");
  v3 = v2;
  if ( v2 )
  {
    if ( fgets(Buffer, 256, v2) )
    {
      do
      {
        v5 = strtok(Buffer, "\n");
        v6 = g_FilterName.FilterStrings[g_FilterName.Total];
        do
        {
          v7 = *v5++;
          *v6++ = v7;
        }
        while ( v7 );
        ++g_FilterName.Total;
      }
      while ( fgets(Buffer, 256, v3) );
    }
    fclose(v3);
    v8 = fopen("./Script/Server/WordFilter.txt", "r");
    v9 = v8;
    if ( v8 )
    {
      g_FilterName.Total = 0;
      if ( fgets(Buffer, 256, v8) )
      {
        do
        {
          v10 = strtok(Buffer, "\n");
          v11 = g_FilterName.FilterStrings[g_FilterName.Total];
          do
          {
            v12 = *v10++;
            *v11++ = v12;
          }
          while ( v12 );
          ++g_FilterName.Total;
        }
        while ( fgets(Buffer, 256, v9) );
      }
      fclose(v9);
    }
    v13 = fopen("./Script/Server/Account.txt", "r");
    v14 = v13;
    if ( v13 )
    {
      if ( fgets(Buffer, 256, v13) )
      {
        do
        {
          v15 = strtok(Buffer, "\n");
          v16 = g_AccountName.FilterStrings[g_AccountName.Total];
          do
          {
            v17 = *v15++;
            *v16++ = v17;
          }
          while ( v17 );
          ++g_AccountName.Total;
        }
        while ( fgets(Buffer, 256, v14) );
      }
      fclose(v14);
    }
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00410850) --------------------------------------------------------
bool __cdecl Filter::NameCheck(const char *CheckName_In)
{
  int v1; // esi@1
  char *v2; // edi@1
  bool result; // al@4
  char CheckName[16]; // [sp+8h] [bp-14h]@1

  *(_DWORD *)&CheckName[1] = 0;
  *(_DWORD *)&CheckName[5] = 0;
  *(_DWORD *)&CheckName[9] = 0;
  *(_WORD *)&CheckName[13] = 0;
  CheckName[0] = 0;
  CheckName[15] = 0;
  strncpy(CheckName, CheckName_In, 0x10u);
  CheckName[15] = 0;
  v1 = 0;
  v2 = strlwr(CheckName);
  if ( g_FilterName.Total )
  {
    while ( !strstr(v2, g_FilterName.FilterStrings[(unsigned __int16)v1]) )
    {
      ++v1;
      if ( (unsigned __int16)v1 >= g_FilterName.Total )
        goto LABEL_4;
    }
    result = 0;
  }
  else
  {
LABEL_4:
    result = 1;
  }
  return result;
}

//----- (00410900) --------------------------------------------------------
bool __cdecl Filter::AccountCheck(const char *Account_In)
{
  int v1; // edi@1
  bool result; // al@4

  v1 = 0;
  if ( g_FilterName.Total )
  {
    while ( strcmp(Account_In, g_AccountName.FilterStrings[(unsigned __int16)v1]) )
    {
      ++v1;
      if ( (unsigned __int16)v1 >= g_FilterName.Total )
        goto LABEL_4;
    }
    result = 0;
  }
  else
  {
LABEL_4:
    result = 1;
  }
  return result;
}

//----- (00410980) --------------------------------------------------------
void __thiscall CDBComponent::CDBComponent(CDBComponent *this)
{
  CDBComponent *v1; // esi@1

  v1 = this;
  OleDB::OleDB(&this->baseclass_0);
  v1->baseclass_0.vfptr = (OleDBVtbl *)&CDBComponent::_vftable_;
}
// 455264: using guessed type int (__thiscall *CDBComponent___vftable_)(void *p, char);

//----- (004109A0) --------------------------------------------------------
void __thiscall CDBComponent::_CDBComponent(CDBComponent *this)
{
  this->baseclass_0.vfptr = (OleDBVtbl *)&CDBComponent::_vftable_;
  OleDB::_OleDB(&this->baseclass_0);
}
// 455264: using guessed type int (__thiscall *CDBComponent___vftable_)(void *p, char);

//----- (004109B0) --------------------------------------------------------
void *__thiscall CDBComponent::_scalar_deleting_destructor_(CDBComponent *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CDBComponent::_CDBComponent(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (004109D0) --------------------------------------------------------
bool __thiscall CDBComponent::Connect(CDBComponent *this, CDBComponent::DBClass DBClass_In)
{
  OleDB *v2; // esi@1
  CServerSetup *v3; // eax@1
  int v4; // eax@2
  bool result; // al@7

  v2 = (OleDB *)this;
  v3 = CServerSetup::GetInstance();
  switch ( DBClass_In )
  {
    case 1:
      v4 = (int)&v3->m_stAuthDBInfo;
      goto LABEL_6;
    case 2:
      v4 = (int)&v3->m_stGameDBInfo;
      goto LABEL_6;
    case 3:
      v4 = (int)&v3->m_stKeeperDBInfo;
      goto LABEL_6;
    case 4:
      v4 = (int)&v3->m_stAdminToolDBInfo;
LABEL_6:
      if ( !v4 )
        goto LABEL_7;
      if ( OleDB::ConnectSQLServer(
             v2,
             (const char *)(v4 + 4),
             (const char *)(v4 + 132),
             (const char *)(v4 + 260),
             (const char *)(v4 + 388),
             *(OleDB::ConnType *)v4) )
      {
        result = 1;
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CDBComponent::Connect",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\DB\\DBComponent.cpp",
          53,
          "DB Connect failed : %s");
        result = 0;
      }
      break;
    default:
LABEL_7:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CDBComponent::Connect",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\DB\\DBComponent.cpp",
        48,
        "DB Connect failed : Unknown dbType");
      result = 0;
      break;
  }
  return result;
}

//----- (00410AA0) --------------------------------------------------------
void __thiscall CAuthorizeParam::CAuthorizeParam(CAuthorizeParam *this)
{
  memset(this, 0, 0x130u);
  this->m_HanAuthParam.ColNum = 3;
  this->m_HanAuthParam.ColSize[0] = 16;
  this->m_HanAuthParam.ColType[0] = 129;
  this->m_HanAuthParam.eParamIO[0] = 1;
  this->m_HanAuthParam.ColSize[1] = 32;
  this->m_HanAuthParam.ColType[1] = 129;
  this->m_HanAuthParam.eParamIO[1] = 1;
  this->m_HanAuthParam.ColSize[2] = 8;
  this->m_HanAuthParam.ColType[2] = 20;
  this->m_HanAuthParam.eParamIO[2] = 2;
  memset(&this->m_HanRegParam, 0, sizeof(this->m_HanRegParam));
  this->m_HanRegParam.ColNum = 2;
  this->m_HanRegParam.ColSize[0] = 16;
  this->m_HanRegParam.ColType[0] = 129;
  this->m_HanRegParam.eParamIO[0] = 1;
  this->m_HanRegParam.ColSize[1] = 3;
  this->m_HanRegParam.ColType[1] = 129;
  this->m_HanRegParam.eParamIO[1] = 1;
  memset(&this->m_HanAuthCheckParam, 0, sizeof(this->m_HanAuthCheckParam));
  this->m_HanAuthCheckParam.ColNum = 2;
  this->m_HanAuthCheckParam.ColSize[0] = 16;
  this->m_HanAuthCheckParam.ColType[0] = 129;
  this->m_HanAuthCheckParam.eParamIO[0] = 1;
  this->m_HanAuthCheckParam.ColSize[1] = 4;
  this->m_HanAuthCheckParam.ColType[1] = 3;
  this->m_HanAuthCheckParam.eParamIO[1] = 2;
  memset(&this->m_GamaAuthParam, 0, sizeof(this->m_GamaAuthParam));
  this->m_GamaAuthParam.ColNum = 3;
  this->m_GamaAuthParam.ColSize[0] = 16;
  this->m_GamaAuthParam.ColType[0] = 129;
  this->m_GamaAuthParam.eParamIO[0] = 1;
  this->m_GamaAuthParam.ColSize[1] = 32;
  this->m_GamaAuthParam.ColType[1] = 129;
  this->m_GamaAuthParam.eParamIO[1] = 1;
  this->m_GamaAuthParam.ColSize[2] = 4;
  this->m_GamaAuthParam.ColType[2] = 3;
  this->m_GamaAuthParam.eParamIO[2] = 2;
  memset(&this->m_GamaGetAccountByUID, 0, sizeof(this->m_GamaGetAccountByUID));
  this->m_GamaGetAccountByUID.ColNum = 2;
  this->m_GamaGetAccountByUID.ColSize[0] = 4;
  this->m_GamaGetAccountByUID.ColType[0] = 3;
  this->m_GamaGetAccountByUID.eParamIO[0] = 1;
  this->m_GamaGetAccountByUID.ColSize[1] = 20;
  this->m_GamaGetAccountByUID.ColType[1] = 129;
  this->m_GamaGetAccountByUID.eParamIO[1] = 2;
  memset(&this->m_GamaGetUIDByAccount, 0, sizeof(this->m_GamaGetUIDByAccount));
  this->m_GamaGetUIDByAccount.ColNum = 2;
  this->m_GamaGetUIDByAccount.ColSize[0] = 12;
  this->m_GamaGetUIDByAccount.ColType[0] = 129;
  this->m_GamaGetUIDByAccount.eParamIO[0] = 1;
  this->m_GamaGetUIDByAccount.ColSize[1] = 4;
  this->m_GamaGetUIDByAccount.ColType[1] = 3;
  this->m_GamaGetUIDByAccount.eParamIO[1] = 2;
}

//----- (00410C90) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::LoginAuthMyth(CDBComponent *DBComponent, const char *Account_In, const char *Password_In, const char *szAddress, AUTH *lpAuthUser_Out)
{
  char Query[1024]; // [sp+0h] [bp-404h]@1

  _snprintf(Query, 0x400u, "dbo.spLoginAuthMyth '%s', '%s', '%s'");
  return OleDB::ExecuteQueryGetData(&DBComponent->baseclass_0, Query, lpAuthUser_Out) != 0;
}

//----- (00410D10) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::GetUIDByAccount(CDBComponent *DBComponent, char *Account_In, char *UID_Out)
{
  char Query[1024]; // [sp+0h] [bp-404h]@1

  sprintf(Query, "select FC_GETUID_BYMEMBERID('%s') from dual");
  return OleDB::ExecuteQueryGetData(&DBComponent->baseclass_0, Query, UID_Out) != 0;
}

//----- (00410D70) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::GetMythUIDByAccount(CDBComponent *DBComponent, const char *Account_In, unsigned int *UID_Out)
{
  bool result; // al@3
  char szResults[1024]; // [sp+4h] [bp-804h]@1
  char szQuery[1024]; // [sp+404h] [bp-404h]@1

  memset(szResults, 0, sizeof(szResults));
  if ( _snprintf(szQuery, 0x3FFu, "dbo.sp_SearchUserAccount NULL, '%s'") > 0
    && OleDB::ExecuteQueryGetData(&DBComponent->baseclass_0, szQuery, szResults) )
  {
    *UID_Out = *(_DWORD *)szResults;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 410D70: could not find valid save-restore pair for edi

//----- (00410E10) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::CheckBlockedUser(CDBComponent *DBComponent, unsigned int UID_In, char cServerID, _RE_CMS_CheckUserBlock *lpData_Out)
{
  char Query[1024]; // [sp+0h] [bp-404h]@1

  return _snprintf(Query, 0x400u, "dbo.USPCheckRestraintChar '%d', '%d'") > 0
      && OleDB::ExecuteQueryGetData(&DBComponent->baseclass_0, Query, lpData_Out);
}

//----- (00410EA0) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::GetBattleUIDByAccount(CDBComponent *DBComponent, char *Account_In, char *UID_Out)
{
  char Query[1024]; // [sp+0h] [bp-404h]@1

  sprintf(Query, "select FC_RYLBL_GETUID_BYMEMBERID('%s') from dual");
  return OleDB::ExecuteQueryGetData(&DBComponent->baseclass_0, Query, UID_Out);
}

//----- (00410F00) --------------------------------------------------------
CAuthorizeParam *__cdecl CAuthorizeParam::GetInstance()
{
  if ( !(_S1_7 & 1) )
  {
    _S1_7 |= 1u;
    CAuthorizeParam::CAuthorizeParam(&authParam);
  }
  return &authParam;
}

//----- (00410F30) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::GetPCCheckAgreement(CDBComponent *DBComponent, const char *szAccount_In, unsigned int *dwNumber_Out)
{
  CAuthorizeParam *v3; // eax@1
  bool result; // al@2
  PCCheckAgreement pcCheckAgreement; // [sp+0h] [bp-18h]@1

  *(_DWORD *)&pcCheckAgreement.m_szAccount[0] = 0;
  *(_DWORD *)&pcCheckAgreement.m_szAccount[4] = 0;
  *(_DWORD *)&pcCheckAgreement.m_szAccount[8] = 0;
  *(_DWORD *)&pcCheckAgreement.m_szAccount[12] = 0;
  pcCheckAgreement.m_dwRet = 0;
  strncpy(pcCheckAgreement.m_szAccount, szAccount_In, 0x10u);
  v3 = CAuthorizeParam::GetInstance();
  if ( OleDB::ExecuteQueryWithParams(
         &DBComponent->baseclass_0,
         "{call PC_CHECK_AGREEMENT(?, ?)}",
         pcCheckAgreement.m_szAccount,
         &v3->m_HanAuthCheckParam) )
  {
    *dwNumber_Out = pcCheckAgreement.m_dwRet;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00410FB0) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::LoginAuthHan(CDBComponent *DBComponent, const char *szAccount, const char *szPassword, _HAN_UID *hanUID)
{
  OleDB::_PARAM_INFO *v4; // eax@1
  unsigned int v5; // ecx@2
  bool result; // al@2
  HanLoginData loginData; // [sp+4h] [bp-3Ch]@1

  memset(&loginData, 0, sizeof(loginData));
  strncpy(loginData.m_szAccount, szAccount, 0x10u);
  strncpy(loginData.m_szPassword, szPassword, 0x20u);
  v4 = (OleDB::_PARAM_INFO *)CAuthorizeParam::GetInstance();
  if ( OleDB::ExecuteQueryWithParams(
         &DBComponent->baseclass_0,
         "{call pc_ryl_login(?, ?, ?)}",
         loginData.m_szAccount,
         v4) )
  {
    v5 = loginData.m_nUID.lUID;
    hanUID->hUID = loginData.m_nUID.hUID;
    hanUID->lUID = v5;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00411040) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::RegRylGameHan(CDBComponent *DBComponent, char *Account_In, char *Mail_In)
{
  char *v3; // eax@1
  char v4; // cl@2
  char *v5; // eax@3
  char v6; // cl@4
  CAuthorizeParam *v7; // eax@5
  _REG_HAN Reg; // [sp+0h] [bp-418h]@1
  char Query[1024]; // [sp+14h] [bp-404h]@5

  *(_DWORD *)&Reg.Name[1] = 0;
  *(_DWORD *)&Reg.Name[5] = 0;
  *(_DWORD *)&Reg.Name[9] = 0;
  *(_WORD *)&Reg.Name[13] = 0;
  Reg.Name[15] = 0;
  v3 = Account_In;
  *(_WORD *)&Reg.Reg[0] = 0;
  Reg.Name[0] = 0;
  Reg.Reg[2] = 0;
  do
  {
    v4 = *v3;
    v3[(char *)&Reg - Account_In] = *v3;
    ++v3;
  }
  while ( v4 );
  v5 = Mail_In;
  do
  {
    v6 = *v5;
    v5[Reg.Reg - Mail_In] = *v5;
    ++v5;
  }
  while ( v6 );
  _snprintf(Query, 0x400u, "{call pc_ryl_login2(?, ?)}");
  v7 = CAuthorizeParam::GetInstance();
  return OleDB::ExecuteQueryWithParams(&DBComponent->baseclass_0, Query, Reg.Name, &v7->m_HanRegParam) != 0;
}

//----- (00411100) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::LoginBattleAuthHan(CDBComponent *DBComponent, const char *szAccount, const char *szPassword, _HAN_UID *hanUID)
{
  OleDB::_PARAM_INFO *v4; // eax@1
  unsigned int v5; // ecx@2
  bool result; // al@2
  HanLoginData loginData; // [sp+4h] [bp-3Ch]@1

  memset(&loginData, 0, sizeof(loginData));
  strncpy(loginData.m_szAccount, szAccount, 0x10u);
  strncpy(loginData.m_szPassword, szPassword, 0x20u);
  v4 = (OleDB::_PARAM_INFO *)CAuthorizeParam::GetInstance();
  if ( OleDB::ExecuteQueryWithParams(
         &DBComponent->baseclass_0,
         "{call pc_rylbl_login(?, ?, ?)}",
         loginData.m_szAccount,
         v4) )
  {
    v5 = loginData.m_nUID.lUID;
    hanUID->hUID = loginData.m_nUID.hUID;
    hanUID->lUID = v5;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00411190) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::RegBattleRylGameHan(CDBComponent *DBComponent, char *szAccount_In, char *szMail_In)
{
  CAuthorizeParam *v3; // eax@1
  _REG_HAN Reg; // [sp+0h] [bp-18h]@1

  *(_DWORD *)&Reg.Name[1] = 0;
  *(_DWORD *)&Reg.Name[5] = 0;
  *(_DWORD *)&Reg.Name[9] = 0;
  *(_WORD *)&Reg.Name[13] = 0;
  Reg.Name[15] = 0;
  *(_WORD *)&Reg.Reg[0] = 0;
  Reg.Name[0] = 0;
  Reg.Reg[2] = 0;
  strncpy(Reg.Name, szAccount_In, 0x10u);
  strncpy(Reg.Reg, szMail_In, 3u);
  v3 = CAuthorizeParam::GetInstance();
  return OleDB::ExecuteQueryWithParams(
           &DBComponent->baseclass_0,
           "{call pc_rylbl_login2(?, ?)}",
           Reg.Name,
           &v3->m_HanRegParam);
}

//----- (00411220) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::LoginAuthGama(CDBComponent *DBComponent, const char *szAccount, const char *szPassword, unsigned int *dwUID)
{
  CAuthorizeParam *v4; // eax@1
  bool result; // al@2
  GamaLoginData gamaLoginData; // [sp+8h] [bp-38h]@1

  memset(&gamaLoginData, 0, sizeof(gamaLoginData));
  strncpy(gamaLoginData.m_szAccount, szAccount, 0x10u);
  strncpy(gamaLoginData.m_szPassword, szPassword, 0x20u);
  v4 = CAuthorizeParam::GetInstance();
  if ( OleDB::ExecuteQueryWithParams(
         &DBComponent->baseclass_0,
         "Client_RYL_Login ?, ?, ? OUTPUT",
         gamaLoginData.m_szAccount,
         &v4->m_GamaAuthParam) )
  {
    *dwUID = gamaLoginData.m_dwUID;
    result = 1;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "DBComponent::AuthDB::LoginAuthGama",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Db\\AuthDBComponent.cpp",
      467,
      "DB  :  ");
    result = 0;
  }
  return result;
}

//----- (004112E0) --------------------------------------------------------
bool __cdecl DBComponent::AuthDB::GetGamaUIDByAccount(CDBComponent *DBComponent, const char *szAccount, unsigned int *dwUID)
{
  CAuthorizeParam *v3; // eax@1
  bool result; // al@2
  GamaGetUIDByAccount gamaGetUIDByAccount; // [sp+4h] [bp-14h]@1

  *(_DWORD *)&gamaGetUIDByAccount.m_szAccount[0] = 0;
  *(_DWORD *)&gamaGetUIDByAccount.m_szAccount[4] = 0;
  *(_DWORD *)&gamaGetUIDByAccount.m_szAccount[8] = 0;
  gamaGetUIDByAccount.m_dwUID = 0;
  strncpy(gamaGetUIDByAccount.m_szAccount, szAccount, 0xCu);
  v3 = CAuthorizeParam::GetInstance();
  if ( OleDB::ExecuteQueryWithParams(
         &DBComponent->baseclass_0,
         "Client_RYL_GETUIDBYMID ?, ? OUTPUT",
         gamaGetUIDByAccount.m_szAccount,
         &v3->m_GamaGetUIDByAccount) )
  {
    *dwUID = gamaGetUIDByAccount.m_dwUID;
    result = 1;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "DBComponent::AuthDB::GetGamaUIDByAccount",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Db\\AuthDBComponent.cpp",
      506,
      "DB  :  UID ");
    result = 0;
  }
  return result;
}

//----- (00411390) --------------------------------------------------------
unsigned int __stdcall CThread::ThreadFunc(void *pArg)
{
  return (*(int (**)(void))(*(_DWORD *)pArg + 4))();
}

//----- (004113A0) --------------------------------------------------------
void *__cdecl CThreadMgr::Run(CThread *lpThread)
{
  void *result; // eax@1
  int nThreadID; // [sp+0h] [bp-4h]@1

  nThreadID = 0;
  result = (void *)_beginthreadex(0, 0, CThread::ThreadFunc, lpThread, 0, (unsigned int *)&nThreadID);
  lpThread->m_hThreadHandle = result;
  return result;
}

//----- (004113D0) --------------------------------------------------------
bool __cdecl CThreadMgr::Stop(CThread *lpThread, unsigned int dwTimeout)
{
  bool result; // al@2
  void *v3; // esi@3
  CThreadVtbl *v4; // eax@5

  if ( lpThread )
  {
    v3 = lpThread->m_hThreadHandle;
    if ( v3 == (void *)-1 )
    {
      result = 0;
    }
    else
    {
      v4 = lpThread->vfptr;
      lpThread->m_hThreadHandle = (void *)-1;
      ((void (*)(void))v4->End)();
      WaitForSingleObject(v3, dwTimeout);
      result = CloseHandle(v3) == 1;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00411410) --------------------------------------------------------
int __thiscall _vcall_(void *this)
{
  return (*(int (**)(void))(*(_DWORD *)this + 8))();
}

//----- (00411420) --------------------------------------------------------
void __thiscall CThreadMgr::CThreadMgr(CThreadMgr *this)
{
  CThreadMgr *v1; // esi@1

  v1 = this;
  this->vfptr = (CThreadMgrVtbl *)&CThreadMgr::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_ThreadLock);
  v1->m_nThreadNum = 0;
  v1->m_bJoinStarted = 0;
  memset(v1->m_lpThreads, 0, sizeof(v1->m_lpThreads));
  memset(v1->m_hThreads, -1, sizeof(v1->m_hThreads));
}
// 4555B8: using guessed type int (__thiscall *CThreadMgr___vftable_)(void *p, char);

//----- (00411470) --------------------------------------------------------
bool __thiscall CThreadMgr::RegisterAndRun(CThreadMgr *this, CThread *llpThread)
{
  CThreadMgr *v2; // esi@1
  bool result; // al@2
  unsigned int v4; // edi@3
  unsigned int v5; // eax@5
  int nThreadID; // [sp+0h] [bp-4h]@1

  v2 = this;
  nThreadID = 0;
  if ( llpThread )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ThreadLock);
    v4 = v2->m_nThreadNum;
    if ( v4 >= 0x3F || v2->m_bJoinStarted == 1 )
    {
      LeaveCriticalSection((LPCRITICAL_SECTION)&v2->m_ThreadLock);
      result = 0;
    }
    else
    {
      v2->m_nThreadNum = v4 + 1;
      LeaveCriticalSection((LPCRITICAL_SECTION)&v2->m_ThreadLock);
      v2->m_lpThreads[v4] = llpThread;
      v5 = _beginthreadex(0, 0, CThread::ThreadFunc, llpThread, 0, (unsigned int *)&nThreadID);
      v2->m_hThreads[v4] = (void *)v5;
      result = v5 != 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00411510) --------------------------------------------------------
std::mem_fun_t<int,CThread> *__cdecl std::for_each<CThread_____std::mem_fun_t<int_CThread>>(std::mem_fun_t<int,CThread> *result, CThread **_First, CThread **_Last, std::mem_fun_t<int,CThread> _Func)
{
  CThread **v4; // esi@1
  std::mem_fun_t<int,CThread> *v5; // eax@3

  v4 = _First;
  if ( _First == _Last )
  {
    v5 = result;
    *(_DWORD *)&result->___u0.baseclass_0.dummy[0] = _Func;
  }
  else
  {
    do
    {
      (*(void (__thiscall **)(_DWORD))&_Func)(*v4);
      ++v4;
    }
    while ( v4 != _Last );
    v5 = result;
    *(_DWORD *)&result->___u0.baseclass_0.dummy[0] = _Func;
  }
  return v5;
}

//----- (00411550) --------------------------------------------------------
bool __thiscall CThreadMgr::JoinThread(CThreadMgr *this)
{
  CThreadMgr *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // ebx@1
  bool v3; // al@2
  int v4; // edi@3
  int v5; // ebp@3
  HANDLE *v6; // edi@7
  std::mem_fun_t<int,CThread> result; // [sp+0h] [bp-4h]@1

  result = (std::mem_fun_t<int,CThread>)this;
  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ThreadLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ThreadLock);
  if ( v1->m_nThreadNum )
  {
    v1->m_bJoinStarted = 1;
    LeaveCriticalSection(v2);
    v4 = (int)v1->m_lpThreads;
    std::for_each<CThread_____std::mem_fun_t<int_CThread>>(
      &result,
      v1->m_lpThreads,
      &v1->m_lpThreads[v1->m_nThreadNum],
      (std::mem_fun_t<int,CThread>)_vcall_);
    v5 = (int)v1->m_hThreads;
    WaitForMultipleObjects(v1->m_nThreadNum, v1->m_hThreads, 1, 0xFFFFFFFFu);
    if ( (void **)v1->m_lpThreads != v1->m_hThreads )
    {
      do
      {
        if ( *(_DWORD *)v4 )
          (***(void (__stdcall ****)(_DWORD))v4)(1);
        v4 += 4;
      }
      while ( v4 != v5 );
    }
    v6 = v1->m_hThreads;
    if ( (_RTL_CRITICAL_SECTION *)v5 != v2 )
    {
      do
      {
        CloseHandle(*v6);
        ++v6;
      }
      while ( (_RTL_CRITICAL_SECTION *)v6 != v2 );
    }
    EnterCriticalSection(v2);
    v1->m_nThreadNum = 0;
    v1->m_bJoinStarted = 0;
    LeaveCriticalSection(v2);
    v3 = 1;
  }
  else
  {
    LeaveCriticalSection(v2);
    v3 = 1;
  }
  return v3;
}

//----- (00411620) --------------------------------------------------------
void __thiscall CThreadMgr::_CThreadMgr(CThreadMgr *this)
{
  CThreadMgr *v1; // esi@1

  v1 = this;
  this->vfptr = (CThreadMgrVtbl *)&CThreadMgr::_vftable_;
  CThreadMgr::JoinThread(this);
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_ThreadLock);
}
// 4555B8: using guessed type int (__thiscall *CThreadMgr___vftable_)(void *p, char);

//----- (00411670) --------------------------------------------------------
void *__thiscall CThreadMgr::_scalar_deleting_destructor_(CThreadMgr *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CThreadMgr::_CThreadMgr(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00411690) --------------------------------------------------------
void __thiscall PktBase::InitPtHead(PktBase *this, unsigned __int16 Len_In, char Cmd_In, unsigned __int16 State_In, unsigned __int16 Error_In)
{
  this->m_Cmd = Cmd_In;
  this->m_Len = Len_In;
  this->m_StartBit = -1;
  this->m_CodePage = 0;
  this->m_SrvInfo.SrvState.wSrvState = State_In;
  this->m_SrvInfo.SrvState.wError = Error_In;
}

//----- (004116C0) --------------------------------------------------------
int __thiscall CSendDataToManageClient::operator__(CSendDataToManageClient *this, HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam)
{
  const char *v5; // eax@2
  HWND__ *v6; // eax@2
  unsigned int v7; // edx@3
  tagCOPYDATASTRUCT copyStruct; // [sp+4h] [bp-Ch]@3

  if ( lParam )
  {
    v5 = CServerSetup::GetManageClientWindowName();
    v6 = FindWindowA(v5, v5);
    if ( v6 )
    {
      v7 = *(_DWORD *)(lParam + 8) - *(_DWORD *)(lParam + 4);
      copyStruct.lpData = *(void **)(lParam + 4);
      copyStruct.dwData = 0;
      copyStruct.cbData = v7;
      SendMessageA(v6, 0x4Au, 0, (LPARAM)&copyStruct);
    }
    (*(void (__stdcall **)(int))(**(_DWORD **)(lParam + 44) + 8))(lParam);
  }
  return 0;
}

//----- (00411720) --------------------------------------------------------
int __stdcall CServerWindowFramework::ServerWindowFrameworkProc(HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam)
{
  HANDLE v4; // eax@1
  HANDLE v5; // esi@1
  int result; // eax@3
  CMsgProcessMgr *v7; // ecx@5
  CMsgProc *v8; // eax@6
  CSysTray *v9; // ebx@10
  HMENU__ *v10; // eax@11
  HMENU__ *v11; // edi@11
  HMENU__ *v12; // eax@12
  HMENU__ *v13; // esi@12

  v4 = GetPropA(hWnd, CServerWindowFramework::ms_this);
  v5 = v4;
  if ( uMsg == 2 )
  {
    PostQuitMessage(0);
    return DefWindowProcA(hWnd, uMsg, wParam, lParam);
  }
  if ( !v4 )
    return DefWindowProcA(hWnd, uMsg, wParam, lParam);
  v7 = (CMsgProcessMgr *)*((_DWORD *)v4 + 11);
  if ( v7 && (v8 = CMsgProcessMgr::FindMsgProc(v7, uMsg)) != 0 )
  {
    result = v8->vfptr->operator()(v8, hWnd, uMsg, wParam, lParam);
  }
  else
  {
    if ( uMsg != CSysTray::GetSysTrayNotifyMsg() )
      return DefWindowProcA(hWnd, uMsg, wParam, lParam);
    if ( lParam == 517 )
    {
      v9 = (CSysTray *)*((_DWORD *)v5 + 6);
      if ( v9 )
      {
        v10 = LoadMenuA(*((HINSTANCE *)v5 + 1), (LPCSTR)*((_WORD *)v5 + 6));
        v11 = v10;
        if ( v10 )
        {
          v12 = GetSubMenu(v10, 0);
          v13 = v12;
          if ( v12 )
          {
            CSysTray::ShowPopupMenu(v9, hWnd, v12);
            DestroyMenu(v13);
          }
          DestroyMenu(v11);
        }
      }
    }
    result = 0;
  }
  return result;
}

//----- (004117F0) --------------------------------------------------------
void __cdecl CServerWindowFramework::PrintOutput(CServerWindowFramework *this, const char *lpFormat)
{
  int v2; // eax@2
  CConsoleWindow *v3; // ecx@3
  char szText[8192]; // [sp+0h] [bp-2004h]@2
  char ap; // [sp+2010h] [bp+Ch]@0

  if ( this->m_lpConsoleWindow )
  {
    v2 = _vsnprintf(szText, 0x1FFFu, lpFormat, &ap);
    if ( v2 > 0 )
    {
      v3 = this->m_lpConsoleWindow;
      szText[v2] = 0;
      CConsoleWindow::PrintOutput(v3, szText);
    }
  }
}

//----- (00411870) --------------------------------------------------------
void __cdecl CServerWindowFramework::PrintInfo(CServerWindowFramework *this, const char *lpFormat)
{
  int v2; // eax@2
  CConsoleWindow *v3; // ecx@3
  char szText[8192]; // [sp+0h] [bp-2004h]@2
  char ap; // [sp+2010h] [bp+Ch]@0

  if ( this->m_lpConsoleWindow )
  {
    v2 = _vsnprintf(szText, 0x1FFFu, lpFormat, &ap);
    if ( v2 > 0 )
    {
      v3 = this->m_lpConsoleWindow;
      szText[v2] = 0;
      CConsoleWindow::PrintInfo(v3, szText);
    }
  }
}

//----- (004118F0) --------------------------------------------------------
bool __thiscall CServerWindowFramework::SendManageClientPacket(CServerWindowFramework *this, const void *lpData, unsigned __int16 usLength)
{
  CBufferFactory *v3; // eax@1
  LPARAM v4; // eax@2
  LPARAM v5; // ebx@2
  CServerWindowFramework *v7; // [sp+8h] [bp-4h]@1

  v3 = this->m_lpBufferFactory;
  v7 = this;
  if ( v3 )
  {
    v4 = ((int (__stdcall *)(_DWORD))v3->vfptr->Create)(usLength);
    v5 = v4;
    if ( v4 )
    {
      memcpy(*(void **)(v4 + 8), lpData, usLength);
      *(_DWORD *)(v4 + 8) += usLength;
      if ( PostMessageA(v7->m_hWnd, CServerWindowFramework::ms_SendDataMsg, 0, v4) )
        return 1;
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v5 + 44) + 8))(v5);
    }
  }
  return 0;
}

//----- (00411970) --------------------------------------------------------
void __thiscall CProcessThread::CProcessThread(CProcessThread *this, CServerWindowFramework *ServerWindowFramework, int nProcessTick)
{
  this->baseclass_0.m_hThreadHandle = (void *)-1;
  this->baseclass_0.vfptr = (CThreadVtbl *)&CProcessThread::_vftable_;
  this->m_bExit = 0;
  this->m_nProcessTick = nProcessTick;
  this->m_ServerWindowFramework = ServerWindowFramework;
}
// 4555DC: using guessed type int (__thiscall *CProcessThread___vftable_)(void *p, char);

//----- (004119A0) --------------------------------------------------------
void __thiscall CProcessThread::_CProcessThread(CProcessThread *this)
{
  CProcessThread *v1; // esi@1

  v1 = this;
  this->baseclass_0.vfptr = (CThreadVtbl *)&CProcessThread::_vftable_;
  CThreadMgr::Stop(&this->baseclass_0, 0xFFFFFFFFu);
  v1->baseclass_0.vfptr = (CThreadVtbl *)&CThread::_vftable_;
}
// 452100: using guessed type int (__thiscall *CThread___vftable_)(void *p, char);
// 4555DC: using guessed type int (__thiscall *CProcessThread___vftable_)(void *p, char);

//----- (004119F0) --------------------------------------------------------
void *__thiscall CSendDataToManageClient::_vector_deleting_destructor_(CSendDataToManageClient *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CSendDataToManageClient::_CSendDataToManageClient(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00411A10) --------------------------------------------------------
void __thiscall CSendDataToManageClient::_CSendDataToManageClient(CSendDataToManageClient *this)
{
  this->baseclass_0.vfptr = (CMsgProcVtbl *)CMsgProc::_vftable_;
}
// 452FE0: using guessed type int (*CMsgProc___vftable_[2])();

//----- (00411A20) --------------------------------------------------------
bool __thiscall CServerWindowFramework::InitializeFramework(CServerWindowFramework *this, HINSTANCE__ *hInstance, const char *szWndApplicationName, int nICON_ID, int nMenu_ID)
{
  int v5; // eax@0
  CServerWindowFramework *v6; // esi@1
  HWND__ *v7; // eax@4
  void *v9; // eax@9
  CSysTray *v10; // eax@10
  void *v11; // eax@12
  CConsoleWindow *v12; // eax@13
  bool v13; // zf@15
  HICON__ *v14; // eax@17
  void *v15; // eax@18
  void *v16; // eax@22
  CCommandProcess *v17; // ecx@23
  CConsoleCMDFactory *v18; // edx@23
  int v19; // [sp-1Ch] [bp-50h]@3
  const char *v20; // [sp-18h] [bp-4Ch]@3
  tagWNDCLASSA wndClass; // [sp+0h] [bp-34h]@2
  int v22; // [sp+28h] [bp-Ch]@1
  int (*v23)(); // [sp+2Ch] [bp-8h]@1
  int v24; // [sp+30h] [bp-4h]@1

  v24 = -1;
  v23 = _ehhandler__InitializeFramework_CServerWindowFramework__IAE_NPAUHINSTANCE____PBDHH_Z;
  v22 = v5;
  v6 = this;
  if ( !(this->m_dwInternalFlags & 1) )
  {
    _snprintf(this->m_szAppName, 0x103u, "%s");
    v6->m_szAppName[259] = 0;
    v6->m_hInstance = hInstance;
    v6->m_nMenuID = nMenu_ID;
    wndClass.hInstance = hInstance;
    wndClass.hIcon = LoadIconA(hInstance, (LPCSTR)(unsigned __int16)nICON_ID);
    wndClass.lpszClassName = v6->m_szAppName;
    wndClass.style = 0;
    wndClass.lpfnWndProc = CServerWindowFramework::ServerWindowFrameworkProc;
    wndClass.cbClsExtra = 0;
    wndClass.cbWndExtra = 0;
    wndClass.hCursor = 0;
    wndClass.hbrBackground = (HBRUSH__ *)6;
    wndClass.lpszMenuName = 0;
    if ( !RegisterClassA(&wndClass) )
    {
      GetLastError();
      v20 = "RegisterClass failed. ErrorCode:%d.";
      v19 = 260;
LABEL_6:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CServerWindowFramework::InitializeFramework",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
        v19,
        v20);
      return 0;
    }
    v7 = CreateWindowExA(
           0,
           wndClass.lpszClassName,
           v6->m_szAppName,
           0x20CF0000u,
           0,
           0,
           0,
           0,
           0,
           0,
           wndClass.hInstance,
           0);
    v6->m_hWnd = v7;
    if ( !v7 )
    {
      GetLastError();
      v20 = "CreateWindow failed. ErrorCode:%d";
      v19 = 269;
      goto LABEL_6;
    }
    if ( !SetPropA(v7, CServerWindowFramework::ms_this, v6)
      || ((v9 = operator new(0x64u), v24 = 0, !v9) ? (v10 = 0) : CSysTray::CSysTray(
                                                                   (CSysTray *)v9,
                                                                   v6->m_hWnd,
                                                                   wndClass.hInstance),
          (v24 = -1, v6->m_lpSysTray = v10, v11 = operator new(0xE0u), v24 = 1, !v11) ? (v12 = 0) : CConsoleWindow::CConsoleWindow((CConsoleWindow *)v11, wndClass.hInstance, v6->m_hWnd, v6->m_lpCommandFactory, v6->m_lpCommandProcess),
          (v13 = v6->m_lpSysTray == 0, v24 = -1, v6->m_lpConsoleWindow = v12, v13)
       || !v12
       || (v14 = LoadIconA(wndClass.hInstance, (LPCSTR)(unsigned __int16)nICON_ID),
           !CSysTray::AddIcon(v6->m_lpSysTray, szWndApplicationName, v14, nICON_ID))
       || ((v15 = operator new(4u)) == 0 ? (v15 = 0) : (*(_DWORD *)v15 = &CSendDataToManageClient::_vftable_),
           !CMsgProcessMgr::Register(v6->m_lpMsgProcessMgr, CServerWindowFramework::ms_SendDataMsg, (CMsgProc *)v15)
        || ((v16 = operator new(0x10u)) == 0 ? (v16 = 0) : (v17 = v6->m_lpCommandProcess,
                                                            v18 = v6->m_lpCommandFactory,
                                                            *(_DWORD *)v16 = &CRecvCommandFromManageClient::_vftable_,
                                                            *((_DWORD *)v16 + 1) = v6,
                                                            *((_DWORD *)v16 + 2) = v18,
                                                            *((_DWORD *)v16 + 3) = v17),
            !CMsgProcessMgr::Register(v6->m_lpMsgProcessMgr, 0x4Au, (CMsgProc *)v16)
         || !CIOCPNet::Initialize(v6->m_lpIOCPNet)))) )
      return 0;
    v6->m_dwInternalFlags |= 1u;
  }
  return 1;
}
// 44E826: using guessed type int _ehhandler$?InitializeFramework_CServerWindowFramework__IAE_NPAUHINSTANCE____PBDHH_Z();
// 4555D4: using guessed type int (__thiscall *CSendDataToManageClient___vftable_)(void *p, char);
// 4555F0: using guessed type int (__thiscall *CRecvCommandFromManageClient___vftable_)(void *p, char);

//----- (00411CA0) --------------------------------------------------------
void __thiscall CServerWindowFramework::Destroy(CServerWindowFramework *this)
{
  CServerWindowFramework *v1; // esi@1
  unsigned int v2; // eax@1
  CIOCPNet *v3; // edi@2
  CMsgProcessMgr *v4; // edi@4
  CTimerProcMgr *v5; // edi@6
  CSysTray *v6; // edi@8
  HWND__ *v7; // eax@10
  CConsoleWindow *v8; // ecx@12
  CCommandProcess *v9; // edi@14
  CConsoleCMDFactory *v10; // ecx@16
  CBufferFactory *v11; // ecx@18

  v1 = this;
  v2 = this->m_dwInternalFlags;
  if ( !(v2 & 2) )
  {
    v3 = this->m_lpIOCPNet;
    this->m_dwInternalFlags = v2 | 2;
    if ( v3 )
    {
      CIOCPNet::_CIOCPNet(v3);
      operator delete(v3);
    }
    v4 = v1->m_lpMsgProcessMgr;
    v1->m_lpIOCPNet = 0;
    if ( v4 )
    {
      CMsgProcessMgr::_CMsgProcessMgr(v4);
      operator delete(v4);
    }
    v5 = v1->m_lpTimerProcessMgr;
    v1->m_lpMsgProcessMgr = 0;
    if ( v5 )
    {
      CTimerProcMgr::_CTimerProcMgr(v5);
      operator delete(v5);
    }
    v6 = v1->m_lpSysTray;
    v1->m_lpTimerProcessMgr = 0;
    if ( v6 )
    {
      CSysTray::_CSysTray(v6);
      operator delete(v6);
    }
    v7 = v1->m_hWnd;
    v1->m_lpSysTray = 0;
    if ( v7 )
    {
      DestroyWindow(v7);
      v1->m_hWnd = 0;
    }
    v8 = v1->m_lpConsoleWindow;
    if ( v8 )
      ((void (__stdcall *)(_DWORD))v8->vfptr->__vecDelDtor)(1);
    v9 = v1->m_lpCommandProcess;
    v1->m_lpConsoleWindow = 0;
    if ( v9 )
    {
      CCommandProcess::_CCommandProcess(v9);
      operator delete(v9);
    }
    v10 = v1->m_lpCommandFactory;
    v1->m_lpCommandProcess = 0;
    if ( v10 )
      ((void (__stdcall *)(_DWORD))v10->vfptr->__vecDelDtor)(1);
    v11 = v1->m_lpBufferFactory;
    v1->m_lpCommandFactory = 0;
    if ( v11 )
      ((void (__stdcall *)(_DWORD))v11->vfptr->__vecDelDtor)(1);
    v1->m_lpBufferFactory = 0;
  }
}

//----- (00411D80) --------------------------------------------------------
void __thiscall CServerWindowFramework::SendManageClientPing(CServerWindowFramework *this)
{
  CServerWindowFramework *v1; // esi@1
  ServerManage::PktManagePing managePing; // [sp+8h] [bp-42Ch]@1

  v1 = this;
  managePing.baseclass_0.m_dwPID = GetCurrentProcessId();
  managePing.baseclass_0.m_dwStatusFlag = 0;
  managePing.baseclass_0.m_dwSubCommand = 0;
  GetModuleFileNameA(0, managePing.m_szAppFullPathName, 0x103u);
  managePing.m_szAppFullPathName[259] = 0;
  _snprintf(managePing.m_szWindowName, 0x103u, "%s");
  managePing.m_szWindowName[259] = 0;
  GetCommandLineA();
  _snprintf(managePing.m_szCommandLine, 0x207u, "%s");
  managePing.baseclass_0.m_dwStatusFlag = v1->m_dwServerStatus;
  managePing.m_szCommandLine[519] = 0;
  managePing.baseclass_0.baseclass_0.m_StartBit = -1;
  managePing.baseclass_0.baseclass_0.m_Cmd = 48;
  managePing.baseclass_0.baseclass_0.m_Len = 1064;
  managePing.baseclass_0.baseclass_0.m_CodePage = 0;
  *(_DWORD *)&managePing.baseclass_0.baseclass_0.m_SrvInfo.SrvState.wError = 0;
  CServerWindowFramework::SendManageClientPacket(v1, &managePing, 0x428u);
}

//----- (00411E60) --------------------------------------------------------
void *__thiscall CProcessThread::_vector_deleting_destructor_(CProcessThread *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CProcessThread::_CProcessThread(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00411E80) --------------------------------------------------------
unsigned int __thiscall CProcessThread::Run(CProcessThread *this)
{
  CProcessThread *v1; // edi@1
  CServerWindowFramework *v2; // eax@1
  unsigned int v3; // ecx@1
  unsigned int result; // eax@3
  CCommandProcess *v5; // ebp@4
  CPulse *v6; // esi@4
  CIOCPNet *IOCPNetwork; // [sp+4h] [bp-8h]@4
  CServerRequest *ServerRequest; // [sp+8h] [bp-4h]@4

  v1 = this;
  v2 = this->m_ServerWindowFramework;
  v3 = v2->m_dwInternalFlags;
  if ( v3 & 1 && !(v3 & 2) )
  {
    v5 = v2->m_lpCommandProcess;
    IOCPNetwork = v2->m_lpIOCPNet;
    ServerRequest = CServerRequest::GetInstance();
    v6 = CPulse::GetInstance();
    CPulse::SetTicksPerPulse(v6, v1->m_nProcessTick);
    while ( !InterlockedCompareExchange(&v1->m_bExit, 1, 1) )
    {
      CPulse::CheckSleep(v6);
      CCommandProcess::ProcessAll(v5);
      CIOCPNet::Process(IOCPNetwork);
      v1->baseclass_0.vfptr[1].__vecDelDtor((CThread *)v1, (unsigned int)v6);
      if ( !(v6->m_dwPulse % v6->m_nTicksPerSec) )
        CServerRequest::RemoveTimeoutRequest(ServerRequest);
      if ( !(v6->m_dwPulse % (5 * v6->m_nTicksPerSec)) )
        CServerWindowFramework::SendManageClientPing(v1->m_ServerWindowFramework);
    }
    ((void (__thiscall *)(_DWORD, _DWORD))v1->baseclass_0.vfptr[1].Run)(v1, v6);
    result = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00411F50) --------------------------------------------------------
bool __thiscall CServerWindowFramework::Initialize(CServerWindowFramework *this, HINSTANCE__ *hInstance, const char *szWndApplicationName, const char *szCmdLine, int nICON_ID, int nMenu_ID)
{
  CServerWindowFramework *v6; // esi@1
  const char *v7; // eax@8
  UINT *v8; // eax@9
  int v10; // [sp+4h] [bp-Ch]@9
  timecaps_tag tc; // [sp+8h] [bp-8h]@1

  tc.wPeriodMin = 0;
  v6 = this;
  tc.wPeriodMax = 0;
  if ( this->m_lpCommandProcess
    && this->m_lpCommandFactory
    && this->m_lpIOCPNet
    && this->m_lpMsgProcessMgr
    && this->m_lpTimerProcessMgr
    && this->m_lpBufferFactory )
  {
    if ( timeGetDevCaps(&tc, 8u) )
    {
      v7 = "this:0x%p/ServerWindowFramework initialize failed - Get timer resolution failed";
    }
    else
    {
      v10 = 1;
      v8 = (UINT *)&v10;
      if ( tc.wPeriodMin >= 1 )
        v8 = (UINT *)&tc;
      if ( tc.wPeriodMax < *v8 )
        v8 = &tc.wPeriodMax;
      if ( timeBeginPeriod(*v8) )
      {
        v7 = "this:0x%p/ServerWindowFramework initialize failed - Set timer resolution failed";
      }
      else
      {
        if ( CServerWindowFramework::InitializeFramework(v6, hInstance, szWndApplicationName, nICON_ID, nMenu_ID) )
        {
          if ( v6->vfptr->ApplicationSpecificInit(v6, szCmdLine) )
            goto LABEL_22;
          v7 = "this:0x%p/ServerWindowFramework initialize failed - ApplicationSpecificInit failed";
        }
        else
        {
          v7 = "this:0x%p/ServerWindowFramework initialize failed - InitialzeFramework failed";
        }
      }
    }
  }
  else
  {
    v7 = "this:0x%p/ServerWindowFramework initialize failed - Create defaultobject failed";
  }
  if ( v7 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CServerWindowFramework::Initialize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
      214,
      v7);
    return 0;
  }
LABEL_22:
  CServerWindowFramework::SendManageClientPing(v6);
  return 1;
}

//----- (00412070) --------------------------------------------------------
void __thiscall CServerWindowFramework::ProcessMessage(CServerWindowFramework *this)
{
  CServerWindowFramework *v1; // esi@1
  CServerRequest *v2; // eax@5
  CServerRequest *v3; // eax@5
  std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *v4; // ebx@5
  std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *i; // edi@5
  std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *v6; // ebx@7
  std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *j; // edi@7
  CThread *v8; // ecx@8
  void **v9; // ecx@11
  void *v10; // eax@11
  bool v11; // zf@11
  void *v12; // edi@12
  tagMSG message; // [sp+Ch] [bp-1Ch]@1

  v1 = this;
  while ( GetMessageA(&message, 0, 0, 0) )
  {
    if ( !IsDialogMessageA(v1->m_hWnd, &message) )
    {
      TranslateMessage(&message);
      DispatchMessageA(&message);
    }
  }
  CServerLog::DetailLog(
    &g_Log,
    LOG_SYSERR,
    "CServerWindowFramework::ProcessMessage",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
    367,
    "this:0x%p/finish server");
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_SYSERR,
    "CServerWindowFramework::ProcessMessage",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
    368,
    "this:0x%p/finish server");
  v2 = CServerRequest::GetInstance();
  CServerRequest::RequestOff(v2);
  v3 = CServerRequest::GetInstance();
  CServerRequest::RemoveAllRequest(v3);
  v4 = v1->m_ProcessThreadList._Myhead;
  for ( i = v4->_Next; i != v4; i = i->_Next )
    CThreadMgr::Stop(i->_Myval, 0x7D0u);
  CServerLog::DetailLog(
    &g_Log,
    LOG_SYSERR,
    "CServerWindowFramework::ProcessMessage",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
    385,
    "this:0x%p/finish process threads");
  v6 = v1->m_ProcessThreadList._Myhead;
  for ( j = v6->_Next; j != v6; j = j->_Next )
  {
    v8 = j->_Myval;
    if ( v8 )
      ((void (__stdcall *)(signed int))v8->vfptr->__vecDelDtor)(1);
  }
  v9 = (void **)v1->m_ProcessThreadList._Myhead;
  v10 = *v9;
  *v9 = v9;
  v1->m_ProcessThreadList._Myhead->_Prev = v1->m_ProcessThreadList._Myhead;
  v11 = v10 == v1->m_ProcessThreadList._Myhead;
  v1->m_ProcessThreadList._Mysize = 0;
  if ( !v11 )
  {
    do
    {
      v12 = *(void **)v10;
      operator delete(v10);
      v10 = v12;
    }
    while ( v12 != v1->m_ProcessThreadList._Myhead );
  }
  CServerWindowFramework::Destroy(v1);
}

//----- (004121E0) --------------------------------------------------------
void __thiscall CServerWindowFramework::_CServerWindowFramework(CServerWindowFramework *this)
{
  CServerWindowFramework *v1; // esi@1

  v1 = this;
  this->vfptr = (CServerWindowFrameworkVtbl *)&CServerWindowFramework::_vftable_;
  CServerWindowFramework::Destroy(this);
  v1 = (CServerWindowFramework *)((char *)v1 + 56);
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v1);
  operator delete(v1->m_hInstance);
  v1->m_hInstance = 0;
}
// 4558FC: using guessed type int (__thiscall *CServerWindowFramework___vftable_)(void *p, char);

//----- (00412240) --------------------------------------------------------
void __thiscall CServerWindowFramework::CServerWindowFramework(CServerWindowFramework *this)
{
  CServerWindowFramework *v1; // esi@1
  void *v2; // eax@1
  CCommandProcess *v3; // eax@2
  void *v4; // eax@4
  CConsoleCMDFactory *v5; // eax@5
  void *v6; // eax@7
  CIOCPNet *v7; // eax@8
  void *v8; // eax@10
  CMsgProcessMgr *v9; // eax@11
  void *v10; // eax@13
  CTimerProcMgr *v11; // eax@14
  void *v12; // eax@16
  CBufferFactory *v13; // eax@17

  v1 = this;
  this->vfptr = (CServerWindowFrameworkVtbl *)&CServerWindowFramework::_vftable_;
  this->m_hInstance = 0;
  this->m_hWnd = 0;
  this->m_nMenuID = 0;
  this->m_dwInternalFlags = 0;
  this->m_dwServerStatus = 0;
  this->m_lpSysTray = 0;
  this->m_lpConsoleWindow = 0;
  v2 = operator new(0x24u, &std::nothrow);
  if ( v2 )
    CCommandProcess::CCommandProcess((CCommandProcess *)v2);
  else
    v3 = 0;
  v1->m_lpCommandProcess = v3;
  v4 = operator new(0x14u, &std::nothrow);
  if ( v4 )
    CConsoleCMDFactory::CConsoleCMDFactory((CConsoleCMDFactory *)v4);
  else
    v5 = 0;
  v1->m_lpCommandFactory = v5;
  v6 = operator new(0x48u, &std::nothrow);
  if ( v6 )
    CIOCPNet::CIOCPNet((CIOCPNet *)v6);
  else
    v7 = 0;
  v1->m_lpIOCPNet = v7;
  v8 = operator new(0xCu, &std::nothrow);
  if ( v8 )
    CMsgProcessMgr::CMsgProcessMgr((CMsgProcessMgr *)v8);
  else
    v9 = 0;
  v1->m_lpMsgProcessMgr = v9;
  v10 = operator new(0x14u, &std::nothrow);
  if ( v10 )
    CTimerProcMgr::CTimerProcMgr((CTimerProcMgr *)v10);
  else
    v11 = 0;
  v1->m_lpTimerProcessMgr = v11;
  v12 = operator new(0x30u, &std::nothrow);
  if ( v12 )
    CPoolBufferFactory::CPoolBufferFactory((CPoolBufferFactory *)v12);
  else
    v13 = 0;
  v1->m_lpBufferFactory = v13;
  v1->m_ProcessThreadList._Myhead = (std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *)std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_ProcessThreadList);
  v1->m_ProcessThreadList._Mysize = 0;
}
// 4558FC: using guessed type int (__thiscall *CServerWindowFramework___vftable_)(void *p, char);

//----- (004123B0) --------------------------------------------------------
void *__thiscall CServerWindowFramework::_vector_deleting_destructor_(CServerWindowFramework *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CServerWindowFramework::_CServerWindowFramework(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (004123D0) --------------------------------------------------------
void __thiscall std::list<CThread___std::allocator<CThread__>>::_Incsize(std::list<CThread *,std::allocator<CThread *> > *this, unsigned int _Count)
{
  unsigned int v2; // eax@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v5; // [sp+4Ch] [bp-4h]@2

  v2 = this->_Mysize;
  if ( 1073741823 - v2 < _Count )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "list<T> too long", 0x10u);
    v5 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  this->_Mysize = _Count + v2;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00412470) --------------------------------------------------------
int __thiscall CRecvCommandFromManageClient::operator__(CRecvCommandFromManageClient *this, HWND__ *hWnd, unsigned int uMsg, unsigned int wParam, int lParam)
{
  CRecvCommandFromManageClient *v5; // esi@1
  int v6; // eax@3
  CCommand *v7; // eax@4
  char szCmdBuffer[512]; // [sp+4h] [bp-204h]@3

  v5 = this;
  if ( lParam && *(_BYTE *)(*(_DWORD *)(lParam + 8) + 1) == 9 )
  {
    v6 = _snprintf(szCmdBuffer, 0x1FFu, "%s");
    szCmdBuffer[511] = 0;
    if ( v6 > 0 )
    {
      v7 = (CCommand *)CConsoleCMDFactory::Create(v5->m_CommandFactory, szCmdBuffer, v6);
      if ( v7 )
      {
        CCommandProcess::Add(v5->m_CommandProcess, v7);
        CServerWindowFramework::PrintOutput(v5->m_ServerWindowFramework, szCmdBuffer);
        return 0;
      }
    }
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CRecvCommandFromManageClient::operator`()'",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
      134,
      "Command create failed from ManageTool. CMD:%s");
  }
  return 0;
}

//----- (00412550) --------------------------------------------------------
bool __thiscall CServerWindowFramework::AddProcessThread(CServerWindowFramework *this, CThread *lpProcessThread)
{
  CServerWindowFramework *v2; // esi@1
  const char *v3; // eax@2
  std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *v5; // edi@6
  std::list<LogBuffer *,std::allocator<LogBuffer *> > *v6; // esi@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // ebx@6

  v2 = this;
  if ( !lpProcessThread )
  {
    v3 = "this:0x%p/Process thread pointer is 0";
LABEL_5:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CServerWindowFramework::AddProcessThread",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Utility\\ServerAppFrameWork\\ServerWindowFramework.cpp",
      522,
      v3);
    return 0;
  }
  if ( CThreadMgr::Run(lpProcessThread) == (void *)-1 )
  {
    v3 = "this:0x%p/Process thread start failed";
    goto LABEL_5;
  }
  v5 = v2->m_ProcessThreadList._Myhead;
  v6 = (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v2->m_ProcessThreadList;
  v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
         v6,
         (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v5,
         (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v5->_Prev,
         (LogBuffer *const *)&lpProcessThread);
  std::list<CThread___std::allocator<CThread__>>::_Incsize((std::list<CThread *,std::allocator<CThread *> > *)v6, 1u);
  v5->_Prev = (std::_List_nod<CThread *,std::allocator<CThread *> >::_Node *)v7;
  v7->_Prev->_Next = v7;
  return 1;
}

//----- (004125D0) --------------------------------------------------------
void __thiscall CValidateConnection::_CValidateConnection(CValidateConnection *this)
{
  this->vfptr = (CValidateConnectionVtbl *)&CValidateConnection::_vftable_;
}
// 4559F4: using guessed type int (*CValidateConnection___vftable_)();

//----- (004125E0) --------------------------------------------------------
void *__thiscall CValidateConnection::_scalar_deleting_destructor_(CValidateConnection *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (CValidateConnectionVtbl *)&CValidateConnection::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 4559F4: using guessed type int (*CValidateConnection___vftable_)();

//----- (00412600) --------------------------------------------------------
void __thiscall CLimitUserByIP::OperateMode(CLimitUserByIP *this, CLimitUserByIP::AllowMode_t eAllowMode)
{
  CLimitUserByIP *v2; // esi@1
  _RTL_CRITICAL_SECTION *v3; // edi@1

  v2 = this;
  v3 = (_RTL_CRITICAL_SECTION *)&this->m_LimitLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_LimitLock);
  v2->m_eAllowMode = eAllowMode;
  LeaveCriticalSection(v3);
}

//----- (00412630) --------------------------------------------------------
void __cdecl std::_Rotate<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Mid, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, int *__formal, Item::ItemType::Type *a5)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v5; // ebx@1
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v6; // ebp@1
  int v7; // esi@1
  int v8; // eax@1
  int v9; // edi@1
  int v10; // edx@2
  int v11; // edx@5
  int v12; // edi@6
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *v13; // eax@7
  int v14; // ecx@9
  int v15; // eax@10
  int *v16; // eax@11
  bool v17; // zf@14
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v18; // eax@14
  int v19; // [sp+10h] [bp-Ch]@11
  int v20; // [sp+14h] [bp-8h]@12
  int _Holeval; // [sp+18h] [bp-4h]@6

  v5 = _Last;
  v6 = _First;
  v7 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) >> 2;
  v8 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  v9 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) >> 2;
  if ( v7 )
  {
    do
    {
      v10 = v8 % v9;
      v8 = v9;
      v9 = v10;
    }
    while ( v10 );
  }
  if ( v8 < (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2 && v8 > 0 )
  {
    v11 = *(_DWORD *)&_First + 4 * v8;
    _Mid = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v8;
    do
    {
      _Holeval = *(_DWORD *)v11;
      v12 = v11;
      if ( v11 + 4 * v7 == v5 )
      {
        v13 = &_First;
      }
      else
      {
        _Last = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)(v11 + 4 * v7);
        v13 = &_Last;
      }
      v14 = *(_DWORD *)&v13->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      if ( *(_DWORD *)&v13->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] != v11 )
      {
        do
        {
          *(_DWORD *)v12 = *(_DWORD *)v14;
          v15 = (*(_DWORD *)&v5 - v14) >> 2;
          v12 = v14;
          if ( v7 >= v15 )
          {
            v20 = *(_DWORD *)&v6 + 4 * (v7 + 1073741823 * v15);
            v16 = &v20;
          }
          else
          {
            v19 = v14 + 4 * v7;
            v16 = &v19;
          }
          v14 = *v16;
        }
        while ( *v16 != v11 );
      }
      v11 -= 4;
      v18 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)(*(_DWORD *)&_Mid - 1);
      v17 = _Mid == 1;
      *(_DWORD *)v12 = _Holeval;
      _Mid = v18;
    }
    while ( !v17 );
  }
}

//----- (004126F0) --------------------------------------------------------
void __cdecl std::_Median<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Mid, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last)
{
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v3; // ebp@1
  int v4; // eax@1
  unsigned int v5; // esi@1
  int v6; // eax@2
  int v7; // ebx@2
  int v8; // eax@2
  unsigned int v9; // edx@2
  unsigned int v10; // edx@4
  unsigned int v11; // esi@4
  unsigned int v12; // edx@6
  int v13; // esi@8
  int v14; // esi@14
  int v15; // edi@14
  int v16; // ebx@18
  int v17; // edi@20
  unsigned int v18; // ebx@20
  int v19; // edi@22
  int v20; // esi@24
  unsigned int v21; // edi@24
  int v22; // edx@27
  int v23; // edx@29
  int v24; // edx@31
  int _Lasta; // [sp+14h] [bp+Ch]@9
  int _Lastb; // [sp+14h] [bp+Ch]@11
  int _Lastc; // [sp+14h] [bp+Ch]@13
  int _Lastd; // [sp+14h] [bp+Ch]@15
  int _Laste; // [sp+14h] [bp+Ch]@17

  v3 = _Last;
  v4 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  v5 = **(_DWORD **)&_First;
  if ( v4 <= 40 )
  {
    v22 = **(_DWORD **)&_Mid;
    if ( **(_DWORD **)&_Mid < v5 )
    {
      **(_DWORD **)&_Mid = **(_DWORD **)&_First;
      **(_DWORD **)&_First = v22;
    }
    v23 = **(_DWORD **)&_Last;
    if ( **(_DWORD **)&_Last < **(_DWORD **)&_Mid )
    {
      **(_DWORD **)&_Last = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = v23;
    }
    v24 = **(_DWORD **)&_Mid;
    if ( **(_DWORD **)&_Mid < **(_DWORD **)&_First )
    {
      **(_DWORD **)&_Mid = **(_DWORD **)&_First;
      **(_DWORD **)&_First = v24;
    }
  }
  else
  {
    v6 = (v4 + 1) / 8;
    v7 = 8 * v6;
    v8 = 4 * v6;
    v9 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( v9 < v5 )
    {
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v5;
      **(_DWORD **)&_First = v9;
    }
    v10 = *(_DWORD *)(v7 + *(_DWORD *)&_First);
    v11 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( v10 < v11 )
    {
      *(_DWORD *)(v7 + *(_DWORD *)&_First) = v11;
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v10;
    }
    v12 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( v12 < **(_DWORD **)&_First )
    {
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = **(_DWORD **)&_First;
      **(_DWORD **)&_First = v12;
    }
    v13 = *(_DWORD *)&_Mid - v8;
    if ( **(_DWORD **)&_Mid < *(_DWORD *)(*(_DWORD *)&_Mid - v8) )
    {
      _Lasta = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = *(_DWORD *)v13;
      *(_DWORD *)v13 = _Lasta;
    }
    if ( *(_DWORD *)(v8 + *(_DWORD *)&_Mid) < **(_DWORD **)&_Mid )
    {
      _Lastb = *(_DWORD *)(v8 + *(_DWORD *)&_Mid);
      *(_DWORD *)(v8 + *(_DWORD *)&_Mid) = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = _Lastb;
    }
    if ( **(_DWORD **)&_Mid < *(_DWORD *)v13 )
    {
      _Lastc = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = *(_DWORD *)v13;
      *(_DWORD *)v13 = _Lastc;
    }
    v14 = *(_DWORD *)&v3 - v8;
    v15 = *(_DWORD *)&v3 - v7;
    if ( *(_DWORD *)(*(_DWORD *)&v3 - v8) < *(_DWORD *)(*(_DWORD *)&v3 - v7) )
    {
      _Lastd = *(_DWORD *)(*(_DWORD *)&v3 - v8);
      *(_DWORD *)v14 = *(_DWORD *)v15;
      *(_DWORD *)v15 = _Lastd;
    }
    if ( **(_DWORD **)&v3 < *(_DWORD *)v14 )
    {
      _Laste = **(_DWORD **)&v3;
      **(_DWORD **)&v3 = *(_DWORD *)v14;
      *(_DWORD *)v14 = _Laste;
    }
    v16 = *(_DWORD *)v14;
    if ( *(_DWORD *)v14 < *(_DWORD *)v15 )
    {
      *(_DWORD *)v14 = *(_DWORD *)v15;
      *(_DWORD *)v15 = v16;
    }
    v17 = **(_DWORD **)&_Mid;
    v18 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( **(_DWORD **)&_Mid < v18 )
    {
      **(_DWORD **)&_Mid = v18;
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v17;
    }
    v19 = *(_DWORD *)v14;
    if ( *(_DWORD *)v14 < **(_DWORD **)&_Mid )
    {
      *(_DWORD *)v14 = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = v19;
    }
    v20 = **(_DWORD **)&_Mid;
    v21 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( **(_DWORD **)&_Mid < v21 )
    {
      **(_DWORD **)&_Mid = v21;
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v20;
    }
  }
}

//----- (00412830) --------------------------------------------------------
void __cdecl std::_Adjust_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, int _Hole, int _Bottom, unsigned int _Val)
{
  int v4; // esi@1
  int v5; // eax@1
  bool i; // zf@1
  int j; // eax@7
  unsigned int v8; // edx@8

  v4 = _Hole;
  v5 = 2 * _Hole + 2;
  for ( i = v5 == _Bottom; v5 < _Bottom; i = v5 == _Bottom )
  {
    if ( *(_DWORD *)(*(_DWORD *)&_First + 4 * v5) < *(_DWORD *)(*(_DWORD *)&_First + 4 * v5 - 4) )
      --v5;
    *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = *(_DWORD *)(*(_DWORD *)&_First + 4 * v5);
    v4 = v5;
    v5 = 2 * v5 + 2;
  }
  if ( i )
  {
    *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = *(_DWORD *)(*(_DWORD *)&_First + 4 * _Bottom - 4);
    v4 = _Bottom - 1;
  }
  for ( j = (v4 - 1) / 2; _Hole < v4; j = (j - 1) / 2 )
  {
    v8 = *(_DWORD *)(*(_DWORD *)&_First + 4 * j);
    if ( v8 >= _Val )
      break;
    *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = v8;
    v4 = j;
  }
  *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = _Val;
}

//----- (004128B0) --------------------------------------------------------
std::vector<unsigned long,std::allocator<unsigned long> >::iterator *__cdecl std::_Lower_bound<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_unsigned_long_int>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator *result, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, const unsigned int *_Val, int *__formal)
{
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v5; // esi@1
  int v6; // ecx@1
  int v7; // eax@2
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator *v8; // eax@6

  v5 = _First;
  v6 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  while ( v6 > 0 )
  {
    v7 = v6 / 2;
    if ( *(_DWORD *)(*(_DWORD *)&v5 + 4 * v6 / 2) >= *_Val )
    {
      v6 /= 2;
    }
    else
    {
      *(_DWORD *)&v5 += 4 * v7 + 4;
      v6 += -1 - v7;
    }
  }
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  return v8;
}

//----- (00412900) --------------------------------------------------------
std::pair<std::vector<unsigned long,std::allocator<unsigned long> >::iterator,std::vector<unsigned long,std::allocator<unsigned long> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::pair<std::vector<unsigned long,std::allocator<unsigned long> >::iterator,std::vector<unsigned long,std::allocator<unsigned long> >::iterator> *result, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last)
{
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v3; // ebx@1
  int v4; // ecx@1
  int i; // esi@1
  unsigned int v6; // eax@2
  unsigned int v7; // edx@6
  int v8; // eax@10
  unsigned int v9; // ebp@10
  int v10; // edi@14
  bool v11; // zf@16
  int v12; // edx@17
  int v13; // edi@20
  unsigned int v14; // edx@26
  int v15; // edx@27
  unsigned int v16; // ST1C_4@27
  int v17; // edx@30
  int v18; // edi@31
  unsigned int v19; // edx@31
  int v20; // edi@32
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v21; // [sp+0h] [bp-20h]@0
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v22; // [sp+4h] [bp-1Ch]@0
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v23; // [sp+8h] [bp-18h]@0

  v3 = _Last;
  std::_Median<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(v21, v22, v23);
  v4 = *(_DWORD *)&_First + 4 * ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2) / 2;
  for ( i = v4 + 4; *(unsigned int *)&_First < v4; v4 -= 4 )
  {
    v6 = *(_DWORD *)(v4 - 4);
    if ( *(_DWORD *)v4 > v6 )
      break;
    if ( *(_DWORD *)v4 < v6 )
      break;
  }
  if ( i < *(unsigned int *)&_Last )
  {
    v7 = *(_DWORD *)v4;
    do
    {
      if ( v7 > *(_DWORD *)i )
        break;
      if ( v7 < *(_DWORD *)i )
        break;
      i += 4;
    }
    while ( i < *(unsigned int *)&_Last );
  }
  v8 = i;
  v9 = v4;
  while ( 1 )
  {
    while ( 1 )
    {
      for ( ; v8 < *(unsigned int *)&v3; v8 += 4 )
      {
        if ( *(_DWORD *)v8 <= *(_DWORD *)v4 )
        {
          if ( *(_DWORD *)v8 < *(_DWORD *)v4 )
            break;
          v10 = *(_DWORD *)i;
          *(_DWORD *)i = *(_DWORD *)v8;
          v3 = _Last;
          i += 4;
          *(_DWORD *)v8 = v10;
        }
      }
      v11 = v9 == _First;
      if ( v9 > *(_DWORD *)&_First )
      {
        v12 = v9 - 4;
        do
        {
          if ( *(_DWORD *)v4 <= *(_DWORD *)v12 )
          {
            if ( *(_DWORD *)v4 < *(_DWORD *)v12 )
              break;
            v13 = *(_DWORD *)(v4 - 4);
            v4 -= 4;
            *(_DWORD *)v4 = *(_DWORD *)v12;
            *(_DWORD *)v12 = v13;
          }
          v9 -= 4;
          v12 -= 4;
        }
        while ( *(_DWORD *)&_First < v9 );
        v3 = _Last;
        v11 = v9 == _First;
      }
      if ( v11 )
        break;
      v9 -= 4;
      if ( v8 == v3 )
      {
        v4 -= 4;
        if ( v9 != v4 )
        {
          v17 = *(_DWORD *)v9;
          *(_DWORD *)v9 = *(_DWORD *)v4;
          *(_DWORD *)v4 = v17;
        }
        v18 = *(_DWORD *)(i - 4);
        v19 = *(_DWORD *)v4;
        i -= 4;
        *(_DWORD *)v4 = v18;
        *(_DWORD *)i = v19;
      }
      else
      {
        v20 = *(_DWORD *)v8;
        *(_DWORD *)v8 = *(_DWORD *)v9;
        v3 = _Last;
        v8 += 4;
        *(_DWORD *)v9 = v20;
      }
    }
    if ( v8 == v3 )
      break;
    if ( i != v8 )
    {
      v14 = *(_DWORD *)v4;
      *(_DWORD *)v4 = *(_DWORD *)i;
      *(_DWORD *)i = v14;
    }
    v15 = v8;
    v16 = *(_DWORD *)v4;
    *(_DWORD *)v4 = *(_DWORD *)v8;
    v3 = _Last;
    i += 4;
    v8 += 4;
    v4 += 4;
    *(_DWORD *)v15 = v16;
  }
  *(_DWORD *)(v8 + 4) = i;
  *(_DWORD *)v8 = v4;
}

//----- (00412A50) --------------------------------------------------------
void __cdecl std::_Make_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, int *__formal, unsigned int *a4)
{
  int i; // esi@1
  unsigned int v5; // eax@2

  for ( i = ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2) / 2;
        i > 0;
        std::_Adjust_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(
          _First,
          i,
          (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2,
          v5) )
    v5 = *(_DWORD *)(*(_DWORD *)&_First + 4 * i-- - 4);
}

//----- (00412A90) --------------------------------------------------------
void __thiscall CLimitUserByIP::_CLimitUserByIP(CLimitUserByIP *this)
{
  CLimitUserByIP *v1; // esi@1

  v1 = this;
  this->baseclass_0.vfptr = (CValidateConnectionVtbl *)&CLimitUserByIP::_vftable_;
  if ( this->m_AllowIPList._Myfirst )
    operator delete(this->m_AllowIPList._Myfirst);
  v1->m_AllowIPList._Myfirst = 0;
  v1->m_AllowIPList._Mylast = 0;
  v1->m_AllowIPList._Myend = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_LimitLock);
  v1->baseclass_0.vfptr = (CValidateConnectionVtbl *)&CValidateConnection::_vftable_;
}
// 4559F4: using guessed type int (*CValidateConnection___vftable_)();
// 4559FC: using guessed type int (__stdcall *CLimitUserByIP___vftable_)(int localAddr, int remoteAddr);

//----- (00412AD0) --------------------------------------------------------
void __cdecl std::_Insertion_sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last)
{
  int i; // esi@2
  unsigned int v3; // ecx@3
  int v4; // eax@7
  unsigned int v5; // ebp@8
  int v6; // edx@8
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v7; // [sp-1Ch] [bp-24h]@6
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v8; // [sp-18h] [bp-20h]@6
  int v9; // [sp-14h] [bp-1Ch]@6
  int *v10; // [sp-10h] [bp-18h]@6
  Item::ItemType::Type *v11; // [sp-Ch] [bp-14h]@6

  if ( _First != _Last )
  {
    for ( i = *(_DWORD *)&_First + 4; i != _Last; i += 4 )
    {
      v3 = *(_DWORD *)i;
      if ( *(_DWORD *)i >= **(_DWORD **)&_First )
      {
        v4 = i - 4;
        if ( v3 >= *(_DWORD *)(i - 4) )
          continue;
        do
        {
          v5 = *(_DWORD *)(v4 - 4);
          v6 = v4;
          v4 -= 4;
        }
        while ( v3 < v5 );
        if ( v6 == i || i == i + 4 )
          continue;
        v11 = 0;
        v10 = 0;
        v9 = i + 4;
        v8 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)i;
        v7 = (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)v6;
      }
      else
      {
        if ( _First == i || i == i + 4 )
          continue;
        v11 = 0;
        v10 = 0;
        v9 = i + 4;
        v8 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)i;
        v7 = _First;
      }
      std::_Rotate<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(
        (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v7,
        v8,
        (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v9,
        v10,
        v11);
    }
  }
}

//----- (00412B50) --------------------------------------------------------
void *__thiscall CLimitUserByIP::_vector_deleting_destructor_(CLimitUserByIP *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CLimitUserByIP::_CLimitUserByIP(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00412B70) --------------------------------------------------------
bool __cdecl std::binary_search<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_unsigned_long>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, const unsigned int *_Val)
{
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v3; // esi@1
  const unsigned int *v4; // edi@1

  v3 = _Last;
  v4 = _Val;
  std::_Lower_bound<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_unsigned_long_int>(
    &_Last,
    _First,
    _Last,
    _Val,
    0);
  return _Last != v3 && *v4 >= **(_DWORD **)&_Last;
}

//----- (00412BB0) --------------------------------------------------------
void __cdecl std::sort_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last)
{
  signed int i; // esi@1
  unsigned int v3; // ST0C_4@2

  for ( i = *(_DWORD *)&_Last - *(_DWORD *)&_First; i >> 2 > 1; i -= 4 )
  {
    v3 = *(_DWORD *)(*(_DWORD *)&_First + i - 4);
    *(_DWORD *)(*(_DWORD *)&_First + i - 4) = **(_DWORD **)&_First;
    std::_Adjust_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(
      _First,
      0,
      (i - 4) >> 2,
      v3);
  }
}

//----- (00412C00) --------------------------------------------------------
bool __thiscall CLimitUserByIP::operator__(CLimitUserByIP *this, INET_Addr *localAddr, INET_Addr *remoteAddr)
{
  CLimitUserByIP *v3; // esi@1
  _RTL_CRITICAL_SECTION *v4; // edi@1
  CLimitUserByIP::AllowMode_t v5; // eax@1
  int v6; // eax@2
  bool result; // al@4
  bool v8; // bl@5

  v3 = this;
  v4 = (_RTL_CRITICAL_SECTION *)&this->m_LimitLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_LimitLock);
  v5 = v3->m_eAllowMode;
  if ( v5 )
  {
    v6 = v5 - 1;
    if ( v6 && v6 == 1 )
    {
      v8 = std::binary_search<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_unsigned_long>(
             (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)v3->m_AllowIPList._Myfirst,
             (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)v3->m_AllowIPList._Mylast,
             (const unsigned int *)&remoteAddr->m_SockAddr.sa_data[2]);
      LeaveCriticalSection(v4);
      result = v8;
    }
    else
    {
      LeaveCriticalSection(v4);
      result = 0;
    }
  }
  else
  {
    LeaveCriticalSection(v4);
    result = 1;
  }
  return result;
}

//----- (00412C70) --------------------------------------------------------
void __cdecl std::_Sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int>(std::vector<unsigned long,std::allocator<unsigned long> >::iterator _First, std::vector<unsigned long,std::allocator<unsigned long> >::iterator _Last, int _Ideal)
{
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v3; // ebx@1
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v4; // edi@1
  int v5; // eax@1
  signed int v6; // esi@2
  std::vector<unsigned long,std::allocator<unsigned long> >::iterator v7; // ebp@4
  std::pair<std::vector<unsigned long,std::allocator<unsigned long> >::iterator,std::vector<unsigned long,std::allocator<unsigned long> >::iterator> _Mid; // [sp+10h] [bp-8h]@4

  v3 = _First;
  v4 = _Last;
  v5 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  if ( v5 <= 32 )
    goto LABEL_8;
  v6 = _Ideal;
  while ( v6 > 0 )
  {
    std::_Unguarded_partition<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(&_Mid, v3, v4);
    v7 = *(std::vector<unsigned long,std::allocator<unsigned long> >::iterator *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v6 = v6 / 2 / 2 + v6 / 2;
    if ( ((*(_DWORD *)&_Mid - *(_DWORD *)&v3) & 0xFFFFFFFC) >= ((*(_DWORD *)&v4
                                                               - *(_DWORD *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]) & 0xFFFFFFFC) )
    {
      std::_Sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int>(_Mid.second, v4, v6);
      v4 = *(std::vector<unsigned long,std::allocator<unsigned long> >::iterator *)&_Mid;
    }
    else
    {
      std::_Sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int>(v3, _Mid.first, v6);
      v3 = v7;
    }
    v5 = (*(_DWORD *)&v4 - *(_DWORD *)&v3) >> 2;
    if ( v5 <= 32 )
      goto LABEL_8;
  }
  if ( v5 <= 32 )
  {
LABEL_8:
    if ( v5 > 1 )
      std::_Insertion_sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(v3, v4);
  }
  else
  {
    if ( ((*(_DWORD *)&v4 - *(_DWORD *)&v3) & 0xFFFFFFFC) > 4 )
      std::_Make_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int_unsigned_long>(
        v3,
        v4,
        0,
        0);
    std::sort_heap<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator>(v3, v4);
  }
}

//----- (00412D40) --------------------------------------------------------
void __thiscall std::vector<unsigned_long_std::allocator<unsigned_long>>::reserve(std::vector<unsigned long,std::allocator<unsigned long> > *this, unsigned int _Count)
{
  std::vector<unsigned long,std::allocator<unsigned long> > *v2; // esi@1
  unsigned int *v3; // ecx@3
  int v4; // ebx@3
  int v5; // eax@4
  void *v6; // eax@7
  void *v7; // edi@7
  std::vector<char *,std::allocator<char *> >::iterator v8; // ST04_4@7
  std::vector<char *,std::allocator<char *> >::iterator v9; // ST00_4@7
  unsigned int *v10; // eax@7
  int v11; // [sp-Ch] [bp-20h]@1
  void *_Ptr; // [sp+0h] [bp-14h]@7
  int *v13; // [sp+4h] [bp-10h]@1
  int v14; // [sp+10h] [bp-4h]@7
  unsigned int _Counta; // [sp+1Ch] [bp+8h]@7

  v13 = &v11;
  v2 = this;
  if ( _Count > 0x3FFFFFFF )
    std::vector<unsigned_long_std::allocator<unsigned_long>>::_Xlen(this);
  v3 = this->_Myfirst;
  v4 = 0;
  if ( v3 )
    v5 = v2->_Myend - v3;
  else
    v5 = 0;
  if ( v5 < _Count )
  {
    _Counta = 4 * _Count;
    v6 = operator new(_Counta);
    v7 = v6;
    v8 = (std::vector<char *,std::allocator<char *> >::iterator)v2->_Mylast;
    v9 = (std::vector<char *,std::allocator<char *> >::iterator)v2->_Myfirst;
    _Ptr = v6;
    v14 = 0;
    std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
      v9,
      v8,
      (char **)v6,
      (std::allocator<char *> *)v2,
      (std::_Nonscalar_ptr_iterator_tag)_Counta);
    v10 = v2->_Myfirst;
    if ( v10 )
      v4 = v2->_Mylast - v10;
    if ( v10 )
      operator delete(v2->_Myfirst);
    v2->_Myend = (unsigned int *)((char *)v7 + _Counta);
    v2->_Mylast = (unsigned int *)((char *)v7 + 4 * v4);
    v2->_Myfirst = (unsigned int *)v7;
  }
}

//----- (00412E10) --------------------------------------------------------
bool __thiscall CLimitUserByIP::LoadAllowIPList(CLimitUserByIP *this, const char *szFileName)
{
  CLimitUserByIP *v2; // ebp@1
  _iobuf *v3; // edi@1
  void *v4; // eax@2
  unsigned __int32 v5; // eax@5
  unsigned int *v6; // edi@6
  int v7; // edx@7
  unsigned int *v8; // ecx@11
  bool result; // al@16
  _iobuf *lpFile; // [sp+0h] [bp-21Ch]@1
  unsigned __int32 dwAddr; // [sp+4h] [bp-218h]@5
  CLock<CCSLock>::Syncronize sync; // [sp+8h] [bp-214h]@2
  char szBuffer[512]; // [sp+Ch] [bp-210h]@4
  unsigned int v14; // [sp+20Ch] [bp-10h]@16
  int v15; // [sp+218h] [bp-4h]@2

  v2 = this;
  v3 = fopen(szFileName, "rt");
  lpFile = v3;
  if ( v3 )
  {
    sync.m_Lock = &v2->m_LimitLock;
    EnterCriticalSection((LPCRITICAL_SECTION)&v2->m_LimitLock);
    v4 = v2->m_AllowIPList._Myfirst;
    v15 = 0;
    if ( v4 )
      operator delete(v4);
    v2->m_AllowIPList._Myfirst = 0;
    v2->m_AllowIPList._Mylast = 0;
    v2->m_AllowIPList._Myend = 0;
    std::vector<unsigned_long_std::allocator<unsigned_long>>::reserve(&v2->m_AllowIPList, 0x100u);
    while ( fgets(szBuffer, 511, v3) )
    {
      szBuffer[511] = 0;
      v5 = inet_addr(szBuffer);
      dwAddr = v5;
      if ( v5 )
      {
        v6 = v2->m_AllowIPList._Myfirst;
        if ( v6 )
          v7 = v2->m_AllowIPList._Mylast - v6;
        else
          v7 = 0;
        if ( v6 && v7 < v2->m_AllowIPList._Myend - v6 )
        {
          v8 = v2->m_AllowIPList._Mylast;
          *v8 = v5;
          v2->m_AllowIPList._Mylast = v8 + 1;
        }
        else
        {
          std::vector<unsigned_long_std::allocator<unsigned_long>>::_Insert_n(
            &v2->m_AllowIPList,
            (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)v2->m_AllowIPList._Mylast,
            1u,
            (const unsigned int *)&dwAddr);
        }
        v3 = lpFile;
      }
    }
    std::_Sort<std::vector<unsigned_long_std::allocator<unsigned_long>>::iterator_int>(
      (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)v2->m_AllowIPList._Myfirst,
      (std::vector<unsigned long,std::allocator<unsigned long> >::iterator)v2->m_AllowIPList._Mylast,
      v2->m_AllowIPList._Mylast - v2->m_AllowIPList._Myfirst);
    fclose(v3);
    LeaveCriticalSection((LPCRITICAL_SECTION)sync.m_Lock);
  }
  __security_check_cookie(v14);
  return result;
}

//----- (00412F90) --------------------------------------------------------
void __thiscall CLimitUserByIP::CLimitUserByIP(CLimitUserByIP *this, const char *szFileName)
{
  CLimitUserByIP *v2; // esi@1

  v2 = this;
  this->baseclass_0.m_nRefCount = 1;
  this->baseclass_0.vfptr = (CValidateConnectionVtbl *)&CLimitUserByIP::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_LimitLock);
  v2->m_AllowIPList._Myfirst = 0;
  v2->m_AllowIPList._Mylast = 0;
  v2->m_AllowIPList._Myend = 0;
  v2->m_eAllowMode = 0;
  if ( szFileName )
  {
    if ( CLimitUserByIP::LoadAllowIPList(v2, szFileName) )
      v2->m_eAllowMode = 2;
  }
}
// 4559FC: using guessed type int (__stdcall *CLimitUserByIP___vftable_)(int localAddr, int remoteAddr);

//----- (00413030) --------------------------------------------------------
bool __thiscall CCompletionHandler::AttachToHander(CCompletionHandler *this, void *hAttach, unsigned int pCompletionKey)
{
  return CreateIoCompletionPort(hAttach, this->m_hIOCP, pCompletionKey, this->m_nThread) != 0;
}

//----- (00413060) --------------------------------------------------------
void __thiscall CListener::InternalCloseListen(CListener *this)
{
  CListener *v1; // esi@1

  v1 = this;
  if ( this->m_hListen != -1 )
  {
    if ( closesocket(this->m_hListen) == -1 )
    {
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_ERROR,
        "CListener::InternalCloseListen",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Listener\\Listener.cpp",
        131,
        "closesocket failed : %d");
    }
    v1->m_hListen = -1;
  }
}

//----- (004130B0) --------------------------------------------------------
int __thiscall CValidateConnection::Release(CValidateConnection *this)
{
  CValidateConnection *v1; // esi@1
  int v2; // edi@1

  v1 = this;
  v2 = InterlockedDecrement(&this->m_nRefCount);
  if ( !v2 && v1 )
    v1->vfptr->__vecDelDtor(v1, 1u);
  return v2;
}

//----- (004130E0) --------------------------------------------------------
void __thiscall CListener::CListener(CListener *this, CCompletionHandler *SocketHandler, CSessionPolicy *SessionPolicy, CSessionMgr *SessionMgr, CValidateConnection *lpValidateConnection)
{
  CListener *v5; // esi@1
  CValidateConnection *v6; // eax@1

  v5 = this;
  this->vfptr = (CListenerVtbl *)&CListener::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_ListenerLock);
  v5->m_hListen = -1;
  v5->m_ListenAddr.m_iAddrLen = 0;
  *(_DWORD *)&v5->m_ListenAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&v5->m_ListenAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&v5->m_ListenAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&v5->m_ListenAddr.m_SockAddr.sa_data[10] = 0;
  v5->m_SocketHandler = SocketHandler;
  v5->m_SessionPolicy = SessionPolicy;
  v5->m_SessionMgr = SessionMgr;
  v5->m_dwMaxPending = 10;
  v5->m_dwCurrentPending = 0;
  v5->m_dwTotalPendingCount = 0;
  v5->m_dwTotalAcceptCompleteCount = 0;
  v5->m_lpValidateConnection = lpValidateConnection;
  CSessionPolicy::AddRef(SessionPolicy);
  v6 = v5->m_lpValidateConnection;
  if ( v6 )
    InterlockedIncrement(&v6->m_nRefCount);
}
// 455A90: using guessed type int (__thiscall *CListener___vftable_)(void *p, char);

//----- (00413190) --------------------------------------------------------
void __thiscall CListener::WaitForPendingComplete(CListener *this, unsigned int dwTime)
{
  CListener *v2; // esi@1
  DWORD v3; // ebx@1
  _RTL_CRITICAL_SECTION *v4; // esi@2
  CListener *v5; // [sp+0h] [bp-4h]@1

  v2 = this;
  v5 = this;
  v3 = timeGetTime();
  if ( dwTime >= abs(timeGetTime() - v3) )
  {
    v4 = (_RTL_CRITICAL_SECTION *)&v2->m_ListenerLock;
    while ( 1 )
    {
      EnterCriticalSection(v4);
      if ( !v5->m_dwCurrentPending )
        break;
      LeaveCriticalSection(v4);
      Sleep(0xAu);
      if ( dwTime < abs(timeGetTime() - v3) )
        return;
    }
    LeaveCriticalSection(v4);
  }
}

//----- (00413200) --------------------------------------------------------
bool __thiscall CListener::PendingAccept(CListener *this)
{
  CListener *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1
  unsigned int v3; // ecx@1
  bool result; // al@2
  SOCKET v5; // edi@3
  int v6; // eax@3
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // ebp@3
  _OVERLAPPED *v10; // eax@4
  unsigned int v11; // ecx@9
  _RTL_CRITICAL_SECTION *sync; // [sp+14h] [bp-14h]@1
  int dwBytesReceived; // [sp+18h] [bp-10h]@3
  int v14; // [sp+24h] [bp-4h]@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ListenerLock;
  sync = (_RTL_CRITICAL_SECTION *)&this->m_ListenerLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ListenerLock);
  v3 = v1->m_hListen;
  v14 = 0;
  if ( v3 == -1 )
  {
    LeaveCriticalSection(v2);
    result = 0;
  }
  else
  {
    dwBytesReceived = 0;
    v5 = (*(int (**)(void))(**(_DWORD **)v1->m_SessionPolicy + 4))();
    v6 = ((int (__stdcall *)(signed int))v1->m_SessionPolicy->m_lpBufferFactory->vfptr->Create)(64);
    v7 = v6;
    v8 = ((int (__stdcall *)(CListener *, SOCKET, int))v1->m_SessionPolicy->m_lpOverlappedFactory->vfptr->CreateAccept)(
           v1,
           v5,
           v6);
    v9 = v8;
    if ( v8 )
      v10 = (_OVERLAPPED *)(v8 + 4);
    else
      v10 = 0;
    if ( AcceptEx(v1->m_hListen, v5, *(PVOID *)(v7 + 8), 0, 0x20u, 0x20u, (LPDWORD)&dwBytesReceived, v10) != -1
      || WSAGetLastError() == 997 )
    {
      v11 = v1->m_dwTotalPendingCount;
      ++v1->m_dwCurrentPending;
      v1->m_dwTotalPendingCount = v11 + 1;
      LeaveCriticalSection(sync);
      result = 1;
    }
    else
    {
      ((void (__stdcall *)(int))v1->m_SessionPolicy->m_lpOverlappedFactory->vfptr->DeleteOverlapped)(v9);
      closesocket(v5);
      LeaveCriticalSection(sync);
      result = 0;
    }
  }
  return result;
}

//----- (00413320) --------------------------------------------------------
void __thiscall CListener::ProcessAccept(CListener *this, int bResult, unsigned int hSocket, CBuffer *lpBuffer, unsigned int dwProcessedBytes)
{
  int v5; // ebp@1
  CListener *v6; // edi@1
  void *v7; // ST04_4@3
  CValidateConnection *v8; // ecx@7
  ULONG_PTR v9; // esi@10
  ULONG_PTR v10; // eax@11
  unsigned int v11; // ebx@14
  int v12; // ecx@18
  int nRemoteSockAddrLen; // [sp+10h] [bp-38h]@3
  sockaddr *lpLocalAddr; // [sp+14h] [bp-34h]@3
  sockaddr *lpRemoteAddr; // [sp+18h] [bp-30h]@3
  INET_Addr remoteAddr; // [sp+1Ch] [bp-2Ch]@1
  INET_Addr localAddr; // [sp+30h] [bp-18h]@1

  v5 = bResult;
  v6 = this;
  *(_DWORD *)&localAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&remoteAddr.m_SockAddr.sa_family = 0;
  *(_DWORD *)&localAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&remoteAddr.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&localAddr.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&remoteAddr.m_SockAddr.sa_data[6] = 0;
  localAddr.m_iAddrLen = 0;
  *(_DWORD *)&localAddr.m_SockAddr.sa_data[10] = 0;
  remoteAddr.m_iAddrLen = 0;
  *(_DWORD *)&remoteAddr.m_SockAddr.sa_data[10] = 0;
  if ( bResult )
  {
    if ( setsockopt(hSocket, 65535, 28683, (const char *)&this->m_hListen, 4) == -1 )
      goto LABEL_21;
    v7 = lpBuffer->rd_ptr_;
    lpLocalAddr = 0;
    lpRemoteAddr = 0;
    bResult = 0;
    nRemoteSockAddrLen = 0;
    GetAcceptExSockaddrs(v7, 0, 0x20u, 0x20u, &lpLocalAddr, &bResult, &lpRemoteAddr, &nRemoteSockAddrLen);
    if ( lpLocalAddr )
      INET_Addr::set_addr(&localAddr, lpLocalAddr, bResult);
    if ( lpRemoteAddr )
      INET_Addr::set_addr(&remoteAddr, lpRemoteAddr, nRemoteSockAddrLen);
    v8 = v6->m_lpValidateConnection;
    if ( v8 )
    {
      if ( !(unsigned __int8)((int (__stdcall *)(INET_Addr *, INET_Addr *))v8->vfptr->operator())(
                               &localAddr,
                               &remoteAddr) )
LABEL_21:
        v5 = 0;
    }
  }
  v9 = 0;
  if ( !v5
    || (v10 = (ULONG_PTR)CSessionMgr::CreateSession(v6->m_SessionMgr, v6->m_SessionPolicy), (v9 = v10) == 0)
    || !*(_DWORD *)(v10 + 84)
    || !*(_DWORD *)(v10 + 36) )
  {
    v11 = hSocket;
    goto LABEL_17;
  }
  v11 = hSocket;
  if ( !CreateIoCompletionPort((HANDLE)hSocket, v6->m_SocketHandler->m_hIOCP, v10, v6->m_SocketHandler->m_nThread) )
  {
LABEL_17:
    CSessionMgr::DeleteSession(v6->m_SessionMgr, (CSession *)v9);
    closesocket(v11);
    goto LABEL_18;
  }
  *(_DWORD *)(v9 + 40) = v11;
  CSession::SetAddress((CSession *)v9, &remoteAddr, &localAddr);
  inet_ntoa(*(struct in_addr *)&remoteAddr.m_SockAddr.sa_data[2]);
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_DETAIL,
    "CListener::ProcessAccept",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Listener\\Listener.cpp",
    269,
    "SP:0x%p/DP:0x%p/IP:%15s/ Accept Session Complete.");
  CSession::InternalRecv((CSession *)v9);
  CSessionMgr::Add(v6->m_SessionMgr, (CSession *)v9);
LABEL_18:
  EnterCriticalSection((LPCRITICAL_SECTION)&v6->m_ListenerLock);
  v12 = v6->m_dwTotalAcceptCompleteCount + 1;
  --v6->m_dwCurrentPending;
  v6->m_dwTotalAcceptCompleteCount = v12;
  LeaveCriticalSection((LPCRITICAL_SECTION)&v6->m_ListenerLock);
  CListener::PendingAccept(v6);
}

//----- (00413500) --------------------------------------------------------
unsigned int __thiscall CListener::GetPendingAcceptNum(CListener *this)
{
  CListener *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1
  unsigned int v3; // esi@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ListenerLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ListenerLock);
  v3 = v1->m_dwCurrentPending;
  LeaveCriticalSection(v2);
  return v3;
}

//----- (00413520) --------------------------------------------------------
void __thiscall CListener::_CListener(CListener *this)
{
  CListener *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1
  SOCKET v3; // eax@1
  CValidateConnection *v4; // esi@5

  v1 = this;
  this->vfptr = (CListenerVtbl *)&CListener::_vftable_;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ListenerLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ListenerLock);
  v3 = v1->m_hListen;
  if ( v3 != -1 )
  {
    if ( closesocket(v3) == -1 )
    {
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_ERROR,
        "CListener::InternalCloseListen",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Listener\\Listener.cpp",
        131,
        "closesocket failed : %d");
    }
    v1->m_hListen = -1;
  }
  LeaveCriticalSection(v2);
  CListener::WaitForPendingComplete(v1, 0x1388u);
  CSessionPolicy::Release(v1->m_SessionPolicy);
  v4 = v1->m_lpValidateConnection;
  if ( v4 && !InterlockedDecrement(&v4->m_nRefCount) && v4 )
    v4->vfptr->__vecDelDtor(v4, 1u);
  DeleteCriticalSection(v2);
}
// 455A90: using guessed type int (__thiscall *CListener___vftable_)(void *p, char);

//----- (00413600) --------------------------------------------------------
bool __thiscall CListener::Initialize(CListener *this, INET_Addr *addrListen, unsigned int dwMaxPending)
{
  ULONG_PTR v3; // esi@1
  CSessionPolicy *v4; // eax@1
  char *v5; // ebp@1
  bool result; // al@5
  CSocketFactory *v7; // edi@8
  unsigned __int16 v8; // ax@8
  void *v9; // eax@8
  int v10; // edi@14
  _RTL_CRITICAL_SECTION *sync; // [sp+0h] [bp-10h]@6

  v3 = (ULONG_PTR)this;
  v4 = this->m_SessionPolicy;
  v5 = 0;
  if ( v4->m_lpBufferFactory && v4->m_lpSocketFactory && v4->m_lpDispatchFactory && v4->m_lpOverlappedFactory )
  {
    sync = (_RTL_CRITICAL_SECTION *)&this->m_ListenerLock;
    EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ListenerLock);
    CListener::InternalCloseListen((CListener *)v3);
    if ( *(_DWORD *)&addrListen->m_SockAddr.sa_data[2] )
      v5 = inet_ntoa(*(struct in_addr *)&addrListen->m_SockAddr.sa_data[2]);
    v7 = (CSocketFactory *)**(_DWORD **)(v3 + 64);
    v8 = ntohs(*(_WORD *)&addrListen->m_SockAddr.sa_data[0]);
    v9 = (void *)CSocketFactory::CreateListenSocket(v7, v5, v8, 63);
    *(_DWORD *)(v3 + 36) = v9;
    if ( v9 == (void *)-1 )
    {
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_ERROR,
        "CListener::Initialize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Listener\\Listener.cpp",
        94,
        "CListener initialized failed : Create listen socket failed : %d");
      LeaveCriticalSection(sync);
      result = 0;
    }
    else
    {
      if ( CreateIoCompletionPort(v9, *(HANDLE *)(*(_DWORD *)(v3 + 60) + 4), v3, *(_DWORD *)(*(_DWORD *)(v3 + 60) + 8)) )
      {
        if ( *(_DWORD *)(v3 + 72) < dwMaxPending )
          *(_DWORD *)(v3 + 72) = dwMaxPending;
        v10 = *(_DWORD *)(v3 + 72);
        LeaveCriticalSection(sync);
        for ( ; v10; --v10 )
          CListener::PendingAccept((CListener *)v3);
        result = 1;
      }
      else
      {
        WSAGetLastError();
        CServerLog::DetailLog(
          &g_SessionLog,
          LOG_ERROR,
          "CListener::Initialize",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Listener\\Listener.cpp",
          103,
          "CListener initialized failed : Attach to Handler failed : %d");
        LeaveCriticalSection(sync);
        result = 0;
      }
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_SessionLog,
      LOG_ERROR,
      "CListener::Initialize",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\Listener\\Listener.cpp",
      76,
      "CListener initialized failed : Invalid SessionPolicy");
    result = 0;
  }
  return result;
}

//----- (004137C0) --------------------------------------------------------
void *__thiscall CListener::_vector_deleting_destructor_(CListener *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CListener::_CListener(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (004137E0) --------------------------------------------------------
void __thiscall CSessionPolicy::CSessionPolicy(CSessionPolicy *this, CSocketFactory *lpSocketFactory, CBufferFactory *lpBufferFactory, CDispatchFactory *lpDispatchFactory, COverlappedFactory *lpOverlappedFactory)
{
  this->m_lpSocketFactory = lpSocketFactory;
  this->m_lpBufferFactory = lpBufferFactory;
  this->m_lpDispatchFactory = lpDispatchFactory;
  this->m_lpOverlappedFactory = lpOverlappedFactory;
  this->m_nRefCount = 1;
}

//----- (00413810) --------------------------------------------------------
void __thiscall CSessionPolicy::_CSessionPolicy(CSessionPolicy *this)
{
  CSessionPolicy *v1; // esi@1
  CSocketFactory *v2; // ecx@1
  CBufferFactory *v3; // ecx@3
  CDispatchFactory *v4; // ecx@5
  COverlappedFactory *v5; // ecx@7

  v1 = this;
  v2 = this->m_lpSocketFactory;
  if ( v2 )
    ((void (__stdcall *)(_DWORD))v2->vfptr->__vecDelDtor)(1);
  v3 = v1->m_lpBufferFactory;
  if ( v3 )
    ((void (__stdcall *)(_DWORD))v3->vfptr->__vecDelDtor)(1);
  v4 = v1->m_lpDispatchFactory;
  if ( v4 )
    ((void (__stdcall *)(_DWORD))v4->vfptr->__vecDelDtor)(1);
  v5 = v1->m_lpOverlappedFactory;
  if ( v5 )
    ((void (__stdcall *)(_DWORD))v5->vfptr->__vecDelDtor)(1);
}

//----- (00413850) --------------------------------------------------------
int __thiscall CSessionPolicy::AddRef(CSessionPolicy *this)
{
  return InterlockedIncrement(&this->m_nRefCount);
}

//----- (00413860) --------------------------------------------------------
int __thiscall CSessionPolicy::Release(CSessionPolicy *this)
{
  CSessionPolicy *v1; // esi@1
  int v2; // edi@1
  CBufferFactory *v3; // ecx@5
  CDispatchFactory *v4; // ecx@7
  COverlappedFactory *v5; // ecx@9

  v1 = this;
  v2 = InterlockedDecrement(&this->m_nRefCount);
  if ( !v2 && v1 )
  {
    if ( v1->m_lpSocketFactory )
      ((void (__stdcall *)(_DWORD))v1->m_lpSocketFactory->vfptr->__vecDelDtor)(1);
    v3 = v1->m_lpBufferFactory;
    if ( v3 )
      ((void (__stdcall *)(_DWORD))v3->vfptr->__vecDelDtor)(1);
    v4 = v1->m_lpDispatchFactory;
    if ( v4 )
      ((void (__stdcall *)(_DWORD))v4->vfptr->__vecDelDtor)(1);
    v5 = v1->m_lpOverlappedFactory;
    if ( v5 )
      ((void (__stdcall *)(_DWORD))v5->vfptr->__vecDelDtor)(1);
    operator delete(v1);
  }
  return v2;
}

//----- (004138C0) --------------------------------------------------------
void __thiscall INET_Addr::INET_Addr(INET_Addr *this, const char *addr, unsigned __int16 port)
{
  INET_Addr::set_addr(this, addr, port);
}

//----- (004138E0) --------------------------------------------------------
bool __thiscall CListener::Initialize(CListener *this, const char *lpListenAddress, unsigned __int16 usPort, unsigned int dwMaxPending)
{
  CListener *v4; // esi@1
  INET_Addr thisa; // [sp+4h] [bp-14h]@1

  v4 = this;
  INET_Addr::set_addr(&thisa, lpListenAddress, usPort);
  return CListener::Initialize(v4, &thisa, dwMaxPending);
}

//----- (00413920) --------------------------------------------------------
unsigned int __cdecl GetOptimalThreadNum()
{
  _SYSTEM_INFO systemInfo; // [sp+0h] [bp-24h]@1

  GetSystemInfo(&systemInfo);
  return 2 * systemInfo.dwNumberOfProcessors;
}

//----- (00413940) --------------------------------------------------------
void __thiscall CSessionMgr::Process(CSessionMgr *this)
{
  CSessionMgr *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ProcessLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ProcessLock);
  CSessionMgr::InternalProcess(v1);
  LeaveCriticalSection(v2);
}

//----- (00413990) --------------------------------------------------------
unsigned int __thiscall CSessionMgr::GetSessionNum(CSessionMgr *this)
{
  CSessionMgr *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1
  unsigned int v3; // esi@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ProcessLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ProcessLock);
  v3 = v1->m_current._Mysize;
  LeaveCriticalSection(v2);
  return v3;
}

//----- (004139B0) --------------------------------------------------------
bool __thiscall CIOCPNet::Initialize(CIOCPNet *this)
{
  CIOCPNet *v1; // esi@1
  unsigned int v2; // eax@1
  bool result; // al@3
  CCompletionHandler *v4; // ecx@4
  unsigned int v5; // edi@8
  void *v6; // eax@9
  CThread *v7; // eax@10

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_dwFlags;
  if ( v2 & 1 )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v1);
    return 0;
  }
  v1->m_dwFlags = v2 | 1;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  v4 = v1->m_lpSocketHandler;
  if ( !v4 || !v1->m_lpThreadMgr || !v1->m_lpSessionMgr || !CCompletionHandler::Initialize(v4, 0, 0xFFFFFFFFu) )
    return 0;
  v5 = GetOptimalThreadNum();
  if ( v5 )
  {
    while ( 1 )
    {
      --v5;
      v6 = operator new(0xCu, &std::nothrow);
      if ( v6 )
        CIOWorker::CIOWorker((CIOWorker *)v6, v1->m_lpSocketHandler);
      else
        v7 = 0;
      if ( !CThreadMgr::RegisterAndRun(v1->m_lpThreadMgr, v7) )
        break;
      if ( !v5 )
        goto LABEL_14;
    }
    result = 0;
  }
  else
  {
LABEL_14:
    result = 1;
  }
  return result;
}

//----- (00413AA0) --------------------------------------------------------
void __thiscall CIOCPNet::Process(CIOCPNet *this)
{
  CSessionMgr *v1; // ecx@1

  v1 = this->m_lpSessionMgr;
  if ( v1 )
    CSessionMgr::Process(v1);
}

//----- (00413AB0) --------------------------------------------------------
unsigned int __thiscall CIOCPNet::GetSessionNum(CIOCPNet *this)
{
  CSessionMgr *v1; // ecx@1
  unsigned int result; // eax@2

  v1 = this->m_lpSessionMgr;
  if ( v1 )
    result = CSessionMgr::GetSessionNum(v1);
  else
    result = 0;
  return result;
}

//----- (00413AC0) --------------------------------------------------------
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall std::list<CCommand___std::allocator<CCommand__>>::_Buynode(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this)
{
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *result; // eax@1

  result = (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)operator new(0xCu);
  if ( result )
    result->_Next = result;
  if ( result != (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)-4 )
    result->_Prev = result;
  return result;
}

//----- (00413AE0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (00413B20) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)operator new(0x18u);
  if ( result )
    result->_Left = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)-4 )
    result->_Parent = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)-8 )
    result->_Right = 0;
  result->_Color = 1;
  result->_Isnil = 0;
  return result;
}

//----- (00413B60) --------------------------------------------------------
unsigned int __thiscall CIOCPNet::GetAcceptPendingNum(CIOCPNet *this)
{
  CIOCPNet *v1; // edi@1
  unsigned int v2; // ebx@1
  std::_List_nod<CListener *,std::allocator<CListener *> >::_Node *v3; // eax@1
  std::_List_nod<CListener *,std::allocator<CListener *> >::_Node *v4; // esi@1
  unsigned int v5; // eax@2

  v1 = this;
  v2 = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = v1->m_ListenerList._Myhead;
  v4 = v3->_Next;
  if ( v3->_Next != v3 )
  {
    do
    {
      v5 = CListener::GetPendingAcceptNum(v4->_Myval);
      v4 = v4->_Next;
      v2 += v5;
    }
    while ( v4 != v1->m_ListenerList._Myhead );
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (00413BD0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Rootnode, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Wherenode)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v3; // esi@1
  char v4; // al@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v5; // edi@2
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v6; // ST0C_4@4
  int v8; // [sp-Ch] [bp-24h]@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *thisa; // [sp+0h] [bp-18h]@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Newroot; // [sp+4h] [bp-14h]@1
  int *v11; // [sp+8h] [bp-10h]@1
  int v12; // [sp+14h] [bp-4h]@4

  v3 = this;
  _Newroot = this->_Myhead;
  v4 = _Rootnode->_Isnil;
  v11 = &v8;
  thisa = this;
  if ( !v4 )
  {
    v5 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(
           (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *)this,
           (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
           (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Wherenode,
           (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
           (std::pair<enum Item::ItemType::Type const ,unsigned char> *)&_Rootnode->_Myval,
           _Rootnode->_Color);
    if ( _Newroot->_Isnil )
      _Newroot = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v5;
    v6 = _Rootnode->_Left;
    v12 = 0;
    v5->_Left = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(v3, v6, (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v5);
    v5->_Right = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(v3, _Rootnode->_Right, (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v5);
  }
  return _Newroot;
}

//----- (00413C80) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *_Right)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v2; // esi@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v3; // edx@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v4; // eax@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v5; // ecx@2
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v6; // esi@4
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v7; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *i; // eax@4

  v2 = this;
  this->_Myhead->_Parent = std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(
                             this,
                             _Right->_Myhead->_Parent,
                             this->_Myhead);
  v2->_Mysize = _Right->_Mysize;
  v3 = v2->_Myhead;
  v4 = v3->_Parent;
  if ( v4->_Isnil )
  {
    v3->_Left = v3;
    v2->_Myhead->_Right = v2->_Myhead;
  }
  else
  {
    v5 = v4->_Left;
    if ( !v4->_Left->_Isnil )
    {
      do
      {
        v4 = v5;
        v5 = v5->_Left;
      }
      while ( !v5->_Isnil );
    }
    v3->_Left = v4;
    v6 = v2->_Myhead;
    v7 = v6->_Parent;
    for ( i = v7->_Right; !i->_Isnil; i = i->_Right )
      v7 = i;
    v6->_Right = v7;
  }
}

//----- (00413D10) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 21) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&_Where);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 21) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
      v9->_Left = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v7;
      else
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 21) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 20);
  *(_BYTE *)(*(_DWORD *)&v6 + 20) = *(_BYTE *)(*(_DWORD *)&v4 + 20);
  *(_BYTE *)(*(_DWORD *)&v4 + 20) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 20) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 20) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 20) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 20) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (00413FD0) --------------------------------------------------------
void __thiscall std::list<CListener___std::allocator<CListener__>>::_Incsize(std::list<CListener *,std::allocator<CListener *> > *this, unsigned int _Count)
{
  unsigned int v2; // eax@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v5; // [sp+4Ch] [bp-4h]@2

  v2 = this->_Mysize;
  if ( 1073741823 - v2 < _Count )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "list<T> too long", 0x10u);
    v5 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  this->_Mysize = _Count + v2;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00414070) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 21) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 21);
                  i = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 21);
                  j = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (00414130) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *_Wherenode, std::pair<CSessionPolicy * const,unsigned int> *_Val)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v5; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v6; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v7; // eax@4
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v8; // eax@7
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v9; // eax@9
  int v10; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v11; // esi@11
  int v12; // ecx@12
  int v13; // ebp@12
  int v14; // edx@12
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *v15; // eax@24
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v18; // [sp+4Ch] [bp-4h]@2
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Vala; // [sp+60h] [bp+10h]@4

  v5 = this;
  if ( this->_Mysize >= 0x1FFFFFFE )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "map/set<T> too long", 0x13u);
    v18 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  v6 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(
         (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *)this,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Wherenode,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
         (std::pair<enum Item::ItemType::Type const ,unsigned char> *)_Val,
         0);
  v7 = v5->_Myhead;
  _Vala = v6;
  ++v5->_Mysize;
  if ( _Wherenode == v7 )
  {
    v7->_Parent = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
    v5->_Myhead->_Left = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
    v5->_Myhead->_Right = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
  }
  else
  {
    if ( _Addleft )
    {
      _Wherenode->_Left = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
      v8 = v5->_Myhead;
      if ( _Wherenode == v8->_Left )
        v8->_Left = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
    }
    else
    {
      _Wherenode->_Right = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
      v9 = v5->_Myhead;
      if ( _Wherenode == v9->_Right )
        v9->_Right = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v6;
    }
  }
  v10 = (int)&v6->_Parent;
  v11 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v6;
  if ( !v6->_Parent->_Color )
  {
    while ( 1 )
    {
      v12 = *(_DWORD *)v10;
      v13 = *(_DWORD *)(*(_DWORD *)v10 + 4);
      v14 = *(_DWORD *)v13;
      if ( *(_DWORD *)v10 == *(_DWORD *)v13 )
      {
        v14 = *(_DWORD *)(v13 + 8);
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(v12 + 8) )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      else
      {
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v12 )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      *(_BYTE *)(*(_DWORD *)v10 + 20) = 1;
      *(_BYTE *)(v14 + 20) = 1;
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)v10 + 4) + 20) = 0;
      v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(*(_DWORD *)v10 + 4);
LABEL_22:
      v10 = (int)&v11->_Parent;
      if ( v11->_Parent->_Color )
      {
        v6 = _Vala;
        break;
      }
    }
  }
  v15 = result;
  v5->_Myhead->_Parent->_Color = 1;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6;
  return v15;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (004142E0) --------------------------------------------------------
void __thiscall std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::_map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>(std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *this)
{
  std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (00414310) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::insert(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator,bool> *result, std::pair<CSessionPolicy * const,unsigned int> *_Val)
{
  std::pair<CSessionPolicy * const,unsigned int> *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v4; // edi@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v5; // esi@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v6; // eax@1
  bool v7; // cl@1
  CSessionPolicy *const v8; // edx@2
  std::pair<CSessionPolicy * const,unsigned int> *v9; // edx@7
  int v10; // edx@9
  std::pair<std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator,bool> *v11; // eax@9
  int v12; // ecx@12
  char _Addleft; // [sp+Ch] [bp-4h]@1

  v3 = _Val;
  v4 = this;
  v5 = this->_Myhead;
  v6 = v5->_Parent;
  v7 = 1;
  _Addleft = 1;
  if ( !v6->_Isnil )
  {
    v8 = _Val->first;
    do
    {
      v7 = v8 < v6->_Myval.first;
      v5 = v6;
      _Addleft = v8 < v6->_Myval.first;
      if ( v8 >= v6->_Myval.first )
        v6 = v6->_Right;
      else
        v6 = v6->_Left;
    }
    while ( !v6->_Isnil );
  }
  v9 = (std::pair<CSessionPolicy * const,unsigned int> *)v5;
  _Val = (std::pair<CSessionPolicy * const,unsigned int> *)v5;
  if ( v7 )
  {
    if ( v5 == v4->_Myhead->_Left )
    {
      v10 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
                          v4,
                          (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)&_Val,
                          1,
                          v5,
                          v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      v11 = result;
      result->second = 1;
      *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v10;
      return v11;
    }
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    v9 = _Val;
  }
  if ( (CSessionPolicy *const )v9[1].second >= v3->first )
  {
    v11 = result;
    result->second = 0;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v9;
  }
  else
  {
    v12 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
                        v4,
                        (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)&_Val,
                        _Addleft,
                        v5,
                        v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v11 = result;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v12;
    result->second = 1;
  }
  return v11;
}

//----- (004143D0) --------------------------------------------------------
void __thiscall std::list<CListener___std::allocator<CListener__>>::push_back(std::list<CListener *,std::allocator<CListener *> > *this, CListener *const *_Val)
{
  std::list<CListener *,std::allocator<CListener *> > *v2; // esi@1
  std::_List_nod<CListener *,std::allocator<CListener *> >::_Node *v3; // edi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ebx@1

  v2 = this;
  v3 = this->_Myhead;
  v4 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
         (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)this,
         (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)this->_Myhead,
         (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v3->_Prev,
         (LogBuffer *const *)_Val);
  std::list<CListener___std::allocator<CListener__>>::_Incsize(v2, 1u);
  v3->_Prev = (std::_List_nod<CListener *,std::allocator<CListener *> >::_Node *)v4;
  v4->_Prev->_Next = v4;
}

//----- (00414410) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *_Right)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v2; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v3; // eax@1
  int v4; // [sp-Ch] [bp-20h]@1
  std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *thisa; // [sp+0h] [bp-14h]@1
  int *v6; // [sp+4h] [bp-10h]@1
  int v7; // [sp+10h] [bp-4h]@1

  v2 = this;
  v6 = &v4;
  thisa = (std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *)this;
  v3 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)this);
  v2->_Myhead = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v3;
  v3->_Isnil = 1;
  v2->_Myhead->_Parent = v2->_Myhead;
  v2->_Myhead->_Left = v2->_Myhead;
  v2->_Myhead->_Right = v2->_Myhead;
  v2->_Mysize = 0;
  v7 = 0;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Copy(
    v2,
    _Right);
}

//----- (004144A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::insert(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *this, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator _Where, std::pair<CSessionPolicy * const,unsigned int> *_Val)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> > *v4; // edi@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *v5; // eax@2
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v6; // eax@3
  std::pair<CSessionPolicy * const,unsigned int> *v7; // esi@3
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v8; // eax@7
  unsigned int v9; // ebp@9
  bool v10; // cf@9
  int v11; // ecx@21
  char v12; // [sp+8h] [bp-8h]@21

  v4 = this;
  if ( !this->_Mysize )
  {
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
      this,
      result,
      1,
      this->_Myhead,
      _Val);
    return result;
  }
  v6 = this->_Myhead;
  v7 = _Val;
  if ( (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Where == v6->_Left )
  {
    if ( _Val->first < (CSessionPolicy *const )*(_DWORD *)(*(_DWORD *)&_Where + 12) )
    {
      std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
        this,
        result,
        1,
        *(std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node **)&_Where,
        _Val);
      return result;
    }
    goto LABEL_21;
  }
  if ( (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Where == v6 )
  {
    v8 = v6->_Right;
    if ( v8->_Myval.first < _Val->first )
    {
      std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
        this,
        result,
        0,
        v8,
        _Val);
      return result;
    }
    goto LABEL_21;
  }
  v9 = (unsigned int)_Val->first;
  v10 = (CSessionPolicy *const )*(_DWORD *)(*(_DWORD *)&_Where + 12) < _Val->first;
  if ( (CSessionPolicy *const )*(_DWORD *)(*(_DWORD *)&_Where + 12) > _Val->first )
  {
    _Val = (std::pair<CSessionPolicy * const,unsigned int> *)_Where;
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    if ( _Val[1].second < v9 )
    {
      if ( BYTE1(_Val[1].first[1].m_lpSocketFactory) )
      {
        std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
          v4,
          result,
          0,
          (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Val,
          v7);
        v5 = result;
      }
      else
      {
        std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
          v4,
          result,
          1,
          *(std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node **)&_Where,
          v7);
        v5 = result;
      }
      return v5;
    }
    v10 = *(_DWORD *)(*(_DWORD *)&_Where + 12) < v9;
  }
  if ( !v10
    || (_Val = (std::pair<CSessionPolicy * const,unsigned int> *)_Where,
        std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&_Val),
        (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Val != v4->_Myhead)
    && v9 >= _Val[1].second )
  {
LABEL_21:
    v11 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::insert(
                        v4,
                        (std::pair<std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator,bool> *)&v12,
                        v7)->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v5 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v11;
    return v5;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&_Where + 8) + 21) )
  {
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
      v4,
      result,
      0,
      *(std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node **)&_Where,
      v7);
    v5 = result;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Insert(
      v4,
      result,
      1,
      (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)_Val,
      v7);
    v5 = result;
  }
  return v5;
}

//----- (00414610) --------------------------------------------------------
unsigned int *__thiscall std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::operator__(std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *this, CSessionPolicy *const *_Keyval)
{
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v2; // edx@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v3; // eax@1
  unsigned int *result; // eax@8
  std::pair<CSessionPolicy * const,unsigned int> _Val; // [sp+Ch] [bp-8h]@8

  v2 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)this->baseclass_0._Myhead;
  v3 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v2 + 4);
  while ( !*(_BYTE *)(*(_DWORD *)&v3 + 21) )
  {
    if ( (CSessionPolicy *const )*(_DWORD *)(*(_DWORD *)&v3 + 12) >= *_Keyval )
    {
      v2 = v3;
      v3 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)**(_DWORD **)&v3;
    }
    else
    {
      v3 = *(std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)(*(_DWORD *)&v3 + 8);
    }
  }
  if ( (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v2 != this->baseclass_0._Myhead
    && *_Keyval >= (CSessionPolicy *const )*(_DWORD *)(*(_DWORD *)&v2 + 12) )
  {
    result = (unsigned int *)(*(_DWORD *)&v2 + 16);
  }
  else
  {
    _Val.first = *_Keyval;
    _Val.second = 0;
    result = (unsigned int *)(*(_DWORD *)&std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::insert(
                                            &this->baseclass_0,
                                            (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator *)&_Keyval,
                                            v2,
                                            &_Val)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]
                            + 16);
  }
  return result;
}

//----- (00414690) --------------------------------------------------------
void __thiscall std::list<CListener___std::allocator<CListener__>>::_Splice(std::list<CListener *,std::allocator<CListener *> > *this, std::list<CListener *,std::allocator<CListener *> >::iterator _Where, std::list<CListener *,std::allocator<CListener *> > *_Right, std::list<CListener *,std::allocator<CListener *> >::iterator _First, std::list<CListener *,std::allocator<CListener *> >::iterator _Last, unsigned int _Count)
{
  int v6; // esi@3

  if ( this != _Right )
  {
    std::list<CListener___std::allocator<CListener__>>::_Incsize(this, _Count);
    _Right->_Mysize -= _Count;
  }
  **(_DWORD **)(*(_DWORD *)&_First + 4) = _Last;
  **(_DWORD **)(*(_DWORD *)&_Last + 4) = _Where;
  **(_DWORD **)(*(_DWORD *)&_Where + 4) = _First;
  v6 = *(_DWORD *)(*(_DWORD *)&_Where + 4);
  *(_DWORD *)(*(_DWORD *)&_Where + 4) = *(_DWORD *)(*(_DWORD *)&_Last + 4);
  *(_DWORD *)(*(_DWORD *)&_Last + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
  *(_DWORD *)(*(_DWORD *)&_First + 4) = v6;
}

//----- (004146E0) --------------------------------------------------------
void __thiscall CIOCPNet::CIOCPNet(CIOCPNet *this)
{
  CIOCPNet *v1; // edi@1
  void *v2; // eax@1
  CCompletionHandler *v3; // eax@2
  void *v4; // eax@4
  CThreadMgr *v5; // eax@5
  void *v6; // eax@7
  CSessionMgr *v7; // eax@8
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v8; // eax@10
  WSAData wsaData; // [sp+8h] [bp-1A0h]@10
  unsigned int v10; // [sp+198h] [bp-10h]@10
  int v11; // [sp+1A4h] [bp-4h]@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v11 = 0;
  v2 = operator new(0x10u, &std::nothrow);
  LOBYTE(v11) = 1;
  if ( v2 )
    CCompletionHandler::CCompletionHandler((CCompletionHandler *)v2);
  else
    v3 = 0;
  v1->m_lpSocketHandler = v3;
  v4 = operator new(0x21Cu, &std::nothrow);
  LOBYTE(v11) = 2;
  if ( v4 )
    CThreadMgr::CThreadMgr((CThreadMgr *)v4);
  else
    v5 = 0;
  v1->m_lpThreadMgr = v5;
  v6 = operator new(0x8Cu, &std::nothrow);
  LOBYTE(v11) = 3;
  if ( v6 )
    CSessionMgr::CSessionMgr((CSessionMgr *)v6);
  else
    v7 = 0;
  v1->m_lpSessionMgr = v7;
  v1->m_ListenerList._Myhead = (std::_List_nod<CListener *,std::allocator<CListener *> >::_Node *)std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_ListenerList);
  v1->m_ListenerList._Mysize = 0;
  LOBYTE(v11) = 4;
  v8 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)&v1->m_SessionPolicyMap);
  v1->m_SessionPolicyMap.baseclass_0._Myhead = (std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *)v8;
  v8->_Isnil = 1;
  v1->m_SessionPolicyMap.baseclass_0._Myhead->_Parent = v1->m_SessionPolicyMap.baseclass_0._Myhead;
  v1->m_SessionPolicyMap.baseclass_0._Myhead->_Left = v1->m_SessionPolicyMap.baseclass_0._Myhead;
  v1->m_SessionPolicyMap.baseclass_0._Myhead->_Right = v1->m_SessionPolicyMap.baseclass_0._Myhead;
  v1->m_SessionPolicyMap.baseclass_0._Mysize = 0;
  v1->m_dwFlags = 0;
  WSAStartup(0x202u, &wsaData);
  __security_check_cookie(v10);
}

//----- (00414830) --------------------------------------------------------
bool __thiscall CIOCPNet::AddListener(CIOCPNet *this, CSessionPolicy *lpSessionPolicy, const char *lpListenAddress, unsigned __int16 usPort, unsigned int dwMaxListenPeding, CValidateConnection *lpValidateConnection)
{
  CSessionPolicy *v6; // edi@1
  CIOCPNet *v7; // esi@1
  void *v8; // eax@8
  CValidateConnection *v9; // eax@9
  CValidateConnection *v10; // ebx@9
  bool result; // al@14
  unsigned int *v12; // eax@15
  _RTL_CRITICAL_SECTION *v13; // ST0C_4@15

  v6 = lpSessionPolicy;
  v7 = this;
  if ( lpSessionPolicy
    && lpSessionPolicy->m_lpBufferFactory
    && lpSessionPolicy->m_lpSocketFactory
    && lpSessionPolicy->m_lpDispatchFactory
    && lpSessionPolicy->m_lpOverlappedFactory
    && this->m_lpSocketHandler
    && this->m_lpSessionMgr )
  {
    v8 = operator new(0x5Cu, &std::nothrow);
    if ( v8 )
    {
      CListener::CListener((CListener *)v8, v7->m_lpSocketHandler, v6, v7->m_lpSessionMgr, lpValidateConnection);
      v10 = v9;
    }
    else
    {
      v10 = 0;
    }
    lpValidateConnection = v10;
    if ( !v10 )
      return 0;
    if ( !CListener::Initialize((CListener *)v10, lpListenAddress, usPort, dwMaxListenPeding) )
    {
      ((void (__thiscall *)(_DWORD, _DWORD))v10->vfptr->operator())(v10, 1);
      return 0;
    }
    CSessionPolicy::AddRef(v6);
    CLock<CCSLock>::Syncronize::Syncronize((CLock<CCSLock>::Syncronize *)&dwMaxListenPeding, &v7->m_IOCPLock);
    std::list<CListener___std::allocator<CListener__>>::push_back(
      &v7->m_ListenerList,
      (CListener *const *)&lpValidateConnection);
    v12 = std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::operator__(
            &v7->m_SessionPolicyMap,
            &lpSessionPolicy);
    v13 = (_RTL_CRITICAL_SECTION *)dwMaxListenPeding;
    ++*v12;
    LeaveCriticalSection(v13);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00414990) --------------------------------------------------------
bool __thiscall CIOCPNet::Connect(CIOCPNet *this, CSessionPolicy *lpSessionPolicy, const char *lpConnectAddress, unsigned __int16 usPort)
{
  CSessionPolicy *v4; // ebp@1
  CIOCPNet *v5; // edi@1
  const char *v6; // ebx@8
  bool result; // al@9
  CSession *v8; // eax@10
  CSession *v9; // esi@10
  INET_Addr *v10; // eax@12
  unsigned int *v11; // eax@12
  INET_Addr localAddr; // [sp+0h] [bp-34h]@12
  INET_Addr thisa; // [sp+14h] [bp-20h]@12
  int v14; // [sp+30h] [bp-4h]@12

  v4 = lpSessionPolicy;
  v5 = this;
  if ( lpSessionPolicy
    && lpSessionPolicy->m_lpBufferFactory
    && lpSessionPolicy->m_lpSocketFactory
    && lpSessionPolicy->m_lpDispatchFactory
    && lpSessionPolicy->m_lpOverlappedFactory
    && this->m_lpSocketHandler
    && this->m_lpSessionMgr )
  {
    v6 = lpConnectAddress;
    lpConnectAddress = (const char *)CSocketFactory::CreateConnectedSocket(
                                       lpSessionPolicy->m_lpSocketFactory,
                                       lpConnectAddress,
                                       usPort);
    if ( lpConnectAddress == (const char *)-1 )
    {
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CIOCPNet::Connect",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\IOCP\\IOCPNet.cpp",
        149,
        "Connected socket creation error : %d, destination : %s:%d");
      return 0;
    }
    v8 = CSessionMgr::CreateSession(v5->m_lpSessionMgr, v4);
    v9 = v8;
    if ( v8 )
    {
      if ( CCompletionHandler::AttachToHander(v5->m_lpSocketHandler, (void *)lpConnectAddress, (unsigned int)v8) )
      {
        *(_DWORD *)&localAddr.m_SockAddr.sa_family = 0;
        v9->m_hSocket = (unsigned int)lpConnectAddress;
        *(_DWORD *)&localAddr.m_SockAddr.sa_data[2] = 0;
        *(_DWORD *)&localAddr.m_SockAddr.sa_data[6] = 0;
        localAddr.m_iAddrLen = 0;
        *(_DWORD *)&localAddr.m_SockAddr.sa_data[10] = 0;
        INET_Addr::INET_Addr(&thisa, v6, usPort);
        CSession::SetAddress(v9, v10, &localAddr);
        CServerLog::DetailLog(
          &g_SessionLog,
          LOG_DETAIL,
          "CIOCPNet::Connect",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\IOCP\\IOCPNet.cpp",
          165,
          "SP:0x%p/DP:0x%p/IP:%15s/ Connect Success.");
        CSession::InternalRecv(v9);
        CSessionMgr::Add(v5->m_lpSessionMgr, v9);
        CSessionPolicy::AddRef(v4);
        CLock<CCSLock>::Syncronize::Syncronize((CLock<CCSLock>::Syncronize *)&usPort, &v5->m_IOCPLock);
        v14 = 0;
        v11 = std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::operator__(
                &v5->m_SessionPolicyMap,
                &lpSessionPolicy);
        ++*v11;
        LeaveCriticalSection((LPCRITICAL_SECTION)usPort);
        return 1;
      }
      CSessionMgr::DeleteSession(v5->m_lpSessionMgr, v9);
    }
    closesocket((SOCKET)lpConnectAddress);
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00414B90) --------------------------------------------------------
void __thiscall CIOCPNet::DestroyListener(CIOCPNet *this)
{
  CIOCPNet *v1; // edi@1
  void *v2; // esi@1
  unsigned int v3; // edx@2
  void *i; // edi@4
  int v5; // ecx@5
  void *v6; // eax@8
  bool v7; // zf@8
  void *v8; // edi@9
  std::list<CListener *,std::allocator<CListener *> > deleteList; // [sp+4h] [bp-18h]@1
  int v10; // [sp+18h] [bp-4h]@1

  v1 = this;
  v2 = std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&deleteList);
  deleteList._Myhead = (std::_List_nod<CListener *,std::allocator<CListener *> >::_Node *)v2;
  deleteList._Mysize = 0;
  v10 = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)v1);
  LOBYTE(v10) = 1;
  if ( &deleteList != &v1->m_ListenerList )
  {
    v3 = v1->m_ListenerList._Mysize;
    if ( v3 )
    {
      std::list<CListener___std::allocator<CListener__>>::_Splice(
        &deleteList,
        (std::list<CListener *,std::allocator<CListener *> >::iterator)v2,
        &v1->m_ListenerList,
        (std::list<CListener *,std::allocator<CListener *> >::iterator)v1->m_ListenerList._Myhead->_Next,
        (std::list<CListener *,std::allocator<CListener *> >::iterator)v1->m_ListenerList._Myhead,
        v3);
      v2 = deleteList._Myhead;
    }
  }
  LOBYTE(v10) = 0;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  for ( i = *(void **)v2; i != v2; i = *(void **)i )
  {
    v5 = *((_DWORD *)i + 2);
    if ( v5 )
      (**(void (__stdcall ***)(_DWORD))v5)(1);
  }
  v6 = *(void **)v2;
  v7 = *(_DWORD *)v2 == (_DWORD)v2;
  *(_DWORD *)v2 = v2;
  *((_DWORD *)v2 + 1) = v2;
  if ( !v7 )
  {
    do
    {
      v8 = *(void **)v6;
      operator delete(v6);
      v6 = v8;
    }
    while ( v8 != v2 );
  }
  operator delete(v2);
}

//----- (00414C70) --------------------------------------------------------
bool __thiscall CIOCPNet::Destroy(CIOCPNet *this)
{
  CIOCPNet *v1; // esi@1
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v2; // ST08_4@2
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v3; // eax@2
  CThreadMgr *v4; // ebp@2
  CCompletionHandler *v5; // ebx@2
  CSessionMgr *v6; // edi@2
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v7; // ecx@8
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v8; // esi@8
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v9; // ebx@8
  unsigned int v10; // edi@10
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *v11; // eax@14
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *j; // eax@15
  std::_Tree_nod<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::_Node *i; // eax@18
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v14; // ST04_4@23
  bool v15; // al@23
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator result; // [sp+8h] [bp-1Ch]@23
  std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > tempMap; // [sp+Ch] [bp-18h]@2
  int v18; // [sp+20h] [bp-4h]@2

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( v1->m_dwFlags & 2 )
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v1);
    v15 = 0;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>(
      &tempMap.baseclass_0,
      &v1->m_SessionPolicyMap.baseclass_0);
    v2 = v1->m_SessionPolicyMap.baseclass_0._Myhead->_Parent;
    v18 = 0;
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::_Erase(
      &v1->m_SessionPolicyMap.baseclass_0,
      v2);
    v1->m_SessionPolicyMap.baseclass_0._Myhead->_Parent = v1->m_SessionPolicyMap.baseclass_0._Myhead;
    v3 = v1->m_SessionPolicyMap.baseclass_0._Myhead;
    v1->m_SessionPolicyMap.baseclass_0._Mysize = 0;
    v3->_Left = v3;
    v1->m_SessionPolicyMap.baseclass_0._Myhead->_Right = v1->m_SessionPolicyMap.baseclass_0._Myhead;
    v4 = v1->m_lpThreadMgr;
    v1->m_lpThreadMgr = 0;
    v5 = v1->m_lpSocketHandler;
    v1->m_lpSocketHandler = 0;
    v6 = v1->m_lpSessionMgr;
    v1->m_lpSessionMgr = 0;
    v1->m_dwFlags |= 2u;
    LeaveCriticalSection((LPCRITICAL_SECTION)v1);
    CIOCPNet::DestroyListener(v1);
    if ( v6 )
    {
      CSessionMgr::_CSessionMgr(v6);
      operator delete(v6);
    }
    if ( v4 )
      v4->vfptr->__vecDelDtor(v4, 1u);
    if ( v5 )
      v5->vfptr->__vecDelDtor(v5, 1u);
    v7 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)tempMap.baseclass_0._Myhead;
    v8 = tempMap.baseclass_0._Myhead->_Left;
    v9 = tempMap.baseclass_0._Myhead;
    while ( v8 != v9 )
    {
      if ( v8->_Myval.second )
      {
        v10 = v8->_Myval.second;
        do
        {
          CSessionPolicy::Release(v8->_Myval.first);
          --v10;
        }
        while ( v10 );
        v7 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)tempMap.baseclass_0._Myhead;
      }
      if ( !v8->_Isnil )
      {
        v11 = v8->_Right;
        if ( v11->_Isnil )
        {
          for ( i = v8->_Parent; !i->_Isnil; i = i->_Parent )
          {
            if ( v8 != i->_Right )
              break;
            v8 = i;
          }
          v8 = i;
        }
        else
        {
          v8 = v8->_Right;
          for ( j = v11->_Left; !j->_Isnil; j = j->_Left )
            v8 = j;
        }
      }
    }
    v14 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)**(_DWORD **)&v7;
    v18 = -1;
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(
      &tempMap.baseclass_0,
      &result,
      v14,
      v7);
    operator delete(tempMap.baseclass_0._Myhead);
    v15 = 1;
  }
  return v15;
}

//----- (00414E00) --------------------------------------------------------
void __thiscall CIOCPNet::_CIOCPNet(CIOCPNet *this)
{
  CIOCPNet *v1; // edi@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v2; // ST08_4@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator v3; // ST04_4@1
  std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator result; // [sp+Ch] [bp-10h]@1
  int v5; // [sp+18h] [bp-4h]@1

  v1 = this;
  v5 = 2;
  CIOCPNet::Destroy(this);
  WSACleanup();
  v2 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)v1->m_SessionPolicyMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> >,0> >::iterator)v1->m_SessionPolicyMap.baseclass_0._Myhead->_Left;
  LOBYTE(v5) = 1;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::erase(
    &v1->m_SessionPolicyMap.baseclass_0,
    &result,
    v3,
    v2);
  operator delete(v1->m_SessionPolicyMap.baseclass_0._Myhead);
  v1->m_SessionPolicyMap.baseclass_0._Myhead = 0;
  v1->m_SessionPolicyMap.baseclass_0._Mysize = 0;
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_ListenerList);
  operator delete(v1->m_ListenerList._Myhead);
  v1->m_ListenerList._Myhead = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (00414EA0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v2; // ecx@1

  result = _Pnode;
  v2 = _Pnode->_Left;
  if ( !_Pnode->_Left->_Isnil )
  {
    do
    {
      result = v2;
      v2 = v2->_Left;
    }
    while ( !v2->_Isnil );
  }
  return result;
}

//----- (00414EC0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *i; // ecx@1

  result = _Pnode;
  for ( i = _Pnode->_Right; !i->_Isnil; i = i->_Right )
    result = i;
  return result;
}

//----- (00414EE0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@2
  int j; // eax@3
  int i; // eax@6

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( !*(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 65) )
  {
    v2 = *(_DWORD *)(v1 + 8);
    if ( *(_BYTE *)(v2 + 65) )
    {
      for ( i = *(_DWORD *)(v1 + 4); !*(_BYTE *)(i + 65); i = *(_DWORD *)(i + 4) )
      {
        if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)(i + 8) )
          break;
        *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
      }
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
    }
    else
    {
      for ( j = *(_DWORD *)v2; !*(_BYTE *)(j + 65); j = *(_DWORD *)j )
        v2 = j;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (00414F40) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v3; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v4; // ecx@5

  v2 = _Wherenode->_Right;
  _Wherenode->_Right = v2->_Left;
  if ( !v2->_Left->_Isnil )
    v2->_Left->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v3 = this->_Myhead;
  if ( _Wherenode == v3->_Parent )
  {
    v3->_Parent = v2;
    v2->_Left = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v4 = _Wherenode->_Parent;
    if ( _Wherenode == v4->_Left )
    {
      v4->_Left = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v4->_Right = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (00414FA0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v3; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v4; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v5; // ecx@5

  v2 = _Wherenode->_Left;
  _Wherenode->_Left = _Wherenode->_Left->_Right;
  v3 = v2->_Right;
  if ( !v3->_Isnil )
    v3->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v4 = this->_Myhead;
  if ( _Wherenode == v4->_Parent )
  {
    v4->_Parent = v2;
    v2->_Right = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v5 = _Wherenode->_Parent;
    if ( _Wherenode == v5->_Right )
    {
      v5->_Right = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v5->_Left = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (00415000) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (00415040) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)operator new(0x48u);
  if ( result )
    result->_Left = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)-4 )
    result->_Parent = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)-8 )
    result->_Right = 0;
  result->_Color = 1;
  result->_Isnil = 0;
  return result;
}

//----- (00415080) --------------------------------------------------------
bool __thiscall CPerformanceCheck::PrintAllTime(CPerformanceCheck *this, const char *fileName, bool bReset)
{
  int v3; // edi@4
  HANDLE i; // esi@4
  CCSLock *v5; // ebx@8
  _iobuf *v6; // esi@8
  void *v7; // eax@11
  int v8; // edi@13
  int v9; // ecx@13
  double v10; // st7@16
  void *v11; // eax@20
  int v12; // esi@23
  int v13; // eax@23
  bool result; // al@26
  int dwHighValue; // [sp+34h] [bp-23Ch]@5
  CLock<CCSLock>::Syncronize sync; // [sp+38h] [bp-238h]@1
  DWORD dwFileSize; // [sp+3Ch] [bp-234h]@5
  double fTotalAvgTime; // [sp+40h] [bp-230h]@13
  char strLogPath[260]; // [sp+48h] [bp-228h]@2
  char strLogFileName[260]; // [sp+150h] [bp-120h]@4
  unsigned int cookie; // [sp+25Ch] [bp-14h]@26
  int v22; // [sp+26Ch] [bp-4h]@8

  sync.m_Lock = (CCSLock *)this;
  if ( this->m_InstrumentTable.baseclass_0._Mysize )
  {
    DbgUtils::SetProgramName(strLogPath, 260, 0);
    if ( GetFileAttributesA(strLogPath) != -1 || CreateDirectoryA(strLogPath, 0) )
    {
      v3 = 0;
      _snprintf(strLogFileName, 0x104u, "%s/PerformanceLog-%s-%05d.log");
      for ( i = CreateFileA(strLogFileName, 0x40000000u, 1u, 0, 3u, 0x80u, 0);
            i != (HANDLE)-1;
            i = CreateFileA(strLogFileName, 0x40000000u, 1u, 0, 3u, 0x80u, 0) )
      {
        dwHighValue = 0;
        dwFileSize = GetFileSize(i, (LPDWORD)&dwHighValue);
        CloseHandle(i);
        if ( !dwHighValue && dwFileSize < 0x3200000 )
          break;
        ++v3;
        _snprintf(strLogFileName, 0x104u, "%s/PerformanceLog-%s-%05d.log");
      }
      v5 = sync.m_Lock;
      EnterCriticalSection((LPCRITICAL_SECTION)sync.m_Lock);
      v22 = 0;
      v6 = fopen(strLogFileName, "at");
      if ( v6 )
      {
        v7 = v5[2].___u0.m_CSLock.OwningThread;
        if ( v7 )
          ((void (__cdecl *)(_iobuf *))v7)(v6);
        fprintf(
          v6,
          "    Average :    Minimum :    Maximum :        Total :         # :   Profile Name\n------------------------------------------------------------------------------------------------\n");
        v8 = v5[2].___u0.m_CSLock.LockCount;
        fTotalAvgTime = 0.0;
        v9 = *(_DWORD *)v8;
        for ( dwHighValue = *(_DWORD *)v8; dwHighValue != v8; v9 = dwHighValue )
        {
          if ( *(_DWORD *)(v9 + 56) )
          {
            if ( 0.0 == *(double *)(v9 + 24) )
              v10 = 0.0;
            else
              v10 = *(double *)(v9 + 24) / (double)*(unsigned int *)(v9 + 52);
            fTotalAvgTime = fTotalAvgTime + v10;
            fprintf(v6, "   %3.6f     %3.6f     %3.6f      %8.1f    %10d    %s\n");
          }
          std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::const_iterator *)&dwHighValue);
        }
        fprintf(v6, "\n\n Total AvgTime : %3.6f\n\n\n");
        v11 = v5[2].___u0.m_CSLock.LockSemaphore;
        if ( v11 )
          ((void (__cdecl *)(_iobuf *))v11)(v6);
        fclose(v6);
        if ( bReset )
        {
          v12 = v5[2].___u0.m_CSLock.LockCount;
          v13 = *(_DWORD *)v12;
          for ( dwHighValue = *(_DWORD *)v12; dwHighValue != v12; v13 = dwHighValue )
          {
            *(double *)(v13 + 40) = 0.0;
            *(_DWORD *)(v13 + 52) = 0;
            *(double *)(v13 + 32) = 0.0;
            *(double *)(v13 + 24) = 0.0;
            std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::const_iterator *)&dwHighValue);
          }
        }
        LeaveCriticalSection((LPCRITICAL_SECTION)v5);
      }
      else
      {
        LeaveCriticalSection((LPCRITICAL_SECTION)v5);
      }
    }
  }
  __security_check_cookie(cookie);
  return result;
}

//----- (00415360) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 65) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::const_iterator::_Inc(&_Where.baseclass_0);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 65) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 65) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 65) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node **)&v5);
      v9->_Left = v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 65) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v7;
      else
        v11->_Right = std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 65) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 65) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 64);
  *(_BYTE *)(*(_DWORD *)&v6 + 64) = *(_BYTE *)(*(_DWORD *)&v4 + 64);
  *(_BYTE *)(*(_DWORD *)&v4 + 64) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 64) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 64) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 64) )
          {
            *(_BYTE *)(v15 + 64) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 64) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 65) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 64) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 64) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 64) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 64) = 1;
              *(_BYTE *)(v15 + 64) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Rrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 64) = *(_BYTE *)(*(_DWORD *)&v7 + 64);
            *(_BYTE *)(*(_DWORD *)&v7 + 64) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 64) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 64) )
          {
            *(_BYTE *)(v15 + 64) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 64) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 65) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 64) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 64) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 64) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 64) = 1;
              *(_BYTE *)(v15 + 64) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Lrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 64) = *(_BYTE *)(*(_DWORD *)&v7 + 64);
            *(_BYTE *)(*(_DWORD *)&v7 + 64) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 64) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 64) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 64) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (00415620) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 65) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 65) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 65);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 65);
                  j = (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (004156E0) --------------------------------------------------------
void __thiscall std::multimap<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>>::_multimap<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>>(std::multimap<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> > > *this)
{
  std::multimap<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (00415710) --------------------------------------------------------
void __thiscall CPerformanceCheck::_CPerformanceCheck(CPerformanceCheck *this)
{
  CPerformanceCheck *v1; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v2; // ST08_4@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v3; // eax@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v4; // ST08_4@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator v5; // ST04_4@1
  CLock<CCSLock>::Syncronize sync; // [sp+4h] [bp-10h]@1
  int v7; // [sp+10h] [bp-4h]@1

  v1 = this;
  v7 = 0;
  sync.m_Lock = (CCSLock *)this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_InstrumentTable.baseclass_0._Myhead->_Parent;
  LOBYTE(v7) = 2;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Erase(
    &v1->m_InstrumentTable.baseclass_0,
    v2);
  v1->m_InstrumentTable.baseclass_0._Myhead->_Parent = v1->m_InstrumentTable.baseclass_0._Myhead;
  v3 = v1->m_InstrumentTable.baseclass_0._Myhead;
  v1->m_InstrumentTable.baseclass_0._Mysize = 0;
  v3->_Left = v3;
  v1->m_InstrumentTable.baseclass_0._Myhead->_Right = v1->m_InstrumentTable.baseclass_0._Myhead;
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  v4 = (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)v1->m_InstrumentTable.baseclass_0._Myhead;
  v5 = (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator)v1->m_InstrumentTable.baseclass_0._Myhead->_Left;
  LOBYTE(v7) = 0;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::erase(
    &v1->m_InstrumentTable.baseclass_0,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::iterator *)&sync,
    v5,
    v4);
  operator delete(v1->m_InstrumentTable.baseclass_0._Myhead);
  v1->m_InstrumentTable.baseclass_0._Myhead = 0;
  v1->m_InstrumentTable.baseclass_0._Mysize = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (004157C0) --------------------------------------------------------
void __thiscall CPerformanceCheck::CPerformanceCheck(CPerformanceCheck *this)
{
  CPerformanceCheck *v1; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> >,1> >::_Node *v2; // eax@1
  unsigned __int64 v3; // ST18_8@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v2 = std::_Tree<std::_Tmap_traits<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>_1>>::_Buynode(&v1->m_InstrumentTable.baseclass_0);
  v1->m_InstrumentTable.baseclass_0._Myhead = v2;
  v2->_Isnil = 1;
  v1->m_InstrumentTable.baseclass_0._Myhead->_Parent = v1->m_InstrumentTable.baseclass_0._Myhead;
  v1->m_InstrumentTable.baseclass_0._Myhead->_Left = v1->m_InstrumentTable.baseclass_0._Myhead;
  v1->m_InstrumentTable.baseclass_0._Myhead->_Right = v1->m_InstrumentTable.baseclass_0._Myhead;
  v1->m_InstrumentTable.baseclass_0._Mysize = 0;
  v1->m_fnPreFix = 0;
  v1->m_fnPostFix = 0;
  v3 = __rdtsc();
  Sleep(0x3E8u);
  *(_QWORD *)&v1->m_Frequency._s0.LowPart = __rdtsc() - v3 - 57;
  v1->m_fFrequency = (double)*(signed __int64 *)&v1->m_Frequency._s0.LowPart;
}

//----- (00415880) --------------------------------------------------------
CPerformanceCheck *__cdecl CPerformanceCheck::GetInstance()
{
  if ( !(_S1_8 & 1) )
  {
    _S1_8 |= 1u;
    CPerformanceCheck::CPerformanceCheck(&performanceCheck);
    atexit(_E2_8);
  }
  return &performanceCheck;
}

//----- (004158E0) --------------------------------------------------------
void __thiscall CTCPFactory::CTCPFactory(CTCPFactory *this)
{
  this->baseclass_0.baseclass_0.m_nSockFamily = 2;
  this->baseclass_0.baseclass_0.m_nSockType = 1;
  this->baseclass_0.baseclass_0.m_nSockProtocol = 6;
  this->baseclass_0.baseclass_0.m_nAddressLen = 16;
  this->baseclass_0.baseclass_0.vfptr = (CSocketFactoryVtbl *)&CTCPFactory::_vftable_;
}
// 455DC0: using guessed type int (__thiscall *CTCPFactory___vftable_)(void *p, char);

//----- (00415910) --------------------------------------------------------
void *__thiscall CTCPFactory::_scalar_deleting_destructor_(CTCPFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CTCPFactory::_CTCPFactory(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00415930) --------------------------------------------------------
unsigned int __thiscall CSocketFactory::CreateSocket(CSocketFactory *this)
{
  return WSASocketA(this->m_nSockFamily, this->m_nSockType, this->m_nSockProtocol, 0, 0, 1u);
}

//----- (00415950) --------------------------------------------------------
unsigned int __thiscall CSocketFactory::CreateConnectedSocket(CSocketFactory *this, const char *lpConnAddr, unsigned __int16 usPort)
{
  CSocketFactory *v3; // edi@1
  unsigned int result; // eax@2
  SOCKET v5; // esi@3
  sockaddr sockAddr; // [sp+Ch] [bp-14h]@1

  v3 = this;
  if ( (unsigned __int8)((int (__stdcall *)(sockaddr *, const char *, _DWORD))this->vfptr->SetAddr)(
                          &sockAddr,
                          lpConnAddr,
                          usPort) )
  {
    v5 = v3->vfptr->CreateSocket(v3);
    if ( v5 != -1 )
    {
      if ( connect(v5, &sockAddr, v3->m_nAddressLen) == -1 )
      {
        closesocket(v5);
        v5 = -1;
      }
    }
    result = v5;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (004159D0) --------------------------------------------------------
unsigned int __thiscall CSocketFactory::CreateBindedSocket(CSocketFactory *this, const char *lpBindAddr, unsigned __int16 usPort)
{
  CSocketFactory *v3; // edi@1
  unsigned int result; // eax@2
  SOCKET v5; // esi@3
  sockaddr sockAddr; // [sp+Ch] [bp-14h]@1

  v3 = this;
  if ( (unsigned __int8)((int (__stdcall *)(sockaddr *, const char *, _DWORD))this->vfptr->SetAddr)(
                          &sockAddr,
                          lpBindAddr,
                          usPort) )
  {
    v5 = v3->vfptr->CreateSocket(v3);
    if ( v5 != -1 )
    {
      *(_DWORD *)&usPort = 1;
      if ( setsockopt(v5, 65535, 4, (const char *)&usPort, 4) == -1 || bind(v5, &sockAddr, v3->m_nAddressLen) == -1 )
      {
        closesocket(v5);
        v5 = -1;
      }
    }
    result = v5;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00415A70) --------------------------------------------------------
unsigned int __thiscall CSocketFactory::CreateListenSocket(CSocketFactory *this, const char *lpListenAddr, unsigned __int16 usPort, int nBackLog)
{
  signed int v4; // edi@1
  unsigned int v5; // eax@3
  unsigned int v6; // esi@3
  unsigned int result; // eax@5

  v4 = nBackLog;
  if ( nBackLog >= 63 )
    v4 = 63;
  v5 = CSocketFactory::CreateBindedSocket(this, lpListenAddr, usPort);
  v6 = v5;
  if ( v5 == -1 || listen(v5, v4) != -1 )
  {
    result = v6;
  }
  else
  {
    closesocket(v6);
    result = -1;
  }
  return result;
}

//----- (00415AC0) --------------------------------------------------------
bool __thiscall CINETFamilyFactory::SetAddr(CINETFamilyFactory *this, sockaddr *lpSA, const char *szAddr, unsigned __int16 usPort)
{
  CINETFamilyFactory *v4; // edi@1

  v4 = this;
  *(_DWORD *)&lpSA->sa_family = 0;
  *(_DWORD *)&lpSA->sa_data[2] = 0;
  *(_DWORD *)&lpSA->sa_data[6] = 0;
  *(_DWORD *)&lpSA->sa_data[10] = 0;
  if ( szAddr )
  {
    lpSA->sa_family = LOWORD(this->baseclass_0.m_nSockFamily);
    *(_DWORD *)&lpSA->sa_data[2] = inet_addr(szAddr);
    *(_WORD *)&lpSA->sa_data[0] = htons(usPort);
    if ( !*(_DWORD *)&lpSA->sa_data[2] )
      return 0;
  }
  else
  {
    *(_DWORD *)&lpSA->sa_data[2] = htonl(0);
  }
  lpSA->sa_family = LOWORD(v4->baseclass_0.m_nSockFamily);
  *(_WORD *)&lpSA->sa_data[0] = htons(usPort);
  return 1;
}

//----- (00415B40) --------------------------------------------------------
bool __thiscall CINETFamilyFactory::GetNetworkInfo(CINETFamilyFactory *this, char *Address_Out, int nMaxBufferSize)
{
  struct hostent *v3; // eax@2
  char **v4; // eax@3
  int v5; // esi@3
  int v6; // ebx@4
  char *v7; // eax@4
  char *v8; // ecx@11
  bool result; // al@13
  struct hostent *pHost; // [sp+10h] [bp-108h]@2
  char szHostName[256]; // [sp+14h] [bp-104h]@1

  if ( !gethostname(szHostName, 255)
    && (szHostName[255] = 0, v3 = gethostbyname(szHostName), (pHost = v3) != 0)
    && (v4 = v3->h_addr_list, v5 = 0, *v4) )
  {
    do
    {
      v6 = *(_DWORD *)v4[v5];
      v7 = inet_ntoa(*(struct in_addr *)v4[v5]);
      strncpy(Address_Out, v7, nMaxBufferSize - 1);
      Address_Out[nMaxBufferSize - 1] = 0;
      if ( (_BYTE)v6 != 10 )
      {
        if ( (_BYTE)v6 == -84 )
        {
          if ( BYTE1(v6) < 0x10u || BYTE1(v6) > 0x1Fu )
            goto LABEL_13;
        }
        else
        {
          if ( (_BYTE)v6 != -64 || BYTE1(v6) != -88 )
            goto LABEL_13;
        }
      }
      v4 = pHost->h_addr_list;
      v8 = v4[v5++ + 1];
    }
    while ( v8 );
    if ( !v5 )
      goto LABEL_14;
LABEL_13:
    result = 1;
  }
  else
  {
LABEL_14:
    result = 0;
  }
  return result;
}

//----- (00415C20) --------------------------------------------------------
void __thiscall CBufferFactory::_CBufferFactory(CBufferFactory *this)
{
  this->vfptr = (CBufferFactoryVtbl *)&CBufferFactory::_vftable_;
}
// 455DD0: using guessed type int (__thiscall *CBufferFactory___vftable_)(void *p, char);

//----- (00415C30) --------------------------------------------------------
void *__thiscall CBufferFactory::_scalar_deleting_destructor_(CBufferFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (CBufferFactoryVtbl *)&CBufferFactory::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 455DD0: using guessed type int (__thiscall *CBufferFactory___vftable_)(void *p, char);

//----- (00415C50) --------------------------------------------------------
void __cdecl std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(int *_First, int *_Last, const int *_Val)
{
  int *i; // eax@1

  for ( i = _First; i != _Last; ++i )
    *i = *_Val;
}

//----- (00415C70) --------------------------------------------------------
void __thiscall CPoolBufferFactory::Release(CPoolBufferFactory *this, CBuffer *buffer)
{
  CBuffer *v2; // esi@1
  CPoolBufferFactory *v3; // edi@1
  boost::pool<boost::default_user_allocator_new_delete> **v4; // eax@2
  boost::pool<boost::default_user_allocator_new_delete> **v5; // edx@2
  boost::pool<boost::default_user_allocator_new_delete> *v6; // ecx@3
  void *v7; // ebx@6
  char **v8; // edi@8
  _RTL_CRITICAL_SECTION *buffera; // [sp+10h] [bp+4h]@2

  v2 = buffer;
  v3 = this;
  if ( buffer )
  {
    buffera = (_RTL_CRITICAL_SECTION *)&this->m_BufferLock;
    EnterCriticalSection((LPCRITICAL_SECTION)&this->m_BufferLock);
    v4 = v3->m_PoolArray._Myfirst;
    v5 = v3->m_PoolArray._Mylast;
    if ( v4 == v5 )
      goto LABEL_7;
    while ( 1 )
    {
      v6 = *v4;
      if ( v2->buffer_size_ <= (*v4)->requested_size )
        break;
      ++v4;
      if ( v4 == v5 )
        goto LABEL_7;
    }
    v7 = v2->internal_buffer_;
    *(_DWORD *)v2->internal_buffer_ = v6->baseclass_0.first;
    v6->baseclass_0.first = v7;
    if ( v4 == v5 )
LABEL_7:
      operator delete__(v2->internal_buffer_);
    operator delete(v2);
    v8 = (char **)v3->m_lpBufferPool;
    v2->internal_buffer_ = *v8;
    *v8 = (char *)v2;
    LeaveCriticalSection(buffera);
  }
}

//----- (00415D10) --------------------------------------------------------
int *__thiscall std::vector<char___std::allocator<char__>>::_Ufill(std::vector<int,std::allocator<int> > *this, int *_Ptr, unsigned int _Count, const int *_Val)
{
  int *v4; // eax@1
  unsigned int v5; // ecx@2

  v4 = _Ptr;
  if ( _Count )
  {
    v5 = _Count;
    do
    {
      *v4 = *_Val;
      ++v4;
      --v5;
    }
    while ( v5 );
  }
  return &_Ptr[_Count];
}

//----- (00415D40) --------------------------------------------------------
CBuffer *__thiscall CPoolBufferFactory::Create(CPoolBufferFactory *this, unsigned int size)
{
  CPoolBufferFactory *v2; // esi@1
  boost::pool<boost::default_user_allocator_new_delete> *v3; // ecx@1
  void *v4; // eax@1
  CBuffer *v5; // edi@1
  boost::pool<boost::default_user_allocator_new_delete> **v6; // edx@5
  CBuffer *v7; // eax@5
  boost::pool<boost::default_user_allocator_new_delete> **v8; // eax@5
  boost::pool<boost::default_user_allocator_new_delete> *v9; // ecx@6
  void *v10; // eax@9
  char **v11; // esi@15
  _RTL_CRITICAL_SECTION *sync; // [sp+4h] [bp-14h]@1

  v2 = this;
  sync = (_RTL_CRITICAL_SECTION *)&this->m_BufferLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_BufferLock);
  v3 = v2->m_lpBufferPool;
  v4 = v3->baseclass_0.first;
  v5 = 0;
  if ( v3->baseclass_0.first )
    v3->baseclass_0.first = *(void **)v4;
  else
    v4 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v3);
  if ( v4 )
  {
    CBuffer::CBuffer((CBuffer *)v4, &v2->baseclass_0);
    v6 = v2->m_PoolArray._Mylast;
    v5 = v7;
    v8 = v2->m_PoolArray._Myfirst;
    if ( v8 == v6 )
      goto LABEL_13;
    while ( 1 )
    {
      v9 = *v8;
      if ( size <= (*v8)->requested_size )
        break;
      ++v8;
      if ( v8 == v6 )
        goto LABEL_13;
    }
    v10 = v9->baseclass_0.first;
    if ( v9->baseclass_0.first )
      v9->baseclass_0.first = *(void **)v10;
    else
      v10 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v9);
    if ( !v10 )
    {
LABEL_13:
      v10 = operator new__(size);
      if ( !v10 )
      {
        v11 = (char **)v2->m_lpBufferPool;
        v5->internal_buffer_ = *v11;
        *v11 = (char *)v5;
        v5 = 0;
        goto LABEL_16;
      }
    }
    CBuffer::init(v5, (char *)v10, size);
  }
LABEL_16:
  LeaveCriticalSection(sync);
  return v5;
}

//----- (00415E20) --------------------------------------------------------
void __thiscall CPoolBufferFactory::Destroy(CPoolBufferFactory *this)
{
  CPoolBufferFactory *v1; // ebp@1
  _RTL_CRITICAL_SECTION *v2; // ebx@1
  void *v3; // esi@1
  boost::pool<boost::default_user_allocator_new_delete> **v4; // esi@3
  boost::pool<boost::default_user_allocator_new_delete> **v5; // edi@3
  boost::pool<boost::default_user_allocator_new_delete> *v6; // ebx@4
  void *v7; // eax@5
  unsigned int v8; // ecx@5
  void *v9; // esi@6
  unsigned int v10; // edi@6
  boost::pool<boost::default_user_allocator_new_delete> **pos; // [sp+Ch] [bp-Ch]@3
  boost::pool<boost::default_user_allocator_new_delete> **end; // [sp+10h] [bp-8h]@3
  char *sync; // [sp+14h] [bp-4h]@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_BufferLock;
  sync = (char *)&this->m_BufferLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_BufferLock);
  v3 = v1->m_lpBufferPool;
  if ( v3 )
  {
    boost::pool<boost::default_user_allocator_new_delete>::purge_memory(v1->m_lpBufferPool);
    operator delete(v3);
  }
  v4 = v1->m_PoolArray._Myfirst;
  v5 = v1->m_PoolArray._Mylast;
  v1->m_lpBufferPool = 0;
  pos = v4;
  end = v5;
  if ( v4 != v5 )
  {
    do
    {
      v6 = *v4;
      if ( *v4 )
      {
        v7 = v6->list.ptr;
        v8 = v6->list.sz;
        if ( v7 )
        {
          do
          {
            v9 = *(void **)((char *)v7 + v8 - 8);
            v10 = *(_DWORD *)((char *)v7 + v8 - 4);
            operator delete__(v7);
            v7 = v9;
            v8 = v10;
          }
          while ( v9 );
          v5 = end;
          v6->list.ptr = 0;
          v6->baseclass_0.first = 0;
          v4 = pos;
        }
        operator delete(v6);
      }
      ++v4;
      pos = v4;
    }
    while ( v4 != v5 );
    v2 = (_RTL_CRITICAL_SECTION *)sync;
  }
  if ( v1->m_PoolArray._Myfirst )
    operator delete(v1->m_PoolArray._Myfirst);
  v1->m_PoolArray._Myfirst = 0;
  v1->m_PoolArray._Mylast = 0;
  v1->m_PoolArray._Myend = 0;
  LeaveCriticalSection(v2);
}

//----- (00415EE0) --------------------------------------------------------
void __thiscall CPoolBufferFactory::_CPoolBufferFactory(CPoolBufferFactory *this)
{
  CPoolBufferFactory *v1; // esi@1

  v1 = this;
  this->baseclass_0.vfptr = (CBufferFactoryVtbl *)&CPoolBufferFactory::_vftable_;
  CPoolBufferFactory::Destroy(this);
  if ( v1->m_PoolArray._Myfirst )
    operator delete(v1->m_PoolArray._Myfirst);
  v1->m_PoolArray._Myfirst = 0;
  v1->m_PoolArray._Mylast = 0;
  v1->m_PoolArray._Myend = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferLock);
  v1->baseclass_0.vfptr = (CBufferFactoryVtbl *)&CBufferFactory::_vftable_;
}
// 455DD0: using guessed type int (__thiscall *CBufferFactory___vftable_)(void *p, char);
// 455DE0: using guessed type int (__thiscall *CPoolBufferFactory___vftable_)(void *p, char);

//----- (00415F30) --------------------------------------------------------
void __thiscall std::vector<boost::pool<boost::default_user_allocator_new_delete>___std::allocator<boost::pool<boost::default_user_allocator_new_delete>__>>::_Xlen(std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00415FA0) --------------------------------------------------------
void *__thiscall CPoolBufferFactory::_vector_deleting_destructor_(CPoolBufferFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CPoolBufferFactory::_CPoolBufferFactory(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00415FC0) --------------------------------------------------------
void __thiscall std::vector<boost::pool<boost::default_user_allocator_new_delete>___std::allocator<boost::pool<boost::default_user_allocator_new_delete>__>>::_Insert_n(std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> > *this, std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> >::iterator _Where, unsigned int _Count, boost::pool<boost::default_user_allocator_new_delete> *const *_Val)
{
  std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> > *v4; // esi@1
  boost::pool<boost::default_user_allocator_new_delete> **v5; // edx@1
  signed int v6; // eax@2
  unsigned int v7; // edi@4
  signed int v8; // ecx@6
  int v9; // ecx@11
  int v10; // eax@15
  int v11; // ecx@18
  int v12; // eax@22
  void *v13; // eax@25
  unsigned int v14; // ebp@25
  int v15; // eax@25
  int *v16; // eax@25
  boost::pool<boost::default_user_allocator_new_delete> **v17; // eax@25
  int v18; // ecx@26
  int v19; // edi@28
  int v20; // ebp@31
  std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> >::iterator v21; // ebx@31
  int v22; // edx@31
  unsigned int v23; // eax@31
  int v24; // ecx@32
  int *v25; // edi@33
  void *_Newvec; // [sp+0h] [bp-4h]@25
  unsigned int _Wherea; // [sp+8h] [bp+4h]@31
  int _Counta; // [sp+Ch] [bp+8h]@25

  v4 = this;
  v5 = this->_Myfirst;
  _Val = (boost::pool<boost::default_user_allocator_new_delete> *const *)*_Val;
  if ( v5 )
    v6 = this->_Myend - v5;
  else
    v6 = 0;
  v7 = _Count;
  if ( _Count )
  {
    if ( v5 )
      v8 = this->_Mylast - v5;
    else
      v8 = 0;
    if ( 1073741823 - v8 < _Count )
      std::vector<boost::pool<boost::default_user_allocator_new_delete>___std::allocator<boost::pool<boost::default_user_allocator_new_delete>__>>::_Xlen(v4);
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( v6 >= _Count + v9 )
    {
      v20 = (int)v4->_Mylast;
      v21 = _Where;
      v22 = (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2;
      v23 = 4 * _Count;
      _Wherea = 4 * _Count;
      if ( v22 >= _Count )
      {
        v25 = (int *)(v20 - v23);
        v4->_Mylast = (boost::pool<boost::default_user_allocator_new_delete> **)std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
                                                                                  (char *)(v20 - v23),
                                                                                  v20,
                                                                                  (char *)v20);
        std::copy_backward<char_____char____>(*(int **)&v21, v25, (int *)v20);
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(*(_DWORD *)&v21 + _Wherea),
          (const int *)&_Val);
      }
      else
      {
        std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
          *(char **)&v21,
          v20,
          (char *)(*(_DWORD *)&v21 + v23));
        std::vector<char___std::allocator<char__>>::_Ufill(
          (std::vector<int,std::allocator<int> > *)v4,
          (int *)v4->_Mylast,
          _Count - ((signed int)((char *)v4->_Mylast - *(_DWORD *)&v21) >> 2),
          (const int *)&_Val);
        v24 = (int)&v4->_Mylast[_Wherea / 4];
        v4->_Mylast = (boost::pool<boost::default_user_allocator_new_delete> **)v24;
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(v24 - _Wherea),
          (const int *)&_Val);
      }
    }
    else
    {
      if ( 1073741823 - ((unsigned int)v6 >> 1) >= v6 )
        v10 = ((unsigned int)v6 >> 1) + v6;
      else
        v10 = 0;
      if ( v5 )
        v11 = v4->_Mylast - v5;
      else
        v11 = 0;
      if ( v10 < _Count + v11 )
      {
        if ( v5 )
          v12 = v4->_Mylast - v5;
        else
          v12 = 0;
        v10 = _Count + v12;
      }
      _Counta = 4 * v10;
      v13 = operator new(4 * v10);
      v14 = 4 * ((signed int)(*(_DWORD *)&_Where - (unsigned int)v4->_Myfirst) >> 2);
      _Newvec = v13;
      memmove((char *)v13, (char *)v4->_Myfirst, v14);
      v16 = std::vector<char___std::allocator<char__>>::_Ufill(
              (std::vector<int,std::allocator<int> > *)v4,
              (int *)(v14 + v15),
              v7,
              (const int *)&_Val);
      memmove((char *)v16, *(char **)&_Where, 4 * ((signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2));
      v17 = v4->_Myfirst;
      if ( v17 )
        v18 = v4->_Mylast - v17;
      else
        v18 = 0;
      v19 = v18 + v7;
      if ( v17 )
        operator delete(v4->_Myfirst);
      v4->_Myend = (boost::pool<boost::default_user_allocator_new_delete> **)((char *)_Newvec + _Counta);
      v4->_Mylast = (boost::pool<boost::default_user_allocator_new_delete> **)((char *)_Newvec + 4 * v19);
      v4->_Myfirst = (boost::pool<boost::default_user_allocator_new_delete> **)_Newvec;
    }
  }
}

//----- (004161A0) --------------------------------------------------------
bool __thiscall CPoolBufferFactory::Initialize(CPoolBufferFactory *this)
{
  CPoolBufferFactory *v1; // ebp@1
  _RTL_CRITICAL_SECTION *v2; // esi@1
  void *v3; // eax@1
  bool result; // al@5
  void *v5; // eax@8
  int v6; // edx@9
  boost::pool<boost::default_user_allocator_new_delete> **v7; // edi@12
  int v8; // esi@13
  boost::pool<boost::default_user_allocator_new_delete> **v9; // edx@17
  unsigned int dwCount; // [sp+0h] [bp-34h]@6
  void *lpMemoryPool; // [sp+8h] [bp-2Ch]@11
  int dwSizeArray[7]; // [sp+Ch] [bp-28h]@6
  int v13; // [sp+30h] [bp-4h]@1

  v1 = this;
  CPoolBufferFactory::Destroy(this);
  v2 = (_RTL_CRITICAL_SECTION *)&v1->m_BufferLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferLock);
  v13 = 0;
  v3 = operator new(0x14u);
  if ( v3 )
  {
    *(_DWORD *)v3 = 0;
    *((_DWORD *)v3 + 1) = 0;
    *((_DWORD *)v3 + 2) = 0;
    *((_DWORD *)v3 + 3) = 48;
    *((_DWORD *)v3 + 4) = 32;
  }
  else
  {
    v3 = 0;
  }
  v1->m_lpBufferPool = (boost::pool<boost::default_user_allocator_new_delete> *)v3;
  if ( v3 )
  {
    dwSizeArray[0] = 1024;
    dwSizeArray[1] = 2048;
    dwSizeArray[2] = 4096;
    dwSizeArray[3] = 8192;
    dwSizeArray[4] = 16384;
    dwSizeArray[5] = 32768;
    dwSizeArray[6] = 65535;
    dwCount = 0;
    while ( 1 )
    {
      v5 = operator new(0x14u);
      if ( v5 )
      {
        v6 = dwSizeArray[dwCount];
        *(_DWORD *)v5 = 0;
        *((_DWORD *)v5 + 1) = 0;
        *((_DWORD *)v5 + 2) = 0;
        *((_DWORD *)v5 + 3) = v6;
        *((_DWORD *)v5 + 4) = 32;
      }
      else
      {
        v5 = 0;
      }
      lpMemoryPool = v5;
      if ( !v5 )
        break;
      v7 = v1->m_PoolArray._Myfirst;
      if ( v7 )
        v8 = v1->m_PoolArray._Mylast - v7;
      else
        v8 = 0;
      if ( v7 && v8 < v1->m_PoolArray._Myend - v7 )
      {
        v9 = v1->m_PoolArray._Mylast;
        *v9 = (boost::pool<boost::default_user_allocator_new_delete> *)v5;
        v1->m_PoolArray._Mylast = v9 + 1;
      }
      else
      {
        std::vector<boost::pool<boost::default_user_allocator_new_delete>___std::allocator<boost::pool<boost::default_user_allocator_new_delete>__>>::_Insert_n(
          &v1->m_PoolArray,
          (std::vector<boost::pool<boost::default_user_allocator_new_delete> *,std::allocator<boost::pool<boost::default_user_allocator_new_delete> *> >::iterator)v1->m_PoolArray._Mylast,
          1u,
          (boost::pool<boost::default_user_allocator_new_delete> *const *)&lpMemoryPool);
      }
      ++dwCount;
      if ( dwCount >= 7 )
      {
        LeaveCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferLock);
        return 1;
      }
      v2 = (_RTL_CRITICAL_SECTION *)&v1->m_BufferLock;
    }
    LeaveCriticalSection(v2);
    result = 0;
  }
  else
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)&v1->m_BufferLock);
    result = 0;
  }
  return result;
}

//----- (00416330) --------------------------------------------------------
void __thiscall CPoolBufferFactory::CPoolBufferFactory(CPoolBufferFactory *this)
{
  CPoolBufferFactory *v1; // esi@1

  v1 = this;
  this->baseclass_0.vfptr = (CBufferFactoryVtbl *)&CPoolBufferFactory::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_BufferLock);
  v1->m_lpBufferPool = 0;
  v1->m_PoolArray._Myfirst = 0;
  v1->m_PoolArray._Mylast = 0;
  v1->m_PoolArray._Myend = 0;
  CPoolBufferFactory::Initialize(v1);
}
// 455DE0: using guessed type int (__thiscall *CPoolBufferFactory___vftable_)(void *p, char);

//----- (00416390) --------------------------------------------------------
void *__thiscall COverlappedFactory::_scalar_deleting_destructor_(COverlappedFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (COverlappedFactoryVtbl *)&COverlappedFactory::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 455DEC: using guessed type int (__thiscall *COverlappedFactory___vftable_)(void *p, char);

//----- (004163B0) --------------------------------------------------------
void __thiscall CSendOverlapped::CSendOverlapped(CSendOverlapped *this, COverlappedFactory *ovlFactory, CBuffer *lpSendBuffer)
{
  this->baseclass_0.m_ovlFactory = ovlFactory;
  this->baseclass_0.m_lpBuffer = lpSendBuffer;
  this->baseclass_0.baseclass_4.OffsetHigh = 0;
  this->baseclass_0.baseclass_4.___u2.Offset = 0;
  this->baseclass_0.baseclass_4.InternalHigh = 0;
  this->baseclass_0.baseclass_4.Internal = 0;
  this->baseclass_0.baseclass_4.hEvent = 0;
  this->baseclass_0.vfptr = (COverlappedVtbl *)&CSendOverlapped::_vftable_;
}
// 455E08: using guessed type int (__thiscall *CSendOverlapped___vftable_)(void *p, char);

//----- (004163E0) --------------------------------------------------------
void __thiscall CSendOverlapped::Dispatch(CSendOverlapped *this, int bResult, unsigned int lpSessionKey, unsigned int dwProcessedBytes)
{
  CSendOverlapped *v4; // esi@1

  v4 = this;
  CSession::SendCompleted((CSession *)lpSessionKey, bResult, dwProcessedBytes);
  ((void (__stdcall *)(_DWORD))v4->baseclass_0.m_ovlFactory->vfptr->DeleteOverlapped)(v4);
}

//----- (00416410) --------------------------------------------------------
void __thiscall CStreamRecvOverlapped::CStreamRecvOverlapped(CStreamRecvOverlapped *this, COverlappedFactory *ovlFactory)
{
  this->baseclass_0.m_ovlFactory = ovlFactory;
  this->baseclass_0.m_lpBuffer = 0;
  this->baseclass_0.baseclass_4.OffsetHigh = 0;
  this->baseclass_0.baseclass_4.___u2.Offset = 0;
  this->baseclass_0.baseclass_4.InternalHigh = 0;
  this->baseclass_0.baseclass_4.Internal = 0;
  this->baseclass_0.baseclass_4.hEvent = 0;
  this->baseclass_0.vfptr = (COverlappedVtbl *)&CStreamRecvOverlapped::_vftable_;
}
// 455E10: using guessed type int (__thiscall *CStreamRecvOverlapped___vftable_)(void *p, char);

//----- (00416440) --------------------------------------------------------
void *__thiscall CAcceptOverlapped::_vector_deleting_destructor_(CAcceptOverlapped *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CSendOverlapped::_CSendOverlapped(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00416460) --------------------------------------------------------
void __thiscall CAcceptOverlapped::CAcceptOverlapped(CAcceptOverlapped *this, COverlappedFactory *ovlFactory, CListener *Listener, unsigned int hSocket, CBuffer *lpAddrBuffer)
{
  this->baseclass_0.m_ovlFactory = ovlFactory;
  this->baseclass_0.m_lpBuffer = lpAddrBuffer;
  this->baseclass_0.baseclass_4.OffsetHigh = 0;
  this->baseclass_0.baseclass_4.___u2.Offset = 0;
  this->baseclass_0.baseclass_4.InternalHigh = 0;
  this->baseclass_0.baseclass_4.Internal = 0;
  this->baseclass_0.baseclass_4.hEvent = 0;
  this->baseclass_0.vfptr = (COverlappedVtbl *)&CAcceptOverlapped::_vftable_;
  this->m_Listener = Listener;
  this->m_hSocket = hSocket;
}
// 455E18: using guessed type int (__thiscall *CAcceptOverlapped___vftable_)(void *p, char);

//----- (004164A0) --------------------------------------------------------
void __thiscall CAcceptOverlapped::Dispatch(CAcceptOverlapped *this, int bResult, unsigned int lpSessionKey, unsigned int dwProcessedBytes)
{
  CAcceptOverlapped *v4; // esi@1

  v4 = this;
  CListener::ProcessAccept(
    (CListener *)lpSessionKey,
    bResult,
    this->m_hSocket,
    this->baseclass_0.m_lpBuffer,
    dwProcessedBytes);
  ((void (__stdcall *)(_DWORD))v4->baseclass_0.m_ovlFactory->vfptr->DeleteOverlapped)(v4);
}

//----- (004164D0) --------------------------------------------------------
void __thiscall CSendOverlapped::_CSendOverlapped(CAcceptOverlapped *this)
{
  CAcceptOverlapped *v1; // esi@1
  CBuffer *v2; // eax@1

  v1 = this;
  v2 = this->baseclass_0.m_lpBuffer;
  this->baseclass_0.vfptr = (COverlappedVtbl *)&COverlapped::_vftable_;
  if ( v2 )
  {
    ((void (__stdcall *)(_DWORD))v2->bufferfactory_->vfptr->Release)(v2);
    v1->baseclass_0.m_lpBuffer = 0;
  }
}
// 455E00: using guessed type int (__thiscall *COverlapped___vftable_)(void *p, char);

//----- (00416500) --------------------------------------------------------
void *__thiscall COverlapped::_scalar_deleting_destructor_(COverlapped *this, unsigned int a2)
{
  COverlapped *v2; // esi@1
  CBuffer *v3; // eax@1

  v2 = this;
  v3 = this->m_lpBuffer;
  this->vfptr = (COverlappedVtbl *)&COverlapped::_vftable_;
  if ( v3 )
  {
    ((void (__stdcall *)(_DWORD))v3->bufferfactory_->vfptr->Release)(v3);
    v2->m_lpBuffer = 0;
  }
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 455E00: using guessed type int (__thiscall *COverlapped___vftable_)(void *p, char);

//----- (00416540) --------------------------------------------------------
void __thiscall CStreamRecvOverlapped::Dispatch(CStreamRecvOverlapped *this, int bResult, unsigned int lpSessionKey, unsigned int dwProcessedBytes)
{
  CStreamRecvOverlapped *v4; // esi@1

  v4 = this;
  if ( CSession::Dispatch((CSession *)lpSessionKey, dwProcessedBytes) )
    CSession::Recv((CSession *)lpSessionKey);
  ((void (__stdcall *)(_DWORD))v4->baseclass_0.m_ovlFactory->vfptr->DeleteOverlapped)(v4);
}

//----- (00416570) --------------------------------------------------------
bool __thiscall CSession::Recv(CSession *this)
{
  CSession *v1; // esi@1
  bool v2; // bl@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = CSession::InternalRecv(v1);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return v2;
}

//----- (004165C0) --------------------------------------------------------
void __thiscall CStreamOverlappedFactory::CStreamOverlappedFactory(CStreamOverlappedFactory *this)
{
  CStreamOverlappedFactory *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1
  void *v3; // eax@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_Lock;
  this->baseclass_0.vfptr = (COverlappedFactoryVtbl *)&CStreamOverlappedFactory::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_Lock);
  EnterCriticalSection(v2);
  v3 = operator new(0x14u, &std::nothrow);
  if ( v3 )
  {
    *(_DWORD *)v3 = 0;
    *((_DWORD *)v3 + 1) = 0;
    *((_DWORD *)v3 + 2) = 0;
    *((_DWORD *)v3 + 3) = 40;
    *((_DWORD *)v3 + 4) = 32;
    v1->m_lpOverlappedPool = (boost::pool<boost::default_user_allocator_new_delete> *)v3;
    LeaveCriticalSection(v2);
  }
  else
  {
    v1->m_lpOverlappedPool = 0;
    LeaveCriticalSection(v2);
  }
}
// 455E20: using guessed type int (__thiscall *CStreamOverlappedFactory___vftable_)(void *p, char);

//----- (00416630) --------------------------------------------------------
void __thiscall CStreamOverlappedFactory::DeleteOverlapped(CStreamOverlappedFactory *this, COverlapped *lpOverlapped)
{
  CStreamOverlappedFactory *v2; // edi@1
  _RTL_CRITICAL_SECTION *v3; // ebx@1
  COverlappedVtbl **v4; // edi@3

  v2 = this;
  v3 = (_RTL_CRITICAL_SECTION *)&this->m_Lock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_Lock);
  if ( lpOverlapped && v2->m_lpOverlappedPool )
  {
    lpOverlapped->vfptr->__vecDelDtor(lpOverlapped, 0);
    v4 = (COverlappedVtbl **)v2->m_lpOverlappedPool;
    lpOverlapped->vfptr = *v4;
    *v4 = (COverlappedVtbl *)lpOverlapped;
  }
  LeaveCriticalSection(v3);
}

//----- (004166A0) --------------------------------------------------------
COverlapped *__thiscall CStreamOverlappedFactory::CreateSend(CStreamOverlappedFactory *this, CSession *lpSession, CBuffer *lpMsgBlock)
{
  CStreamOverlappedFactory *v3; // esi@1
  _RTL_CRITICAL_SECTION *v4; // ebx@1
  COverlapped *v5; // edi@1
  boost::pool<boost::default_user_allocator_new_delete> *v6; // ecx@3
  void *v7; // eax@4
  COverlapped *v8; // eax@8

  v3 = this;
  v4 = (_RTL_CRITICAL_SECTION *)&this->m_Lock;
  v5 = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_Lock);
  if ( lpSession )
  {
    if ( lpMsgBlock )
    {
      v6 = v3->m_lpOverlappedPool;
      if ( v6 )
      {
        v7 = v6->baseclass_0.first;
        if ( v6->baseclass_0.first )
          v6->baseclass_0.first = *(void **)v7;
        else
          v7 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v6);
        if ( v7 )
        {
          CSendOverlapped::CSendOverlapped((CSendOverlapped *)v7, &v3->baseclass_0, lpMsgBlock);
          v5 = v8;
        }
      }
    }
  }
  LeaveCriticalSection(v4);
  return v5;
}

//----- (00416700) --------------------------------------------------------
COverlapped *__thiscall CStreamOverlappedFactory::CreateRecv(CStreamOverlappedFactory *this, CSession *lpSession, CBuffer *lpMsgBlock)
{
  CStreamOverlappedFactory *v3; // esi@1
  _RTL_CRITICAL_SECTION *v4; // ebx@1
  COverlapped *v5; // edi@1
  boost::pool<boost::default_user_allocator_new_delete> *v6; // ecx@3
  void *v7; // eax@4
  COverlapped *v8; // eax@8

  v3 = this;
  v4 = (_RTL_CRITICAL_SECTION *)&this->m_Lock;
  v5 = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_Lock);
  if ( lpSession )
  {
    if ( lpMsgBlock )
    {
      v6 = v3->m_lpOverlappedPool;
      if ( v6 )
      {
        v7 = v6->baseclass_0.first;
        if ( v6->baseclass_0.first )
          v6->baseclass_0.first = *(void **)v7;
        else
          v7 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v6);
        if ( v7 )
        {
          CStreamRecvOverlapped::CStreamRecvOverlapped((CStreamRecvOverlapped *)v7, &v3->baseclass_0);
          v5 = v8;
        }
      }
    }
  }
  LeaveCriticalSection(v4);
  return v5;
}

//----- (00416760) --------------------------------------------------------
COverlapped *__thiscall CStreamOverlappedFactory::CreateAccept(CStreamOverlappedFactory *this, CListener *lpListener, unsigned int hSocket, CBuffer *lpMsgBlock)
{
  CStreamOverlappedFactory *v4; // esi@1
  _RTL_CRITICAL_SECTION *v5; // ebp@1
  COverlapped *v6; // edi@1
  boost::pool<boost::default_user_allocator_new_delete> *v7; // ecx@3
  void *v8; // eax@4
  COverlapped *v9; // eax@8
  _RTL_CRITICAL_SECTION *v11; // [sp+0h] [bp-14h]@0

  v4 = this;
  v5 = (_RTL_CRITICAL_SECTION *)&this->m_Lock;
  v6 = 0;
  EnterCriticalSection(v11);
  if ( lpListener )
  {
    if ( lpMsgBlock )
    {
      v7 = v4->m_lpOverlappedPool;
      if ( v7 )
      {
        v8 = v7->baseclass_0.first;
        if ( v7->baseclass_0.first )
          v7->baseclass_0.first = *(void **)v8;
        else
          v8 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v7);
        if ( v8 )
        {
          CAcceptOverlapped::CAcceptOverlapped(
            (CAcceptOverlapped *)v8,
            &v4->baseclass_0,
            lpListener,
            hSocket,
            lpMsgBlock);
          v6 = v9;
        }
      }
    }
  }
  LeaveCriticalSection(v5);
  return v6;
}

//----- (004167D0) --------------------------------------------------------
void __thiscall CStreamOverlappedFactory::_CStreamOverlappedFactory(CStreamOverlappedFactory *this)
{
  CStreamOverlappedFactory *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // edi@1
  void *v3; // ebx@1

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_Lock;
  this->baseclass_0.vfptr = (COverlappedFactoryVtbl *)&CStreamOverlappedFactory::_vftable_;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_Lock);
  v3 = v1->m_lpOverlappedPool;
  if ( v3 )
  {
    boost::pool<boost::default_user_allocator_new_delete>::purge_memory(v1->m_lpOverlappedPool);
    operator delete(v3);
  }
  v1->m_lpOverlappedPool = 0;
  LeaveCriticalSection(v2);
  DeleteCriticalSection(v2);
  v1->baseclass_0.vfptr = (COverlappedFactoryVtbl *)&COverlappedFactory::_vftable_;
}
// 455DEC: using guessed type int (__thiscall *COverlappedFactory___vftable_)(void *p, char);
// 455E20: using guessed type int (__thiscall *CStreamOverlappedFactory___vftable_)(void *p, char);

//----- (00416820) --------------------------------------------------------
void *__thiscall CStreamOverlappedFactory::_vector_deleting_destructor_(CStreamOverlappedFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CStreamOverlappedFactory::_CStreamOverlappedFactory(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00416840) --------------------------------------------------------
void __thiscall CConsoleCMDFactory::StringCMD::StringCMD(CConsoleCMDFactory::StringCMD *this, const char *szCommand, CConsoleCommand *lpCMD)
{
  int v3; // edx@1
  unsigned int v4; // esi@1
  const char *i; // edi@1

  v3 = (unsigned __int8)*szCommand;
  v4 = 0;
  for ( i = szCommand; *i; v3 = (unsigned __int8)*i )
  {
    ++i;
    v4 = v3 + 65599 * v4;
  }
  this->m_szCommand = szCommand;
  this->m_dwHashValue = v4;
  this->m_lpCMD = lpCMD;
}

//----- (00416880) --------------------------------------------------------
unsigned int __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::size(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this)
{
  unsigned int result; // eax@1

  result = (unsigned int)this->_Myfirst;
  if ( result )
    result = (signed int)((char *)this->_Mylast - result) / 12;
  return result;
}

//----- (004168A0) --------------------------------------------------------
void __cdecl std::fill<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo>(CTokenlizedFile::ColumnInfo *_First, CTokenlizedFile::ColumnInfo *_Last, CTokenlizedFile::ColumnInfo *_Val)
{
  CTokenlizedFile::ColumnInfo *i; // eax@1
  CTokenlizedFile::ColumnInfo *v4; // edi@2

  for ( i = _First; i != _Last; v4->m_szColumnName = _Val->m_szColumnName )
  {
    v4 = i;
    i->m_dwHashKey = _Val->m_dwHashKey;
    i->m_dwIndex = _Val->m_dwIndex;
    ++i;
  }
}

//----- (004168E0) --------------------------------------------------------
CTokenlizedFile::ColumnInfo *__cdecl std::_Copy_backward_opt<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo__>(CTokenlizedFile::ColumnInfo *_First, CTokenlizedFile::ColumnInfo *_Last, CTokenlizedFile::ColumnInfo *_Dest, std::_Nonscalar_ptr_iterator_tag __formal)
{
  CTokenlizedFile::ColumnInfo *v4; // ecx@1
  CTokenlizedFile::ColumnInfo *result; // eax@1

  v4 = _Last;
  for ( result = _Dest; v4 != _First; result->m_szColumnName = v4->m_szColumnName )
  {
    --v4;
    --result;
    result->m_dwHashKey = v4->m_dwHashKey;
    result->m_dwIndex = v4->m_dwIndex;
  }
  return result;
}

//----- (00416920) --------------------------------------------------------
void __cdecl std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(CTokenlizedFile::ColumnInfo *_First, unsigned int _Count, CTokenlizedFile::ColumnInfo *_Val, std::allocator<CTokenlizedFile::ColumnInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  unsigned int v5; // ecx@2
  CTokenlizedFile::ColumnInfo *v6; // eax@2

  if ( _Count )
  {
    v5 = _Count;
    v6 = _First;
    do
    {
      if ( v6 )
      {
        v6->m_dwHashKey = _Val->m_dwHashKey;
        v6->m_dwIndex = _Val->m_dwIndex;
        v6->m_szColumnName = _Val->m_szColumnName;
      }
      ++v6;
      --v5;
    }
    while ( v5 );
  }
}

//----- (00416960) --------------------------------------------------------
CConsoleCommand *__thiscall CConsoleCMDFactory::Create(CConsoleCMDFactory *this, const char *szCommand, unsigned int nCommandLength)
{
  CConsoleCMDFactory *v3; // ebx@1
  unsigned int v4; // edx@1
  const char v5; // al@2
  CConsoleCMDFactory::StringCMD *v6; // eax@8
  CConsoleCMDFactory::StringCMD *v7; // esi@8
  CConsoleCommand *result; // eax@11
  char szCommandOnly[256]; // [sp+10h] [bp-108h]@8

  v3 = this;
  v4 = 0;
  if ( nCommandLength )
  {
    do
    {
      v5 = szCommand[v4];
      if ( !v5 )
        break;
      if ( v5 == 32 )
        break;
      if ( v5 == 9 )
        break;
      if ( v5 == 10 )
        break;
      ++v4;
    }
    while ( v4 < nCommandLength );
    if ( v4 >= 0x100 )
      goto LABEL_11;
  }
  memcpy(szCommandOnly, szCommand, 4 * (v4 >> 2));
  v6 = this->m_CMDVector._Mylast;
  memcpy(&szCommandOnly[4 * (v4 >> 2)], &szCommand[4 * (v4 >> 2)], v4 & 3);
  v7 = this->m_CMDVector._Myfirst;
  szCommandOnly[v4] = 0;
  if ( v7 == v6 )
  {
LABEL_11:
    result = 0;
  }
  else
  {
    while ( _mbscmp(v7->m_szCommand, szCommandOnly) )
    {
      ++v7;
      if ( v7 == v3->m_CMDVector._Mylast )
        goto LABEL_11;
    }
    result = (CConsoleCommand *)((int (__stdcall *)(const char *, unsigned int))v7->m_lpCMD->baseclass_0.vfptr[1].DoProcess)(
                                  szCommand,
                                  nCommandLength);
  }
  return result;
}

//----- (00416A30) --------------------------------------------------------
CTokenlizedFile::ColumnInfo *__thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Ufill(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, CTokenlizedFile::ColumnInfo *_Ptr, unsigned int _Count, CTokenlizedFile::ColumnInfo *_Val)
{
  std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(
    _Ptr,
    _Count,
    _Val,
    &this->baseclass_0._Alval,
    (std::_Nonscalar_ptr_iterator_tag)_Val);
  return &_Ptr[_Count];
}

//----- (00416A60) --------------------------------------------------------
void __thiscall CConsoleCMDFactory::_CConsoleCMDFactory(CConsoleCMDFactory *this)
{
  CConsoleCMDFactory *v1; // esi@1
  CConsoleCMDFactory::StringCMD *v2; // eax@1
  CConsoleCMDFactory::StringCMD *v3; // edi@1

  v1 = this;
  v2 = this->m_CMDVector._Mylast;
  v3 = this->m_CMDVector._Myfirst;
  this->vfptr = (CConsoleCMDFactoryVtbl *)&CConsoleCMDFactory::_vftable_;
  if ( v3 != v2 )
  {
    do
    {
      operator delete(v3->m_lpCMD);
      ++v3;
    }
    while ( v3 != v1->m_CMDVector._Mylast );
  }
  if ( v1->m_CMDVector._Myfirst )
    operator delete(v1->m_CMDVector._Myfirst);
  v1->m_CMDVector._Myfirst = 0;
  v1->m_CMDVector._Mylast = 0;
  v1->m_CMDVector._Myend = 0;
  v1->m_CMDVector._Myfirst = 0;
  v1->m_CMDVector._Mylast = 0;
  v1->m_CMDVector._Myend = 0;
}
// 455E34: using guessed type int (__thiscall *CConsoleCMDFactory___vftable_)(void *p, char);

//----- (00416AC0) --------------------------------------------------------
void __thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Xlen(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00416B30) --------------------------------------------------------
void *__thiscall CConsoleCMDFactory::_vector_deleting_destructor_(CConsoleCMDFactory *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CConsoleCMDFactory::_CConsoleCMDFactory(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00416B50) --------------------------------------------------------
void __thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Insert_n(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this, std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator _Where, unsigned int _Count, CConsoleCMDFactory::StringCMD *_Val)
{
  std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *v4; // esi@1
  unsigned int v5; // ecx@1
  const char *v6; // edx@1
  CConsoleCMDFactory::StringCMD *v7; // ebx@1
  CConsoleCommand *v8; // eax@1
  unsigned int v9; // ecx@2
  signed int v10; // edx@3
  unsigned int v11; // edi@4
  int v12; // eax@6
  int v13; // eax@11
  int v14; // ecx@15
  int v15; // eax@18
  int v16; // ebx@22
  CTokenlizedFile::ColumnInfo *v17; // ST18_4@22
  int v18; // eax@22
  int v19; // edi@24
  CTokenlizedFile::ColumnInfo *v20; // ecx@27
  std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator v21; // ebx@27
  CConsoleCMDFactory::StringCMD *v22; // ecx@28
  CTokenlizedFile::ColumnInfo *v23; // ST24_4@28
  unsigned int v24; // edi@28
  int v25; // [sp-Ch] [bp-28h]@1
  CConsoleCMDFactory::StringCMD _Tmp; // [sp+0h] [bp-1Ch]@1
  int *v27; // [sp+Ch] [bp-10h]@1
  int v28; // [sp+18h] [bp-4h]@22
  CTokenlizedFile::ColumnInfo *_Wherea; // [sp+24h] [bp+8h]@29
  CTokenlizedFile::ColumnInfo *_Counta; // [sp+28h] [bp+Ch]@22
  void *_Newvec; // [sp+2Ch] [bp+10h]@22
  CTokenlizedFile::ColumnInfo *_Newveca; // [sp+2Ch] [bp+10h]@27

  v4 = this;
  v5 = _Val->m_dwHashValue;
  v6 = _Val->m_szCommand;
  v7 = v4->_Myfirst;
  v8 = _Val->m_lpCMD;
  v27 = &v25;
  _Tmp.m_dwHashValue = v5;
  _Tmp.m_szCommand = v6;
  _Tmp.m_lpCMD = v8;
  if ( v7 )
  {
    v10 = (signed int)((unsigned __int64)(715827883i64 * (unsigned int)((char *)v4->_Myend - (char *)v7)) >> 32) >> 1;
    v9 = v10 + ((unsigned int)v10 >> 31);
  }
  else
  {
    v9 = 0;
  }
  v11 = _Count;
  if ( _Count )
  {
    if ( v7 )
      v12 = v4->_Mylast - v7;
    else
      v12 = 0;
    if ( 357913941 - v12 < _Count )
      std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Xlen(v4);
    if ( v7 )
      v13 = v4->_Mylast - v7;
    else
      v13 = 0;
    if ( v9 >= _Count + v13 )
    {
      v20 = (CTokenlizedFile::ColumnInfo *)v4->_Mylast;
      v21 = _Where;
      _Newveca = (CTokenlizedFile::ColumnInfo *)v4->_Mylast;
      if ( (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) / 12 >= _Count )
      {
        _Wherea = &v20[-_Count];
        v4->_Mylast = (CConsoleCMDFactory::StringCMD *)std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
                                                         &v20[-_Count],
                                                         v20,
                                                         v20,
                                                         (std::allocator<CTokenlizedFile::ColumnInfo> *)v4,
                                                         (std::_Nonscalar_ptr_iterator_tag)((_BYTE)v20 - 12 * _Count));
        std::_Copy_backward_opt<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo__>(
          *(CTokenlizedFile::ColumnInfo **)&v21,
          _Wherea,
          _Newveca,
          (std::_Nonscalar_ptr_iterator_tag)_Wherea);
        std::fill<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo>(
          *(CTokenlizedFile::ColumnInfo **)&v21,
          (CTokenlizedFile::ColumnInfo *)(*(_DWORD *)&v21 + 12 * _Count),
          (CTokenlizedFile::ColumnInfo *)&_Tmp);
      }
      else
      {
        std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
          *(CTokenlizedFile::ColumnInfo **)&_Where,
          v20,
          (CTokenlizedFile::ColumnInfo *)(*(_DWORD *)&_Where + 12 * _Count),
          (std::allocator<CTokenlizedFile::ColumnInfo> *)v4,
          (std::_Nonscalar_ptr_iterator_tag)(12 * _Count));
        v22 = v4->_Mylast;
        v23 = (CTokenlizedFile::ColumnInfo *)v4->_Mylast;
        v28 = 2;
        std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Ufill(
          (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *)v4,
          v23,
          _Count - (signed int)((char *)v22 - *(_DWORD *)&_Where) / 12,
          (CTokenlizedFile::ColumnInfo *)&_Tmp);
        v24 = (unsigned int)&v4->_Mylast[_Count];
        v4->_Mylast = (CConsoleCMDFactory::StringCMD *)v24;
        std::fill<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo>(
          *(CTokenlizedFile::ColumnInfo **)&_Where,
          (CTokenlizedFile::ColumnInfo *)(v24 - 12 * _Count),
          (CTokenlizedFile::ColumnInfo *)&_Tmp);
      }
    }
    else
    {
      if ( 357913941 - (v9 >> 1) >= v9 )
        v14 = (v9 >> 1) + v9;
      else
        v14 = 0;
      if ( v7 )
        v15 = v4->_Mylast - v7;
      else
        v15 = 0;
      if ( v14 < _Count + v15 )
        v14 = _Count
            + std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::size((std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *)v4);
      v16 = 12 * v14;
      _Newvec = operator new(12 * v14);
      v17 = (CTokenlizedFile::ColumnInfo *)v4->_Myfirst;
      v28 = 0;
      _Counta = std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
                  v17,
                  *(CTokenlizedFile::ColumnInfo **)&_Where,
                  (CTokenlizedFile::ColumnInfo *)_Newvec,
                  (std::allocator<CTokenlizedFile::ColumnInfo> *)v4,
                  (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(
        _Counta,
        v11,
        (CTokenlizedFile::ColumnInfo *)&_Tmp,
        (std::allocator<CTokenlizedFile::ColumnInfo> *)v4,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
        *(CTokenlizedFile::ColumnInfo **)&_Where,
        (CTokenlizedFile::ColumnInfo *)v4->_Mylast,
        &_Counta[v11],
        (std::allocator<CTokenlizedFile::ColumnInfo> *)v4,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v18 = (int)v4->_Myfirst;
      if ( v18 )
        v18 = (signed int)((char *)v4->_Mylast - v18) / 12;
      v19 = v18 + v11;
      if ( v4->_Myfirst )
        operator delete(v4->_Myfirst);
      v4->_Myend = (CConsoleCMDFactory::StringCMD *)((char *)_Newvec + v16);
      v4->_Mylast = (CConsoleCMDFactory::StringCMD *)((char *)_Newvec + 12 * v19);
      v4->_Myfirst = (CConsoleCMDFactory::StringCMD *)_Newvec;
    }
  }
}

//----- (00416E10) --------------------------------------------------------
std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator *__thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::insert(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this, std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator *result, std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator _Where, CConsoleCMDFactory::StringCMD *_Val)
{
  std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *v4; // edi@1
  CConsoleCMDFactory::StringCMD *v5; // esi@1
  int v6; // esi@3
  signed int v7; // edx@4
  std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator *v8; // eax@5

  v4 = this;
  v5 = this->_Myfirst;
  if ( v5 && this->_Mylast - v5 )
  {
    v7 = (signed int)((unsigned __int64)(715827883i64 * (*(_DWORD *)&_Where - (signed int)v5)) >> 32) >> 1;
    v6 = v7 + ((unsigned int)v7 >> 31);
  }
  else
  {
    v6 = 0;
  }
  std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Insert_n(
    this,
    _Where,
    1u,
    _Val);
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = &v4->_Myfirst[v6];
  return v8;
}

//----- (00416E80) --------------------------------------------------------
void __thiscall CConsoleCMDFactory::CConsoleCMDFactory(CConsoleCMDFactory *this)
{
  this->vfptr = (CConsoleCMDFactoryVtbl *)&CConsoleCMDFactory::_vftable_;
  this->m_CMDVector._Myfirst = 0;
  this->m_CMDVector._Mylast = 0;
  this->m_CMDVector._Myend = 0;
}
// 455E34: using guessed type int (__thiscall *CConsoleCMDFactory___vftable_)(void *p, char);

//----- (00416EA0) --------------------------------------------------------
void __thiscall std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::push_back(std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *this, CConsoleCMDFactory::StringCMD *_Val)
{
  std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> > *v2; // esi@1
  CConsoleCMDFactory::StringCMD *v3; // edi@1
  int v4; // ecx@2
  signed int v5; // edx@3
  CConsoleCMDFactory::StringCMD *v6; // edi@6

  v2 = this;
  v3 = this->_Myfirst;
  if ( v3 )
  {
    v5 = (signed int)((unsigned __int64)(715827883i64 * (unsigned int)((char *)this->_Mylast - (char *)v3)) >> 32) >> 1;
    v4 = v5 + ((unsigned int)v5 >> 31);
  }
  else
  {
    v4 = 0;
  }
  if ( v3 && v4 < v2->_Myend - v3 )
  {
    v6 = v2->_Mylast;
    std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(
      (CTokenlizedFile::ColumnInfo *)v2->_Mylast,
      1u,
      (CTokenlizedFile::ColumnInfo *)_Val,
      (std::allocator<CTokenlizedFile::ColumnInfo> *)v2,
      (std::_Nonscalar_ptr_iterator_tag)_Val);
    v2->_Mylast = v6 + 1;
  }
  else
  {
    std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::insert(
      v2,
      (std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator *)&_Val,
      (std::vector<CConsoleCMDFactory::StringCMD,std::allocator<CConsoleCMDFactory::StringCMD> >::iterator)v2->_Mylast,
      _Val);
  }
}

//----- (00416F20) --------------------------------------------------------
bool __thiscall CConsoleCMDFactory::AddCommand(CConsoleCMDFactory *this, const char *szCommand, CConsoleCommand *lpConsoleCommand)
{
  CConsoleCMDFactory *v3; // esi@1
  bool result; // al@2
  CConsoleCMDFactory::StringCMD *v5; // eax@3
  CConsoleCMDFactory::StringCMD thisa; // [sp+4h] [bp-Ch]@3

  v3 = this;
  if ( lpConsoleCommand )
  {
    CConsoleCMDFactory::StringCMD::StringCMD(&thisa, szCommand, lpConsoleCommand);
    std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::push_back(
      &v3->m_CMDVector,
      v5);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00416F60) --------------------------------------------------------
void __thiscall CPacketStatistics::PacketData::Clear(CPacketStatistics::PacketData *this)
{
  this->m_Count = 0.0;
  this->m_Bytes = 0.0;
}

//----- (00416F80) --------------------------------------------------------
void __thiscall CPacketStatistics::CompressData::Clear(CPacketStatistics::CompressData *this)
{
  this->m_TotalCompressed = 0.0;
  this->m_TotalBytes = 0.0;
  this->m_FailedCount = 0.0;
  this->m_CompressCount = 0.0;
}

//----- (00416FB0) --------------------------------------------------------
void __thiscall CPacketStatistics::Recv(CPacketStatistics *this, char cCmd, unsigned int dwPacketSize)
{
  char *v3; // eax@1

  v3 = (char *)this + 16 * ((unsigned __int8)cCmd + 1);
  *(double *)v3 = (double)dwPacketSize + *(double *)v3;
  *((double *)v3 + 1) = *((double *)v3 + 1) + 1.0;
}

//----- (00416FE0) --------------------------------------------------------
void __thiscall CPacketStatistics::Send(CPacketStatistics *this, char cCmd, unsigned int dwPacketSize)
{
  char *v3; // eax@1

  v3 = (char *)this + 16 * ((unsigned __int8)cCmd + 256);
  *(double *)v3 = (double)dwPacketSize + *(double *)v3;
  *((double *)v3 + 1) = *((double *)v3 + 1) + 1.0;
}

//----- (00417020) --------------------------------------------------------
void __thiscall CPacketStatistics::CheckCompression(CPacketStatistics *this, char cCmd, unsigned int dwSrcSize, unsigned int dwDstSize)
{
  this->m_CompressionData[(unsigned __int8)cCmd].m_TotalBytes = (double)dwSrcSize
                                                              + this->m_CompressionData[(unsigned __int8)cCmd].m_TotalBytes;
  this->m_CompressionData[(unsigned __int8)cCmd].m_TotalCompressed = (double)dwDstSize
                                                                   + this->m_CompressionData[(unsigned __int8)cCmd].m_TotalCompressed;
  this->m_CompressionData[(unsigned __int8)cCmd].m_CompressCount = this->m_CompressionData[(unsigned __int8)cCmd].m_CompressCount
                                                                 + 1.0;
  if ( dwSrcSize < dwDstSize )
    this->m_CompressionData[(unsigned __int8)cCmd].m_FailedCount = this->m_CompressionData[(unsigned __int8)cCmd].m_FailedCount
                                                                 + 1.0;
}

//----- (00417080) --------------------------------------------------------
void __cdecl LogPacketStatData(_iobuf *logFile, const char *szTotalSummeryHeader, int tDiffTime, CPacketStatistics::PacketData *lpPos, CPacketStatistics::PacketData *lpEnd)
{
  CPacketStatistics::PacketData *v5; // esi@1
  char i; // bl@1
  double totalData; // [sp+28h] [bp-98h]@1
  double totalData_8; // [sp+30h] [bp-90h]@1
  char szTotalBytes[128]; // [sp+38h] [bp-88h]@3
  unsigned int v10; // [sp+BCh] [bp-4h]@5

  totalData = 0.0;
  v5 = lpPos;
  totalData_8 = 0.0;
  for ( i = 0; v5 != lpEnd; ++i )
  {
    if ( 0.0 != v5->m_Count )
    {
      _snprintf(szTotalBytes, 0x7Fu, "%16.4fMb/%16.4fKb/%16.4fBytes");
      szTotalBytes[127] = 0;
      fprintf(logFile, "\t %3d(0x%02X) : %16.4f : (%s) : %16.4fBytes/Sec\n");
      totalData = totalData + v5->m_Bytes;
      totalData_8 = totalData_8 + v5->m_Count;
    }
    ++v5;
  }
  _snprintf(szTotalBytes, 0x7Fu, "%16.4fMb/%16.4fKb/%16.4fBytes");
  szTotalBytes[127] = 0;
  fprintf(logFile, "\n %s\n Total Data  : %s/%16.4fBytes/Sec\n Total Count : %16.4f/%16.4f(Count/Sec)\n\n");
  __security_check_cookie(v10);
}

//----- (004171F0) --------------------------------------------------------
void __thiscall CPacketStatistics::CPacketStatistics(CPacketStatistics *this)
{
  CPacketStatistics *v1; // esi@1
  int v2; // eax@1
  signed int v3; // ecx@1
  int v4; // eax@3
  signed int v5; // ecx@3
  int v6; // eax@5
  signed int v7; // ecx@5

  v1 = this;
  this->m_StartTime = time(0);
  v1->m_fnPrefix = 0;
  v1->m_fnPostfix = 0;
  v2 = (int)v1->m_RecvData;
  v3 = 255;
  do
  {
    v2 += 16;
    --v3;
    *(double *)(v2 - 16) = 0.0;
    *(double *)(v2 - 8) = 0.0;
  }
  while ( v3 );
  v4 = (int)v1->m_SendData;
  v5 = 255;
  do
  {
    v4 += 16;
    --v5;
    *(double *)(v4 - 16) = 0.0;
    *(double *)(v4 - 8) = 0.0;
  }
  while ( v5 );
  v6 = (int)v1->m_CompressionData;
  v7 = 255;
  do
  {
    v6 += 32;
    --v7;
    *(double *)(v6 - 32) = 0.0;
    *(double *)(v6 - 24) = 0.0;
    *(double *)(v6 - 16) = 0.0;
    *(double *)(v6 - 8) = 0.0;
  }
  while ( v7 );
}

//----- (004172A0) --------------------------------------------------------
bool __thiscall CPacketStatistics::Log(CPacketStatistics *this)
{
  CPacketStatistics *v1; // ebx@1
  bool result; // al@3
  int v3; // edi@4
  HANDLE i; // esi@4
  void *v5; // eax@8
  void (__cdecl *v6)(_iobuf *); // ecx@9
  int v7; // eax@11
  const int v8; // esi@11
  _iobuf *v9; // edi@11
  int v10; // esi@11
  void (__cdecl *v11)(_iobuf *); // ebx@15
  char cCmd; // [sp+27h] [bp-371h]@11
  int tDiffTime; // [sp+28h] [bp-370h]@5
  DWORD tCurrent; // [sp+2Ch] [bp-36Ch]@5
  CPacketStatistics::CompressData totalCount; // [sp+30h] [bp-368h]@11
  _iobuf *logFile; // [sp+58h] [bp-340h]@8
  tm tmServerStart; // [sp+5Ch] [bp-33Ch]@11
  char szCompressedBytes[128]; // [sp+80h] [bp-318h]@13
  char szTotalBytes[128]; // [sp+100h] [bp-298h]@13
  char strLogPath[260]; // [sp+180h] [bp-218h]@1
  char strLogFileName[260]; // [sp+288h] [bp-110h]@4

  v1 = this;
  DbgUtils::SetProgramName(strLogPath, 260, 0);
  if ( GetFileAttributesA(strLogPath) != -1 || CreateDirectoryA(strLogPath, 0) )
  {
    v3 = 0;
    _snprintf(strLogFileName, 0x104u, "%s/Statistics-%s-%05d.log");
    for ( i = CreateFileA(strLogFileName, 0x40000000u, 1u, 0, 3u, 0x80u, 0);
          i != (HANDLE)-1;
          i = CreateFileA(strLogFileName, 0x40000000u, 1u, 0, 3u, 0x80u, 0) )
    {
      tDiffTime = 0;
      tCurrent = GetFileSize(i, (LPDWORD)&tDiffTime);
      CloseHandle(i);
      if ( !tDiffTime && tCurrent < 0x3200000 )
        break;
      ++v3;
      _snprintf(strLogFileName, 0x104u, "%s/Statistics-%s-%05d.log");
    }
    v5 = fopen(strLogFileName, "at");
    logFile = (_iobuf *)v5;
    if ( v5 )
    {
      v6 = v1->m_fnPrefix;
      if ( v6 )
        v6((_iobuf *)v5);
      v7 = time(0);
      v8 = v1->m_StartTime;
      tCurrent = v7;
      tDiffTime = v7 - v8;
      memcpy(&tmServerStart, localtime(&v1->m_StartTime), sizeof(tmServerStart));
      memcpy(&totalCount, localtime((const int *)&tCurrent), 0x24u);
      v9 = logFile;
      fprintf(
        logFile,
        "\t-- Server Packet Statistics -- \n\tLog Start Time    : %04dyear %02dmon %02dday %02dhour %02dmin %02dsec\n\tCurrent Log Time  : %04dyear %02dmon %02dday %02dhour %02dmin %02dsec\n\tLog Duration      : %02dhour %02dmin %02dsec\n\n");
      LogPacketStatData(v9, "Recv Packet", tDiffTime, v1->m_RecvData, v1->m_SendData);
      LogPacketStatData(
        v9,
        "Send Packet",
        tDiffTime,
        v1->m_SendData,
        (CPacketStatistics::PacketData *)v1->m_CompressionData);
      v10 = (int)v1->m_CompressionData;
      totalCount.m_CompressCount = 0.0;
      totalCount.m_FailedCount = 0.0;
      cCmd = 0;
      totalCount.m_TotalBytes = 0.0;
      totalCount.m_TotalCompressed = 0.0;
      if ( (CPacketStatistics *)v1->m_CompressionData != &v1[1] )
      {
        do
        {
          if ( 0.0 != *(double *)v10 )
          {
            _snprintf(szTotalBytes, 0x7Fu, "%16.4fMb/%16.4fKb/%16.4fBytes");
            szTotalBytes[127] = 0;
            _snprintf(szCompressedBytes, 0x7Fu, "%16.4fMb/%16.4fKb/%16.4fBytes");
            szCompressedBytes[127] = 0;
            fprintf(v9, "\t %3d(0x%02X) : %16.4f(Failed %16.4f) : Total(%16s) : Compressed(%16s)\n");
            totalCount.m_CompressCount = totalCount.m_CompressCount + *(double *)v10;
            totalCount.m_FailedCount = totalCount.m_FailedCount + *(double *)(v10 + 8);
            totalCount.m_TotalBytes = totalCount.m_TotalBytes + *(double *)(v10 + 16);
            totalCount.m_TotalCompressed = totalCount.m_TotalCompressed + *(double *)(v10 + 24);
          }
          v10 += 32;
          ++cCmd;
        }
        while ( (CPacketStatistics *)v10 != &v1[1] );
      }
      _snprintf(szTotalBytes, 0x7Fu, "%16.4fMb/%16.4fKb/%16.4fBytes");
      szTotalBytes[127] = 0;
      _snprintf(szCompressedBytes, 0x7Fu, "%16.4fMb/%16.4fKb/%16.4fBytes");
      szCompressedBytes[127] = 0;
      fprintf(
        v9,
        "\n Check compression status - not actually sent\n Total Data            : %s\n Total Data Compressed : %s\n Total Count           : %16.4f/Failed(%16.4f)\n\n\n");
      v11 = v1->m_fnPostfix;
      if ( v11 )
        v11(v9);
      fclose(v9);
    }
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00417730) --------------------------------------------------------
void __thiscall CPacketStatistics::Clear(CPacketStatistics *this)
{
  CPacketStatistics *v1; // esi@1
  CPacketStatistics::PacketData *v2; // ecx@1
  int v3; // eax@1
  int v4; // ecx@2
  CPacketStatistics::PacketData *v5; // ecx@3
  int v6; // eax@3
  int v7; // ecx@4
  CPacketStatistics::CompressData *v8; // ecx@5
  int v9; // ecx@6
  CPacketStatistics::CompressData *v10; // eax@6

  v1 = this;
  v2 = this->m_RecvData;
  v3 = (int)v1->m_SendData;
  if ( v2 != v1->m_SendData )
  {
    do
    {
      CPacketStatistics::PacketData::Clear(v2);
      v2 = (CPacketStatistics::PacketData *)(v4 + 16);
    }
    while ( v2 != (CPacketStatistics::PacketData *)v3 );
  }
  v5 = (CPacketStatistics::PacketData *)v3;
  v6 = (int)v1->m_CompressionData;
  if ( (CPacketStatistics::CompressData *)v5 != v1->m_CompressionData )
  {
    do
    {
      CPacketStatistics::PacketData::Clear(v5);
      v5 = (CPacketStatistics::PacketData *)(v7 + 16);
    }
    while ( v5 != (CPacketStatistics::PacketData *)v6 );
  }
  v8 = (CPacketStatistics::CompressData *)v6;
  if ( (CPacketStatistics *)v6 != &v1[1] )
  {
    do
    {
      CPacketStatistics::CompressData::Clear(v8);
      v8 = (CPacketStatistics::CompressData *)(v9 + 32);
    }
    while ( v8 != v10 );
  }
  v1->m_StartTime = time(0);
}

//----- (00417790) --------------------------------------------------------
CPacketStatistics *__cdecl CPacketStatistics::GetInstance()
{
  if ( !(_S1_9 & 1) )
  {
    _S1_9 |= 1u;
    CPacketStatistics::CPacketStatistics(&packetStatistics);
    atexit(_E2_9);
  }
  return &packetStatistics;
}

//----- (004177D0) --------------------------------------------------------
void *__thiscall CDLLModule::_vector_deleting_destructor_(CDLLModule *this, unsigned int a2)
{
  void *v2; // esi@1
  HINSTANCE__ *v3; // eax@1

  v2 = this;
  v3 = this->m_hDLL;
  this->vfptr = (CDLLModuleVtbl *)&CDLLModule::_vftable_;
  if ( v3 )
    FreeLibrary(v3);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 4560F4: using guessed type int (__thiscall *CDLLModule___vftable_)(void *p, char);

//----- (00417800) --------------------------------------------------------
int __thiscall CDBGFuncClass::Init(CDBGFuncClass *this, const char *szDll)
{
  CDBGFuncClass *v2; // esi@1
  HINSTANCE__ *v3; // eax@3
  int v4; // ebp@3
  HINSTANCE__ *v5; // eax@8
  HINSTANCE__ *v6; // eax@13
  HINSTANCE__ *v7; // eax@18
  HINSTANCE__ *v8; // eax@23
  HINSTANCE__ *v9; // eax@28
  HINSTANCE__ *v10; // eax@33
  HINSTANCE__ *v11; // eax@38
  HINSTANCE__ *v12; // eax@43
  HINSTANCE__ *v13; // eax@48
  HINSTANCE__ *v14; // eax@53
  HINSTANCE__ *v15; // eax@58
  HINSTANCE__ *v16; // eax@63
  HINSTANCE__ *v17; // eax@68
  int result; // eax@71

  v2 = this;
  if ( this->baseclass_0.m_hDLL )
    FreeLibrary(this->baseclass_0.m_hDLL);
  v3 = LoadLibraryA(szDll);
  v4 = 0;
  v2->baseclass_0.m_hDLL = v3;
  if ( v3 )
    v2->MiniDumpWriteDump = (int (__stdcall *)(void *, unsigned int, void *, _MINIDUMP_TYPE, _MINIDUMP_EXCEPTION_INFORMATION *const , _MINIDUMP_USER_STREAM_INFORMATION *const , _MINIDUMP_CALLBACK_INFORMATION *const ))GetProcAddress(v3, "MiniDumpWriteDump");
  else
    v2->MiniDumpWriteDump = 0;
  if ( v2->MiniDumpWriteDump )
    v4 = 1;
  v5 = v2->baseclass_0.m_hDLL;
  if ( v5 )
    v2->SymEnumSymbols = (int (__stdcall *)(void *, unsigned __int64, const char *, int (__stdcall *)(_SYMBOL_INFO *, unsigned int, void *), void *))GetProcAddress(v5, "SymEnumSymbols");
  else
    v2->SymEnumSymbols = 0;
  if ( v2->SymEnumSymbols )
    v4 = 1;
  v6 = v2->baseclass_0.m_hDLL;
  if ( v6 )
    v2->SymSetContext = (unsigned int (__stdcall *)(void *, _IMAGEHLP_STACK_FRAME *, void *))GetProcAddress(
                                                                                               v6,
                                                                                               "SymSetContext");
  else
    v2->SymSetContext = 0;
  if ( v2->SymSetContext )
    v4 = 1;
  v7 = v2->baseclass_0.m_hDLL;
  if ( v7 )
    v2->SymFromAddr = (int (__stdcall *)(void *, unsigned __int64, unsigned __int64 *, _SYMBOL_INFO *))GetProcAddress(v7, "SymFromAddr");
  else
    v2->SymFromAddr = 0;
  if ( v2->SymFromAddr )
    v4 = 1;
  v8 = v2->baseclass_0.m_hDLL;
  if ( v8 )
    v2->StackWalk = (int (__stdcall *)(unsigned int, void *, void *, _tagSTACKFRAME *, void *, int (__stdcall *)(void *, unsigned int, void *, unsigned int, unsigned int *), void *(__stdcall *)(void *, unsigned int), unsigned int (__stdcall *)(void *, unsigned int), unsigned int (__stdcall *)(void *, void *, _tagADDRESS *)))GetProcAddress(v8, "StackWalk");
  else
    v2->StackWalk = 0;
  if ( v2->StackWalk )
    v4 = 1;
  v9 = v2->baseclass_0.m_hDLL;
  if ( v9 )
    v2->SymGetLineFromAddr = (int (__stdcall *)(void *, unsigned int, unsigned int *, _IMAGEHLP_LINE *))GetProcAddress(v9, "SymGetLineFromAddr");
  else
    v2->SymGetLineFromAddr = 0;
  if ( v2->SymGetLineFromAddr )
    v4 = 1;
  v10 = v2->baseclass_0.m_hDLL;
  if ( v10 )
    v2->SymGetLineFromAddr64 = (int (__stdcall *)(void *, unsigned __int64, unsigned int *, _IMAGEHLP_LINE64 *))GetProcAddress(v10, "SymGetLineFromAddr64");
  else
    v2->SymGetLineFromAddr64 = 0;
  if ( v2->SymGetLineFromAddr64 )
    v4 = 1;
  v11 = v2->baseclass_0.m_hDLL;
  if ( v11 )
    v2->SymFunctionTableAccess = (void *(__stdcall *)(void *, unsigned int))GetProcAddress(
                                                                              v11,
                                                                              "SymFunctionTableAccess");
  else
    v2->SymFunctionTableAccess = 0;
  if ( v2->SymFunctionTableAccess )
    v4 = 1;
  v12 = v2->baseclass_0.m_hDLL;
  if ( v12 )
    v2->SymGetModuleBase64 = (unsigned __int64 (__stdcall *)(void *, unsigned __int64))GetProcAddress(
                                                                                         v12,
                                                                                         "SymGetModuleBase64");
  else
    v2->SymGetModuleBase64 = 0;
  if ( v2->SymGetModuleBase64 )
    v4 = 1;
  v13 = v2->baseclass_0.m_hDLL;
  if ( v13 )
    v2->SymInitialize = (int (__stdcall *)(void *, char *, int))GetProcAddress(v13, "SymInitialize");
  else
    v2->SymInitialize = 0;
  if ( v2->SymInitialize )
    v4 = 1;
  v14 = v2->baseclass_0.m_hDLL;
  if ( v14 )
    v2->SymSetOptions = (unsigned int (__stdcall *)(unsigned int))GetProcAddress(v14, "SymSetOptions");
  else
    v2->SymSetOptions = 0;
  if ( v2->SymSetOptions )
    v4 = 1;
  v15 = v2->baseclass_0.m_hDLL;
  if ( v15 )
    v2->SymCleanup = (int (__stdcall *)(void *))GetProcAddress(v15, "SymCleanup");
  else
    v2->SymCleanup = 0;
  if ( v2->SymCleanup )
    v4 = 1;
  v16 = v2->baseclass_0.m_hDLL;
  if ( v16 )
    v2->SymGetModuleBase = (unsigned int (__stdcall *)(void *, unsigned int))GetProcAddress(v16, "SymGetModuleBase");
  else
    v2->SymGetModuleBase = 0;
  if ( v2->SymGetModuleBase )
    v4 = 1;
  v17 = v2->baseclass_0.m_hDLL;
  if ( v17 )
    v2->SymGetTypeInfo = (int (__stdcall *)(void *, unsigned __int64, unsigned int, _IMAGEHLP_SYMBOL_TYPE_INFO, void *))GetProcAddress(v17, "SymGetTypeInfo");
  else
    v2->SymGetTypeInfo = 0;
  result = 1;
  if ( !v2->SymGetTypeInfo )
    result = v4;
  return result;
}

//----- (00417A00) --------------------------------------------------------
void __thiscall CDBGFuncClass::_CDBGFuncClass(CDBGFuncClass *this)
{
  HINSTANCE__ *v1; // ecx@1

  this->baseclass_0.vfptr = (CDLLModuleVtbl *)&CDLLModule::_vftable_;
  v1 = this->baseclass_0.m_hDLL;
  if ( v1 )
    FreeLibrary(v1);
}
// 4560F4: using guessed type int (__thiscall *CDLLModule___vftable_)(void *p, char);

//----- (00417A20) --------------------------------------------------------
void *__thiscall CDBGFuncClass::_vector_deleting_destructor_(CDBGFuncClass *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CDBGFuncClass::_CDBGFuncClass(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00417A40) --------------------------------------------------------
int __cdecl CExceptionReport::WriteRegistersInfo(char *szBuffer_Out, const int nBufferSize, _CONTEXT *pContext)
{
  return _snprintf(
           szBuffer_Out,
           nBufferSize,
           "------------------------------------------------------------------------------\r\n    x86 Registers\r\n------------------------------------------------------------------------------\r\n\r\nEAX=%08x  EBX=%08x  ECX=%08x  EDX=%08x\r\nESI=%08x  EDI=%08x  EBP=%08x\r\nDS =%04X      ES=%04X       FS=%04X       GS:%04X\r\nCS:EIP=%04X:%08x\r\nSS:ESP=%04X:%08x\r\nFlags=%08x\r\n\r\n\r\n");
}

//----- (00417AD0) --------------------------------------------------------
char *__cdecl CExceptionReport::GetExceptionString(unsigned int dwCode)
{
  char *result; // eax@9
  int v2; // ecx@35
  char *v3; // esi@35
  char *v4; // ST10_4@35
  HMODULE v5; // eax@35

  if ( dwCode > 0xC000008D )
  {
    switch ( dwCode + 1073741682 )
    {
      case 0u:
        result = "FLT_DIVIDE_BY_ZERO";
        break;
      case 1u:
        result = "FLT_INEXACT_RESULT";
        break;
      case 2u:
        result = "FLT_INVALID_OPERATION";
        break;
      case 3u:
        result = "FLT_OVERFLOW";
        break;
      case 4u:
        result = "FLT_STACK_CHECK";
        break;
      case 5u:
        result = "FLT_UNDERFLOW";
        break;
      case 6u:
        result = "INT_DIVIDE_BY_ZERO";
        break;
      case 7u:
        result = "INT_OVERFLOW";
        break;
      case 8u:
        result = "PRIV_INSTRUCTION";
        break;
      case 0x6Fu:
        result = "STACK_OVERFLOW";
        break;
      default:
        goto LABEL_35;
    }
  }
  else
  {
    if ( dwCode == -1073741683 )
    {
      result = "FLT_DENORMAL_OPERAND";
    }
    else
    {
      if ( dwCode > 0xC0000006 )
      {
        switch ( dwCode + 1073741816 )
        {
          case 0x84u:
            result = "ARRAY_BOUNDS_EXCEEDED";
            break;
          case 0x15u:
            result = "ILLEGAL_INSTRUCTION";
            break;
          case 0x1Du:
            result = "NONCONTINUABLE_EXCEPTION";
            break;
          case 0x1Eu:
            result = "INVALID_DISPOSITION";
            break;
          case 0u:
            result = "INVALID_HANDLE";
            break;
          default:
            goto LABEL_35;
        }
      }
      else
      {
        if ( dwCode == -1073741818 )
        {
          result = "IN_PAGE_ERROR";
        }
        else
        {
          if ( dwCode > 0x80000003 )
          {
            if ( dwCode == -2147483644 )
              return "SINGLE_STEP";
            if ( dwCode == -1073741819 )
              return "ACCESS_VIOLATION";
          }
          else
          {
            if ( dwCode == -2147483645 )
              return "BREAKPOINT";
            if ( dwCode == -2147483647 )
              return "GUARD_PAGE";
            if ( dwCode == -2147483646 )
              return "DATATYPE_MISALIGNMENT";
          }
LABEL_35:
          v2 = *(_DWORD *)(__readfsdword(44) + 4 * _tls_index);
          v3 = (char *)(v2 + 8);
          v4 = (char *)(v2 + 8);
          v5 = GetModuleHandleA("NTDLL.DLL");
          FormatMessageA(0xA00u, v5, dwCode, 0, v4, 0x104u, 0);
          result = v3;
        }
      }
    }
  }
  return result;
}
// 4C8FF0: using guessed type int _tls_index;

//----- (00417D60) --------------------------------------------------------
int __cdecl CExceptionReport::GetLogicalAddress(void *addr, char *szModule, unsigned int len, unsigned int *section, unsigned int *offset)
{
  int result; // eax@1
  void *v6; // esi@2
  int v7; // ecx@5
  int v8; // eax@5
  int v9; // ecx@5
  int v10; // edi@5
  unsigned __int64 v11; // qax@5
  unsigned int v12; // ebp@5
  int v13; // ebx@6
  int v14; // ecx@7
  unsigned int v15; // edi@7
  unsigned int v16; // [sp+4h] [bp-20h]@5
  _MEMORY_BASIC_INFORMATION mbi; // [sp+8h] [bp-1Ch]@1

  result = VirtualQuery(addr, &mbi, 0x1Cu);
  if ( result )
  {
    v6 = mbi.AllocationBase;
    if ( mbi.AllocationBase && GetModuleFileNameA((HMODULE)mbi.AllocationBase, szModule, len) )
    {
      v7 = *((_DWORD *)v6 + 15);
      v8 = *(_WORD *)((char *)v6 + v7 + 20);
      v9 = (int)((char *)v6 + v7);
      v10 = v8 + v9 + 24;
      v11 = (unsigned __int64)((char *)addr - (signed __int64)(signed int)v6);
      v12 = 0;
      v16 = *(_WORD *)(v9 + 6);
      if ( *(_WORD *)(v9 + 6) )
      {
        v13 = v10 + 16;
        while ( 1 )
        {
          v14 = *(_DWORD *)v13;
          v15 = *(_DWORD *)(v13 - 4);
          if ( *(_DWORD *)v13 <= *(_DWORD *)(v13 - 8) )
            v14 = *(_DWORD *)(v13 - 8);
          if ( v11 >= v15 && v11 <= v14 + v15 )
            break;
          ++v12;
          v13 += 40;
          if ( v12 >= v16 )
            goto LABEL_12;
        }
        *section = v12 + 1;
        *offset = v11 - v15;
        result = 1;
      }
      else
      {
LABEL_12:
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  return result;
}

//----- (00417E30) --------------------------------------------------------
int __cdecl CExceptionReport::FormatOutputValue(char *szBuffer_Out, const int nBufferSize, BasicType basicType, unsigned __int64 length, void *pAddress)
{
  int result; // eax@1
  char szAddress[64]; // [sp+Ch] [bp-44h]@16

  result = 0;
  if ( length == 1 )
  {
LABEL_2:
    result = _snprintf(szBuffer_Out, nBufferSize, " = %X");
    goto LABEL_17;
  }
  if ( length == 2 )
  {
    result = _snprintf(szBuffer_Out, nBufferSize, " = %X");
  }
  else
  {
    if ( length == 4 )
    {
      if ( basicType != 8 )
      {
        if ( basicType == 2 )
        {
          if ( IsBadStringPtrA(*(LPCSTR *)pAddress, 0x20u) )
            result = _snprintf(szBuffer_Out, nBufferSize, " = %X");
          else
            result = _snprintf(szBuffer_Out, nBufferSize, " = \"%.31s\"");
          goto LABEL_17;
        }
        goto LABEL_2;
      }
      result = _snprintf(szBuffer_Out, nBufferSize, " = %f");
    }
    else
    {
      if ( length != 8 )
        return result;
      if ( basicType == 8 )
      {
        result = _snprintf(szBuffer_Out, nBufferSize, " = %lf");
      }
      else
      {
        szAddress[0] = 0;
        memset(&szAddress[1], 0, 0x3Cu);
        *(_WORD *)&szAddress[61] = 0;
        szAddress[63] = 0;
        _ui64toa(*(_QWORD *)pAddress, szAddress, 16);
        result = _snprintf(szBuffer_Out, nBufferSize, " = 0x%s");
      }
    }
  }
LABEL_17:
  if ( result < 0 )
    result = -1;
  return result;
}

//----- (00417FD0) --------------------------------------------------------
int __cdecl CExceptionReport::Dump(char *szBuffer_Out, const int nBufferSize, unsigned __int64 dw64Offset, unsigned int dwSize, int bAlign)
{
  int v5; // eax@0
  int v6; // esi@1
  void *v7; // eax@1
  int v8; // eax@5
  int v9; // esi@6
  int v10; // eax@6
  unsigned int v11; // ecx@10
  int v12; // eax@11
  int v13; // eax@15
  int v14; // esi@16
  unsigned int v15; // edx@18
  int v16; // eax@19
  int v17; // eax@23
  int result; // eax@25
  int v19; // [sp-Ch] [bp-44h]@1
  int nTotalLength; // [sp+4h] [bp-34h]@1
  unsigned int pOut; // [sp+8h] [bp-30h]@1
  unsigned int dwLoc; // [sp+Ch] [bp-2Ch]@1
  unsigned int dwILoc; // [sp+10h] [bp-28h]@1
  int nLength; // [sp+14h] [bp-24h]@5
  unsigned int dwX; // [sp+18h] [bp-20h]@1
  void *pLine; // [sp+1Ch] [bp-1Ch]@5
  int *v27; // [sp+20h] [bp-18h]@1
  int v28; // [sp+28h] [bp-10h]@1
  int (__cdecl *v29)(int, _EH3_EXCEPTION_REGISTRATION *, int); // [sp+2Ch] [bp-Ch]@1
  _UNKNOWN *v30; // [sp+30h] [bp-8h]@1
  int v31; // [sp+34h] [bp-4h]@1

  v30 = &unk_4565A8;
  v29 = _except_handler3;
  v28 = v5;
  v27 = &v19;
  v6 = 0;
  nTotalLength = 0;
  v31 = 0;
  dwLoc = 0;
  dwILoc = 0;
  dwX = 0;
  v7 = (void *)dw64Offset;
  pOut = dw64Offset;
  if ( bAlign == 1 )
  {
    v7 = (void *)(dw64Offset & 0xFFFFFFF0);
    pOut = dw64Offset & 0xFFFFFFF0;
  }
  dwLoc = 0;
  while ( dwLoc < dwSize )
  {
    pLine = v7;
    v8 = _snprintf(&szBuffer_Out[v6], nBufferSize - v6, "%08lX: ");
    nLength = v8;
    if ( v8 < 0 )
      goto LABEL_25;
    v9 = v8 + v6;
    nTotalLength = v9;
    v10 = 0;
    dwX = 0;
    dwILoc = dwLoc;
    while ( (unsigned int)v10 < 0x10 )
    {
      if ( v10 == 8 )
        nLength = _snprintf(&szBuffer_Out[v9], nBufferSize - v9, "   ");
      v11 = dwILoc++;
      if ( v11 <= dwSize )
      {
        v12 = _snprintf(&szBuffer_Out[v9], nBufferSize - v9, "%02X ");
        nLength = v12;
        pLine = (char *)pLine + 1;
      }
      else
      {
        v12 = _snprintf(&szBuffer_Out[v9], nBufferSize - v9, "?? ");
        nLength = v12;
      }
      if ( v12 < 0 )
        goto LABEL_25;
      v9 += v12;
      nTotalLength = v9;
      v10 = dwX++ + 1;
    }
    pLine = (void *)pOut;
    v13 = _snprintf(&szBuffer_Out[v9], nBufferSize - v9, " ");
    nLength = v13;
    if ( v13 < 0 )
      goto LABEL_25;
    v14 = v13 + v9;
    nTotalLength = v14;
    dwX = 0;
    dwILoc = dwLoc;
    while ( dwX < 0x10 )
    {
      v15 = dwILoc++;
      if ( v15 <= dwSize )
      {
        isprint(*(_BYTE *)pLine);
        v16 = _snprintf(&szBuffer_Out[v14], nBufferSize - v14, "%c");
        nLength = v16;
        pLine = (char *)pLine + 1;
      }
      else
      {
        v16 = _snprintf(&szBuffer_Out[v14], nBufferSize - v14, " ");
        nLength = v16;
      }
      if ( v16 < 0 )
        goto LABEL_25;
      v14 += v16;
      nTotalLength = v14;
      ++dwX;
    }
    v17 = _snprintf(&szBuffer_Out[v14], nBufferSize - v14, "\r\n");
    nLength = v17;
    if ( v17 < 0 )
    {
LABEL_25:
      result = -1;
      v31 = -1;
      return result;
    }
    v6 = v17 + v14;
    nTotalLength = v6;
    dwLoc += 16;
    pOut += 16;
    v7 = (void *)pOut;
  }
  return v6;
}

//----- (00418260) --------------------------------------------------------
int __stdcall CExceptionReport::UnhandledSecondExceptionFilter(_EXCEPTION_POINTERS *lpExceptionInfo)
{
  CExceptionReport *v1; // eax@1
  CExceptionReport *v2; // esi@1
  _iobuf *v3; // eax@1
  int (__stdcall *v4)(_EXCEPTION_POINTERS *); // esi@3
  int result; // eax@4

  v1 = CExceptionReport::GetInstance();
  v2 = v1;
  v3 = v1->m_logFile;
  if ( v3 )
  {
    fprintf(v3, "Exception occured AGAIN! EXITING NOW!\r\n");
    fclose(v2->m_logFile);
    v2->m_logFile = 0;
  }
  v4 = v2->m_OldFilter;
  if ( v4 )
    result = v4(lpExceptionInfo);
  else
    result = 0;
  return result;
}

//----- (004182B0) --------------------------------------------------------
void __thiscall CExceptionReport::_CExceptionReport(CExceptionReport *this)
{
  CExceptionReport *v1; // esi@1
  _iobuf *v2; // eax@3
  HINSTANCE__ *v3; // esi@5

  v1 = this;
  if ( this->m_OldFilter )
  {
    SetUnhandledExceptionFilter(this->m_OldFilter);
    v1->m_OldFilter = 0;
  }
  v2 = v1->m_logFile;
  v1->m_dwFeaturesFlag &= 0xFFFFFFF8u;
  if ( v2 )
  {
    fprintf(v2, "Exception occured AGAIN! EXITING NOW!\r\n");
    fclose(v1->m_logFile);
    v1->m_logFile = 0;
  }
  v1->m_DBGHELP.baseclass_0.vfptr = (CDLLModuleVtbl *)&CDLLModule::_vftable_;
  v3 = v1->m_DBGHELP.baseclass_0.m_hDLL;
  if ( v3 )
    FreeLibrary(v3);
}
// 4560F4: using guessed type int (__thiscall *CDLLModule___vftable_)(void *p, char);

//----- (00418320) --------------------------------------------------------
int __cdecl CExceptionReport::WriteBasicInfo(char *szBuffer_Out, const int nBufferSize, _EXCEPTION_RECORD *pExceptionRecord)
{
  char *v3; // eax@1
  int dwOffset; // [sp+4h] [bp-938h]@1
  int dwSection; // [sp+8h] [bp-934h]@1
  int dwUserLen; // [sp+Ch] [bp-930h]@1
  int dwComputerLen; // [sp+10h] [bp-92Ch]@1
  char szProgramName[260]; // [sp+14h] [bp-928h]@1
  char szModuleName[260]; // [sp+118h] [bp-824h]@3
  char szFileName[260]; // [sp+21Ch] [bp-720h]@3
  char src; // [sp+320h] [bp-61Ch]@3
  char szUserName[260]; // [sp+424h] [bp-518h]@3
  char szComputerName[260]; // [sp+528h] [bp-414h]@3
  char ext; // [sp+62Ch] [bp-310h]@3
  char dir; // [sp+730h] [bp-20Ch]@3
  char drive; // [sp+834h] [bp-108h]@3

  dwUserLen = 260;
  dwComputerLen = 260;
  dwSection = 0;
  dwOffset = 0;
  GetModuleFileNameA(0, szProgramName, 0x104u);
  v3 = _mbsrchr(szProgramName, 0x2Eu);
  if ( v3 )
    *v3 = 0;
  _splitpath(szProgramName, &drive, &dir, &src, &ext);
  _mbsnbcpy(szProgramName, &src, 0x104u);
  GetModuleFileNameA(0, szFileName, 0x104u);
  GetUserNameA(szUserName, (LPDWORD)&dwUserLen);
  GetComputerNameA(szComputerName, (LPDWORD)&dwComputerLen);
  CExceptionReport::GetLogicalAddress(
    pExceptionRecord->ExceptionAddress,
    szModuleName,
    0x104u,
    (unsigned int *)&dwSection,
    (unsigned int *)&dwOffset);
  CExceptionReport::GetExceptionString(pExceptionRecord->ExceptionCode);
  return _snprintf(
           szBuffer_Out,
           nBufferSize,
           "------------------------------------------------------------------------------\r\n    Basic Information\r\n------------------------------------------------------------------------------\r\n\r\nProgram Name : %s\r\nEXE          : %s\r\nUser         : %s\r\nComputer     : %s\r\n\r\nProgram      : %s\r\nException    : %08x (%s)\r\nFault Address: %08x %02X:%08x\r\n\r\n\r\n");
}

//----- (004184A0) --------------------------------------------------------
int __cdecl CExceptionReport::WriteMemoryDump(char *szBuffer_Out, const int nBufferSize, _CONTEXT *pContext, unsigned int nMaxIPDump, unsigned int nMaxStackDump)
{
  int v5; // eax@1
  int result; // eax@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // esi@5
  int v10; // eax@5
  int v11; // esi@6
  int v12; // eax@6
  int v13; // esi@7
  int v14; // eax@7

  v5 = _snprintf(
         szBuffer_Out,
         nBufferSize,
         "------------------------------------------------------------------------------\r\n    Memory Dump\r\n------------------------------------------------------------------------------\r\n\r\nCode: %d bytes starting at (EIP = %08lX)\r\n");
  if ( v5 >= 0 )
  {
    v7 = v5;
    v8 = CExceptionReport::Dump(&szBuffer_Out[v5], nBufferSize - v5, pContext->Eip, nMaxIPDump, 0);
    if ( v8 < 0
      || (v9 = v8 + v7,
          v10 = _snprintf(&szBuffer_Out[v9], nBufferSize - v9, "\r\nStack: %d bytes starting at (ESP = %08lX)\r\n"),
          v10 < 0)
      || (v11 = v10 + v9,
          v12 = CExceptionReport::Dump(&szBuffer_Out[v11], nBufferSize - v11, pContext->Esp, nMaxStackDump, 1),
          v12 < 0)
      || (v13 = v12 + v11, v14 = _snprintf(&szBuffer_Out[v13], nBufferSize - v13, "\r\n\r\n"), v14 < 0) )
      result = -1;
    else
      result = v13 + v14;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00418580) --------------------------------------------------------
// local variable allocation has failed!
int __cdecl CExceptionReport::DumpTypeIndex(char *szBuffer_Out, const int nBufferSize, unsigned __int64 modBase, unsigned int dwTypeIndex, unsigned int nestingLevel, unsigned int offset, int *bHandled)
{
  int v7; // esi@1
  CExceptionReport *v8; // ebp@1
  HANDLE v10; // eax@3
  HANDLE v11; // eax@5
  HANDLE v12; // eax@6
  int v13; // ecx@7
  int v14; // eax@11
  bool v15; // zf@11
  int v16; // eax@12
  unsigned int v17; // ST74_4@14
  HANDLE v18; // eax@14
  unsigned int v19; // ST74_4@14
  HANDLE v20; // eax@14
  int v21; // ST74_4@14
  HANDLE v22; // eax@14
  BasicType v23; // eax@14
  __int64 v24; // ST6C_8@14 OVERLAPPED
  int v25; // ST68_4@14
  int v26; // eax@14
  int v27; // esi@15
  int v28; // eax@15
  int nChildrenCount; // [sp+90h] [bp-1034h]@1
  unsigned int nChildrenCounta; // [sp+90h] [bp-1034h]@8
  unsigned int dwMemberOffset; // [sp+94h] [bp-1030h]@10
  unsigned int dwChildrenCount; // [sp+98h] [bp-102Ch]@5
  void *pwszTypeName; // [sp+9Ch] [bp-1028h]@3
  unsigned int v34; // [sp+A0h] [bp-1024h]@9
  int typeId; // [sp+A4h] [bp-1020h]@14
  __int64 length; // [sp+A8h] [bp-101Ch]@14
  void *v37; // [sp+B0h] [bp-1014h]@14
  int bHandled2; // [sp+B4h] [bp-1010h]@12
  CExceptionReport::DumpTypeIndex::__l16::FINDCHILDREN children; // [sp+B8h] [bp-100Ch]@6

  v7 = 0;
  *bHandled = 0;
  nChildrenCount = 0;
  v8 = CExceptionReport::GetInstance();
  if ( !v8->m_DBGHELP.SymGetTypeInfo )
    return 0;
  pwszTypeName = 0;
  v10 = GetCurrentProcess();
  if ( ((int (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, void **))v8->m_DBGHELP.SymGetTypeInfo)(
         v10,
         modBase,
         HIDWORD(modBase),
         dwTypeIndex,
         1,
         &pwszTypeName) )
  {
    v7 = _snprintf(szBuffer_Out, nBufferSize, " %ls");
    nChildrenCount = v7;
    LocalFree(pwszTypeName);
    if ( v7 < 0 )
      return -1;
  }
  dwChildrenCount = 0;
  v11 = GetCurrentProcess();
  ((void (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, unsigned int *))v8->m_DBGHELP.SymGetTypeInfo)(
    v11,
    modBase,
    HIDWORD(modBase),
    dwTypeIndex,
    13,
    &dwChildrenCount);
  if ( !dwChildrenCount
    || (children.baseclass_0.Count = dwChildrenCount,
        children.baseclass_0.Start = 0,
        v12 = GetCurrentProcess(),
        !((int (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, CExceptionReport::DumpTypeIndex::__l16::FINDCHILDREN *))v8->m_DBGHELP.SymGetTypeInfo)(
           v12,
           modBase,
           HIDWORD(modBase),
           dwTypeIndex,
           7,
           &children)) )
    return v7;
  v13 = _snprintf(&szBuffer_Out[v7], nBufferSize - v7, "\r\n") + nChildrenCount;
  if ( v13 >= 0 )
  {
    v7 += v13;
    nChildrenCounta = 0;
    if ( dwChildrenCount )
    {
      v34 = nestingLevel + 1;
      do
      {
        dwMemberOffset = v34 + 1;
        do
        {
          v14 = sprintf(szBuffer_Out, "\t");
          v15 = dwMemberOffset == 1;
          szBuffer_Out += v14;
          --dwMemberOffset;
        }
        while ( !v15 );
        v16 = CExceptionReport::DumpTypeIndex(
                &szBuffer_Out[v7],
                nBufferSize - v7,
                modBase,
                children.baseclass_0.ChildId[nChildrenCounta],
                v34,
                offset,
                &bHandled2);
        if ( v16 < 0 )
          return -1;
        v7 += v16;
        if ( !bHandled2 )
        {
          v17 = children.baseclass_0.ChildId[nChildrenCounta];
          dwMemberOffset = 0;
          v18 = GetCurrentProcess();
          ((void (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, unsigned int *))v8->m_DBGHELP.SymGetTypeInfo)(
            v18,
            modBase,
            HIDWORD(modBase),
            v17,
            10,
            &dwMemberOffset);
          v19 = children.baseclass_0.ChildId[nChildrenCounta];
          typeId = 0;
          v20 = GetCurrentProcess();
          ((void (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, int *))v8->m_DBGHELP.SymGetTypeInfo)(
            v20,
            modBase,
            HIDWORD(modBase),
            v19,
            4,
            &typeId);
          v21 = typeId;
          length = 0i64;
          v22 = GetCurrentProcess();
          ((void (__stdcall *)(HANDLE, _DWORD, _DWORD, int, signed int, __int64 *))v8->m_DBGHELP.SymGetTypeInfo)(
            v22,
            modBase,
            HIDWORD(modBase),
            v21,
            2,
            &length);
          v37 = (void *)(offset + dwMemberOffset);
          v23 = CExceptionReport::GetBasicType(children.baseclass_0.ChildId[nChildrenCounta], modBase);
          v24 = *(__int64 *)((char *)&length + 4);
          v25 = length;
          v26 = CExceptionReport::FormatOutputValue(
                  &szBuffer_Out[v7],
                  nBufferSize - v7,
                  v23,
                  *(__int64 *)((char *)&v24 - 4),
                  v37);
          if ( v26 < 0 || (v27 = v26 + v7, v28 = _snprintf(&szBuffer_Out[v27], nBufferSize - v27, "\r\n"), v28 < 0) )
            return -1;
          v7 = v28 + v27;
        }
        ++nChildrenCounta;
      }
      while ( nChildrenCounta < dwChildrenCount );
    }
    *bHandled = 1;
    return v7;
  }
  return -1;
}
// 418580: failed to expand linear variable ST6C_8_14

//----- (00418890) --------------------------------------------------------
int __cdecl CExceptionReport::FormatSymbolValue(_SYMBOL_INFO *pSym, _tagSTACKFRAME *sf, char *pszBuffer, unsigned int nBufferSize)
{
  _SYMBOL_INFO *v4; // esi@1
  int v5; // edi@1
  unsigned int v7; // eax@3
  unsigned int v8; // ebx@3
  int v9; // eax@7
  int v10; // eax@10
  int v11; // edi@11
  unsigned int v12; // eax@11
  unsigned int v13; // ebp@12
  int v14; // eax@16
  int v15; // edi@18
  BasicType v16; // eax@19
  int v17; // eax@19
  char *v18; // [sp-10h] [bp-18h]@4
  unsigned int v19; // [sp-Ch] [bp-14h]@4
  const char *v20; // [sp-8h] [bp-10h]@4

  v4 = pSym;
  v5 = 0;
  if ( pSym->Tag == 5 )
    return 0;
  v7 = pSym->Flags;
  v8 = nBufferSize;
  if ( v7 & 0x40 )
  {
    v20 = "Parameter ";
    v19 = nBufferSize;
    v18 = pszBuffer;
  }
  else
  {
    if ( (v7 & 0x80u) == 0 )
      goto LABEL_10;
    v20 = "Local ";
    v19 = nBufferSize;
    v18 = pszBuffer;
  }
  v9 = _snprintf(v18, v19, v20);
  if ( v9 < 0 )
    return -1;
  v5 = v9;
LABEL_10:
  v10 = _snprintf(&pszBuffer[v5], v8 - v5, "'%s'");
  if ( v10 < 0 )
    return -1;
  v11 = v10 + v5;
  v12 = v4->Flags;
  if ( v12 & 0x10 )
  {
    v13 = sf->AddrFrame.Offset + LODWORD(v4->Address);
  }
  else
  {
    if ( v12 & 8 )
      return 0;
    v13 = LODWORD(v4->Address);
  }
  v14 = CExceptionReport::DumpTypeIndex(&pszBuffer[v11], v8 - v11, v4->ModBase, v4->TypeIndex, 0, v13, (int *)&pSym);
  if ( v14 < 0 )
    return -1;
  v15 = v14 + v11;
  if ( !pSym )
  {
    v16 = CExceptionReport::GetBasicType(v4->TypeIndex, v4->ModBase);
    v17 = CExceptionReport::FormatOutputValue(&pszBuffer[v15], v8 - v15, v16, v4->Size, (void *)v13);
    if ( v17 < 0 )
      return -1;
    v15 += v17;
  }
  return v15;
}

//----- (004189A0) --------------------------------------------------------
int __stdcall CExceptionReport::EnumerateSymbolsCallback(_SYMBOL_INFO *pSymInfo, unsigned int SymbolSize, void *UserContext)
{
  int v3; // eax@0
  int result; // eax@3
  int v5; // [sp-Ch] [bp-C28h]@1
  char szBuffer[3072]; // [sp+0h] [bp-C1Ch]@1
  unsigned int cookie; // [sp+C00h] [bp-1Ch]@3
  int *v8; // [sp+C04h] [bp-18h]@1
  int v9; // [sp+C0Ch] [bp-10h]@1
  int (__cdecl *v10)(int, _EH3_EXCEPTION_REGISTRATION *, int); // [sp+C10h] [bp-Ch]@1
  _UNKNOWN *v11; // [sp+C14h] [bp-8h]@1
  int v12; // [sp+C18h] [bp-4h]@1

  v11 = &unk_456870;
  v10 = _except_handler3;
  v9 = v3;
  v8 = &v5;
  v12 = 0;
  if ( CExceptionReport::FormatSymbolValue(pSymInfo, *(_tagSTACKFRAME **)UserContext, szBuffer, 0xC00u) > 0 )
    *((_DWORD *)UserContext + 3) = _snprintf(*((char **)UserContext + 1), *((_DWORD *)UserContext + 2), "\t%s\r\n");
  v12 = -1;
  __security_check_cookie(cookie);
  return result;
}

//----- (00418A60) --------------------------------------------------------
int __cdecl CExceptionReport::WriteStackDetails(char *szBuffer_Out, const int nBufferSize, _CONTEXT *pContext, int bWriteVariables, int *bHasSymbol_Out, const int nStackDepth)
{
  int v6; // eax@1
  int v7; // esi@2
  unsigned int v8; // edx@2
  unsigned int v9; // eax@2
  CExceptionReport *v10; // edi@2
  unsigned int (__stdcall *v11)(void *, unsigned int); // ST48_4@7
  void *(__stdcall *v12)(void *, unsigned int); // ST44_4@7
  HANDLE v13; // ST34_4@7
  HANDLE v14; // eax@7
  int v15; // eax@8
  int v16; // ecx@8
  int v17; // esi@9
  bool v18; // zf@9
  void *v19; // ST40_4@10
  HANDLE v20; // eax@10
  int v21; // eax@11
  int v22; // esi@15
  void *v23; // ST44_4@16
  HANDLE v24; // eax@16
  int v25; // eax@17
  int v26; // eax@20
  HANDLE v27; // eax@23
  HANDLE v28; // eax@25
  int v29; // eax@27
  int v30; // eax@30
  int result; // eax@31
  CExceptionReport *dbgFuncClass; // [sp+60h] [bp-AD0h]@2
  int offset; // [sp+64h] [bp-ACCh]@13
  int section; // [sp+68h] [bp-AC8h]@13
  int nCount; // [sp+6Ch] [bp-AC4h]@3
  __int64 symDisplacement; // [sp+70h] [bp-AC0h]@9
  int dwLineDisplacement; // [sp+78h] [bp-AB8h]@15
  _IMAGEHLP_LINE lineInfo; // [sp+7Ch] [bp-AB4h]@15
  SymEnumSymbols_UserData symbol_userdata; // [sp+90h] [bp-AA0h]@25
  void *addr; // [sp+A0h] [bp-A90h]@2
  int v41; // [sp+A8h] [bp-A88h]@2
  unsigned int v42; // [sp+B8h] [bp-A78h]@2
  int v43; // [sp+C0h] [bp-A70h]@2
  unsigned int v44; // [sp+C4h] [bp-A6Ch]@2
  int v45; // [sp+CCh] [bp-A64h]@2
  _IMAGEHLP_STACK_FRAME imagehlpStackFrame; // [sp+148h] [bp-9E8h]@22
  char szModule[260]; // [sp+1C8h] [bp-968h]@2
  _DWORD symbolBuffer[535]; // [sp+2D0h] [bp-860h]@9

  v6 = _snprintf(
         szBuffer_Out,
         nBufferSize,
         "------------------------------------------------------------------------------\r\n    Call Stack (%s)\r\n------------------------------------------------------------------------------\r\n\r\nAddress   Frame     Function                        SourceFile\r\n");
  if ( v6 < 0 )
    goto LABEL_31;
  v7 = v6;
  memset(&addr, 0, 0xA4u);
  v8 = pContext->Esp;
  v9 = pContext->Ebp;
  addr = (void *)pContext->Eip;
  v42 = v9;
  v41 = 3;
  v45 = 3;
  v43 = 3;
  szModule[0] = 0;
  memset(&szModule[1], 0, 0x100u);
  *(_WORD *)&szModule[257] = 0;
  v44 = v8;
  szModule[259] = 0;
  v10 = CExceptionReport::GetInstance();
  dbgFuncClass = v10;
  if ( v10->m_DBGHELP.StackWalk )
  {
    nCount = 0;
    if ( nStackDepth > 0 )
    {
      while ( 1 )
      {
        if ( !v42
          || (v11 = v10->m_DBGHELP.SymGetModuleBase,
              v12 = v10->m_DBGHELP.SymFunctionTableAccess,
              v13 = GetCurrentThread(),
              v14 = GetCurrentProcess(),
              !v10->m_DBGHELP.StackWalk(332u, v14, v13, (_tagSTACKFRAME *)&addr, pContext, 0, v12, v11, 0)) )
          break;
        v15 = _snprintf(&szBuffer_Out[v7], nBufferSize - v7, "%08x  %08x  ");
        v16 = 0;
        if ( v15 < 0 )
          goto LABEL_31;
        v17 = v15 + v7;
        symbolBuffer[0] = 2136;
        symbolBuffer[20] = 2048;
        v18 = dbgFuncClass->m_DBGHELP.SymFromAddr == 0;
        symDisplacement = 0i64;
        if ( !v18 )
        {
          v19 = addr;
          v20 = GetCurrentProcess();
          if ( ((int (__stdcall *)(HANDLE, void *, _DWORD, __int64 *, _DWORD))dbgFuncClass->m_DBGHELP.SymFromAddr)(
                 v20,
                 v19,
                 0,
                 &symDisplacement,
                 symbolBuffer) )
          {
            _wsprintfA(szModule, "%-s+0x%p", &symbolBuffer[21], symDisplacement);
            v21 = _snprintf(&szBuffer_Out[v17], nBufferSize - v17, "%-30s");
            goto LABEL_14;
          }
          v16 = 0;
        }
        section = v16;
        offset = v16;
        CExceptionReport::GetLogicalAddress(addr, szModule, 0x104u, (unsigned int *)&section, (unsigned int *)&offset);
        v21 = _snprintf(&szBuffer_Out[v17], nBufferSize - v17, "%04X:%08x                   %s");
LABEL_14:
        if ( v21 < 0 )
          goto LABEL_31;
        v22 = v21 + v17;
        lineInfo.Key = 0;
        lineInfo.LineNumber = 0;
        lineInfo.FileName = 0;
        lineInfo.Address = 0;
        lineInfo.SizeOfStruct = 20;
        dwLineDisplacement = 0;
        if ( dbgFuncClass->m_DBGHELP.SymGetLineFromAddr )
        {
          v23 = addr;
          v24 = GetCurrentProcess();
          if ( dbgFuncClass->m_DBGHELP.SymGetLineFromAddr(
                 v24,
                 (unsigned int)v23,
                 (unsigned int *)&dwLineDisplacement,
                 &lineInfo) )
          {
            v25 = _snprintf(&szBuffer_Out[v22], nBufferSize - v22, "  %s line %u");
            if ( v25 < 0 )
              goto LABEL_31;
            v22 += v25;
            if ( !*bHasSymbol_Out )
              *bHasSymbol_Out = 1;
          }
        }
        v26 = _snprintf(&szBuffer_Out[v22], nBufferSize - v22, "\r\n");
        if ( v26 < 0 )
          goto LABEL_31;
        v7 = v26 + v22;
        if ( bWriteVariables )
        {
          memset(&imagehlpStackFrame, 0, sizeof(imagehlpStackFrame));
          imagehlpStackFrame.InstructionOffset = (unsigned int)addr;
          if ( dbgFuncClass->m_DBGHELP.SymSetContext )
          {
            v27 = GetCurrentProcess();
            dbgFuncClass->m_DBGHELP.SymSetContext(v27, &imagehlpStackFrame, 0);
          }
          if ( dbgFuncClass->m_DBGHELP.SymEnumSymbols )
          {
            symbol_userdata.m_lpsf = (_tagSTACKFRAME *)&addr;
            symbol_userdata.m_szBuffer_Out = &szBuffer_Out[v7];
            symbol_userdata.m_nWritten_Out = 0;
            symbol_userdata.m_nBufferSize_In = nBufferSize - v7;
            v28 = GetCurrentProcess();
            ((void (__stdcall *)(HANDLE, _DWORD, _DWORD, _DWORD, int (__stdcall *)(_SYMBOL_INFO *, unsigned int, void *), SymEnumSymbols_UserData *))dbgFuncClass->m_DBGHELP.SymEnumSymbols)(
              v28,
              0,
              0,
              0,
              CExceptionReport::EnumerateSymbolsCallback,
              &symbol_userdata);
            if ( symbol_userdata.m_nWritten_Out < 0 )
              goto LABEL_31;
            v7 += symbol_userdata.m_nWritten_Out;
          }
          v29 = _snprintf(&szBuffer_Out[v7], nBufferSize - v7, "\r\n");
          if ( v29 < 0 )
            goto LABEL_31;
          v7 += v29;
        }
        ++nCount;
        if ( nCount >= nStackDepth )
          break;
        v10 = dbgFuncClass;
      }
    }
  }
  v30 = _snprintf(&szBuffer_Out[v7], nBufferSize - v7, "\r\n\r\n");
  if ( v30 >= 0 )
    result = v7 + v30;
  else
LABEL_31:
    result = -1;
  return result;
}

//----- (00418E60) --------------------------------------------------------
void __thiscall CExceptionReport::WriteExceptionReport(CExceptionReport *this, _EXCEPTION_POINTERS *pExceptionInfo)
{
  CExceptionReport *v2; // ebx@1
  _iobuf *v3; // eax@1
  HANDLE v4; // eax@7
  HANDLE v5; // eax@11
  CExceptionReport *bHasSymbol; // [sp+Ch] [bp-4h]@1

  bHasSymbol = this;
  v2 = this;
  v3 = this->m_logFile;
  if ( v3 )
  {
    fprintf(v3, "==============================================================================\r\n\r\n");
    if ( CExceptionReport::WriteBasicInfo(v2->m_szLogBuffer, 65535, pExceptionInfo->ExceptionRecord) < 0 )
      _snprintf(v2->m_szLogBuffer, 0xFFFFu, "Failed to write basic info.\r\n\r\n");
    fputs(v2->m_szLogBuffer, v2->m_logFile);
    fflush(v2->m_logFile);
    if ( CExceptionReport::WriteRegistersInfo(v2->m_szLogBuffer, 65535, pExceptionInfo->ContextRecord) < 0 )
      _snprintf(v2->m_szLogBuffer, 0xFFFFu, "Failed to write registers info.\r\n\r\n");
    fputs(v2->m_szLogBuffer, v2->m_logFile);
    fflush(v2->m_logFile);
    if ( v2->m_DBGHELP.SymInitialize )
    {
      v4 = GetCurrentProcess();
      if ( v2->m_DBGHELP.SymInitialize(v4, 0, 1) )
      {
        memcpy(&v2->m_tempContext, pExceptionInfo->ContextRecord, sizeof(v2->m_tempContext));
        bHasSymbol = 0;
        if ( CExceptionReport::WriteStackDetails(
               v2->m_szLogBuffer,
               65535,
               &v2->m_tempContext,
               0,
               (int *)&bHasSymbol,
               256) < 0 )
          _snprintf(v2->m_szLogBuffer, 0xFFFFu, "Failed to write stack details.\r\n\r\n");
        fputs(v2->m_szLogBuffer, v2->m_logFile);
        fflush(v2->m_logFile);
        if ( v2->m_DBGHELP.SymCleanup )
        {
          v5 = GetCurrentProcess();
          v2->m_DBGHELP.SymCleanup(v5);
        }
        fputs("\r\n\r\n\r\n", v2->m_logFile);
        if ( CExceptionReport::WriteMemoryDump(v2->m_szLogBuffer, 65535, pExceptionInfo->ContextRecord, 0x10u, 0x400u) < 0 )
          _snprintf(v2->m_szLogBuffer, 0xFFFFu, "Failed to write memory dump.\r\n\r\n");
        fputs(v2->m_szLogBuffer, v2->m_logFile);
        fflush(v2->m_logFile);
      }
    }
  }
}

//----- (00419020) --------------------------------------------------------
int __thiscall CExceptionReport::ProcessException(CExceptionReport *this, _EXCEPTION_POINTERS *lpExceptionInfo)
{
  int v2; // eax@0
  CExceptionReport *v3; // esi@1
  int v4; // eax@1
  int v5; // ebx@1
  char v6; // cl@2
  int v7; // eax@3
  char v8; // cl@4
  HANDLE v9; // edi@5
  _MINIDUMP_TYPE v10; // ST18_4@7
  DWORD v11; // ST10_4@7
  HANDLE v12; // eax@7
  int v13; // eax@8
  char v14; // cl@9
  int v15; // eax@10
  char v16; // cl@11
  _iobuf *v17; // eax@12
  _iobuf **v18; // edi@12
  int v20; // [sp-Ch] [bp-34h]@1
  int nLength; // [sp+0h] [bp-28h]@14
  CExceptionReport *v22; // [sp+8h] [bp-20h]@1
  int v23; // [sp+Ch] [bp-1Ch]@1
  int *v24; // [sp+10h] [bp-18h]@1
  int v25; // [sp+18h] [bp-10h]@1
  int (__cdecl *v26)(int, _EH3_EXCEPTION_REGISTRATION *, int); // [sp+1Ch] [bp-Ch]@1
  _UNKNOWN *v27; // [sp+20h] [bp-8h]@1
  int v28; // [sp+24h] [bp-4h]@1

  v28 = -1;
  v27 = &unk_456C68;
  v26 = _except_handler3;
  v25 = v2;
  v24 = &v20;
  v3 = this;
  v22 = this;
  SetUnhandledExceptionFilter(CExceptionReport::UnhandledSecondExceptionFilter);
  GetLocalTime(&v3->m_tempSystemTime);
  v4 = (int)v3->m_szLogPrefixName;
  v5 = v3->m_szTempBuffer - v3->m_szLogPrefixName;
  v23 = v3->m_szTempBuffer - v3->m_szLogPrefixName;
  do
  {
    v6 = *(_BYTE *)v4;
    *(_BYTE *)(v5 + v4) = *(_BYTE *)v4;
    ++v4;
  }
  while ( v6 );
  v7 = (int)v3->m_szTempBuffer;
  do
    v8 = *(_BYTE *)v7++;
  while ( v8 );
  _wsprintfA(
    &v3->m_szTempBuffer[v7 - (_DWORD)((char *)v3 + 593)],
    " %04d-%02d-%02d %02d,%02d,%02d.dmp",
    v3->m_tempSystemTime.wYear,
    v3->m_tempSystemTime.wMonth,
    v3->m_tempSystemTime.wDay,
    v3->m_tempSystemTime.wHour,
    v3->m_tempSystemTime.wMinute,
    v3->m_tempSystemTime.wSecond);
  v9 = CreateFileA(v3->m_szTempBuffer, 0x40000000u, 1u, 0, 2u, 0x80u, 0);
  if ( v3->m_DBGHELP.MiniDumpWriteDump && v9 != (HANDLE)-1 )
  {
    v3->m_miniDumpInfo.ThreadId = 0;
    v3->m_miniDumpInfo.ExceptionPointers = 0;
    v3->m_miniDumpInfo.ClientPointers = 0;
    v3->m_miniDumpInfo.ThreadId = GetCurrentThreadId();
    v3->m_miniDumpInfo.ExceptionPointers = lpExceptionInfo;
    v3->m_miniDumpInfo.ClientPointers = 0;
    v10 = v3->m_eMiniDumpType;
    v11 = GetCurrentProcessId();
    v12 = GetCurrentProcess();
    v3->m_DBGHELP.MiniDumpWriteDump(v12, v11, v9, v10, &v3->m_miniDumpInfo, 0, 0);
    CloseHandle(v9);
    v5 = v23;
  }
  v13 = (int)v3->m_szLogPrefixName;
  do
  {
    v14 = *(_BYTE *)v13;
    *(_BYTE *)(v5 + v13) = *(_BYTE *)v13;
    ++v13;
  }
  while ( v14 );
  v15 = (int)v3->m_szTempBuffer;
  do
    v16 = *(_BYTE *)v15++;
  while ( v16 );
  _wsprintfA(
    &v3->m_szTempBuffer[v15 - (_DWORD)((char *)v3 + 593)],
    " %04d-%02d-%02d %02d,%02d,%02d.txt",
    v3->m_tempSystemTime.wYear,
    v3->m_tempSystemTime.wMonth,
    v3->m_tempSystemTime.wDay,
    v3->m_tempSystemTime.wHour,
    v3->m_tempSystemTime.wMinute,
    v3->m_tempSystemTime.wSecond);
  v17 = fopen(v3->m_szTempBuffer, "wt");
  v18 = &v3->m_logFile;
  v3->m_logFile = v17;
  if ( v17 )
  {
    CExceptionReport::WriteExceptionReport(v3, lpExceptionInfo);
    if ( v3->m_lpUserFunc )
    {
      fprintf(
        *v18,
        "------------------------------------------------------------------------------\r\n    Application-specific log\r\n------------------------------------------------------------------------------\r\n\r\n");
      fflush(*v18);
      v28 = 0;
      nLength = v3->m_lpUserFunc(v3->m_szLogBuffer, 65535);
      if ( nLength > 0 )
      {
        v3->m_szLogBuffer[65534] = 0;
        fprintf(*v18, "%s");
      }
      v28 = -1;
      fprintf(*v18, "\r\n\r\n==============================================================================\r\n");
      if ( *v18 )
      {
        fprintf(*v18, "Exception occured AGAIN! EXITING NOW!\r\n");
        fclose(*v18);
        *v18 = 0;
      }
    }
  }
  return 1;
}

//----- (004192D0) --------------------------------------------------------
int __stdcall CExceptionReport::UnhandledExceptionFilter(_EXCEPTION_POINTERS *lpExceptionInfo)
{
  CExceptionReport *v1; // eax@1

  v1 = CExceptionReport::GetInstance();
  return CExceptionReport::ProcessException(v1, lpExceptionInfo);
}

//----- (004192F0) --------------------------------------------------------
void __thiscall CExceptionReport::Enable(CExceptionReport *this, unsigned int dwEnableFeature)
{
  CExceptionReport *v2; // esi@1

  v2 = this;
  if ( this->m_OldFilter )
  {
    this->m_dwFeaturesFlag |= dwEnableFeature;
  }
  else
  {
    if ( dwEnableFeature & 1 )
      this->m_OldFilter = SetUnhandledExceptionFilter(CExceptionReport::UnhandledExceptionFilter);
    v2->m_dwFeaturesFlag |= dwEnableFeature;
  }
}

//----- (00419340) --------------------------------------------------------
void __thiscall CExceptionReport::CExceptionReport(CExceptionReport *this)
{
  CExceptionReport *v1; // esi@1
  const char *v2; // edi@1
  char *v3; // eax@1
  CDLLModuleVtbl *v4; // edx@5
  char src; // [sp+10h] [bp-420h]@3
  char ext; // [sp+114h] [bp-31Ch]@3
  char dir; // [sp+218h] [bp-218h]@3
  char drive; // [sp+31Ch] [bp-114h]@3
  unsigned int v9; // [sp+420h] [bp-10h]@5
  int v10; // [sp+42Ch] [bp-4h]@1

  v1 = this;
  this->m_DBGHELP.baseclass_0.m_hDLL = 0;
  this->m_DBGHELP.baseclass_0.vfptr = (CDLLModuleVtbl *)&CDBGFuncClass::_vftable_;
  v2 = this->m_szLogPrefixName;
  v10 = 0;
  this->m_lpUserFunc = 0;
  this->m_OldFilter = 0;
  this->m_logFile = 0;
  this->m_dwFeaturesFlag = 0;
  this->m_eMiniDumpType = 0;
  GetModuleFileNameA(0, this->m_szLogPrefixName, 0x104u);
  v3 = _mbsrchr(v2, 0x2Eu);
  if ( v3 )
    *v3 = 0;
  _splitpath(v2, &drive, &dir, &src, &ext);
  _mbsnbcpy((char *)v2, &src, 0x104u);
  if ( !v1->m_OldFilter )
    v1->m_OldFilter = SetUnhandledExceptionFilter(CExceptionReport::UnhandledExceptionFilter);
  v4 = v1->m_DBGHELP.baseclass_0.vfptr;
  v1->m_dwFeaturesFlag |= 7u;
  v4->Init((CDLLModule *)v1, "DBGHELP.DLL");
  __security_check_cookie(v9);
}
// 4560FC: using guessed type int (__thiscall *CDBGFuncClass___vftable_)(void *p, char);

//----- (00419450) --------------------------------------------------------
CExceptionReport *__cdecl CExceptionReport::GetInstance()
{
  if ( !(_S1_10 & 1) )
  {
    _S1_10 |= 1u;
    CExceptionReport::CExceptionReport(&exceptionReport);
    atexit(_E2_10);
  }
  return &exceptionReport;
}

//----- (004194B0) --------------------------------------------------------
BasicType __cdecl CExceptionReport::GetBasicType(unsigned int typeIndex, unsigned __int64 modBase)
{
  CExceptionReport *v2; // esi@1
  BasicType result; // eax@2
  HANDLE v4; // eax@3
  HANDLE v5; // eax@5
  int v6; // ST14_4@6
  HANDLE v7; // eax@6
  BasicType basicType; // [sp+30h] [bp-8h]@3
  int typeId; // [sp+34h] [bp-4h]@5

  v2 = CExceptionReport::GetInstance();
  if ( v2->m_DBGHELP.SymGetTypeInfo )
  {
    v4 = GetCurrentProcess();
    if ( ((int (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, BasicType *))v2->m_DBGHELP.SymGetTypeInfo)(
           v4,
           modBase,
           HIDWORD(modBase),
           typeIndex,
           5,
           &basicType)
      || (typeId = 0,
          v5 = GetCurrentProcess(),
          ((int (__stdcall *)(HANDLE, _DWORD, _DWORD, unsigned int, signed int, int *))v2->m_DBGHELP.SymGetTypeInfo)(
            v5,
            modBase,
            HIDWORD(modBase),
            typeIndex,
            4,
            &typeId))
      && (v6 = typeId,
          v7 = GetCurrentProcess(),
          ((int (__stdcall *)(HANDLE, _DWORD, _DWORD, int, signed int, BasicType *))v2->m_DBGHELP.SymGetTypeInfo)(
            v7,
            modBase,
            HIDWORD(modBase),
            v6,
            5,
            &basicType)) )
      result = basicType;
    else
      result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00419540) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@2
  int j; // eax@3
  int i; // eax@6

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( !*(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 21) )
  {
    v2 = *(_DWORD *)(v1 + 8);
    if ( *(_BYTE *)(v2 + 21) )
    {
      for ( i = *(_DWORD *)(v1 + 4); !*(_BYTE *)(i + 21); i = *(_DWORD *)(i + 4) )
      {
        if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)(i + 8) )
          break;
        *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
      }
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
    }
    else
    {
      for ( j = *(_DWORD *)v2; !*(_BYTE *)(j + 21); j = *(_DWORD *)j )
        v2 = j;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (004195A0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (004195E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::find(std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *result, const unsigned int *_Keyval)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v3; // edx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::_Node *v4; // eax@1
  std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *v5; // eax@8

  v3 = this->_Myhead;
  v4 = v3->_Parent;
  while ( !v4->_Isnil )
  {
    if ( v4->_Myval.first >= *_Keyval )
    {
      v3 = v4;
      v4 = v4->_Left;
    }
    else
    {
      v4 = v4->_Right;
    }
  }
  if ( v3 == this->_Myhead || *_Keyval < v3->_Myval.first )
  {
    v5 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = this->_Myhead;
  }
  else
  {
    v5 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v3;
  }
  return v5;
}

//----- (00419650) --------------------------------------------------------
CMsgProc *__thiscall CMsgProcessMgr::FindMsgProc(CMsgProcessMgr *this, unsigned int uMsg)
{
  CMsgProcessMgr *v2; // esi@1
  CMsgProc *result; // eax@2
  CMsgProcessMgr *find; // [sp+0h] [bp-4h]@1

  find = this;
  v2 = this;
  std::_Tree<std::_Tmap_traits<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>_0>>::find(
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> >,0> >::iterator *)&find,
    &uMsg);
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)find == v2->m_MessageProcessMap.baseclass_0._Myhead )
    result = 0;
  else
    result = (CMsgProc *)find[1].m_MessageProcessMap.baseclass_0._Myhead;
  return result;
}

//----- (00419680) --------------------------------------------------------
void __thiscall CMsgProcessMgr::Clear(CMsgProcessMgr *this)
{
  CMsgProcessMgr *v1; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v2; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v3; // eax@1
  int v4; // ecx@2
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v5; // ecx@5
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v6; // ebx@5
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v7; // esi@5
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v8; // eax@7
  CMsgProcessMgr *pos; // [sp+4h] [bp-4h]@1

  pos = this;
  v1 = this;
  v2 = this->m_MessageProcessMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)v2->_Left;
  for ( pos = (CMsgProcessMgr *)v2->_Left;
        (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)pos != v2;
        v3 = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)pos )
  {
    v4 = *(_DWORD *)(*(_DWORD *)&v3 + 16);
    if ( v4 )
      (**(void (__stdcall ***)(_DWORD))v4)(1);
    std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&pos);
  }
  v5 = v1->m_MessageProcessMap.baseclass_0._Myhead;
  v6 = v5->_Parent;
  v7 = v5->_Parent;
  if ( !v6->_Isnil )
  {
    do
    {
      std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Erase(
        &v1->m_MessageProcessMap.baseclass_0,
        v7->_Right);
      v7 = v7->_Left;
      operator delete(v6);
      v6 = v7;
    }
    while ( !v7->_Isnil );
  }
  v1->m_MessageProcessMap.baseclass_0._Myhead->_Parent = v1->m_MessageProcessMap.baseclass_0._Myhead;
  v8 = v1->m_MessageProcessMap.baseclass_0._Myhead;
  v1->m_MessageProcessMap.baseclass_0._Mysize = 0;
  v8->_Left = v8;
  v1->m_MessageProcessMap.baseclass_0._Myhead->_Right = v1->m_MessageProcessMap.baseclass_0._Myhead;
}

//----- (00419700) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 21) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&_Where);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 21) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
      v9->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v7;
      else
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 21) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 20);
  *(_BYTE *)(*(_DWORD *)&v6 + 20) = *(_BYTE *)(*(_DWORD *)&v4 + 20);
  *(_BYTE *)(*(_DWORD *)&v4 + 20) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 20) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 20) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 20) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 20) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (004199C0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator _Last)
{
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 21) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 21);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 21);
                  j = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (00419A80) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *_Wherenode, std::pair<unsigned int const ,CMsgProc *> *_Val)
{
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *v5; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v6; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v7; // eax@4
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v8; // eax@7
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v9; // eax@9
  int v10; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v11; // esi@11
  int v12; // ecx@12
  int v13; // ebp@12
  int v14; // edx@12
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *v15; // eax@24
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v18; // [sp+4Ch] [bp-4h]@2
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Vala; // [sp+60h] [bp+10h]@4

  v5 = this;
  if ( this->_Mysize >= 0x1FFFFFFE )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "map/set<T> too long", 0x13u);
    v18 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  v6 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(
         (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *)this,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Wherenode,
         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)this->_Myhead,
         (std::pair<enum Item::ItemType::Type const ,unsigned char> *)_Val,
         0);
  v7 = v5->_Myhead;
  _Vala = v6;
  ++v5->_Mysize;
  if ( _Wherenode == v7 )
  {
    v7->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
    v5->_Myhead->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
    v5->_Myhead->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
  }
  else
  {
    if ( _Addleft )
    {
      _Wherenode->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
      v8 = v5->_Myhead;
      if ( _Wherenode == v8->_Left )
        v8->_Left = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
    }
    else
    {
      _Wherenode->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
      v9 = v5->_Myhead;
      if ( _Wherenode == v9->_Right )
        v9->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v6;
    }
  }
  v10 = (int)&v6->_Parent;
  v11 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v6;
  if ( !v6->_Parent->_Color )
  {
    while ( 1 )
    {
      v12 = *(_DWORD *)v10;
      v13 = *(_DWORD *)(*(_DWORD *)v10 + 4);
      v14 = *(_DWORD *)v13;
      if ( *(_DWORD *)v10 == *(_DWORD *)v13 )
      {
        v14 = *(_DWORD *)(v13 + 8);
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(v12 + 8) )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      else
      {
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v12 )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      *(_BYTE *)(*(_DWORD *)v10 + 20) = 1;
      *(_BYTE *)(v14 + 20) = 1;
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)v10 + 4) + 20) = 0;
      v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(*(_DWORD *)v10 + 4);
LABEL_22:
      v10 = (int)&v11->_Parent;
      if ( v11->_Parent->_Color )
      {
        v6 = _Vala;
        break;
      }
    }
  }
  v15 = result;
  v5->_Myhead->_Parent->_Color = 1;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6;
  return v15;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00419C30) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::insert(std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator,bool> *result, std::pair<unsigned int const ,CMsgProc *> *_Val)
{
  std::pair<unsigned int const ,CMsgProc *> *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> > *v4; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v5; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *v6; // eax@1
  bool v7; // cl@1
  const unsigned int v8; // edx@2
  std::pair<unsigned int const ,CMsgProc *> *v9; // edx@7
  int v10; // edx@9
  std::pair<std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator,bool> *v11; // eax@9
  int v12; // ecx@12
  char _Addleft; // [sp+Ch] [bp-4h]@1

  v3 = _Val;
  v4 = this;
  v5 = this->_Myhead;
  v6 = v5->_Parent;
  v7 = 1;
  _Addleft = 1;
  if ( !v6->_Isnil )
  {
    v8 = _Val->first;
    do
    {
      v7 = v8 < v6->_Myval.first;
      v5 = v6;
      _Addleft = v8 < v6->_Myval.first;
      if ( v8 >= v6->_Myval.first )
        v6 = v6->_Right;
      else
        v6 = v6->_Left;
    }
    while ( !v6->_Isnil );
  }
  v9 = (std::pair<unsigned int const ,CMsgProc *> *)v5;
  _Val = (std::pair<unsigned int const ,CMsgProc *> *)v5;
  if ( v7 )
  {
    if ( v5 == v4->_Myhead->_Left )
    {
      v10 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Insert(
                          v4,
                          (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)&_Val,
                          1,
                          v5,
                          v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      v11 = result;
      result->second = 1;
      *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v10;
      return v11;
    }
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    v9 = _Val;
  }
  if ( v9[1].second >= (CMsgProc *)v3->first )
  {
    v11 = result;
    result->second = 0;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v9;
  }
  else
  {
    v12 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::_Insert(
                        v4,
                        (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator *)&_Val,
                        _Addleft,
                        v5,
                        v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v11 = result;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v12;
    result->second = 1;
  }
  return v11;
}

//----- (00419CF0) --------------------------------------------------------
void __thiscall std::map<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>>::_map<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>>(std::map<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> > > *this)
{
  std::map<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (00419D20) --------------------------------------------------------
void __thiscall CMsgProcessMgr::_CMsgProcessMgr(CMsgProcessMgr *this)
{
  CMsgProcessMgr *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v2; // ST08_4@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator v3; // ST04_4@1
  std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator result; // [sp+4h] [bp-10h]@1
  int v5; // [sp+10h] [bp-4h]@1

  v1 = this;
  result = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)this;
  v5 = 0;
  CMsgProcessMgr::Clear(this);
  v2 = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)v1->m_MessageProcessMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator)v1->m_MessageProcessMap.baseclass_0._Myhead->_Left;
  v5 = -1;
  std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::erase(
    &v1->m_MessageProcessMap.baseclass_0,
    &result,
    v3,
    v2);
  operator delete(v1->m_MessageProcessMap.baseclass_0._Myhead);
  v1->m_MessageProcessMap.baseclass_0._Myhead = 0;
  v1->m_MessageProcessMap.baseclass_0._Mysize = 0;
}

//----- (00419D90) --------------------------------------------------------
bool __thiscall CMsgProcessMgr::Register(CMsgProcessMgr *this, unsigned int uMsg, CMsgProc *lpMsgProcessProc)
{
  unsigned int v4; // [sp+0h] [bp-10h]@1
  CMsgProc *v5; // [sp+4h] [bp-Ch]@1
  std::pair<std::_Tree<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::iterator,bool> result; // [sp+8h] [bp-8h]@1

  v4 = uMsg;
  v5 = lpMsgProcessProc;
  return std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::insert(
           &this->m_MessageProcessMap.baseclass_0,
           &result,
           (std::pair<unsigned int const ,CMsgProc *> *)&v4)->second;
}

//----- (00419DC0) --------------------------------------------------------
void __thiscall CMsgProcessMgr::CMsgProcessMgr(CMsgProcessMgr *this)
{
  CMsgProcessMgr *v1; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // eax@1

  v1 = this;
  v2 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)this);
  v1->m_MessageProcessMap.baseclass_0._Myhead = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> >,0> >::_Node *)v2;
  v2->_Isnil = 1;
  v1->m_MessageProcessMap.baseclass_0._Myhead->_Parent = v1->m_MessageProcessMap.baseclass_0._Myhead;
  v1->m_MessageProcessMap.baseclass_0._Myhead->_Left = v1->m_MessageProcessMap.baseclass_0._Myhead;
  v1->m_MessageProcessMap.baseclass_0._Myhead->_Right = v1->m_MessageProcessMap.baseclass_0._Myhead;
  v1->m_MessageProcessMap.baseclass_0._Mysize = 0;
}

//----- (00419DF0) --------------------------------------------------------
bool __thiscall CConsoleWindow::Destroy(CConsoleWindow *this)
{
  CConsoleWindow *v1; // esi@1
  _RTL_CRITICAL_SECTION *v2; // ebp@1
  _RTL_CRITICAL_SECTION *v4; // [sp+0h] [bp-14h]@0

  v1 = this;
  v2 = (_RTL_CRITICAL_SECTION *)&this->m_ConsoleWindowLock;
  EnterCriticalSection(v4);
  if ( v1->m_hFont )
  {
    DeleteObject(v1->m_hFont);
    v1->m_hFont = 0;
  }
  if ( v1->m_hWndInfo )
  {
    DestroyWindow(v1->m_hWndInfo);
    v1->m_hWndInfo = 0;
  }
  if ( v1->m_hWndInput )
  {
    DestroyWindow(v1->m_hWndInput);
    v1->m_hWndInput = 0;
  }
  if ( v1->m_hWndOutput )
  {
    DestroyWindow(v1->m_hWndOutput);
    v1->m_hWndOutput = 0;
  }
  if ( v1->m_hWnd )
  {
    DestroyWindow(v1->m_hWnd);
    v1->m_hWnd = 0;
  }
  UnregisterClassA(WINCONSOLE_CLASSNAME, v1->m_hInstance);
  LeaveCriticalSection(v2);
  return 1;
}

//----- (00419E70) --------------------------------------------------------
int __stdcall CConsoleWindow::ConsoleWindowProc(HWND__ *hWnd, unsigned int msg, unsigned int wParam, int lParam)
{
  HANDLE v4; // esi@1
  int result; // eax@2
  HWND__ *v6; // ebx@5
  HWND__ *v7; // ebx@10
  DWORD v8; // eax@14
  LRESULT msga; // [sp+10h] [bp+8h]@5

  v4 = GetPropA(hWnd, CConsoleWindow::ms_this);
  if ( v4 )
  {
    if ( msg == CConsoleWindow::ms_PrintOutputMsg && wParam )
    {
      v6 = (HWND__ *)*((_DWORD *)v4 + 13);
      msga = SendMessageA(*((HWND *)v4 + 13), 0x18Bu, 0, 0);
      if ( (unsigned int)msga > 0x64 )
        SendMessageA(v6, 0x182u, 0, 0);
      SendMessageA(v6, 0x180u, 0, wParam);
      SendMessageA(v6, 0x197u, msga - 1, 0);
      EnterCriticalSection((LPCRITICAL_SECTION)((char *)v4 + 4));
      *(_DWORD *)wParam = *((_DWORD *)v4 + 51);
      *((_DWORD *)v4 + 51) = wParam;
      LeaveCriticalSection((LPCRITICAL_SECTION)((char *)v4 + 4));
      result = 0;
    }
    else
    {
      if ( msg == CConsoleWindow::ms_PrintInfoMsg && wParam )
      {
        v7 = (HWND__ *)*((_DWORD *)v4 + 11);
        SetWindowTextA(*((HWND *)v4 + 11), (LPCSTR)wParam);
        UpdateWindow(v7);
        EnterCriticalSection((LPCRITICAL_SECTION)((char *)v4 + 4));
        *(_DWORD *)wParam = *((_DWORD *)v4 + 51);
        *((_DWORD *)v4 + 51) = wParam;
        LeaveCriticalSection((LPCRITICAL_SECTION)((char *)v4 + 4));
        result = 0;
      }
      else
      {
        if ( msg == 16 )
        {
          SetWindowLongA(*((HWND *)v4 + 12), -4, *((_DWORD *)v4 + 16));
          PostQuitMessage(0);
          result = 0;
        }
        else
        {
          if ( msg == 308 )
          {
            v8 = GetSysColor(15);
            SetBkColor((HDC)wParam, v8);
            result = (int)GetSysColorBrush(15);
          }
          else
          {
            result = DefWindowProcA(hWnd, msg, wParam, lParam);
          }
        }
      }
    }
  }
  else
  {
    result = DefWindowProcA(hWnd, msg, wParam, lParam);
  }
  return result;
}

//----- (00419FD0) --------------------------------------------------------
void __thiscall CConsoleWindow::CConsoleWindow(CConsoleWindow *this, HINSTANCE__ *hInstance, HWND__ *hParentWnd, CConsoleCMDFactory *CMDFactory, CCommandProcess *CMDProcess)
{
  CConsoleWindow *v5; // esi@1

  v5 = this;
  this->vfptr = (CConsoleWindowVtbl *)&CConsoleWindow::_vftable_;
  InitializeCriticalSection((LPCRITICAL_SECTION)&this->m_ConsoleWindowLock);
  v5->m_hParentWnd = hParentWnd;
  v5->m_hInstance = hInstance;
  v5->m_hWnd = 0;
  v5->m_hWndInfo = 0;
  v5->m_hWndInput = 0;
  v5->m_hWndOutput = 0;
  v5->m_hFont = 0;
  v5->m_fOldProc = 0;
  v5->m_CMDProcess = CMDProcess;
  v5->m_CMDFactory = CMDFactory;
  v5->m_MsgPool.baseclass_0.first = 0;
  v5->m_MsgPool.list.ptr = 0;
  v5->m_MsgPool.list.sz = 0;
  v5->m_MsgPool.requested_size = 8192;
  v5->m_MsgPool.next_size = 32;
  memset(v5->m_szWindowName, 0, sizeof(v5->m_szWindowName));
}
// 456C9C: using guessed type int (__thiscall *CConsoleWindow___vftable_)(void *p, char);

//----- (0041A050) --------------------------------------------------------
void __thiscall CConsoleWindow::_CConsoleWindow(CConsoleWindow *this)
{
  CConsoleWindow *v1; // esi@1

  v1 = this;
  this->vfptr = (CConsoleWindowVtbl *)&CConsoleWindow::_vftable_;
  CConsoleWindow::Destroy(this);
  boost::pool<boost::default_user_allocator_new_delete>::purge_memory(&v1->m_MsgPool);
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_ConsoleWindowLock);
}
// 456C9C: using guessed type int (__thiscall *CConsoleWindow___vftable_)(void *p, char);

//----- (0041A080) --------------------------------------------------------
void __cdecl CConsoleWindow::PrintOutput(CConsoleWindow *this, const char *lpFormat)
{
  boost::pool<boost::default_user_allocator_new_delete> *v2; // ecx@2
  void *v3; // esi@2
  int v4; // eax@6
  char ap; // [sp+14h] [bp+Ch]@0

  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ConsoleWindowLock);
  if ( this->m_hWnd )
  {
    v2 = &this->m_MsgPool;
    v3 = this->m_MsgPool.baseclass_0.first;
    if ( v3 )
      v2->baseclass_0.first = *(void **)v3;
    else
      v3 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v2);
    if ( v3 )
    {
      v4 = _vsnprintf((char *)v3, 0x1FFFu, lpFormat, &ap);
      if ( v4 > 0 )
      {
        *((_BYTE *)v3 + v4) = 0;
        PostMessageA(this->m_hWnd, CConsoleWindow::ms_PrintOutputMsg, (WPARAM)v3, 0);
      }
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)&this->m_ConsoleWindowLock);
}

//----- (0041A100) --------------------------------------------------------
void __cdecl CConsoleWindow::PrintInfo(CConsoleWindow *this, const char *lpFormat)
{
  boost::pool<boost::default_user_allocator_new_delete> *v2; // ecx@2
  void *v3; // esi@2
  int v4; // eax@6
  char ap; // [sp+14h] [bp+Ch]@0

  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ConsoleWindowLock);
  if ( this->m_hWnd )
  {
    v2 = &this->m_MsgPool;
    v3 = this->m_MsgPool.baseclass_0.first;
    if ( v3 )
      v2->baseclass_0.first = *(void **)v3;
    else
      v3 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v2);
    if ( v3 )
    {
      v4 = _vsnprintf((char *)v3, 0x1FFFu, lpFormat, &ap);
      if ( v4 > 0 )
      {
        *((_BYTE *)v3 + v4) = 0;
        PostMessageA(this->m_hWnd, CConsoleWindow::ms_PrintInfoMsg, (WPARAM)v3, 0);
      }
    }
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)&this->m_ConsoleWindowLock);
}

//----- (0041A180) --------------------------------------------------------
void *__thiscall CConsoleWindow::_scalar_deleting_destructor_(CConsoleWindow *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CConsoleWindow::_CConsoleWindow(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041A1A0) --------------------------------------------------------
void __thiscall CConsoleWindow::CreateCommand(CConsoleWindow *this)
{
  CConsoleWindow *v1; // esi@1
  int v2; // eax@1
  CCommand *v3; // edi@2
  char szCommand[512]; // [sp+4h] [bp-204h]@1

  v1 = this;
  v2 = GetWindowTextA(this->m_hWndInput, szCommand, 512);
  if ( v2 > 0 )
  {
    v3 = (CCommand *)CConsoleCMDFactory::Create(v1->m_CMDFactory, szCommand, v2);
    if ( v3 )
    {
      CConsoleWindow::PrintOutput(v1, szCommand);
      CCommandProcess::Add(v1->m_CMDProcess, v3);
    }
    else
    {
      CConsoleWindow::PrintOutput(v1, "Can't recognize command. Please reinput.");
    }
  }
  SetWindowTextA(v1->m_hWndInput, String);
}

//----- (0041A240) --------------------------------------------------------
int __stdcall CConsoleWindow::InputWindowProc(HWND__ *hWnd, unsigned __int16 msg, unsigned __int16 wParam, int lParam)
{
  HANDLE v4; // eax@1
  int (__stdcall *v5)(HWND__ *, unsigned int, unsigned int, int); // edx@2
  int result; // eax@5

  v4 = GetPropA(hWnd, CConsoleWindow::ms_this);
  if ( v4 && (v5 = (int (__stdcall *)(HWND__ *, unsigned int, unsigned int, int))*((_DWORD *)v4 + 16)) != 0 )
  {
    if ( msg != 258 || wParam != 13 )
    {
      result = CallWindowProcA(v5, hWnd, msg, wParam, lParam);
    }
    else
    {
      CConsoleWindow::CreateCommand((CConsoleWindow *)v4);
      result = 0;
    }
  }
  else
  {
    result = DefWindowProcA(hWnd, msg, wParam, lParam);
  }
  return result;
}

//----- (0041A2C0) --------------------------------------------------------
bool __thiscall CConsoleWindow::Initialize(CConsoleWindow *this, const char *szWindowName)
{
  CConsoleWindow *v2; // esi@1
  _RTL_CRITICAL_SECTION *v3; // ebp@1
  bool result; // al@2
  HICON__ *v5; // eax@3
  HINSTANCE__ *v6; // ecx@3
  HWND__ *v7; // eax@5
  HWND v8; // eax@7
  HWND v9; // eax@8
  HWND__ *v10; // eax@9
  LONG v11; // eax@10
  HWND__ *v12; // ecx@10
  HFONT v13; // eax@11
  tagWNDCLASSA wc; // [sp+Ch] [bp-28h]@3

  v2 = this;
  v3 = (_RTL_CRITICAL_SECTION *)&this->m_ConsoleWindowLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ConsoleWindowLock);
  if ( v2->m_hWnd )
  {
    LeaveCriticalSection(v3);
    result = 1;
  }
  else
  {
    strncpy(v2->m_szWindowName, szWindowName, 0x7Fu);
    v2->m_szWindowName[127] = 0;
    wc.cbClsExtra = 0;
    wc.cbWndExtra = 0;
    wc.hbrBackground = (HBRUSH__ *)GetStockObject(2);
    wc.hCursor = LoadCursorA(0, (LPCSTR)0x7F00);
    v5 = LoadIconA(0, (LPCSTR)0x7F00);
    v6 = v2->m_hInstance;
    wc.hIcon = v5;
    wc.hInstance = v6;
    wc.lpfnWndProc = CConsoleWindow::ConsoleWindowProc;
    wc.lpszClassName = WINCONSOLE_CLASSNAME;
    wc.lpszMenuName = 0;
    wc.style = 3;
    if ( RegisterClassA(&wc)
      && (v7 = CreateWindowExA(
                 0x200u,
                 WINCONSOLE_CLASSNAME,
                 v2->m_szWindowName,
                 0x10000000u,
                 WINCONSOLE_X,
                 20,
                 480,
                 640,
                 v2->m_hParentWnd,
                 0,
                 v2->m_hInstance,
                 0),
          (v2->m_hWnd = v7) != 0)
      && SetPropA(v7, CConsoleWindow::ms_this, v2)
      && (v8 = CreateWindowExA(
                 0x200u,
                 "EDIT",
                 "information ====================================",
                 0x50200804u,
                 0,
                 0,
                 470,
                 180,
                 v2->m_hWnd,
                 0,
                 v2->m_hInstance,
                 0),
          (v2->m_hWndInfo = v8) != 0)
      && (v9 = CreateWindowExA(
                 0x200u,
                 "LISTBOX",
                 String,
                 0x50204000u,
                 0,
                 180,
                 470,
                 416,
                 v2->m_hWnd,
                 0,
                 v2->m_hInstance,
                 0),
          (v2->m_hWndOutput = v9) != 0)
      && (v10 = CreateWindowExA(0x200u, "EDIT", String, 0x50000000u, 0, 580, 466, 30, v2->m_hWnd, 0, v2->m_hInstance, 0),
          (v2->m_hWndInput = v10) != 0)
      && (v11 = SetWindowLongA(v10, -4, (LONG)CConsoleWindow::InputWindowProc),
          v12 = v2->m_hWndInput,
          v2->m_fOldProc = v11,
          SetPropA(v12, CConsoleWindow::ms_this, v2))
      && (v13 = CreateFontA(-11, 0, 0, 0, 400, 0, 0, 0, 1u, 0, 0, 0, 1u, WINCONSOLE_FONTNAME), (v2->m_hFont = v13) != 0) )
    {
      PostMessageA(v2->m_hWndInfo, 0x30u, (WPARAM)v13, 0);
      PostMessageA(v2->m_hWndOutput, 0x30u, (WPARAM)v2->m_hFont, 0);
      PostMessageA(v2->m_hWndInput, 0x30u, (WPARAM)v2->m_hFont, 0);
      LeaveCriticalSection(v3);
      result = 1;
    }
    else
    {
      LeaveCriticalSection(v3);
      result = 0;
    }
  }
  return result;
}

//----- (0041A510) --------------------------------------------------------
void __thiscall CBufferQueue::CBufferQueue(CBufferQueue *this)
{
  this->vfptr = (CBufferQueueVtbl *)&CBufferQueue::_vftable_;
  this->m_lpHead = 0;
  this->m_lpTail = 0;
  this->m_bufferNum = 0;
  this->m_queueSize = 0;
  this->m_maxQueueSize = -1;
}
// 456D54: using guessed type int (__thiscall *CBufferQueue___vftable_)(void *p, char);

//----- (0041A530) --------------------------------------------------------
bool __thiscall CBufferQueue::enqueue(CBufferQueue *this, CBuffer *lpBuffer, bool bPendHead)
{
  unsigned int v3; // esi@2
  CBuffer *v4; // edx@3
  unsigned int v5; // edx@9

  if ( lpBuffer )
  {
    v3 = lpBuffer->wr_ptr_ - lpBuffer->rd_ptr_;
    if ( v3 + this->m_queueSize < this->m_maxQueueSize )
    {
      v4 = this->m_lpHead;
      if ( v4 )
      {
        if ( !bPendHead )
        {
          this->m_lpTail->next_ = lpBuffer;
          lpBuffer->prev_ = this->m_lpTail;
          this->m_lpTail = lpBuffer;
LABEL_9:
          v5 = this->m_bufferNum + 1;
          this->m_queueSize += v3;
          this->m_bufferNum = v5;
          return 1;
        }
        lpBuffer->next_ = v4;
        this->m_lpHead->prev_ = lpBuffer;
      }
      else
      {
        this->m_lpTail = lpBuffer;
      }
      this->m_lpHead = lpBuffer;
      goto LABEL_9;
    }
  }
  return 0;
}

//----- (0041A5A0) --------------------------------------------------------
CBuffer *__thiscall CBufferQueue::dequeue(CBufferQueue *this)
{
  CBuffer *result; // eax@1

  result = this->m_lpHead;
  if ( result )
  {
    this->m_lpHead = result->next_;
    result->prev_ = 0;
    result->next_ = 0;
    if ( this->m_lpTail == result )
      this->m_lpTail = 0;
    --this->m_bufferNum;
    this->m_queueSize += result->rd_ptr_ - result->wr_ptr_;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041A5E0) --------------------------------------------------------
void __thiscall CBufferQueue::clear(CBufferQueue *this)
{
  CBufferQueue *v1; // esi@1
  CBuffer *v2; // eax@2

  v1 = this;
  while ( v1->m_lpHead )
  {
    v2 = v1->m_lpHead;
    v1->m_lpHead = v2->next_;
    if ( v2 )
      ((void (__stdcall *)(_DWORD))v2->bufferfactory_->vfptr->Release)(v2);
  }
  v1->m_lpTail = 0;
  v1->m_bufferNum = 0;
  v1->m_queueSize = 0;
}

//----- (0041A630) --------------------------------------------------------
void __thiscall CBufferQueue::splice(CBufferQueue *this, CBufferQueue *Buffer_In, bool bPendHead)
{
  CBuffer *v3; // edx@1
  CBuffer *v4; // esi@2

  v3 = Buffer_In->m_lpHead;
  if ( v3 )
  {
    v4 = this->m_lpHead;
    if ( v4 )
    {
      if ( bPendHead )
      {
        Buffer_In->m_lpTail->next_ = v4;
        this->m_lpHead->prev_ = Buffer_In->m_lpTail;
        this->m_lpHead = Buffer_In->m_lpHead;
      }
      else
      {
        this->m_lpTail->next_ = v3;
        Buffer_In->m_lpHead->prev_ = this->m_lpTail;
        this->m_lpTail = Buffer_In->m_lpTail;
      }
    }
    else
    {
      this->m_lpHead = v3;
      this->m_lpTail = Buffer_In->m_lpTail;
    }
    this->m_bufferNum += Buffer_In->m_bufferNum;
    this->m_queueSize += Buffer_In->m_queueSize;
    Buffer_In->m_lpHead = 0;
    Buffer_In->m_lpTail = 0;
    Buffer_In->m_bufferNum = 0;
    Buffer_In->m_queueSize = 0;
  }
}

//----- (0041A6B0) --------------------------------------------------------
void __thiscall CBufferQueue::_CBufferQueue(CBufferQueue *this)
{
  this->vfptr = (CBufferQueueVtbl *)&CBufferQueue::_vftable_;
  CBufferQueue::clear(this);
}
// 456D54: using guessed type int (__thiscall *CBufferQueue___vftable_)(void *p, char);

//----- (0041A6C0) --------------------------------------------------------
void *__thiscall CBufferQueue::_scalar_deleting_destructor_(CBufferQueue *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (CBufferQueueVtbl *)&CBufferQueue::_vftable_;
  CBufferQueue::clear(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 456D54: using guessed type int (__thiscall *CBufferQueue___vftable_)(void *p, char);

//----- (0041A6F0) --------------------------------------------------------
void __thiscall CXORCrypt::XORF(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer, char PageNum1, char PageNum2)
{
  unsigned int v6; // esi@1
  int v7; // eax@2
  char *v8; // ecx@2
  char v9; // bl@3

  v6 = 0;
  if ( Length_In > 0 )
  {
    v7 = 10 * PageVer;
    v8 = Start_In;
    do
    {
      v9 = *(&CXORCrypt::BitFields[40 * (v7 + (unsigned __int8)PageNum1)] + v6 % 0x28) ^ *v8;
      *v8 = v9;
      *v8++ = v9 ^ *(&CXORCrypt::BitFields[40 * (v7 + (unsigned __int8)PageNum2)] + v6++ % 0x28);
    }
    while ( (signed int)v6 < Length_In );
  }
}

//----- (0041A760) --------------------------------------------------------
void __thiscall CXORCrypt::XORB(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer, char PageNum1, char PageNum2)
{
  unsigned int v6; // esi@1
  int v7; // eax@2
  char *v8; // ecx@2
  char v9; // bl@3

  v6 = 0;
  if ( Length_In > 0 )
  {
    v7 = 10 * PageVer;
    v8 = Start_In;
    do
    {
      v9 = *(&CXORCrypt::BitFields[40 * (v7 + (unsigned __int8)PageNum2)] + v6 % 0x28) ^ *v8;
      *v8 = v9;
      *v8++ = v9 ^ *(&CXORCrypt::BitFields[40 * (v7 + (unsigned __int8)PageNum1)] + v6++ % 0x28);
    }
    while ( (signed int)v6 < Length_In );
  }
}

//----- (0041A7D0) --------------------------------------------------------
void __thiscall CXORCrypt::InitCodePage(CXORCrypt *this)
{
  CXORCrypt *v1; // edi@1
  int v2; // eax@1
  signed int v3; // esi@1
  int v4; // edx@2

  v1 = this;
  v2 = time(0);
  srand(v2);
  v3 = 0;
  do
  {
    v4 = rand() % 10;
    v1->___u0.baseclass_0.dummy[v3] = v4;
    if ( v3 > 1 && (_BYTE)v4 == *((_BYTE *)v1 + v3 - 1) )
      --v3;
    ++v3;
  }
  while ( v3 < 100 );
  v1->m_CodePageCount = rand() % 100;
}

//----- (0041A820) --------------------------------------------------------
unsigned int __thiscall CXORCrypt::GetCodePage(CXORCrypt *this)
{
  unsigned int v1; // eax@3

  if ( this->m_CodePageCount > 0xFFFFFF00 )
    this->m_CodePageCount = 0;
  v1 = this->m_CodePageCount + 2;
  this->m_CodePageCount = v1 % 0x64;
  return *((_BYTE *)this + v1 % 0x64 - 1) | ((this->___u0.baseclass_0.dummy[v1 % 0x64] | 0x100) << 8);
}

//----- (0041A860) --------------------------------------------------------
bool __thiscall CXORCrypt::EncodePacket(CXORCrypt *this, char *Start_In, int Length_In, unsigned int CodePage_In)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  bool result; // al@4

  v4 = CodePage_In >> 16;
  v5 = CodePage_In >> 8;
  if ( HIWORD(CodePage_In) > 1u || (unsigned __int8)v5 >= 0xAu || (unsigned __int8)CodePage_In >= 0xAu )
  {
    result = 0;
  }
  else
  {
    CXORCrypt::XORF(this, Start_In, Length_In, v4, SBYTE1(CodePage_In), CodePage_In);
    result = 1;
  }
  return result;
}

//----- (0041A8B0) --------------------------------------------------------
bool __thiscall CXORCrypt::DecodePacket(CXORCrypt *this, char *Start_In, int Length_In, unsigned int CodePage_In)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  bool result; // al@4

  v4 = CodePage_In >> 16;
  v5 = CodePage_In >> 8;
  if ( HIWORD(CodePage_In) > 1u || (unsigned __int8)v5 >= 0xAu || (unsigned __int8)CodePage_In >= 0xAu )
  {
    result = 0;
  }
  else
  {
    CXORCrypt::XORB(this, Start_In, Length_In, v4, SBYTE1(CodePage_In), CodePage_In);
    result = 1;
  }
  return result;
}

//----- (0041A900) --------------------------------------------------------
void __thiscall CXORCrypt::EncodeHeader(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer_In, char PageNum_In)
{
  unsigned int v5; // esi@1
  char *v6; // ecx@2
  int v7; // edi@3

  v5 = 0;
  if ( Length_In > 0 )
  {
    v6 = Start_In;
    do
    {
      v7 = 40 * ((unsigned __int8)PageNum_In + 10 * PageVer_In);
      *v6 = 2 * (*v6 ^ *(&CXORCrypt::BitFields[v5 % 0x28] + v7)) | ((char)(*v6 ^ *(&CXORCrypt::BitFields[v5 % 0x28] + v7)) >> 7) & 1;
      ++v6;
      ++v5;
    }
    while ( (signed int)v5 < Length_In );
  }
}

//----- (0041A960) --------------------------------------------------------
void __thiscall CXORCrypt::DecodeHeader(CXORCrypt *this, char *Start_In, int Length_In, unsigned __int16 PageVer_In, char PageNum_In)
{
  int v5; // edi@1
  char *v6; // esi@2
  char v7; // cl@3

  v5 = 0;
  if ( Length_In > 0 )
  {
    v6 = Start_In;
    do
    {
      v7 = (*v6 << 7) | (*v6 >> 1) & 0x7F;
      *v6 = v7;
      *v6++ = v7 ^ *(&CXORCrypt::BitFields[40 * ((unsigned __int8)PageNum_In + 10 * PageVer_In)] + v5++ % 0x28u);
    }
    while ( v5 < Length_In );
  }
}

//----- (0041A9C0) --------------------------------------------------------
void __thiscall CXORCrypt::CXORCrypt(CXORCrypt *this)
{
  CSingleton<CXORCrypt>::ms_pSingleton = this;
  CXORCrypt::InitCodePage(this);
}

//----- (0041A9E0) --------------------------------------------------------
void __thiscall CXORCrypt::_CXORCrypt(CXORCrypt *this)
{
  CSingleton<CXORCrypt>::ms_pSingleton = 0;
}

//----- (0041A9F0) --------------------------------------------------------
void __thiscall CBuffer::CBuffer(CBuffer *this, CBufferFactory *bufferfactory)
{
  this->internal_buffer_ = 0;
  this->rd_ptr_ = 0;
  this->wr_ptr_ = 0;
  this->buffer_size_ = 0;
  this->next_ = 0;
  this->prev_ = 0;
  this->address_.m_iAddrLen = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_family = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_data[10] = 0;
  this->bufferfactory_ = bufferfactory;
}

//----- (0041AA20) --------------------------------------------------------
void __thiscall CBuffer::init(CBuffer *this, char *internal_buffer, unsigned int buffer_size)
{
  this->internal_buffer_ = internal_buffer;
  this->wr_ptr_ = internal_buffer;
  this->rd_ptr_ = internal_buffer;
  this->buffer_size_ = buffer_size;
  this->next_ = 0;
  this->prev_ = 0;
  this->address_.m_iAddrLen = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_family = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_data[2] = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_data[6] = 0;
  *(_DWORD *)&this->address_.m_SockAddr.sa_data[10] = 0;
}

//----- (0041AA60) --------------------------------------------------------
bool __thiscall CBuffer::push(CBuffer *this, const void *ptr, unsigned int n)
{
  void *v3; // edi@1
  bool result; // al@3

  v3 = this->wr_ptr_;
  if ( v3 && (char *)n <= &this->rd_ptr_[this->buffer_size_] - (char *)v3 )
  {
    memcpy(v3, ptr, n);
    this->wr_ptr_ += n;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041AAB0) --------------------------------------------------------
void __thiscall CBuffer::pop_read_data(CBuffer *this)
{
  CBuffer *v1; // esi@1
  char *v2; // ecx@1
  char *v3; // eax@2
  int v4; // edi@2
  char *v5; // eax@2

  v1 = this;
  v2 = this->internal_buffer_;
  if ( v2 )
  {
    v3 = v1->rd_ptr_;
    v4 = v1->wr_ptr_ - v3;
    memmove(v2, v3, v1->wr_ptr_ - v3);
    v5 = v1->internal_buffer_;
    v1->wr_ptr_ = &v1->internal_buffer_[v4];
    v1->rd_ptr_ = v5;
  }
}

//----- (0041AAE0) --------------------------------------------------------
bool __cdecl CMiniLZO::Compress(const char *in, unsigned int in_len, char *out, unsigned int *lp_out_len)
{
  return lzo1x_1_compress(in, in_len, out, lp_out_len, (void *)(*(_DWORD *)(__readfsdword(44) + 4 * _tls_index) + 272)) == 0;
}
// 4C8FF0: using guessed type int _tls_index;

//----- (0041AB20) --------------------------------------------------------
bool __cdecl CMiniLZO::Decompress(const char *in, unsigned int in_len, char *out, unsigned int *buffersize_in_out_len)
{
  return lzo1x_decompress_safe(in, in_len, out, buffersize_in_out_len, 0) == 0;
}

//----- (0041AB50) --------------------------------------------------------
void __cdecl DbgUtils::SetProgramName(char *pszOutBuffer, int nBufferSize, char *pszProgramName)
{
  char *v3; // eax@2
  char szFilename[260]; // [sp+0h] [bp-414h]@4
  char szExt[260]; // [sp+104h] [bp-310h]@4
  char szDir[260]; // [sp+208h] [bp-20Ch]@4
  char szDrive[260]; // [sp+30Ch] [bp-108h]@4

  if ( pszProgramName )
  {
    _mbsnbcpy(pszOutBuffer, pszProgramName, nBufferSize);
  }
  else
  {
    GetModuleFileNameA(0, pszOutBuffer, nBufferSize);
    v3 = _mbsrchr(pszOutBuffer, 0x2Eu);
    if ( v3 )
      *v3 = 0;
    _splitpath(pszOutBuffer, szDrive, szDir, szFilename, szExt);
    _mbsnbcpy(pszOutBuffer, szFilename, nBufferSize);
  }
}

//----- (0041AC10) --------------------------------------------------------
bool __cdecl PacketWrap::WrapHeader(char *lpBuffer_In, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In)
{
  lpBuffer_In[1] = cCMD_In;
  *((_WORD *)lpBuffer_In + 1) = usUsed_In;
  *((_WORD *)lpBuffer_In + 5) = usState_In;
  *lpBuffer_In = -1;
  *((_DWORD *)lpBuffer_In + 1) = 0;
  *((_WORD *)lpBuffer_In + 4) = usError_In;
  CXORCrypt::EncodeHeader(CSingleton<CXORCrypt>::ms_pSingleton, lpBuffer_In + 1, 11, 0, 0);
  return 1;
}

//----- (0041AC60) --------------------------------------------------------
bool __cdecl PacketWrap::WrapCrypt(char *lpBuffer_In, unsigned __int16 usUsed_In, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In)
{
  CXORCrypt *v5; // ebx@1
  unsigned int v6; // ebp@1
  bool result; // al@2

  v5 = CSingleton<CXORCrypt>::ms_pSingleton;
  v6 = CXORCrypt::GetCodePage(CSingleton<CXORCrypt>::ms_pSingleton);
  if ( CXORCrypt::EncodePacket(v5, lpBuffer_In + 12, usUsed_In - 12, v6) )
  {
    lpBuffer_In[1] = cCMD_In;
    *((_WORD *)lpBuffer_In + 5) = usState_In;
    *lpBuffer_In = -1;
    *((_WORD *)lpBuffer_In + 4) = usError_In;
    *((_DWORD *)lpBuffer_In + 1) = v6;
    *((_WORD *)lpBuffer_In + 1) = usUsed_In | 0x8000;
    CXORCrypt::EncodeHeader(v5, lpBuffer_In + 1, 11, 0, 0);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041ACE0) --------------------------------------------------------
bool __cdecl PacketWrap::WrapCompress(char *lpDstBuffer, unsigned int *dwDstBufferSize_InOut, const char *lpSourceData, unsigned __int16 usSourceLength, char cCMD_In, unsigned __int16 usState_In, unsigned __int16 usError_In)
{
  unsigned int v7; // ecx@0
  bool result; // al@4
  bool v9; // al@5
  unsigned int v10; // ST1C_4@8
  CPacketStatistics *v11; // eax@8
  unsigned int dwArchiveDstLen; // [sp+0h] [bp-4h]@1

  dwArchiveDstLen = v7;
  if ( usSourceLength < 0xCu || usSourceLength > 0x3FFFu )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "PacketWrap::WrapCompress",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Packet\\WrapPacket.cpp",
      114,
      "Cmd:0x%02x Invalid packet size, Can't compress now.");
    result = 0;
  }
  else
  {
    if ( *dwDstBufferSize_InOut < usSourceLength )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_SYSERR,
        "PacketWrap::WrapCompress",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Packet\\WrapPacket.cpp",
        120,
        "Cmd:0x%02x Insufficient buffer size, Can't compress now.");
      return 0;
    }
    dwArchiveDstLen = *dwDstBufferSize_InOut - 12;
    v9 = CMiniLZO::Compress(lpSourceData + 12, usSourceLength - 12, lpDstBuffer + 12, &dwArchiveDstLen);
    dwArchiveDstLen += 12;
    if ( !v9 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_SYSERR,
        "PacketWrap::WrapCompress",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylServerLibrary\\Network\\Packet\\WrapPacket.cpp",
        138,
        "Cmd:0x%02x Packet compress failed. Packet length is %d.");
LABEL_7:
      memcpy(lpDstBuffer, lpSourceData, usSourceLength);
      *dwDstBufferSize_InOut = usSourceLength;
      return PacketWrap::WrapCrypt(lpDstBuffer, usSourceLength, cCMD_In, usState_In, usError_In);
    }
    v10 = dwArchiveDstLen;
    v11 = CPacketStatistics::GetInstance();
    CPacketStatistics::CheckCompression(v11, cCMD_In, usSourceLength, v10);
    if ( usSourceLength <= dwArchiveDstLen )
      goto LABEL_7;
    PktBase::InitPtHead((PktBase *)lpDstBuffer, dwArchiveDstLen, cCMD_In, usState_In, usError_In);
    lpDstBuffer[3] |= 0x40u;
    CXORCrypt::EncodeHeader(CSingleton<CXORCrypt>::ms_pSingleton, lpDstBuffer + 1, 11, 0, 0);
    *dwDstBufferSize_InOut = dwArchiveDstLen;
    result = 1;
  }
  return result;
}

//----- (0041AE60) --------------------------------------------------------
void __thiscall std::locale::facet::_Incref(std::locale::facet *this)
{
  std::locale::facet *v1; // esi@1
  unsigned int v2; // eax@1
  std::_Lockit _Lock; // [sp+0h] [bp-4h]@1

  _Lock._Locktype = (int)this;
  v1 = this;
  std::_Lockit::_Lockit(&_Lock, 0);
  v2 = v1->_Refs;
  if ( v2 < 0xFFFFFFFF )
    v1->_Refs = v2 + 1;
  std::_Lockit::__Lockit(&_Lock);
}

//----- (0041AE90) --------------------------------------------------------
std::locale::facet *__thiscall std::locale::facet::_Decref(std::locale::facet *this)
{
  std::locale::facet *v1; // esi@1
  unsigned int v2; // eax@1
  int v3; // esi@4
  std::_Lockit _Lock; // [sp+0h] [bp-4h]@1

  _Lock._Locktype = (int)this;
  v1 = this;
  std::_Lockit::_Lockit(&_Lock, 0);
  v2 = v1->_Refs;
  if ( v2 && v2 < 0xFFFFFFFF )
    v1->_Refs = v2 - 1;
  v3 = ((v1->_Refs != 0) - 1) & (unsigned int)v1;
  std::_Lockit::__Lockit(&_Lock);
  return (std::locale::facet *)v3;
}

//----- (0041AED0) --------------------------------------------------------
void __thiscall std::locale::_locale(std::locale *this)
{
  std::locale::facet *v1; // ecx@1
  std::locale::facet *v2; // eax@2

  v1 = *(std::locale::facet **)&this->___u0.baseclass_0.dummy[0];
  if ( v1 )
  {
    v2 = std::locale::facet::_Decref(v1);
    if ( v2 )
      v2->vfptr->__vecDelDtor(v2, 1u);
  }
}

//----- (0041AEF0) --------------------------------------------------------
void *__thiscall std::locale::facet::_scalar_deleting_destructor_(std::locale::facet *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (std::locale::facetVtbl *)&std::locale::facet::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 4641BC: using guessed type int (__thiscall *std__locale__facet___vftable_)(void *p, char);

//----- (0041AF10) --------------------------------------------------------
bool __thiscall CConsoleCMDSingleton<CCMDReloadSetup>::Destroy(std::codecvt_base *this)
{
  return 1;
}

//----- (0041AF20) --------------------------------------------------------
int __thiscall std::codecvt_base::do_encoding(std::codecvt_base *this)
{
  return 1;
}

//----- (0041AF30) --------------------------------------------------------
void __thiscall std::codecvt_base::_codecvt_base(std::codecvt<char,char,int> *this)
{
  this->baseclass_0.baseclass_0.vfptr = (std::locale::facetVtbl *)&std::locale::facet::_vftable_;
}
// 4641BC: using guessed type int (__thiscall *std__locale__facet___vftable_)(void *p, char);

//----- (0041AF40) --------------------------------------------------------
std::locale *__thiscall std::ios_base::getloc(std::ios_base *this, std::locale *result)
{
  std::locale v2; // esi@1
  std::locale *v3; // edi@1
  unsigned int v4; // eax@1

  v2 = *this->_Ploc;
  v3 = result;
  *(_DWORD *)&result->___u0.baseclass_0.dummy[0] = v2;
  std::_Lockit::_Lockit((std::_Lockit *)&result, 0);
  v4 = *(_DWORD *)(*(_DWORD *)&v2 + 4);
  if ( v4 < 0xFFFFFFFF )
    *(_DWORD *)(*(_DWORD *)&v2 + 4) = v4 + 1;
  std::_Lockit::__Lockit((std::_Lockit *)&result);
  return v3;
}

//----- (0041AF80) --------------------------------------------------------
void *__thiscall std::ios_base::_vector_deleting_destructor_(std::ios_base *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::ios_base::_ios_base(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041AFA0) --------------------------------------------------------
unsigned int __cdecl Registry::ReadInt(const char *FileName_In, const char *Section_In, const char *KeyName_In)
{
  return GetPrivateProfileIntA(Section_In, KeyName_In, 0, FileName_In);
}

//----- (0041AFC0) --------------------------------------------------------
bool __cdecl Registry::ReadString(const char *FileName_In, const char *Section_In, const char *KeyName_In, char *Buffer_Out, int nBufferSize)
{
  return GetPrivateProfileStringA(Section_In, KeyName_In, 0, Buffer_Out, nBufferSize, FileName_In) != 0;
}

//----- (0041AFF0) --------------------------------------------------------
void __thiscall std::basic_ios<char_std::char_traits<char>>::_basic_ios<char_std::char_traits<char>>(std::basic_ios<char,std::char_traits<char> > *this)
{
  this->baseclass_0.vfptr = (std::ios_baseVtbl *)&std::basic_ios<char_std::char_traits<char>>::_vftable_;
  std::ios_base::_ios_base(&this->baseclass_0);
}
// 4641E8: using guessed type int (__thiscall *std__basic_ios_char_std__char_traits_char_____vftable_)(void *p, char);

//----- (0041B000) --------------------------------------------------------
void *__thiscall std::basic_ios<char_std::char_traits<char>>::_scalar_deleting_destructor_(std::basic_ios<char,std::char_traits<char> > *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::basic_ios<char_std::char_traits<char>>::_basic_ios<char_std::char_traits<char>>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041B020) --------------------------------------------------------
void __thiscall std::ctype<char>::ctype<char>(std::ctype<char> *this, const __int16 *_Table, bool _Deletetable, unsigned int _Refs)
{
  std::ctype<char> *v4; // esi@1
  _Ctypevec *v5; // eax@1
  int v6; // eax@2
  _Ctypevec result; // [sp+4h] [bp-90h]@1
  std::_Locinfo thisa; // [sp+14h] [bp-80h]@1
  int v9; // [sp+90h] [bp-4h]@1

  v4 = this;
  this->baseclass_0.baseclass_0._Refs = _Refs;
  v9 = 0;
  this->baseclass_0.baseclass_0.vfptr = (std::locale::facetVtbl *)&std::ctype<char>::_vftable_;
  std::_Locinfo::_Locinfo(&thisa, "C");
  v5 = _Getctype(&result);
  v4->_Ctype._Hand = v5->_Hand;
  v4->_Ctype._Page = v5->_Page;
  v4->_Ctype._Table = v5->_Table;
  v4->_Ctype._Delfl = v5->_Delfl;
  std::_Locinfo::__Locinfo(&thisa);
  if ( _Table )
  {
    v6 = v4->_Ctype._Delfl;
    if ( v6 <= 0 )
    {
      if ( v6 < 0 )
        operator delete__((void *)v4->_Ctype._Table);
    }
    else
    {
      free((void *)v4->_Ctype._Table);
    }
    v4->_Ctype._Table = _Table;
    v4->_Ctype._Delfl = -(_Deletetable != 0);
  }
}
// 4641F0: using guessed type int (__thiscall *std__ctype_char____vftable_)(void *p, char);

//----- (0041B100) --------------------------------------------------------
char __thiscall std::ctype<char>::do_tolower(std::ctype<char> *this, char _Ch)
{
  return _Tolower((unsigned __int8)_Ch, &this->_Ctype);
}

//----- (0041B120) --------------------------------------------------------
const char *__thiscall std::ctype<char>::do_tolower(std::ctype<char> *this, char *_First, const char *_Last)
{
  int *v3; // esi@1
  _Ctypevec *v4; // edi@2

  v3 = (int *)_First;
  if ( _First != _Last )
  {
    v4 = &this->_Ctype;
    do
    {
      *(_BYTE *)v3 = _Tolower(*(_BYTE *)v3, v4);
      v3 = (int *)((char *)v3 + 1);
    }
    while ( (const char *)v3 != _Last );
  }
  return (const char *)v3;
}

//----- (0041B150) --------------------------------------------------------
char __thiscall std::ctype<char>::do_toupper(std::ctype<char> *this, char _Ch)
{
  return _Toupper((unsigned __int8)_Ch, &this->_Ctype);
}

//----- (0041B170) --------------------------------------------------------
const char *__thiscall std::ctype<char>::do_toupper(std::ctype<char> *this, char *_First, const char *_Last)
{
  int *v3; // esi@1
  _Ctypevec *v4; // edi@2

  v3 = (int *)_First;
  if ( _First != _Last )
  {
    v4 = &this->_Ctype;
    do
    {
      *(_BYTE *)v3 = _Toupper(*(_BYTE *)v3, v4);
      v3 = (int *)((char *)v3 + 1);
    }
    while ( (const char *)v3 != _Last );
  }
  return (const char *)v3;
}

//----- (0041B1A0) --------------------------------------------------------
char __thiscall std::ctype<char>::do_widen(std::ctype<char> *this, char _Byte)
{
  return _Byte;
}

//----- (0041B1B0) --------------------------------------------------------
const char *__thiscall std::ctype<char>::do_widen(std::ctype<char> *this, const char *_First, const char *_Last, char *_Dest)
{
  const char *result; // eax@1

  result = _Last;
  memcpy(_Dest, _First, _Last - _First);
  return result;
}

//----- (0041B1E0) --------------------------------------------------------
char __thiscall std::ctype<char>::do_narrow(std::ctype<char> *this, char _Ch, char __formal)
{
  return _Ch;
}

//----- (0041B1F0) --------------------------------------------------------
const char *__thiscall std::ctype<char>::do_narrow(std::ctype<char> *this, const char *_First, const char *_Last, char __formal, char *_Dest)
{
  const char *result; // eax@1

  result = _Last;
  memcpy(_Dest, _First, _Last - _First);
  return result;
}

//----- (0041B220) --------------------------------------------------------
unsigned int __cdecl std::ctype<char>::_Getcat(std::locale::facet **_Ppf)
{
  void *v1; // eax@3
  std::locale::facet *v2; // eax@4

  if ( _Ppf && !*_Ppf )
  {
    v1 = operator new(0x18u);
    if ( v1 )
      std::ctype<char>::ctype<char>((std::ctype<char> *)v1, 0, 0, 0);
    else
      v2 = 0;
    *_Ppf = v2;
  }
  return 2;
}

//----- (0041B290) --------------------------------------------------------
void *__thiscall std::ctype<char>::_vector_deleting_destructor_(std::ctype<char> *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::ctype<char>::_ctype<char>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041B2B0) --------------------------------------------------------
void __thiscall std::ctype<char>::_ctype<char>(std::ctype<char> *this)
{
  std::ctype<char> *v1; // esi@1
  int v2; // eax@1

  v1 = this;
  v2 = this->_Ctype._Delfl;
  this->baseclass_0.baseclass_0.vfptr = (std::locale::facetVtbl *)&std::ctype<char>::_vftable_;
  if ( v2 <= 0 )
  {
    if ( v2 < 0 )
      operator delete__((void *)this->_Ctype._Table);
    v1->baseclass_0.baseclass_0.vfptr = (std::locale::facetVtbl *)&std::locale::facet::_vftable_;
  }
  else
  {
    free((void *)this->_Ctype._Table);
    v1->baseclass_0.baseclass_0.vfptr = (std::locale::facetVtbl *)&std::locale::facet::_vftable_;
  }
}
// 4641BC: using guessed type int (__thiscall *std__locale__facet___vftable_)(void *p, char);
// 4641F0: using guessed type int (__thiscall *std__ctype_char____vftable_)(void *p, char);

//----- (0041B2F0) --------------------------------------------------------
void __thiscall std::basic_streambuf<char_std::char_traits<char>>::_basic_streambuf<char_std::char_traits<char>>(std::basic_streambuf<char,std::char_traits<char> > *this)
{
  std::basic_streambuf<char,std::char_traits<char> > *v1; // ebx@1
  std::locale *v2; // edi@1
  int v3; // esi@2
  unsigned int v4; // eax@3
  int v5; // esi@6
  std::_Lockit thisa; // [sp+0h] [bp-4h]@1

  thisa._Locktype = (int)this;
  v1 = this;
  v2 = this->_Plocale;
  this->vfptr = (std::basic_streambuf<char,std::char_traits<char> >Vtbl *)&std::basic_streambuf<char_std::char_traits<char>>::_vftable_;
  if ( v2 )
  {
    v3 = *(_DWORD *)&v2->___u0.baseclass_0.dummy[0];
    if ( *(_DWORD *)&v2->___u0.baseclass_0.dummy[0] )
    {
      std::_Lockit::_Lockit(&thisa, 0);
      v4 = *(_DWORD *)(v3 + 4);
      if ( v4 && v4 < 0xFFFFFFFF )
        *(_DWORD *)(v3 + 4) = v4 - 1;
      v5 = ((*(_DWORD *)(v3 + 4) != 0) - 1) & v3;
      std::_Lockit::__Lockit(&thisa);
      if ( v5 )
        (**(void (__thiscall ***)(_DWORD, _DWORD))v5)(v5, 1);
    }
    operator delete(v2);
  }
  std::_Mutex::__Mutex(&v1->_Mylock);
}
// 464218: using guessed type int (__thiscall *std__basic_streambuf_char_std__char_traits_char_____vftable_)(void *p, char);

//----- (0041B360) --------------------------------------------------------
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::overflow(std::basic_streambuf<char,std::char_traits<char> > *this, int __formal)
{
  return -1;
}

//----- (0041B370) --------------------------------------------------------
unsigned int __cdecl std::basic_streambuf<char_std::char_traits<char>>::showmanyc()
{
  return 0;
}

//----- (0041B380) --------------------------------------------------------
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::underflow(std::basic_streambuf<char,std::char_traits<char> > *this)
{
  return -1;
}

//----- (0041B390) --------------------------------------------------------
std::basic_streambuf<char,std::char_traits<char> > *__thiscall std::basic_streambuf<char_std::char_traits<char>>::setbuf(std::basic_streambuf<char,std::char_traits<char> > *this, char *__formal, int a3)
{
  return this;
}

//----- (0041B3B0) --------------------------------------------------------
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::uflow(std::basic_streambuf<char,std::char_traits<char> > *this)
{
  std::basic_streambuf<char,std::char_traits<char> > *v1; // esi@1
  int result; // eax@1
  char **v3; // esi@2
  int *v4; // eax@2

  v1 = this;
  result = ((int (*)(void))this->vfptr->underflow)();
  if ( result != -1 )
  {
    --*v1->_IGcount;
    v3 = v1->_IGnext;
    v4 = (int *)(*v3)++;
    result = *(_BYTE *)v4;
  }
  return result;
}

//----- (0041B3E0) --------------------------------------------------------
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::xsgetn(std::basic_streambuf<char,std::char_traits<char> > *this, char *_Ptr, int _Count)
{
  int v3; // edi@1
  int result; // eax@1
  std::basic_streambuf<char,std::char_traits<char> > *v5; // ebx@1
  void *v6; // ebp@2
  const void *v7; // esi@3
  unsigned int v8; // eax@4
  int v9; // eax@8
  int _Copied; // [sp+0h] [bp-4h]@1

  v3 = _Count;
  result = 0;
  v5 = this;
  _Copied = 0;
  if ( _Count > 0 )
  {
    v6 = _Ptr;
    do
    {
      v7 = *v5->_IGnext;
      if ( v7 && (v8 = *v5->_IGcount, (signed int)v8 > 0) )
      {
        if ( v3 < (signed int)v8 )
          v8 = v3;
        memcpy(v6, v7, v8);
        _Copied += v8;
        *v5->_IGcount -= v8;
        v3 = _Count - v8;
        v6 = (char *)v6 + v8;
        _Count -= v8;
        *v5->_IGnext += v8;
      }
      else
      {
        v9 = v5->vfptr->uflow(v5);
        if ( v9 == -1 )
          break;
        *(_BYTE *)v6 = v9;
        v6 = (char *)v6 + 1;
        --v3;
        ++_Copied;
        _Count = v3;
      }
    }
    while ( v3 > 0 );
    result = _Copied;
  }
  return result;
}

//----- (0041B480) --------------------------------------------------------
int __thiscall std::basic_streambuf<char_std::char_traits<char>>::xsputn(std::basic_streambuf<char,std::char_traits<char> > *this, const char *_Ptr, int _Count)
{
  int v3; // esi@1
  int result; // eax@1
  std::basic_streambuf<char,std::char_traits<char> > *v5; // ebx@1
  const void *v6; // ebp@2
  void *v7; // edi@3
  unsigned int v8; // eax@4
  int _Copied; // [sp+4h] [bp-4h]@1

  v3 = _Count;
  result = 0;
  v5 = this;
  _Copied = 0;
  if ( _Count > 0 )
  {
    v6 = _Ptr;
    do
    {
      v7 = *v5->_IPnext;
      if ( v7 && (v8 = *v5->_IPcount, (signed int)v8 > 0) )
      {
        if ( v3 < (signed int)v8 )
          v8 = v3;
        memcpy(v7, v6, v8);
        _Copied += v8;
        *v5->_IPcount -= v8;
        v6 = (char *)v6 + v8;
        _Count -= v8;
        *v5->_IPnext += v8;
        v3 = _Count;
      }
      else
      {
        if ( v5->vfptr->overflow(v5, *(_BYTE *)v6) == -1 )
          break;
        v6 = (char *)v6 + 1;
        --v3;
        ++_Copied;
        _Count = v3;
      }
    }
    while ( v3 > 0 );
    result = _Copied;
  }
  return result;
}

//----- (0041B530) --------------------------------------------------------
std::fpos<int> *__thiscall std::basic_streambuf<char_std::char_traits<char>>::seekoff(std::basic_streambuf<char,std::char_traits<char> > *this, std::fpos<int> *result, int __formal, int a4, int a5)
{
  std::fpos<int> *v5; // eax@1

  v5 = result;
  result->_Myoff = std::_BADOFF;
  result->_Fpos = std::_Fpz;
  result->_Mystate = std::fpos<int>::_Stz;
  return v5;
}
// 464128: using guessed type const __int32 std___BADOFF;
// 4A5D78: using guessed type int std__fpos_int____Stz;
// 4C8E10: using guessed type __int64 std___Fpz;

//----- (0041B560) --------------------------------------------------------
std::fpos<int> *__thiscall std::basic_streambuf<char_std::char_traits<char>>::seekpos(std::basic_streambuf<char,std::char_traits<char> > *this, std::fpos<int> *result, std::fpos<int> __formal, int a4)
{
  std::fpos<int> *v4; // eax@1

  v4 = result;
  result->_Myoff = std::_BADOFF;
  result->_Fpos = std::_Fpz;
  result->_Mystate = std::fpos<int>::_Stz;
  return v4;
}
// 464128: using guessed type const __int32 std___BADOFF;
// 4A5D78: using guessed type int std__fpos_int____Stz;
// 4C8E10: using guessed type __int64 std___Fpz;

//----- (0041B590) --------------------------------------------------------
void *__thiscall std::basic_ostream<char_std::char_traits<char>>::_vector_deleting_destructor_(std::basic_ios<char,std::char_traits<char> > *this, char a2)
{
  void *v2; // esi@1

  v2 = (char *)this - 4;
  *(_DWORD *)((char *)this + *(_DWORD *)(*((_DWORD *)this - 1) + 4) - 4) = &std::basic_ostream<char_std::char_traits<char>>::_vftable_;
  std::basic_ios<char_std::char_traits<char>>::_basic_ios<char_std::char_traits<char>>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 4641E0: using guessed type int (__stdcall *std__basic_ostream_char_std__char_traits_char_____vftable_)(char);

//----- (0041B5C0) --------------------------------------------------------
void *__thiscall std::basic_streambuf<char_std::char_traits<char>>::_vector_deleting_destructor_(std::basic_streambuf<char,std::char_traits<char> > *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::basic_streambuf<char_std::char_traits<char>>::_basic_streambuf<char_std::char_traits<char>>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041B5E0) --------------------------------------------------------
void __thiscall std::basic_streambuf<char_std::char_traits<char>>::_Init(std::basic_streambuf<char,std::char_traits<char> > *this)
{
  this->_IGnext = &this->_Gnext;
  this->_IPnext = &this->_Pnext;
  this->_IGfirst = &this->_Gfirst;
  this->_IGcount = &this->_Gcount;
  this->_IPfirst = &this->_Pfirst;
  this->_IPcount = &this->_Pcount;
  this->_Pfirst = 0;
  *this->_IPnext = 0;
  *this->_IPcount = 0;
  *this->_IGfirst = 0;
  *this->_IGnext = 0;
  *this->_IGcount = 0;
}

//----- (0041B640) --------------------------------------------------------
std::ctype<char> *__cdecl std::use_facet<std::ctype<char>>(std::locale *_Loc)
{
  int v1; // edi@1
  std::locale::facet *v2; // esi@5
  unsigned int v3; // eax@11
  int _Psave; // [sp+0h] [bp-24h]@1
  std::_Lockit this; // [sp+4h] [bp-20h]@2
  std::_Lockit _Lock; // [sp+8h] [bp-1Ch]@1
  char pExceptionObject; // [sp+Ch] [bp-18h]@9
  int v9; // [sp+20h] [bp-4h]@1

  std::_Lockit::_Lockit(&_Lock, 0);
  v1 = std::_Facetptr<std::ctype<char>>::_Psave;
  v9 = 0;
  _Psave = std::_Facetptr<std::ctype<char>>::_Psave;
  if ( !std::ctype<char>::id )
  {
    std::_Lockit::_Lockit(&this, 0);
    if ( !std::ctype<char>::id )
    {
      ++std::locale::id::_Id_cnt;
      std::ctype<char>::id = std::locale::id::_Id_cnt;
    }
    std::_Lockit::__Lockit(&this);
  }
  v2 = std::locale::_Getfacet(_Loc, std::ctype<char>::id);
  if ( !v2 )
  {
    if ( v1 )
    {
      v2 = (std::locale::facet *)v1;
    }
    else
    {
      if ( std::ctype<char>::_Getcat((std::locale::facet **)&_Psave) == -1 )
      {
        bad_cast::bad_cast((bad_cast *)&pExceptionObject, "bad cast");
        _CxxThrowException(&pExceptionObject, &_TI2_AVbad_cast__);
      }
      v2 = (std::locale::facet *)_Psave;
      std::_Facetptr<std::ctype<char>>::_Psave = _Psave;
      std::_Lockit::_Lockit(&this, 0);
      v3 = v2->_Refs;
      if ( v3 < 0xFFFFFFFF )
        v2->_Refs = v3 + 1;
      std::_Lockit::__Lockit(&this);
      std::locale::facet::_Register(v2);
    }
  }
  v9 = -1;
  std::_Lockit::__Lockit(&_Lock);
  return (std::ctype<char> *)v2;
}
// 4A5D80: using guessed type int std___Facetptr_std__ctype_char_____Psave;
// 4C8EC0: using guessed type int std__locale__id___Id_cnt;

//----- (0041B750) --------------------------------------------------------
void __thiscall std::codecvt<char_char_int>::codecvt<char_char_int>(std::codecvt<char,char,int> *this, unsigned int _Refs)
{
  std::_Locinfo thisa; // [sp+4h] [bp-80h]@1
  int v3; // [sp+80h] [bp-4h]@1

  this->baseclass_0.baseclass_0._Refs = _Refs;
  v3 = 0;
  this->baseclass_0.baseclass_0.vfptr = (std::locale::facetVtbl *)&std::codecvt<char_char_int>::_vftable_;
  std::_Locinfo::_Locinfo(&thisa, "C");
  std::_Locinfo::__Locinfo(&thisa);
}
// 464288: using guessed type int (__thiscall *std__codecvt_char_char_int____vftable_)(void *p, char);

//----- (0041B7C0) --------------------------------------------------------
int __thiscall std::codecvt<char_char_int>::do_out(std::codecvt<char,char,int> *this, int *__formal, const char *_First1, const char *a4, const char **_Mid1, char *_First2, char *a7, char **_Mid2)
{
  *_Mid1 = _First1;
  *_Mid2 = _First2;
  return 3;
}

//----- (0041B7E0) --------------------------------------------------------
int __thiscall std::codecvt<char_char_int>::do_unshift(std::codecvt<char,char,int> *this, int *__formal, char *a3, char *a4, char **a5)
{
  return 3;
}

//----- (0041B7F0) --------------------------------------------------------
int __thiscall std::codecvt<char_char_int>::do_length(std::codecvt<char,char,int> *this, const int *__formal, const char *_First1, const char *_Last1, unsigned int _Count)
{
  int result; // eax@1

  result = _Last1 - _First1;
  if ( _Count < _Last1 - _First1 )
    result = _Count;
  return result;
}

//----- (0041B810) --------------------------------------------------------
void *__thiscall std::codecvt<char_char_int>::_vector_deleting_destructor_(std::codecvt<char,char,int> *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::codecvt_base::_codecvt_base(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041B830) --------------------------------------------------------
void __thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this)
{
  this->_Myres = 15;
  this->_Mysize = 0;
  this->_Bx._Buf[0] = 0;
}

//----- (0041B850) --------------------------------------------------------
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::_Initcvt(std::basic_filebuf<char,std::char_traits<char> > *this, std::codecvt<char,char,int> *_Newpcvt)
{
  std::basic_filebuf<char,std::char_traits<char> > *v2; // esi@1
  void *v3; // eax@4

  v2 = this;
  if ( (unsigned __int8)((int (__thiscall *)(_DWORD))_Newpcvt->baseclass_0.baseclass_0.vfptr[1].__vecDelDtor)(_Newpcvt) )
  {
    v2->_Pcvt = 0;
  }
  else
  {
    v2->_Pcvt = _Newpcvt;
    std::basic_streambuf<char_std::char_traits<char>>::_Init(&v2->baseclass_0);
    if ( !v2->_Mystr )
    {
      v3 = operator new(0x1Cu);
      if ( v3 )
      {
        *((_DWORD *)v3 + 6) = 15;
        *((_DWORD *)v3 + 5) = 0;
        *((_BYTE *)v3 + 4) = 0;
        v2->_Mystr = (std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)v3;
      }
      else
      {
        v2->_Mystr = 0;
      }
    }
  }
}

//----- (0041B8C0) --------------------------------------------------------
void __thiscall std::basic_streambuf<char_std::char_traits<char>>::basic_streambuf<char_std::char_traits<char>>(std::basic_streambuf<char,std::char_traits<char> > *this)
{
  std::basic_streambuf<char,std::char_traits<char> > *v1; // esi@1
  void *v2; // eax@1
  std::locale *v3; // eax@2

  v1 = this;
  this->vfptr = (std::basic_streambuf<char,std::char_traits<char> >Vtbl *)&std::basic_streambuf<char_std::char_traits<char>>::_vftable_;
  std::_Mutex::_Mutex(&this->_Mylock);
  v2 = operator new(4u);
  if ( v2 )
    std::locale::locale((std::locale *)v2);
  else
    v3 = 0;
  v1->_Plocale = v3;
  std::basic_streambuf<char_std::char_traits<char>>::_Init(v1);
}
// 464218: using guessed type int (__thiscall *std__basic_streambuf_char_std__char_traits_char_____vftable_)(void *p, char);

//----- (0041B930) --------------------------------------------------------
char __thiscall std::basic_ios<char_std::char_traits<char>>::widen(std::basic_ios<char,std::char_traits<char> > *this, char _Byte)
{
  std::locale *v2; // eax@1
  std::ctype<char> *v3; // eax@1
  std::locale v4; // esi@1
  std::ctype<char> *v5; // edi@1
  unsigned int v6; // eax@2
  int v7; // esi@5
  std::locale result; // [sp+0h] [bp-14h]@1
  std::_Lockit thisa; // [sp+4h] [bp-10h]@2
  int v11; // [sp+10h] [bp-4h]@1

  v2 = std::ios_base::getloc(&this->baseclass_0, &result);
  v11 = 0;
  v3 = std::use_facet<std::ctype<char>>(v2);
  v4 = result;
  v5 = v3;
  v11 = -1;
  if ( result )
  {
    std::_Lockit::_Lockit(&thisa, 0);
    v6 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( v6 && v6 < 0xFFFFFFFF )
      *(_DWORD *)(*(_DWORD *)&v4 + 4) = v6 - 1;
    v7 = ((*(_DWORD *)(*(_DWORD *)&v4 + 4) != 0) - 1) & *(_DWORD *)&v4;
    std::_Lockit::__Lockit(&thisa);
    if ( v7 )
      (**(void (__thiscall ***)(_DWORD, _DWORD))v7)(v7, 1);
  }
  return v5->baseclass_0.baseclass_0.vfptr[6].__vecDelDtor((std::locale::facet *)v5, _Byte);
}

//----- (0041B9E0) --------------------------------------------------------
unsigned int __cdecl std::codecvt<char_char_int>::_Getcat(std::locale::facet **_Ppf)
{
  void *v1; // eax@3
  std::locale::facet *v2; // eax@4

  if ( _Ppf && !*_Ppf )
  {
    v1 = operator new(8u);
    if ( v1 )
      std::codecvt<char_char_int>::codecvt<char_char_int>((std::codecvt<char,char,int> *)v1, 0);
    else
      v2 = 0;
    *_Ppf = v2;
  }
  return 2;
}

//----- (0041BA50) --------------------------------------------------------
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::basic_filebuf<char_std::char_traits<char>>(std::basic_filebuf<char,std::char_traits<char> > *this, _iobuf *_File)
{
  std::basic_filebuf<char,std::char_traits<char> > *v2; // esi@1
  int v3; // ecx@3

  v2 = this;
  std::basic_streambuf<char_std::char_traits<char>>::basic_streambuf<char_std::char_traits<char>>(&this->baseclass_0);
  v2->baseclass_0.vfptr = (std::basic_streambuf<char,std::char_traits<char> >Vtbl *)&std::basic_filebuf<char_std::char_traits<char>>::_vftable_;
  v2->_Mystr = 0;
  v2->_Closef = 0;
  v2->_Wrotesome = 0;
  std::basic_streambuf<char_std::char_traits<char>>::_Init(&v2->baseclass_0);
  if ( _File )
  {
    v2->baseclass_0._IGfirst = &_File->_base;
    v2->baseclass_0._IPfirst = &_File->_base;
    v2->baseclass_0._IGnext = (char **)_File;
    v2->baseclass_0._IPnext = (char **)_File;
    v2->baseclass_0._IGcount = &_File->_cnt;
    v2->baseclass_0._IPcount = &_File->_cnt;
  }
  v2->_Myfile = _File;
  v2->_State = _Stinit;
  v3 = _Stinit;
  v2->_Pcvt = 0;
  v2->_State0 = v3;
}
// 464250: using guessed type int (__thiscall *std__basic_filebuf_char_std__char_traits_char_____vftable_)(void *p, char);
// 4A5D7C: using guessed type int _Stinit;

//----- (0041BAB0) --------------------------------------------------------
std::basic_streambuf<char,std::char_traits<char> > *__thiscall std::basic_filebuf<char_std::char_traits<char>>::setbuf(std::basic_filebuf<char,std::char_traits<char> > *this, char *_Buffer, int _Count)
{
  std::basic_streambuf<char,std::char_traits<char> > *v3; // edi@1
  _iobuf *v4; // ecx@1
  int v5; // eax@4
  std::basic_streambuf<char,std::char_traits<char> > *result; // eax@7

  v3 = (std::basic_streambuf<char,std::char_traits<char> > *)this;
  v4 = this->_Myfile;
  if ( !v4 || (_Buffer || _Count ? (v5 = 0) : (v5 = 4), setvbuf(v4, _Buffer, v5, _Count)) )
    result = 0;
  else
    result = v3;
  return result;
}

//----- (0041BB00) --------------------------------------------------------
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::sync(std::basic_filebuf<char,std::char_traits<char> > *this)
{
  std::basic_filebuf<char,std::char_traits<char> > *v1; // esi@1
  int result; // eax@4

  v1 = this;
  if ( this->_Myfile
    && ((int (__stdcall *)(_DWORD))this->baseclass_0.vfptr->overflow)(-1) != -1
    && fflush(v1->_Myfile) < 0 )
    result = -1;
  else
    result = 0;
  return result;
}

//----- (0041BB30) --------------------------------------------------------
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::pbackfail(std::basic_filebuf<char,std::char_traits<char> > *this, int _Meta)
{
  std::basic_filebuf<char,std::char_traits<char> > *v2; // esi@1
  char *v3; // eax@1
  int v5; // eax@10
  char **v6; // edx@11

  v2 = this;
  v3 = *this->baseclass_0._IGnext;
  if ( v3 && *this->baseclass_0._IGfirst < v3 && (_Meta == -1 || *(v3 - 1) == _Meta) )
  {
    std::basic_streambuf<char_std::char_traits<char>>::_Gndec(&this->baseclass_0);
    return _Meta & ((_Meta == -1) - 1);
  }
  if ( this->_Myfile && _Meta != -1 )
  {
    if ( !this->_Pcvt && ungetc((unsigned __int8)_Meta, this->_Myfile) != -1 )
      return _Meta;
    v5 = (int)&v2->_Mychar;
    if ( (char *)*(std::basic_filebuf<char,std::char_traits<char> > **)v2->baseclass_0._IGnext != &v2->_Mychar )
    {
      v6 = v2->baseclass_0._IGfirst;
      *(_BYTE *)v5 = _Meta;
      *v6 = (char *)v5;
      *v2->baseclass_0._IGnext = (char *)v5;
      *v2->baseclass_0._IGcount = 1;
      return _Meta;
    }
  }
  return -1;
}

//----- (0041BBD0) --------------------------------------------------------
char *__thiscall std::basic_streambuf<char_std::char_traits<char>>::_Gndec(std::basic_streambuf<char,std::char_traits<char> > *this)
{
  ++*this->_IGcount;
  --*this->_IGnext;
  return *this->_IGnext;
}

//----- (0041BBE0) --------------------------------------------------------
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::underflow(std::basic_filebuf<char,std::char_traits<char> > *this)
{
  std::basic_filebuf<char,std::char_traits<char> > *v1; // esi@1
  int **v2; // eax@1
  int result; // eax@3
  int v4; // edi@4

  v1 = this;
  v2 = (int **)this->baseclass_0._IGnext;
  if ( *v2 && *v2 < (int *)((char *)*v2 + *this->baseclass_0._IGcount) )
  {
    result = *(_BYTE *)*v2;
  }
  else
  {
    result = this->baseclass_0.vfptr->uflow((std::basic_streambuf<char,std::char_traits<char> > *)this);
    v4 = result;
    if ( result != -1 )
    {
      v1->baseclass_0.vfptr->pbackfail((std::basic_streambuf<char,std::char_traits<char> > *)v1, result);
      result = v4;
    }
  }
  return result;
}

//----- (0041BC30) --------------------------------------------------------
void __thiscall std::basic_ios<char_std::char_traits<char>>::init(std::basic_ios<char,std::char_traits<char> > *this, std::basic_streambuf<char,std::char_traits<char> > *_Strbuf, bool _Isstd)
{
  std::basic_ios<char,std::char_traits<char> > *v3; // esi@1

  v3 = this;
  std::ios_base::_Init(&this->baseclass_0);
  v3->_Mystrbuf = _Strbuf;
  v3->_Tiestr = 0;
  v3->_Fillch = std::basic_ios<char_std::char_traits<char>>::widen(v3, 32);
  if ( !v3->_Mystrbuf )
    std::ios_base::clear(&v3->baseclass_0, v3->baseclass_0._Mystate | 4, 0);
  if ( _Isstd )
    std::ios_base::_Addstd(&v3->baseclass_0);
  else
    *(_DWORD *)&v3->baseclass_0.___u1.baseclass_4.dummy[0] = 0;
}

//----- (0041BC90) --------------------------------------------------------
std::codecvt<char,char,int> *__cdecl std::use_facet<std::codecvt<char_char_int>>(std::locale *_Loc)
{
  int v1; // edi@1
  std::locale::facet *v2; // esi@5
  unsigned int v3; // eax@11
  int _Psave; // [sp+0h] [bp-24h]@1
  std::_Lockit this; // [sp+4h] [bp-20h]@2
  std::_Lockit _Lock; // [sp+8h] [bp-1Ch]@1
  char pExceptionObject; // [sp+Ch] [bp-18h]@9
  int v9; // [sp+20h] [bp-4h]@1

  std::_Lockit::_Lockit(&_Lock, 0);
  v1 = std::_Facetptr<std::codecvt<char_char_int>>::_Psave;
  v9 = 0;
  _Psave = std::_Facetptr<std::codecvt<char_char_int>>::_Psave;
  if ( !std::codecvt<char_char_int>::id )
  {
    std::_Lockit::_Lockit(&this, 0);
    if ( !std::codecvt<char_char_int>::id )
    {
      ++std::locale::id::_Id_cnt;
      std::codecvt<char_char_int>::id = std::locale::id::_Id_cnt;
    }
    std::_Lockit::__Lockit(&this);
  }
  v2 = std::locale::_Getfacet(_Loc, std::codecvt<char_char_int>::id);
  if ( !v2 )
  {
    if ( v1 )
    {
      v2 = (std::locale::facet *)v1;
    }
    else
    {
      if ( std::codecvt<char_char_int>::_Getcat((std::locale::facet **)&_Psave) == -1 )
      {
        bad_cast::bad_cast((bad_cast *)&pExceptionObject, "bad cast");
        _CxxThrowException(&pExceptionObject, &_TI2_AVbad_cast__);
      }
      v2 = (std::locale::facet *)_Psave;
      std::_Facetptr<std::codecvt<char_char_int>>::_Psave = _Psave;
      std::_Lockit::_Lockit(&this, 0);
      v3 = v2->_Refs;
      if ( v3 < 0xFFFFFFFF )
        v2->_Refs = v3 + 1;
      std::_Lockit::__Lockit(&this);
      std::locale::facet::_Register(v2);
    }
  }
  v9 = -1;
  std::_Lockit::__Lockit(&_Lock);
  return (std::codecvt<char,char,int> *)v2;
}
// 4A5D84: using guessed type int std___Facetptr_std__codecvt_char_char_int_____Psave;
// 4C8EC0: using guessed type int std__locale__id___Id_cnt;

//----- (0041BDA0) --------------------------------------------------------
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::imbue(std::basic_filebuf<char,std::char_traits<char> > *this, std::locale *_Loc)
{
  std::basic_filebuf<char,std::char_traits<char> > *v2; // esi@1
  std::codecvt<char,char,int> *v3; // eax@1

  v2 = this;
  v3 = std::use_facet<std::codecvt<char_char_int>>(_Loc);
  std::basic_filebuf<char_std::char_traits<char>>::_Initcvt(v2, v3);
}

//----- (0041BDC0) --------------------------------------------------------
std::basic_string<char,std::char_traits<char>,std::allocator<char> > *__thiscall std::basic_string<char_std::char_traits<char>_std::allocator<char>>::append(std::basic_string<char,std::char_traits<char>,std::allocator<char> > *this, unsigned int _Count, char _Ch)
{
  int v3; // ebx@0
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v4; // esi@1
  unsigned int v5; // ebp@4
  unsigned int v6; // eax@6
  bool v7; // cf@7
  bool v8; // zf@7
  int v9; // edx@10
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *result; // eax@13
  void *v11; // edi@16
  int v12; // eax@16
  unsigned int v13; // edi@16
  unsigned int i; // ecx@16

  v4 = this;
  if ( -1 - this->_Mysize <= _Count )
    std::_String_base::_Xlen(&this->baseclass_0.___u0.baseclass_0);
  if ( !_Count )
    return v4;
  v5 = _Count + this->_Mysize;
  if ( v5 > 0xFFFFFFFE )
    std::_String_base::_Xlen(&this->baseclass_0.___u0.baseclass_0);
  v6 = this->_Myres;
  if ( v6 < v5 )
  {
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Copy(this, v5, this->_Mysize);
    v7 = 0;
    v8 = v5 == 0;
    goto LABEL_8;
  }
  v7 = 0;
  v8 = v5 == 0;
  if ( v5 )
  {
LABEL_8:
    if ( !(v7 | v8) )
    {
      if ( v4->_Myres < 0x10 )
        v9 = (int)&v4->_Bx;
      else
        v9 = *(_DWORD *)&v4->_Bx._Buf[0];
      LOBYTE(v3) = _Ch;
      BYTE1(v3) = _Ch;
      v11 = (void *)(v9 + v4->_Mysize);
      v12 = v3 << 16;
      LOWORD(v12) = v3;
      memset32(v11, v12, _Count >> 2);
      v13 = (unsigned int)((char *)v11 + 4 * (_Count >> 2));
      for ( i = _Count & 3; i; --i )
        *(_BYTE *)v13++ = _Ch;
      v7 = v4->_Myres < 0x10;
      v4->_Mysize = v5;
      if ( !v7 )
      {
        *(_BYTE *)(*(_DWORD *)&v4->_Bx._Buf[0] + v5) = 0;
        return v4;
      }
      v4->_Bx._Buf[v5] = 0;
    }
    return v4;
  }
  this->_Mysize = 0;
  if ( v6 < 0x10 )
  {
    this->_Bx._Buf[0] = 0;
    result = this;
  }
  else
  {
    **(_BYTE **)&this->_Bx._Buf[0] = 0;
    result = this;
  }
  return result;
}

//----- (0041BE90) --------------------------------------------------------
bool __thiscall std::basic_filebuf<char_std::char_traits<char>>::_Endwrite(std::basic_filebuf<char,std::char_traits<char> > *this)
{
  std::basic_filebuf<char,std::char_traits<char> > *v1; // esi@1
  char *v2; // eax@4
  char *v3; // edx@4
  int v4; // eax@6
  int v5; // eax@7
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v6; // ecx@8
  bool result; // al@10
  const void *v8; // eax@12
  void *v9; // ecx@12
  char *_Dest; // [sp+14h] [bp-30h]@6
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > _Str; // [sp+18h] [bp-2Ch]@3
  unsigned int v12; // [sp+34h] [bp-10h]@10
  int v13; // [sp+40h] [bp-4h]@3

  v1 = this;
  if ( !this->_Pcvt || !this->_Wrotesome )
    goto LABEL_10;
  ((void (__stdcall *)(signed int))this->baseclass_0.vfptr->overflow)(-1);
  _Str._Myres = 15;
  *(_QWORD *)&_Str._Bx._Buf[0] = 0i64;
  _Str._Mysize = 8;
  _Str._Bx._Buf[8] = 0;
  v13 = 0;
  while ( 1 )
  {
    v2 = *(char **)&_Str._Bx._Buf[0];
    v3 = *(char **)&_Str._Bx._Buf[0];
    if ( _Str._Myres < 0x10 )
    {
      v3 = (char *)&_Str._Bx;
      v2 = (char *)&_Str._Bx;
    }
    v4 = ((int (__stdcall *)(int *, char *, char *, char **))v1->_Pcvt->baseclass_0.baseclass_0.vfptr[6].__vecDelDtor)(
           &v1->_State,
           v2,
           &v3[_Str._Mysize],
           &_Dest);
    if ( v4 )
      break;
    v1->_Wrotesome = 0;
LABEL_12:
    v8 = *(const void **)&_Str._Bx._Buf[0];
    v9 = *(void **)&_Str._Bx._Buf[0];
    if ( _Str._Myres < 0x10 )
      v9 = &_Str._Bx;
    if ( _Dest != v9 )
    {
      if ( _Str._Myres < 0x10 )
        v8 = &_Str._Bx;
      if ( _Dest - v9 != fwrite(v8, _Dest - v9, 1u, v1->_Myfile) )
      {
        v6 = &_Str;
        goto LABEL_21;
      }
    }
    v6 = &_Str;
    if ( !v1->_Wrotesome )
      goto LABEL_9;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::append(&_Str, 8u, 0);
  }
  v5 = v4 - 1;
  if ( !v5 )
    goto LABEL_12;
  v6 = &_Str;
  if ( v5 == 2 )
  {
LABEL_9:
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(v6);
    goto LABEL_10;
  }
LABEL_21:
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(v6);
LABEL_10:
  __security_check_cookie(v12);
  return result;
}

//----- (0041BFE0) --------------------------------------------------------
void __thiscall std::basic_ostream<char_std::char_traits<char>>::basic_ostream<char_std::char_traits<char>>(std::basic_ostream<char,std::char_traits<char> > *this, std::basic_streambuf<char,std::char_traits<char> > *_Strbuf, bool _Isstd)
{
  int v3; // [sp+20h] [bp+Ch]@0

  if ( v3 )
  {
    *(_DWORD *)&this->dummy[0] = &std::basic_ostream<char_std::char_traits<char>>::_vbtable_;
    *(_DWORD *)&this->dummy[4] = &std::basic_ios<char_std::char_traits<char>>::_vftable_;
  }
  *(_DWORD *)&this->dummy[*(_DWORD *)(*(_DWORD *)&this->dummy[0] + 4)] = &std::basic_ostream<char_std::char_traits<char>>::_vftable_;
  std::basic_ios<char_std::char_traits<char>>::init(
    (std::basic_ios<char,std::char_traits<char> > *)((char *)this + *(_DWORD *)(*(_DWORD *)&this->dummy[0] + 4)),
    _Strbuf,
    _Isstd);
}
// 4641E0: using guessed type int (__stdcall *std__basic_ostream_char_std__char_traits_char_____vftable_)(char);
// 4641E8: using guessed type int (__thiscall *std__basic_ios_char_std__char_traits_char_____vftable_)(void *p, char);

//----- (0041C060) --------------------------------------------------------
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::overflow(std::basic_filebuf<char,std::char_traits<char> > *this, int _Meta)
{
  std::basic_filebuf<char,std::char_traits<char> > *v2; // esi@1
  char *v3; // ecx@2
  int *v4; // eax@3
  char **v5; // esi@4
  char *v6; // eax@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v7; // ecx@10
  const void *v8; // eax@11
  unsigned int v9; // ebp@11
  char *v10; // edx@12
  int v11; // eax@14
  void *v12; // ecx@16
  unsigned int v13; // edi@18
  bool v14; // zf@23
  int result; // eax@32
  char _Ch; // [sp+1Dh] [bp-35h]@10
  char *_Dest; // [sp+1Eh] [bp-34h]@14
  char *_Source; // [sp+22h] [bp-30h]@14
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > _Str; // [sp+26h] [bp-2Ch]@10
  unsigned int v20; // [sp+42h] [bp-10h]@32
  int v21; // [sp+4Eh] [bp-4h]@10

  v2 = this;
  if ( _Meta != -1 )
  {
    v3 = *this->baseclass_0._IPnext;
    if ( v3 && (v4 = v2->baseclass_0._IPcount, v3 < &v3[*v4]) )
    {
      --*v4;
      v5 = v2->baseclass_0._IPnext;
      v6 = (*v5)++;
      *v6 = _Meta;
    }
    else
    {
      if ( v2->_Myfile )
      {
        if ( v2->_Pcvt )
        {
          v7 = v2->_Mystr;
          _Ch = _Meta;
          std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(v7, 0, 0xFFFFFFFFu);
          _Str._Myres = 15;
          *(_QWORD *)&_Str._Bx._Buf[0] = 0i64;
          _Str._Mysize = 8;
          _Str._Bx._Buf[8] = 0;
          v21 = 0;
LABEL_11:
          v8 = *(const void **)&_Str._Bx._Buf[0];
          v9 = _Str._Myres;
          while ( 1 )
          {
            v10 = (char *)v8;
            if ( v9 < 0x10 )
            {
              v10 = (char *)&_Str._Bx;
              v8 = &_Str._Bx;
            }
            v11 = ((int (__stdcall *)(int *, char *, char **, char **, const void *, char *, char **))v2->_Pcvt->baseclass_0.baseclass_0.vfptr[5].__vecDelDtor)(
                    &v2->_State,
                    &_Ch,
                    &_Dest,
                    &_Source,
                    v8,
                    &v10[_Str._Mysize],
                    &_Dest);
            if ( v11 < 0 )
              goto LABEL_31;
            if ( v11 > 1 )
              break;
            v9 = _Str._Myres;
            v8 = *(const void **)&_Str._Bx._Buf[0];
            v12 = *(void **)&_Str._Bx._Buf[0];
            if ( _Str._Myres < 0x10 )
              v12 = &_Str._Bx;
            v13 = _Dest - v12;
            if ( _Dest != v12 )
            {
              if ( _Str._Myres < 0x10 )
                v8 = &_Str._Bx;
              if ( v13 != fwrite(v8, 1u, v13, v2->_Myfile) )
                goto LABEL_31;
              v8 = *(const void **)&_Str._Bx._Buf[0];
              v9 = _Str._Myres;
            }
            v14 = _Source == &_Ch;
            v2->_Wrotesome = 1;
            if ( !v14 )
            {
              std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(&_Str);
              goto LABEL_32;
            }
            if ( !v13 )
            {
              std::basic_string<char_std::char_traits<char>_std::allocator<char>>::append(&_Str, 8u, 0);
              goto LABEL_11;
            }
          }
          if ( v11 != 3 )
          {
LABEL_31:
            std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(&_Str);
            goto LABEL_32;
          }
          if ( fputc(_Ch, v2->_Myfile) == -1 )
            std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(&_Str);
          else
            std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>(&_Str);
        }
        else
        {
          fputc((char)_Meta, v2->_Myfile) == -1;
        }
      }
    }
  }
LABEL_32:
  __security_check_cookie(v20);
  return result;
}

//----- (0041C260) --------------------------------------------------------
int __thiscall std::basic_filebuf<char_std::char_traits<char>>::uflow(std::basic_filebuf<char,std::char_traits<char> > *this)
{
  std::basic_filebuf<char,std::char_traits<char> > *v1; // esi@1
  char **v2; // ecx@1
  int *v3; // eax@2
  char **v4; // esi@3
  int *v5; // eax@3
  int result; // eax@3
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v7; // ecx@9
  int v8; // eax@9
  signed int v9; // ebx@10
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v10; // eax@11
  int v11; // edi@12
  unsigned int v12; // edx@14
  int v13; // eax@15
  int v14; // eax@17
  int v15; // eax@18
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v16; // ecx@22
  int v17; // eax@23
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v18; // esi@28
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v19; // eax@31
  int v20; // ecx@32
  int v21; // edi@34
  int v22; // eax@35
  unsigned __int8 _Ch; // [sp+1Dh] [bp-9h]@17
  char *_Source; // [sp+1Eh] [bp-8h]@17
  void *_Dest; // [sp+22h] [bp-4h]@17

  v1 = this;
  v2 = this->baseclass_0._IGnext;
  if ( *v2 )
  {
    v3 = v1->baseclass_0._IGcount;
    if ( *v2 < &(*v2)[*v3] )
    {
      --*v3;
      v4 = v1->baseclass_0._IGnext;
      v5 = (int *)(*v4)++;
      return *(_BYTE *)v5;
    }
  }
  if ( !v1->_Myfile )
    return -1;
  if ( v1->_Pcvt )
  {
    v7 = v1->_Mystr;
    v1->_State0 = v1->_State;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(v7, 0, 0xFFFFFFFFu);
    v8 = fgetc(v1->_Myfile);
    if ( v8 == -1 )
    {
LABEL_27:
      result = -1;
    }
    else
    {
      v9 = 16;
      while ( 1 )
      {
        std::basic_string<char_std::char_traits<char>_std::allocator<char>>::append(v1->_Mystr, 1u, v8);
        v10 = v1->_Mystr;
        v11 = (int)(v10->_Myres < v9 ? &v10->_Bx : *(_DWORD *)&v10->_Bx._Buf[0]);
        v12 = v10->_Mysize;
        v13 = (int)(v10->_Myres < v9 ? &v10->_Bx : *(_DWORD *)&v10->_Bx._Buf[0]);
        v14 = ((int (__stdcall *)(int *, int, unsigned int, char **, unsigned __int8 *, char **, void **))v1->_Pcvt->baseclass_0.baseclass_0.vfptr[4].__vecDelDtor)(
                &v1->_State,
                v13,
                v12 + v11,
                &_Source,
                &_Ch,
                &_Source,
                &_Dest);
        if ( !v14 )
          break;
        v15 = v14 - 1;
        if ( v15 )
        {
          if ( v15 != 2 )
            goto LABEL_27;
          if ( v1->_Mystr->_Mysize >= 1 )
          {
            v18 = v1->_Mystr;
            if ( v18->_Myres < 0x10 )
              result = v18->_Bx._Buf[0];
            else
              result = **(_BYTE **)&v18->_Bx._Buf[0];
            return result;
          }
          v9 = 16;
        }
        else
        {
          v16 = v1->_Mystr;
          v9 = 16;
          if ( v16->_Myres < 0x10 )
            v17 = (int)&v16->_Bx;
          else
            v17 = *(_DWORD *)&v16->_Bx._Buf[0];
          std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(
            v16,
            0,
            (unsigned int)&_Source[-v17]);
        }
        v8 = fgetc(v1->_Myfile);
        if ( v8 == -1 )
          goto LABEL_27;
      }
      v19 = v1->_Mystr;
      if ( v19->_Myres < 0x10 )
        v20 = (int)&v19->_Bx;
      else
        v20 = *(_DWORD *)&v19->_Bx._Buf[0];
      v21 = v20 + v19->_Mysize - (_DWORD)_Source;
      while ( v21 > 0 )
      {
        v22 = _Source[v21-- - 1];
        ungetc(v22, v1->_Myfile);
      }
      result = _Ch;
    }
  }
  else
  {
    result = fgetc(v1->_Myfile);
    if ( result == -1 )
      return -1;
    result = (unsigned __int8)result;
  }
  return result;
}

//----- (0041C420) --------------------------------------------------------
std::fpos<int> *__thiscall std::basic_filebuf<char_std::char_traits<char>>::seekoff(std::basic_filebuf<char,std::char_traits<char> > *this, std::fpos<int> *result, int _Off, int _Way, int __formal)
{
  std::basic_filebuf<char,std::char_traits<char> > *v5; // esi@1
  char **v6; // ecx@1
  unsigned int i; // edi@6
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v8; // eax@7
  int v9; // eax@8
  int v10; // eax@18
  std::fpos<int> *v11; // eax@20
  __int64 v12; // kr00_8@20
  __int64 _Fileposition; // [sp+8h] [bp-8h]@17

  v5 = this;
  v6 = this->baseclass_0._IGnext;
  if ( &(*v6)[*v5->baseclass_0._IGcount] > *v6 && *v6 == &v5->_Mychar && _Way == 1 )
  {
    if ( v5->_Pcvt )
    {
      for ( i = v5->_Mystr->_Mysize; (signed int)i > 0; ungetc(*(_BYTE *)(v9 + i), v5->_Myfile) )
      {
        v8 = v5->_Mystr;
        --i;
        if ( v8->_Myres < 0x10 )
          v9 = (int)&v8->_Bx;
        else
          v9 = *(_DWORD *)&v8->_Bx._Buf[0];
      }
      std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(v5->_Mystr, 0, 0xFFFFFFFFu);
      v5->_State = v5->_State0;
    }
    else
    {
      --_Off;
    }
  }
  if ( !v5->_Myfile
    || !std::basic_filebuf<char_std::char_traits<char>>::_Endwrite(v5)
    || (_Off || _Way != 1) && fseek(v5->_Myfile, _Off, _Way)
    || fgetpos(v5->_Myfile, &_Fileposition) )
  {
    v11 = result;
    result->_Myoff = std::_BADOFF;
    result->_Fpos = std::_Fpz;
    result->_Mystate = std::fpos<int>::_Stz;
  }
  else
  {
    v10 = (int)&v5->_Mychar;
    if ( (char *)*(std::basic_filebuf<char,std::char_traits<char> > **)v5->baseclass_0._IGnext == &v5->_Mychar )
    {
      *v5->baseclass_0._IGfirst = (char *)v10;
      *v5->baseclass_0._IGnext = (char *)v10;
      *v5->baseclass_0._IGcount = 0;
    }
    v11 = result;
    v12 = _Fileposition;
    result->_Mystate = v5->_State;
    result->_Myoff = 0;
    result->_Fpos = v12;
  }
  return v11;
}
// 464128: using guessed type const __int32 std___BADOFF;
// 4A5D78: using guessed type int std__fpos_int____Stz;
// 4C8E10: using guessed type __int64 std___Fpz;

//----- (0041C560) --------------------------------------------------------
std::fpos<int> *__thiscall std::basic_filebuf<char_std::char_traits<char>>::seekpos(std::basic_filebuf<char,std::char_traits<char> > *this, std::fpos<int> *result, std::fpos<int> _Pos, int __formal)
{
  std::basic_filebuf<char,std::char_traits<char> > *v4; // esi@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v5; // ecx@7
  int v6; // eax@9
  std::fpos<int> *v7; // eax@11
  __int64 v8; // kr00_8@11
  __int64 _Fileposition; // [sp+4h] [bp-8h]@1

  v4 = this;
  _Fileposition = _Pos._Fpos;
  if ( !this->_Myfile
    || !std::basic_filebuf<char_std::char_traits<char>>::_Endwrite(this)
    || fsetpos(v4->_Myfile, &_Fileposition)
    || _Pos._Myoff && fseek(v4->_Myfile, _Pos._Myoff, 1)
    || fgetpos(v4->_Myfile, &_Fileposition) )
  {
    v7 = result;
    result->_Myoff = std::_BADOFF;
    result->_Fpos = std::_Fpz;
    result->_Mystate = std::fpos<int>::_Stz;
  }
  else
  {
    v5 = v4->_Mystr;
    if ( v5 )
    {
      v4->_State = _Pos._Mystate;
      std::basic_string<char_std::char_traits<char>_std::allocator<char>>::erase(v5, 0, 0xFFFFFFFFu);
    }
    v6 = (int)&v4->_Mychar;
    if ( (char *)*(std::basic_filebuf<char,std::char_traits<char> > **)v4->baseclass_0._IGnext == &v4->_Mychar )
    {
      *v4->baseclass_0._IGfirst = (char *)v6;
      *v4->baseclass_0._IGnext = (char *)v6;
      *v4->baseclass_0._IGcount = 0;
    }
    v7 = result;
    v8 = _Fileposition;
    result->_Mystate = v4->_State;
    result->_Myoff = 0;
    result->_Fpos = v8;
  }
  return v7;
}
// 464128: using guessed type const __int32 std___BADOFF;
// 4A5D78: using guessed type int std__fpos_int____Stz;
// 4C8E10: using guessed type __int64 std___Fpz;

//----- (0041C670) --------------------------------------------------------
std::basic_filebuf<char,std::char_traits<char> > *__thiscall std::basic_filebuf<char_std::char_traits<char>>::close(std::basic_filebuf<char,std::char_traits<char> > *this)
{
  std::basic_filebuf<char,std::char_traits<char> > *v1; // esi@1
  int v2; // edx@4
  std::basic_filebuf<char,std::char_traits<char> > *result; // eax@4

  v1 = this;
  if ( this->_Myfile && std::basic_filebuf<char_std::char_traits<char>>::_Endwrite(this) && !fclose(v1->_Myfile) )
  {
    v1->_Closef = 0;
    v1->_Wrotesome = 0;
    std::basic_streambuf<char_std::char_traits<char>>::_Init(&v1->baseclass_0);
    v1->_Myfile = 0;
    v1->_State = _Stinit;
    v2 = _Stinit;
    v1->_Pcvt = 0;
    v1->_State0 = v2;
    result = v1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4A5D7C: using guessed type int _Stinit;

//----- (0041C6D0) --------------------------------------------------------
void __thiscall std::basic_filebuf<char_std::char_traits<char>>::_basic_filebuf<char_std::char_traits<char>>(std::basic_filebuf<char,std::char_traits<char> > *this)
{
  std::basic_filebuf<char,std::char_traits<char> > *v1; // edi@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > *v2; // esi@3

  v1 = this;
  this->baseclass_0.vfptr = (std::basic_streambuf<char,std::char_traits<char> >Vtbl *)&std::basic_filebuf<char_std::char_traits<char>>::_vftable_;
  if ( this->_Closef )
    std::basic_filebuf<char_std::char_traits<char>>::close(this);
  v2 = v1->_Mystr;
  if ( v2 )
  {
    if ( v2->_Myres >= 0x10 )
      operator delete(*(void **)&v2->_Bx._Buf[0]);
    v2->_Myres = 15;
    v2->_Mysize = 0;
    v2->_Bx._Buf[0] = 0;
    operator delete(v2);
  }
  std::basic_streambuf<char_std::char_traits<char>>::_basic_streambuf<char_std::char_traits<char>>(&v1->baseclass_0);
}
// 464250: using guessed type int (__thiscall *std__basic_filebuf_char_std__char_traits_char_____vftable_)(void *p, char);

//----- (0041C760) --------------------------------------------------------
void *__thiscall std::basic_filebuf<char_std::char_traits<char>>::_scalar_deleting_destructor_(std::basic_filebuf<char,std::char_traits<char> > *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::basic_filebuf<char_std::char_traits<char>>::_basic_filebuf<char_std::char_traits<char>>(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041C780) --------------------------------------------------------
void __thiscall OleDB::OleDB(OleDB *this)
{
  OleDB *v1; // esi@1

  v1 = this;
  this->vfptr = (OleDBVtbl *)&OleDB::_vftable_;
  this->m_pIDBInit = 0;
  this->m_pIDBCreateSession = 0;
  this->m_pIDBCreateCommand = 0;
  this->m_pIRowset = 0;
  this->m_pIRowsetChange = 0;
  this->m_dwLastError = 0;
  CoInitializeEx(0, 0);
  memset(&v1->m_ColInfo, 0, sizeof(v1->m_ColInfo));
  memset(v1->m_ErrorString, 0, sizeof(v1->m_ErrorString));
}
// 4570B0: using guessed type int (__thiscall *OleDB___vftable_)(void *p, char);

//----- (0041C7E0) --------------------------------------------------------
void __thiscall OleDB::_OleDB(OleDB *this)
{
  OleDB *v1; // esi@1
  IDBInitialize *v2; // eax@1
  IDBCreateSession *v3; // eax@3
  IDBCreateCommand *v4; // eax@5
  IRowset *v5; // eax@7
  IRowsetChange *v6; // eax@9

  v1 = this;
  v2 = this->m_pIDBInit;
  this->vfptr = (OleDBVtbl *)&OleDB::_vftable_;
  if ( v2 )
  {
    v2->baseclass_0.vfptr[1].AddRef((IUnknown *)v2);
    v1->m_pIDBInit->baseclass_0.vfptr->Release((IUnknown *)v1->m_pIDBInit);
    v1->m_pIDBInit = 0;
  }
  v3 = v1->m_pIDBCreateSession;
  if ( v3 )
  {
    v3->baseclass_0.vfptr->Release((IUnknown *)v1->m_pIDBCreateSession);
    v1->m_pIDBCreateSession = 0;
  }
  v4 = v1->m_pIDBCreateCommand;
  if ( v4 )
  {
    v4->baseclass_0.vfptr->Release((IUnknown *)v1->m_pIDBCreateCommand);
    v1->m_pIDBCreateCommand = 0;
  }
  v5 = v1->m_pIRowset;
  if ( v5 )
  {
    v5->baseclass_0.vfptr->Release((IUnknown *)v1->m_pIRowset);
    v1->m_pIRowset = 0;
  }
  v6 = v1->m_pIRowsetChange;
  if ( v6 )
  {
    v6->baseclass_0.vfptr->Release((IUnknown *)v1->m_pIRowsetChange);
    v1->m_pIRowsetChange = 0;
  }
  CoUninitialize();
}
// 4570B0: using guessed type int (__thiscall *OleDB___vftable_)(void *p, char);

//----- (0041C870) --------------------------------------------------------
bool __thiscall OleDB::HandleError(OleDB *this, int ErrorLine_In, HRESULT hResult_In, char *Buffer_In)
{
  OleDB *v4; // esi@1
  bool v5; // sf@1
  void *v6; // eax@1
  void *pIErrorInfo; // [sp+Ch] [bp-210h]@1
  const unsigned __int16 *ErrorString; // [sp+10h] [bp-20Ch]@1
  int Bool; // [sp+14h] [bp-208h]@8
  char Buffer[512]; // [sp+18h] [bp-204h]@8

  v4 = this;
  pIErrorInfo = 0;
  ErrorString = 0;
  this->m_dwLastError = hResult_In;
  v5 = GetErrorInfo(0, (IErrorInfo **)&pIErrorInfo) < 0;
  v6 = pIErrorInfo;
  if ( v5 )
    goto LABEL_5;
  if ( !pIErrorInfo )
  {
LABEL_7:
    _snprintf(v4->m_ErrorString, 0x200u, "[%3d:0x%5x] [M:%s]");
    return 0;
  }
  if ( (*(int (__stdcall **)(void *, const unsigned __int16 **))(*(_DWORD *)pIErrorInfo + 20))(
         pIErrorInfo,
         &ErrorString) < 0 )
  {
    v6 = pIErrorInfo;
LABEL_5:
    if ( v6 )
    {
      (*(void (__stdcall **)(void *))(*(_DWORD *)v6 + 8))(v6);
      pIErrorInfo = 0;
    }
    goto LABEL_7;
  }
  WideCharToMultiByte(0, 0, ErrorString, -1, Buffer, 462, 0, &Bool);
  _snprintf(v4->m_ErrorString, 0x200u, "[%3d:0x%5x] %s  [M:%s]");
  if ( pIErrorInfo )
    (*(void (__stdcall **)(void *))(*(_DWORD *)pIErrorInfo + 8))(pIErrorInfo);
  return 1;
}

//----- (0041C9C0) --------------------------------------------------------
bool __thiscall OleDB::CreateSession(OleDB *this)
{
  OleDB *v1; // edi@1
  bool result; // al@2
  IDBCreateSession *v3; // eax@3
  char *v4; // esi@3
  HRESULT v5; // esi@5

  v1 = this;
  if ( this->m_pIDBInit )
  {
    v3 = this->m_pIDBCreateSession;
    v4 = (char *)&this->m_pIDBCreateSession;
    if ( v3 )
    {
      v3->baseclass_0.vfptr->Release((IUnknown *)v3);
      *(_DWORD *)v4 = 0;
    }
    v5 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))v1->m_pIDBInit)(
           v1->m_pIDBInit,
           &IID_IDBCreateSession,
           &v1->m_pIDBCreateSession);
    if ( v5 >= 0 )
    {
      v1->m_dwLastError = 0;
      result = 1;
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_SYSERR,
        "OleDB::CreateSession",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\DB\\OLEDB.cpp",
        1063,
        "IDBInitialize  QueryInterface  ..");
      OleDB::HandleError(v1, 1064, v5, "IDBInitialize::QueryInterface");
      result = 0;
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_SYSERR,
      "OleDB::CreateSession",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\DB\\OLEDB.cpp",
      1054,
      "IDBInitialize  ");
    result = 0;
  }
  return result;
}

//----- (0041CA80) --------------------------------------------------------
bool __thiscall OleDB::DBCreateCommand(OleDB *this)
{
  OleDB *v1; // esi@1
  bool result; // al@2
  IDBCreateCommand *v3; // eax@3
  HRESULT v4; // eax@5
  HRESULT v5; // eax@7

  v1 = this;
  if ( this->m_pIDBCreateSession || (result = OleDB::CreateSession(this)) != 0 )
  {
    v3 = v1->m_pIDBCreateCommand;
    if ( v3 )
    {
      v3->baseclass_0.vfptr->Release((IUnknown *)v3);
      v1->m_pIDBCreateCommand = 0;
    }
    v4 = ((int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD))v1->m_pIDBCreateSession->baseclass_0.vfptr[1].QueryInterface)(
           v1->m_pIDBCreateSession,
           0,
           &IID_IDBCreateCommand,
           &v1->m_pIDBCreateCommand);
    if ( v4 < 0 )
    {
      OleDB::HandleError(v1, 1097, v4, "IDBCreateCommand::CreateSession");
      if ( !OleDB::CreateSession(v1) )
        return 0;
      v5 = ((int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD))v1->m_pIDBCreateSession->baseclass_0.vfptr[1].QueryInterface)(
             v1->m_pIDBCreateSession,
             0,
             &IID_IDBCreateCommand,
             &v1->m_pIDBCreateCommand);
      if ( v5 < 0 )
      {
        OleDB::HandleError(v1, 1103, v5, "IDBCreateCommand::CreateSession");
        GetLastError();
        CServerLog::DetailLog(
          &g_Log,
          LOG_SYSERR,
          "OleDB::DBCreateCommand",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\DB\\OLEDB.cpp",
          1104,
          "CreateSession  %d   . %d");
        return 0;
      }
    }
    if ( !v1->m_pIDBCreateSession )
      return 0;
    v1->m_dwLastError = 0;
    result = 1;
  }
  return result;
}

//----- (0041CB60) --------------------------------------------------------
bool __thiscall OleDB::AllocResultCols(OleDB *this, IUnknown *lpIUnknown_In, OleDB::_RESULT_COLS *Rsult_Cols)
{
  OleDB *v3; // esi@1
  IUnknownVtbl *v4; // ecx@1
  OleDB *v5; // eax@2
  bool v7; // sf@6
  OleDB *pIColumnsInfo; // [sp+1Ch] [bp-4h]@1

  pIColumnsInfo = this;
  v3 = this;
  v4 = lpIUnknown_In->vfptr;
  pIColumnsInfo = 0;
  if ( v4->QueryInterface(lpIUnknown_In, &IID_IColumnsInfo, &pIColumnsInfo) < 0 )
  {
    v5 = pIColumnsInfo;
LABEL_3:
    if ( v5 )
      ((void (__stdcall *)(_DWORD))v5->vfptr[2].__vecDelDtor)(v5);
    return 0;
  }
  v7 = ((int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD))pIColumnsInfo->vfptr[3].__vecDelDtor)(
         pIColumnsInfo,
         Rsult_Cols,
         &Rsult_Cols->lpDBColumnInfo,
         &Rsult_Cols->lpStringsBuffer) < 0;
  v5 = pIColumnsInfo;
  if ( v7 )
    goto LABEL_3;
  if ( pIColumnsInfo )
    ((void (__stdcall *)(_DWORD))pIColumnsInfo->vfptr[2].__vecDelDtor)(pIColumnsInfo);
  v3->m_dwLastError = 0;
  return 1;
}

//----- (0041CBE0) --------------------------------------------------------
bool __thiscall OleDB::ReleaseResultCols(OleDB *this, IUnknown *lpIUnknown_In, OleDB::_RESULT_COLS *Rsult_Cols)
{
  unsigned int v3; // eax@1
  OleDB *v4; // ebx@1
  bool result; // al@3
  OleDB *v6; // eax@8
  bool v7; // zf@8
  OleDB *pMalloc; // [sp+10h] [bp-4h]@1

  pMalloc = this;
  v3 = Rsult_Cols->ColNum;
  v4 = this;
  pMalloc = 0;
  if ( v3 && !CoGetMalloc(1u, (LPMALLOC *)&pMalloc) )
  {
    if ( Rsult_Cols->lpDBColumnInfo )
    {
      ((void (__stdcall *)(_DWORD, _DWORD))pMalloc->vfptr[5].__vecDelDtor)(pMalloc, Rsult_Cols->lpDBColumnInfo);
      Rsult_Cols->lpDBColumnInfo = 0;
    }
    if ( Rsult_Cols->lpStringsBuffer )
    {
      ((void (__stdcall *)(_DWORD, _DWORD))pMalloc->vfptr[5].__vecDelDtor)(pMalloc, Rsult_Cols->lpStringsBuffer);
      Rsult_Cols->lpStringsBuffer = 0;
    }
    v6 = pMalloc;
    v7 = pMalloc == 0;
    Rsult_Cols->ColNum = 0;
    if ( !v7 )
      ((void (__stdcall *)(_DWORD))v6->vfptr[2].__vecDelDtor)(v6);
    v4->m_dwLastError = 0;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041CC60) --------------------------------------------------------
bool __thiscall OleDB::SetConnectionProperties(OleDB *this, const char *ServerName_In, const char *DataBaseName_In, const char *UserID_In, const char *UserPass_In)
{
  unsigned __int16 *v5; // ebx@2
  char *v6; // edx@2
  signed int v7; // esi@2
  unsigned int v8; // ecx@3
  int v9; // eax@3
  unsigned int v10; // ecx@3
  OleDB *v11; // esi@4
  IDBInitialize *v12; // eax@4
  HRESULT v13; // eax@4
  HRESULT v15; // eax@7
  void *pIDBProperties; // [sp+18h] [bp-464h]@4
  OleDB *thisa; // [sp+1Ch] [bp-460h]@1
  tagDBPROPSET dbPropSet[2]; // [sp+20h] [bp-45Ch]@2
  tagDBPROP RowsetProp; // [sp+50h] [bp-42Ch]@4
  tagDBPROP DataSourceProp[4]; // [sp+84h] [bp-3F8h]@2
  __int16 ServerName[100]; // [sp+154h] [bp-328h]@1
  __int16 UserPass[100]; // [sp+21Ch] [bp-260h]@1
  __int16 UserID[100]; // [sp+2E4h] [bp-198h]@1
  __int16 DataBaseName[100]; // [sp+3ACh] [bp-D0h]@1

  thisa = this;
  ServerName[0] = 0;
  memset(&ServerName[1], 0, 0xC4u);
  ServerName[99] = 0;
  DataBaseName[0] = 0;
  memset(&DataBaseName[1], 0, 0xC4u);
  DataBaseName[99] = 0;
  UserID[0] = 0;
  memset(&UserID[1], 0, 0xC4u);
  UserID[99] = 0;
  UserPass[0] = 0;
  memset(&UserPass[1], 0, 0xC4u);
  UserPass[99] = 0;
  if ( !this->m_pIDBInit )
    return 0;
  MultiByteToWideChar(0, 0, ServerName_In, -1, (LPWSTR)ServerName, 100);
  MultiByteToWideChar(0, 0, DataBaseName_In, -1, (LPWSTR)DataBaseName, 100);
  MultiByteToWideChar(0, 0, UserID_In, -1, (LPWSTR)UserID, 100);
  MultiByteToWideChar(0, 0, UserPass_In, -1, (LPWSTR)UserPass, 100);
  v5 = DB_NULLID.uName.pwszName;
  dbPropSet[0].rgProperties = 0;
  dbPropSet[0].cProperties = 0;
  dbPropSet[0].guidPropertySet.Data1 = 0;
  *(_DWORD *)&dbPropSet[0].guidPropertySet.Data2 = 0;
  *(_DWORD *)&dbPropSet[0].guidPropertySet.Data4[0] = 0;
  *(_DWORD *)&dbPropSet[0].guidPropertySet.Data4[4] = 0;
  v6 = (char *)&DataSourceProp[0].vValue;
  v7 = 4;
  do
  {
    memset(v6 - 36, 0, 0x34u);
    v8 = DB_NULLID.uGuid.guid.Data1;
    *((_DWORD *)v6 - 8) = 0;
    v9 = (int)(v6 - 24);
    *((_DWORD *)v6 - 6) = v8;
    *(_QWORD *)(v6 - 20) = *(_QWORD *)&DB_NULLID.uGuid.guid.Data2;
    *((_DWORD *)v6 - 3) = *(_DWORD *)&DB_NULLID.uGuid.guid.Data4[4];
    v10 = DB_NULLID.eKind;
    *(_WORD *)v6 = 8;
    *((_DWORD *)v6 - 2) = v10;
    v6 += 52;
    --v7;
    *(_DWORD *)(v9 + 20) = v5;
  }
  while ( v7 );
  DataSourceProp[0].dwPropertyID = wcslen((const wchar_t *)ServerName) != 0 ? 0x3B : 0;
  LODWORD(DataSourceProp[0].vValue.___u0._s0.llVal) = SysAllocString((const OLECHAR *)ServerName);
  DataSourceProp[1].dwPropertyID = wcslen((const wchar_t *)DataBaseName) != 0 ? 0xE9 : 0;
  LODWORD(DataSourceProp[1].vValue.___u0._s0.llVal) = SysAllocString((const OLECHAR *)DataBaseName);
  DataSourceProp[2].dwPropertyID = wcslen((const wchar_t *)UserID) != 0 ? 0xC : 0;
  LODWORD(DataSourceProp[2].vValue.___u0._s0.llVal) = SysAllocString((const OLECHAR *)UserID);
  DataSourceProp[3].dwPropertyID = wcslen((const wchar_t *)UserPass) != 0 ? 9 : 0;
  LODWORD(DataSourceProp[3].vValue.___u0._s0.llVal) = SysAllocString((const OLECHAR *)UserPass);
  dbPropSet[0].guidPropertySet.Data1 = DBPROPSET_DBINIT.Data1;
  *(_DWORD *)&dbPropSet[0].guidPropertySet.Data2 = *(_DWORD *)&DBPROPSET_DBINIT.Data2;
  *(_DWORD *)&dbPropSet[0].guidPropertySet.Data4[0] = *(_DWORD *)&DBPROPSET_DBINIT.Data4[0];
  *(_DWORD *)&dbPropSet[0].guidPropertySet.Data4[4] = *(_DWORD *)&DBPROPSET_DBINIT.Data4[4];
  dbPropSet[0].rgProperties = DataSourceProp;
  *(_QWORD *)&RowsetProp.colid.uGuid.guid.Data1 = *(_QWORD *)&DB_NULLID;
  *(_QWORD *)&RowsetProp.colid.uGuid.guid.Data4[0] = *(_QWORD *)&DB_NULLID.uGuid.guid.Data4[0];
  RowsetProp.colid.eKind = DB_NULLID.eKind;
  dbPropSet[0].cProperties = 4;
  RowsetProp.dwOptions = 0;
  RowsetProp.colid.uName.pwszName = DB_NULLID.uName.pwszName;
  RowsetProp.dwPropertyID = 117;
  RowsetProp.vValue.___u0._s0.vt = 3;
  LODWORD(RowsetProp.vValue.___u0._s0.llVal) = -1;
  dbPropSet[1].guidPropertySet.Data1 = DBPROPSET_ROWSET.Data1;
  *(_DWORD *)&dbPropSet[1].guidPropertySet.Data2 = *(_DWORD *)&DBPROPSET_ROWSET.Data2;
  v11 = thisa;
  dbPropSet[1].rgProperties = &RowsetProp;
  *(_DWORD *)&dbPropSet[1].guidPropertySet.Data4[4] = *(_DWORD *)&DBPROPSET_ROWSET.Data4[4];
  v12 = thisa->m_pIDBInit;
  *(_DWORD *)&dbPropSet[1].guidPropertySet.Data4[0] = *(_DWORD *)&DBPROPSET_ROWSET.Data4[0];
  dbPropSet[1].cProperties = 1;
  v13 = v12->baseclass_0.vfptr->QueryInterface((IUnknown *)v12, &IID_IDBProperties, &pIDBProperties);
  if ( v13 < 0 )
  {
    OleDB::HandleError(v11, 1261, v13, "IDBInitialize::QueryInterface");
    SysFreeString(LODWORD(DataSourceProp[0].vValue.___u0._s0.llVal));
    SysFreeString(LODWORD(DataSourceProp[1].vValue.___u0._s0.llVal));
    SysFreeString(LODWORD(DataSourceProp[2].vValue.___u0._s0.llVal));
    SysFreeString(LODWORD(DataSourceProp[3].vValue.___u0._s0.llVal));
    if ( pIDBProperties )
    {
      (*(void (__stdcall **)(void *))(*(_DWORD *)pIDBProperties + 8))(pIDBProperties);
      return 0;
    }
    return 0;
  }
  v15 = (*(int (__stdcall **)(void *, signed int, _DWORD))(*(_DWORD *)pIDBProperties + 20))(
          pIDBProperties,
          2,
          dbPropSet);
  if ( v15 < 0 )
  {
    OleDB::HandleError(v11, 1275, v15, "IDBProperties::SetProperties");
    SysFreeString(LODWORD(DataSourceProp[0].vValue.___u0._s0.llVal));
    SysFreeString(LODWORD(DataSourceProp[1].vValue.___u0._s0.llVal));
    SysFreeString(LODWORD(DataSourceProp[2].vValue.___u0._s0.llVal));
    SysFreeString(LODWORD(DataSourceProp[3].vValue.___u0._s0.llVal));
    if ( pIDBProperties )
      (*(void (__stdcall **)(void *))(*(_DWORD *)pIDBProperties + 8))(pIDBProperties);
    return 0;
  }
  SysFreeString(LODWORD(DataSourceProp[0].vValue.___u0._s0.llVal));
  SysFreeString(LODWORD(DataSourceProp[1].vValue.___u0._s0.llVal));
  SysFreeString(LODWORD(DataSourceProp[2].vValue.___u0._s0.llVal));
  SysFreeString(LODWORD(DataSourceProp[3].vValue.___u0._s0.llVal));
  if ( pIDBProperties )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)pIDBProperties + 8))(pIDBProperties);
  v11->m_dwLastError = 0;
  return 1;
}

//----- (0041D0B0) --------------------------------------------------------
tagDBBINDING *__thiscall OleDB::AllocBindGetData(OleDB *this, int ColsNum_In, tagDBCOLUMNINFO *pDBColumnInfo_In)
{
  int v3; // ebx@1
  tagDBBINDING *result; // eax@1
  int v5; // esi@1
  char *v6; // edx@2
  char *v7; // ecx@2
  int v8; // eax@3
  tagDBBINDING *ColsNum_Ina; // [sp+10h] [bp+4h]@1

  v3 = ColsNum_In;
  result = (tagDBBINDING *)malloc(52 * ColsNum_In);
  v5 = 0;
  ColsNum_Ina = result;
  if ( v3 > 0 )
  {
    v6 = (char *)&pDBColumnInfo_In->ulColumnSize;
    v7 = (char *)&result->obValue;
    do
    {
      v8 = *((_DWORD *)v6 - 2);
      *(_DWORD *)v7 = v5;
      *((_DWORD *)v7 - 1) = v8;
      *((_DWORD *)v7 + 6) = 1;
      *((_DWORD *)v7 + 3) = 0;
      *((_DWORD *)v7 + 4) = 0;
      *((_DWORD *)v7 + 5) = 0;
      *((_DWORD *)v7 + 7) = 0;
      *((_DWORD *)v7 + 8) = 0;
      *((_DWORD *)v7 + 9) = *(_DWORD *)v6;
      *((_DWORD *)v7 + 10) = 0;
      *((_WORD *)v7 + 22) = *((_WORD *)v6 + 2);
      v5 += *(_DWORD *)v6;
      v7 += 52;
      v6 += 48;
      --v3;
    }
    while ( v3 );
    result = ColsNum_Ina;
  }
  return result;
}

//----- (0041D130) --------------------------------------------------------
tagDBBINDING *__thiscall OleDB::AllocBindParamInputData(OleDB *this, OleDB::_PARAM_INFO *ParamInfo_In)
{
  void *v2; // ecx@1
  int v3; // esi@1
  unsigned int v4; // edi@1
  char *v5; // edx@2
  char *v6; // eax@2
  int v7; // ecx@2
  tagDBBINDING *result; // eax@4
  tagDBBINDING *pBindings; // [sp+10h] [bp-4h]@1

  v2 = malloc(52 * ParamInfo_In->ColNum);
  v3 = 0;
  v4 = 0;
  pBindings = (tagDBBINDING *)v2;
  if ( ParamInfo_In->ColNum )
  {
    v5 = (char *)ParamInfo_In->ColSize;
    v6 = (char *)ParamInfo_In->ColType;
    v7 = (int)((char *)v2 + 4);
    do
    {
      *(_DWORD *)v7 = v3;
      *(_DWORD *)(v7 + 24) = 1;
      *(_DWORD *)(v7 + 12) = 0;
      *(_DWORD *)(v7 + 16) = 0;
      *(_DWORD *)(v7 + 20) = 0;
      *(_DWORD *)(v7 + 28) = 0;
      ++v4;
      *(_DWORD *)(v7 - 4) = v4;
      *(_DWORD *)(v7 + 32) = *((_DWORD *)v5 - 30);
      *(_DWORD *)(v7 + 36) = *(_DWORD *)v5;
      *(_DWORD *)(v7 + 40) = 0;
      *(_WORD *)(v7 + 44) = *(_WORD *)v6;
      v3 += *(_DWORD *)v5;
      v6 += 2;
      v5 += 4;
      v7 += 52;
    }
    while ( v4 < ParamInfo_In->ColNum );
    result = pBindings;
  }
  else
  {
    result = (tagDBBINDING *)v2;
  }
  return result;
}

//----- (0041D1D0) --------------------------------------------------------
void *__thiscall OleDB::_scalar_deleting_destructor_(OleDB *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  OleDB::_OleDB(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041D1F0) --------------------------------------------------------
bool __thiscall OleDB::ConnectSQLServer(OleDB *this, const char *ServerName_In, const char *DataBaseName_In, const char *UserID_In, const char *UserPass_In, OleDB::ConnType ConnType_In)
{
  int v6; // edx@1
  OleDB *v7; // edi@1
  IDBInitialize *v8; // eax@11
  char *v9; // esi@11
  HRESULT v10; // eax@14
  _GUID ProviderCLSID; // [sp+10h] [bp-14h]@1

  v6 = *(_DWORD *)&CLSID_MSDASQL.Data2;
  v7 = this;
  ProviderCLSID.Data1 = CLSID_MSDASQL.Data1;
  *(_DWORD *)&ProviderCLSID.Data2 = *(_DWORD *)&CLSID_MSDASQL.Data2;
  *(_DWORD *)&ProviderCLSID.Data4[0] = *(_DWORD *)&CLSID_MSDASQL.Data4[0];
  *(_DWORD *)&ProviderCLSID.Data4[4] = *(_DWORD *)&CLSID_MSDASQL.Data4[4];
  if ( !ConnType_In )
  {
    ProviderCLSID.Data1 = CLSID_MSDASQL.Data1;
    *(_DWORD *)&ProviderCLSID.Data4[0] = *(_DWORD *)&CLSID_MSDASQL.Data4[0];
    *(_DWORD *)&ProviderCLSID.Data4[4] = *(_DWORD *)&CLSID_MSDASQL.Data4[4];
    DataBaseName_In = String;
    goto LABEL_7;
  }
  if ( ConnType_In == 1 )
  {
    v6 = *(_DWORD *)&CLSID_SQLOLEDB.Data2;
    ProviderCLSID.Data1 = CLSID_SQLOLEDB.Data1;
    *(_DWORD *)&ProviderCLSID.Data4[0] = *(_DWORD *)&CLSID_SQLOLEDB.Data4[0];
    *(_DWORD *)&ProviderCLSID.Data4[4] = *(_DWORD *)&CLSID_SQLOLEDB.Data4[4];
LABEL_7:
    *(_DWORD *)&ProviderCLSID.Data2 = v6;
    goto LABEL_8;
  }
  if ( ConnType_In == 2 )
  {
    ProviderCLSID.Data1 = CLSID_MSDAORA.Data1;
    *(_DWORD *)&ProviderCLSID.Data2 = *(_DWORD *)&CLSID_MSDAORA.Data2;
    *(_DWORD *)&ProviderCLSID.Data4[0] = *(_DWORD *)&CLSID_MSDAORA.Data4[0];
    *(_DWORD *)&ProviderCLSID.Data4[4] = *(_DWORD *)&CLSID_MSDAORA.Data4[4];
  }
LABEL_8:
  if ( !ServerName_In || !UserID_In || !UserPass_In )
    return 0;
  v8 = this->m_pIDBInit;
  v9 = (char *)&this->m_pIDBInit;
  if ( v8 )
  {
    v8->baseclass_0.vfptr->Release((IUnknown *)this->m_pIDBInit);
    *(_DWORD *)v9 = 0;
  }
  CoInitializeEx(0, 0);
  if ( CoCreateInstance(&ProviderCLSID, 0, 1u, &IID_IDBInitialize, (LPVOID *)&v7->m_pIDBInit) < 0 )
    return 0;
  OleDB::SetConnectionProperties(v7, ServerName_In, DataBaseName_In, UserID_In, UserPass_In);
  v10 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)v9 + 12))(*(_DWORD *)v9);
  if ( v10 < 0 )
  {
    OleDB::HandleError(v7, 163, v10, "IDBInitialize::Initialize");
    if ( *(_DWORD *)v9 )
    {
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v9 + 8))(*(_DWORD *)v9);
      *(_DWORD *)v9 = 0;
    }
    return 0;
  }
  return OleDB::CreateSession(v7);
}

//----- (0041D380) --------------------------------------------------------
bool __thiscall OleDB::ExecuteQueryWithParams(OleDB *this, const char *Query_In, char *Data_In, OleDB::_PARAM_INFO *ParamInfo_In)
{
  int v4; // edi@0
  OleDB *v5; // esi@1
  const char *v6; // ebx@2
  IDBCreateCommand *v7; // eax@5
  int v8; // edi@5
  const char *v9; // eax@7
  bool result; // al@10
  int v11; // eax@12
  HRESULT v12; // edi@14
  OleDB::_PARAM_INFO *v13; // edi@21
  void *v14; // ebx@21
  unsigned int v15; // ST4C_4@21
  HRESULT v16; // edi@21
  IRowset *v17; // eax@30
  HRESULT v18; // eax@32
  int v19; // [sp+54h] [bp-30h]@6
  HRESULT v20; // [sp+58h] [bp-2Ch]@6
  char *v21; // [sp+5Ch] [bp-28h]@6
  int v22; // [sp+60h] [bp-24h]@5
  const char *pIAccessor; // [sp+70h] [bp-14h]@14
  unsigned int hAccessor; // [sp+74h] [bp-10h]@21
  tagDBPARAMS DBParams; // [sp+78h] [bp-Ch]@30

  v5 = this;
  if ( this->m_pIDBCreateSession && (v6 = Query_In) != 0 )
  {
    if ( !this->m_pIDBCreateCommand )
      OleDB::DBCreateCommand(this);
    v7 = v5->m_pIDBCreateCommand;
    v22 = v4;
    Query_In = 0;
    v8 = ((int (__stdcall *)(IDBCreateCommand *, _DWORD, GUID *, const char **))v7->baseclass_0.vfptr[1].QueryInterface)(
           v7,
           0,
           &IID_ICommandText,
           &Query_In);
    if ( v8 < 0 )
    {
      GetLastError();
      CServerLog::DetailLog(
        &g_Log,
        LOG_SYSERR,
        "OleDB::ExecuteQueryWithParams",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\DB\\OLEDB.cpp",
        333,
        "CreateCommand  %d   .");
      v21 = "IDBCreateCommand::CreateCommand";
      v20 = v8;
      v19 = 334;
LABEL_7:
      OleDB::HandleError(v5, v19, v20, v21);
      v9 = Query_In;
      goto LABEL_8;
    }
    if ( !Query_In )
      return 0;
    MultiByteToWideChar(0, 0, v6, -1, v5->m_QueryText, 4096);
    v11 = (*(int (__stdcall **)(const char *, const GUID *, unsigned __int16 *))(*(_DWORD *)Query_In + 28))(
            Query_In,
            &DBGUID_DBSQL,
            v5->m_QueryText);
    if ( v11 < 0 )
    {
      v21 = "ICommandText::SetCommandText";
      v20 = v11;
      v19 = 349;
      goto LABEL_7;
    }
    pIAccessor = 0;
    v12 = (**(int (__stdcall ***)(const char *, GUID *, const char **))Query_In)(Query_In, &IID_IAccessor, &pIAccessor);
    if ( v12 < 0 )
    {
      GetLastError();
      CServerLog::DetailLog(
        &g_Log,
        LOG_SYSERR,
        "OleDB::ExecuteQueryWithParams",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\DB\\OLEDB.cpp",
        363,
        "QueryInterface  %d   .");
      OleDB::HandleError(v5, 364, v12, "ICommandText::QueryInterface");
      if ( Query_In )
      {
        (*(void (__stdcall **)(const char *))(*(_DWORD *)Query_In + 8))(Query_In);
        Query_In = 0;
      }
      v9 = pIAccessor;
      goto LABEL_8;
    }
    if ( !pIAccessor )
    {
      if ( Query_In )
      {
        (*(void (__stdcall **)(const char *))(*(_DWORD *)Query_In + 8))(Query_In);
        v9 = pIAccessor;
        Query_In = 0;
LABEL_8:
        if ( v9 )
          (*(void (__stdcall **)(const char *))(*(_DWORD *)v9 + 8))(v9);
        return 0;
      }
      return 0;
    }
    v13 = ParamInfo_In;
    v14 = OleDB::AllocBindParamInputData(v5, ParamInfo_In);
    v15 = v13->ColNum;
    hAccessor = 0;
    v16 = (*(int (__stdcall **)(const char *, signed int, unsigned int, void *, _DWORD, unsigned int *, _DWORD))(*(_DWORD *)pIAccessor + 16))(
            pIAccessor,
            4,
            v15,
            v14,
            0,
            &hAccessor,
            0);
    if ( v16 >= 0 )
    {
      if ( v14 )
        free(v14);
      DBParams.cParamSets = 0;
      DBParams.hAccessor = hAccessor;
      v17 = v5->m_pIRowset;
      DBParams.cParamSets = 1;
      DBParams.pData = Data_In;
      if ( v17 )
      {
        v17->baseclass_0.vfptr->Release((IUnknown *)v17);
        v5->m_pIRowset = 0;
      }
      v18 = (*(int (__stdcall **)(const char *, _DWORD, GUID *, tagDBPARAMS *, _DWORD, IRowset **, int))(*(_DWORD *)Query_In + 16))(
              Query_In,
              0,
              &IID_IRowset,
              &DBParams,
              0,
              &v5->m_pIRowset,
              v22);
      if ( v18 >= 0 )
      {
        (*(void (__stdcall **)(unsigned int, void *))(*(_DWORD *)hAccessor + 24))(hAccessor, DBParams.pData);
        if ( pIAccessor )
        {
          (*(void (__stdcall **)(const char *))(*(_DWORD *)pIAccessor + 8))(pIAccessor);
          pIAccessor = 0;
        }
        if ( Query_In )
          (*(void (__stdcall **)(_DWORD))(*(_DWORD *)Query_In + 8))(Query_In);
        v5->m_dwLastError = 0;
        result = 1;
      }
      else
      {
        OleDB::HandleError(v5, 408, v18, "IRowset::Execute  IRowsetChange::Execute");
        (*(void (__stdcall **)(unsigned int, void *))(*(_DWORD *)hAccessor + 24))(hAccessor, DBParams.pData);
        if ( pIAccessor )
        {
          (*(void (__stdcall **)(const char *))(*(_DWORD *)pIAccessor + 8))(pIAccessor);
          pIAccessor = 0;
        }
        if ( !Query_In )
          return 0;
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)Query_In + 8))(Query_In);
        result = 0;
      }
    }
    else
    {
      GetLastError();
      CServerLog::DetailLog(
        &g_Log,
        LOG_SYSERR,
        "OleDB::ExecuteQueryWithParams",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\DB\\OLEDB.cpp",
        383,
        "CreateAccessor  %d   . %d");
      OleDB::HandleError(v5, 384, v16, "IAccessor::CreateAccessor");
      if ( Query_In )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)Query_In + 8))(Query_In);
        Query_In = 0;
      }
      if ( pIAccessor )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)pIAccessor + 8))(pIAccessor);
        pIAccessor = 0;
      }
      if ( !v14 )
        return 0;
      free(v14);
      result = 0;
    }
  }
  else
  {
    OleDB::HandleError(this, 307, 0, "  ");
    result = 0;
  }
  return result;
}
// 41D380: could not find valid save-restore pair for edi

//----- (0041D6C0) --------------------------------------------------------
bool __thiscall OleDB::ExecuteQueryGetData(OleDB *this, const char *Query_In, void *Buffer_Out)
{
  int v3; // ebx@0
  OleDB *v4; // esi@1
  const char *v5; // ebp@2
  IDBCreateCommand *v6; // eax@5
  HRESULT v7; // eax@5
  HRESULT v9; // eax@9
  const char *v10; // eax@10
  HRESULT v11; // eax@13
  HRESULT v12; // ebx@13
  const char *v13; // eax@14
  HRESULT v14; // eax@21
  tagDBBINDING *v15; // eax@24
  void *v16; // ebx@24
  HRESULT v17; // eax@24
  int v18; // eax@32
  int v19; // eax@40
  int v20; // [sp+94h] [bp-38h]@33
  HRESULT v21; // [sp+98h] [bp-34h]@33
  int v22; // [sp+9Ch] [bp-30h]@9
  char *v23; // [sp+9Ch] [bp-30h]@33
  void *pIAccessor; // [sp+ACh] [bp-20h]@21
  void *pRows; // [sp+B0h] [bp-1Ch]@32
  const char *pICommandText; // [sp+B4h] [bp-18h]@5
  int hAccessor; // [sp+B8h] [bp-14h]@24
  int RowNums; // [sp+BCh] [bp-10h]@32
  OleDB::_RESULT_COLS ResultCols; // [sp+C0h] [bp-Ch]@19
  int v30; // [sp+D8h] [bp+Ch]@0

  v4 = this;
  if ( !this->m_pIDBCreateSession || (v5 = Query_In) == 0 )
  {
    OleDB::HandleError(this, 443, 0, "  ");
    return 0;
  }
  if ( !this->m_pIDBCreateCommand )
    OleDB::DBCreateCommand(this);
  v6 = v4->m_pIDBCreateCommand;
  pICommandText = 0;
  v7 = ((int (__stdcall *)(IDBCreateCommand *, _DWORD, GUID *, const char **))v6->baseclass_0.vfptr[1].QueryInterface)(
         v6,
         0,
         &IID_ICommandText,
         &pICommandText);
  if ( v7 < 0 )
  {
    OleDB::HandleError(v4, 470, v7, "IDBCreateCommand::CreateCommand");
    if ( pICommandText )
      (*(void (__stdcall **)(const char *))(*(_DWORD *)pICommandText + 8))(pICommandText);
    return 0;
  }
  v22 = v3;
  MultiByteToWideChar(0, 0, v5, -1, v4->m_QueryText, 4096);
  v9 = (*(int (__stdcall **)(const char *, const GUID *, unsigned __int16 *))(*(_DWORD *)pICommandText + 28))(
         pICommandText,
         &DBGUID_DBSQL,
         v4->m_QueryText);
  if ( v9 < 0 )
  {
    OleDB::HandleError(v4, 479, v9, "ICommandText::SetCommandText");
    v10 = pICommandText;
    goto LABEL_11;
  }
  Query_In = 0;
  v11 = (*(int (__stdcall **)(const char *, _DWORD, GUID *, _DWORD, _DWORD, const char **))(*(_DWORD *)pICommandText + 16))(
          pICommandText,
          0,
          &IID_IRowset,
          0,
          0,
          &Query_In);
  v12 = v11;
  if ( v11 < 0 )
  {
    OleDB::HandleError(v4, 493, v11, "ICommandText::Execute");
    v13 = pICommandText;
    goto LABEL_48;
  }
  if ( pICommandText )
  {
    (*(void (__stdcall **)(const char *))(*(_DWORD *)pICommandText + 8))(pICommandText);
    pICommandText = 0;
  }
  if ( !Query_In )
  {
    OleDB::HandleError(v4, 503, v12, " ");
    return 0;
  }
  ResultCols.lpDBColumnInfo = 0;
  ResultCols.ColNum = 0;
  ResultCols.lpStringsBuffer = 0;
  if ( !OleDB::AllocResultCols(v4, (IUnknown *)Query_In, &ResultCols) )
  {
    OleDB::HandleError(v4, 514, 0, " ");
LABEL_47:
    v13 = Query_In;
LABEL_48:
    if ( v13 )
      (*(void (__stdcall **)(const char *))(*(_DWORD *)v13 + 8))(v13);
    return 0;
  }
  pIAccessor = 0;
  v14 = (**(int (__stdcall ***)(const char *, GUID *, void **))Query_In)(Query_In, &IID_IAccessor, &pIAccessor);
  if ( v14 < 0 )
  {
    OleDB::HandleError(v4, 524, v14, "IRowset::QueryInterface");
    if ( pIAccessor )
    {
      (*(void (__stdcall **)(void *))(*(_DWORD *)pIAccessor + 8))(pIAccessor);
      pIAccessor = 0;
    }
    goto LABEL_47;
  }
  v15 = OleDB::AllocBindGetData(v4, ResultCols.ColNum, ResultCols.lpDBColumnInfo);
  v16 = v15;
  hAccessor = 0;
  v17 = (*(int (__stdcall **)(void *, signed int, unsigned int, tagDBBINDING *, _DWORD, int *, _DWORD))(*(_DWORD *)pIAccessor + 16))(
          pIAccessor,
          2,
          ResultCols.ColNum,
          v15,
          0,
          &hAccessor,
          0);
  if ( v17 < 0 )
  {
    OleDB::HandleError(v4, 538, v17, "IAccessor::CreateAccessor");
    if ( v16 )
      free(v16);
    if ( pIAccessor )
    {
      (*(void (__stdcall **)(void *))(*(_DWORD *)pIAccessor + 8))(pIAccessor);
      pIAccessor = 0;
    }
    v10 = Query_In;
    goto LABEL_11;
  }
  if ( v16 )
    free(v16);
  pRows = operator new(4u);
  RowNums = 0;
  v18 = (*(int (__stdcall **)(const char *, _DWORD, _DWORD, signed int, int *, void **, int))(*(_DWORD *)Query_In + 20))(
          Query_In,
          0,
          0,
          1,
          &RowNums,
          &pRows,
          v22);
  if ( v18 < 0 )
  {
    v23 = "IRowset::GetNextRows";
    v21 = v18;
    v20 = 558;
LABEL_42:
    OleDB::HandleError(v4, v20, v21, v23);
    (*(void (__stdcall **)(void *, int, _DWORD))(*(_DWORD *)pRows + 24))(pRows, RowNums, 0);
    if ( pRows )
    {
      (*(void (__stdcall **)(void *))(*(_DWORD *)pRows + 8))(pRows);
      pRows = 0;
    }
    (*(void (__stdcall **)(void *, unsigned int, const char *, _DWORD, _DWORD))(*(_DWORD *)Buffer_Out + 24))(
      Buffer_Out,
      ResultCols.ColNum,
      pICommandText,
      0,
      0);
    if ( pRows )
    {
      operator delete(pRows);
      pRows = 0;
    }
    OleDB::ReleaseResultCols(v4, (IUnknown *)Query_In, &ResultCols);
    goto LABEL_47;
  }
  if ( ResultCols.ColNum <= 0 )
  {
    OleDB::HandleError(v4, 573, 0, "");
    (*(void (__stdcall **)(void *, int, _DWORD))(*(_DWORD *)pRows + 24))(pRows, RowNums, 0);
    if ( pRows )
    {
      (*(void (__stdcall **)(void *))(*(_DWORD *)pRows + 8))(pRows);
      pRows = 0;
    }
    (*(void (__stdcall **)(void *, unsigned int, const char *, _DWORD, _DWORD))(*(_DWORD *)Buffer_Out + 24))(
      Buffer_Out,
      ResultCols.ColNum,
      pICommandText,
      0,
      0);
    if ( pRows )
    {
      operator delete(pRows);
      pRows = 0;
    }
    OleDB::ReleaseResultCols(v4, (IUnknown *)Query_In, &ResultCols);
    v10 = Query_In;
LABEL_11:
    if ( v10 )
    {
      (*(void (__stdcall **)(const char *))(*(_DWORD *)v10 + 8))(v10);
      return 0;
    }
    return 0;
  }
  v19 = (*(int (__stdcall **)(void *, _DWORD, int, int))(*(_DWORD *)Buffer_Out + 16))(
          Buffer_Out,
          *(_DWORD *)pICommandText,
          RowNums,
          v30);
  if ( v19 < 0 )
  {
    v23 = "IRowset::GetData";
    v21 = v19;
    v20 = 589;
    goto LABEL_42;
  }
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)pRows + 24))(pRows, RowNums, 0);
  if ( pRows )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)pRows + 8))(pRows);
    pRows = 0;
  }
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)Buffer_Out + 24))(
    Buffer_Out,
    ResultCols.ColNum,
    pICommandText,
    0,
    0);
  if ( pRows )
  {
    operator delete(pRows);
    pRows = 0;
  }
  OleDB::ReleaseResultCols(v4, (IUnknown *)Query_In, &ResultCols);
  if ( Query_In )
    (*(void (__stdcall **)(const char *))(*(_DWORD *)Query_In + 8))(Query_In);
  v4->m_dwLastError = 0;
  return 1;
}
// 41D6C0: could not find valid save-restore pair for ebx

//----- (0041DB10) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *i; // ecx@1

  result = _Pnode;
  for ( i = _Pnode->_Right; !i->_Isnil; i = i->_Right )
    result = i;
  return result;
}

//----- (0041DB30) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v2; // ecx@1

  result = _Pnode;
  v2 = _Pnode->_Left;
  if ( !_Pnode->_Left->_Isnil )
  {
    do
    {
      result = v2;
      v2 = v2->_Left;
    }
    while ( !v2->_Isnil );
  }
  return result;
}

//----- (0041DB50) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v3; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v4; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v5; // ecx@5

  v2 = _Wherenode->_Left;
  _Wherenode->_Left = _Wherenode->_Left->_Right;
  v3 = v2->_Right;
  if ( !v3->_Isnil )
    v3->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v4 = this->_Myhead;
  if ( _Wherenode == v4->_Parent )
  {
    v4->_Parent = v2;
    v2->_Right = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v5 = _Wherenode->_Parent;
    if ( _Wherenode == v5->_Right )
    {
      v5->_Right = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v5->_Left = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (0041DBB0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@2
  int j; // eax@3
  int i; // eax@6

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( !*(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 37) )
  {
    v2 = *(_DWORD *)(v1 + 8);
    if ( *(_BYTE *)(v2 + 37) )
    {
      for ( i = *(_DWORD *)(v1 + 4); !*(_BYTE *)(i + 37); i = *(_DWORD *)(i + 4) )
      {
        if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)(i + 8) )
          break;
        *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
      }
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
    }
    else
    {
      for ( j = *(_DWORD *)v2; !*(_BYTE *)(j + 37); j = *(_DWORD *)j )
        v2 = j;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (0041DC10) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v3; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v4; // ecx@5

  v2 = _Wherenode->_Right;
  _Wherenode->_Right = v2->_Left;
  if ( !v2->_Left->_Isnil )
    v2->_Left->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v3 = this->_Myhead;
  if ( _Wherenode == v3->_Parent )
  {
    v3->_Parent = v2;
    v2->_Left = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v4 = _Wherenode->_Parent;
    if ( _Wherenode == v4->_Left )
    {
      v4->_Left = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v4->_Right = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (0041DC70) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)operator new(0x28u);
  if ( result )
    result->_Left = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)-4 )
    result->_Parent = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)-8 )
    result->_Right = 0;
  result->_Color = 1;
  result->_Isnil = 0;
  return result;
}

//----- (0041DCB0) --------------------------------------------------------
void __thiscall std::_Tree_nod<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Node::__Node(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *this)
{
  char *v1; // esi@1

  v1 = (char *)&this->_Myval.second.m_timerProcessList;
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&this->_Myval.second.m_timerProcessList);
  operator delete(*((void **)v1 + 1));
  *((_DWORD *)v1 + 1) = 0;
}

//----- (0041DCD0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *v15; // ecx@37
  int v16; // eax@39
  bool v17; // zf@54
  void **v18; // ecx@60
  void *v19; // eax@60
  void *v20; // ecx@60
  void *v21; // esi@61
  unsigned int v22; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *v23; // eax@64
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *v24; // [sp+0h] [bp-54h]@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v27; // [sp+50h] [bp-4h]@2

  v3 = _Where;
  v4 = this;
  v24 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 37) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v27 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::const_iterator::_Inc(&_Where.baseclass_0);
  if ( *(_BYTE *)(**(_DWORD **)&v3 + 37) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&v3 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&v3 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 37) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v4->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v3 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v3 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v4->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v3 )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 37) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node **)&v5);
      v9->_Left = v10;
    }
    v11 = v24->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v3 )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 37) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v7;
      else
        v11->_Right = std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v3 + 8) + 37) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)**(_DWORD **)&v3;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v3 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v3 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v3;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v3 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 37) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v3 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v3 + 8) + 4) = v6;
  }
  v12 = v4->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v3 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v3 + 4);
    if ( *(_DWORD *)v13 == v3 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v3 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 36);
  *(_BYTE *)(*(_DWORD *)&v6 + 36) = *(_BYTE *)(*(_DWORD *)&v3 + 36);
  *(_BYTE *)(*(_DWORD *)&v3 + 36) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&v3 + 36) == 1 )
  {
    v15 = v24;
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v5 != v24->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 36) != 1 )
          break;
        v16 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v16 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v16 + 36) )
          {
            *(_BYTE *)(v16 + 36) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 36) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Lrotate(
              v15,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node **)&v7);
            v16 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            v15 = v24;
          }
          if ( *(_BYTE *)(v16 + 37) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v16 + 36) != 1 || *(_BYTE *)(*(_DWORD *)(v16 + 8) + 36) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v16 + 8) + 36) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v16 + 36) = 1;
              *(_BYTE *)(v16 + 36) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Rrotate(
                v15,
                (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v16);
              v16 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
              v15 = v24;
            }
            *(_BYTE *)(v16 + 36) = *(_BYTE *)(*(_DWORD *)&v7 + 36);
            *(_BYTE *)(*(_DWORD *)&v7 + 36) = 1;
            *(_BYTE *)(*(_DWORD *)(v16 + 8) + 36) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Lrotate(
              v15,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v16 + 36) )
          {
            *(_BYTE *)(v16 + 36) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 36) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Rrotate(
              v15,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node **)&v7);
            v16 = **(_DWORD **)&v7;
            v15 = v24;
          }
          if ( *(_BYTE *)(v16 + 37) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v16 + 8) + 36) != 1 || *(_BYTE *)(*(_DWORD *)v16 + 36) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v16 + 36) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v16 + 8) + 36) = 1;
              *(_BYTE *)(v16 + 36) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Lrotate(
                v15,
                (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v16);
              v16 = **(_DWORD **)&v7;
              v15 = v24;
            }
            *(_BYTE *)(v16 + 36) = *(_BYTE *)(*(_DWORD *)&v7 + 36);
            *(_BYTE *)(*(_DWORD *)&v7 + 36) = 1;
            *(_BYTE *)(*(_DWORD *)v16 + 36) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Rrotate(
              v15,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v16 + 36) = 0;
LABEL_54:
        v5 = v7;
        v17 = (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)v7 == v15->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v17 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 36) = 1;
  }
  v18 = *(void ***)(*(_DWORD *)&v3 + 28);
  v19 = *v18;
  *v18 = v18;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v3 + 28) + 4) = *(_DWORD *)(*(_DWORD *)&v3 + 28);
  v20 = *(void **)(*(_DWORD *)&v3 + 28);
  *(_DWORD *)(*(_DWORD *)&v3 + 32) = 0;
  if ( v19 != v20 )
  {
    do
    {
      v21 = *(void **)v19;
      operator delete(v19);
      v19 = v21;
    }
    while ( v21 != *(void **)(*(_DWORD *)&v3 + 28) );
  }
  operator delete(*(void **)(*(_DWORD *)&v3 + 28));
  *(_DWORD *)(*(_DWORD *)&v3 + 28) = 0;
  operator delete(*(void **)&v3);
  v22 = v24->_Mysize;
  if ( v22 )
    v24->_Mysize = v22 - 1;
  v23 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v23;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (0041DFD0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *_Rootnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    std::_Tree_nod<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Node::__Node(v2);
    operator delete(v2);
  }
}

//----- (0041E010) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 37) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 37) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 37);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 37);
                  j = (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (0041E0D0) --------------------------------------------------------
void __thiscall CTimerProcMgr::ClearAll(CTimerProcMgr *this)
{
  CTimerProcMgr *v1; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v3; // esi@1
  std::_List_nod<CTimerProcMgr::InternalProcessData,std::allocator<CTimerProcMgr::InternalProcessData> >::_Node *v4; // ebp@2
  std::_List_nod<CTimerProcMgr::InternalProcessData,std::allocator<CTimerProcMgr::InternalProcessData> >::_Node *i; // edi@2
  CTimerProc *v6; // ecx@3
  void **v7; // ecx@6
  void *v8; // eax@6
  bool v9; // zf@6
  void *v10; // edi@7
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v11; // eax@9
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *k; // eax@10
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *j; // eax@13
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v14; // eax@19
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v15; // [sp+8h] [bp-8h]@1
  CTimerProcMgr *v16; // [sp+Ch] [bp-4h]@1

  v1 = this;
  v2 = this->m_TimerMap.baseclass_0._Myhead;
  v3 = v2->_Left;
  v16 = this;
  v15 = this->m_TimerMap.baseclass_0._Myhead;
  if ( v2->_Left != v2 )
  {
    do
    {
      KillTimer(v3->_Myval.second.m_hOwnerWnd, v3->_Myval.first);
      v4 = v3->_Myval.second.m_timerProcessList._Myhead;
      for ( i = v4->_Next; i != v4; i = i->_Next )
      {
        v6 = i->_Myval.m_lpTimerProc;
        if ( v6 )
          ((void (__stdcall *)(_DWORD))v6->vfptr->__vecDelDtor)(1);
      }
      v7 = (void **)v3->_Myval.second.m_timerProcessList._Myhead;
      v8 = *v7;
      *v7 = v7;
      v3->_Myval.second.m_timerProcessList._Myhead->_Prev = v3->_Myval.second.m_timerProcessList._Myhead;
      v9 = v8 == v3->_Myval.second.m_timerProcessList._Myhead;
      v3->_Myval.second.m_timerProcessList._Mysize = 0;
      if ( !v9 )
      {
        do
        {
          v10 = *(void **)v8;
          operator delete(v8);
          v8 = v10;
        }
        while ( v10 != v3->_Myval.second.m_timerProcessList._Myhead );
      }
      if ( !v3->_Isnil )
      {
        v11 = v3->_Right;
        if ( v11->_Isnil )
        {
          for ( j = v3->_Parent; !j->_Isnil; j = j->_Parent )
          {
            if ( v3 != j->_Right )
              break;
            v3 = j;
          }
          v3 = j;
        }
        else
        {
          v3 = v3->_Right;
          for ( k = v11->_Left; !k->_Isnil; k = k->_Left )
            v3 = k;
        }
      }
    }
    while ( v3 != v15 );
    v1 = v16;
  }
  std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Erase(
    &v1->m_TimerMap.baseclass_0,
    v1->m_TimerMap.baseclass_0._Myhead->_Parent);
  v1->m_TimerMap.baseclass_0._Myhead->_Parent = v1->m_TimerMap.baseclass_0._Myhead;
  v14 = v1->m_TimerMap.baseclass_0._Myhead;
  v1->m_TimerMap.baseclass_0._Mysize = 0;
  v14->_Left = v14;
  v1->m_TimerMap.baseclass_0._Myhead->_Right = v1->m_TimerMap.baseclass_0._Myhead;
}

//----- (0041E1D0) --------------------------------------------------------
void __thiscall std::map<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>>::_map<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>>(std::map<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> > > *this)
{
  std::map<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (0041E200) --------------------------------------------------------
void __thiscall CTimerProcMgr::_CTimerProcMgr(CTimerProcMgr *this)
{
  CTimerProcMgr *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v2; // ST08_4@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator v3; // ST04_4@1
  std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator result; // [sp+4h] [bp-10h]@1
  int v5; // [sp+10h] [bp-4h]@1

  v1 = this;
  result = (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)this;
  v5 = 0;
  CTimerProcMgr::ClearAll(this);
  v2 = (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)v1->m_TimerMap.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::iterator)v1->m_TimerMap.baseclass_0._Myhead->_Left;
  v5 = -1;
  std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::erase(
    &v1->m_TimerMap.baseclass_0,
    &result,
    v3,
    v2);
  operator delete(v1->m_TimerMap.baseclass_0._Myhead);
  v1->m_TimerMap.baseclass_0._Myhead = 0;
  v1->m_TimerMap.baseclass_0._Mysize = 0;
}

//----- (0041E270) --------------------------------------------------------
void __thiscall CTimerProcMgr::CTimerProcMgr(CTimerProcMgr *this)
{
  CTimerProcMgr *v1; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> >,0> >::_Node *v2; // eax@1

  v1 = this;
  v2 = std::_Tree<std::_Tmap_traits<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>_0>>::_Buynode(&this->m_TimerMap.baseclass_0);
  v1->m_TimerMap.baseclass_0._Myhead = v2;
  v2->_Isnil = 1;
  v1->m_TimerMap.baseclass_0._Myhead->_Parent = v1->m_TimerMap.baseclass_0._Myhead;
  v1->m_TimerMap.baseclass_0._Myhead->_Left = v1->m_TimerMap.baseclass_0._Myhead;
  v1->m_TimerMap.baseclass_0._Myhead->_Right = v1->m_TimerMap.baseclass_0._Myhead;
  v1->m_TimerMap.baseclass_0._Mysize = 0;
  v1->m_nProcIDCounter = 1;
  v1->m_nTimerIDCounter = 1;
}

//----- (0041E2B0) --------------------------------------------------------
void __thiscall CSysTray::CSysTray(CSysTray *this, HWND__ *hWnd, HINSTANCE__ *hInstance)
{
  this->m_hWnd = hWnd;
  this->m_hInstance = hInstance;
  this->m_uIconCount = 0;
  memset(this, 0, 0x58u);
}

//----- (0041E2E0) --------------------------------------------------------
void __thiscall CSysTray::ShowPopupMenu(CSysTray *this, HWND__ *hWnd, HMENU__ *hMenu)
{
  tagPOINT mouse; // [sp+8h] [bp-8h]@1

  GetCursorPos(&mouse);
  SetForegroundWindow(hWnd);
  TrackPopupMenu(hMenu, 2u, mouse.x, mouse.y, 0, hWnd, 0);
  SetForegroundWindow(hWnd);
}

//----- (0041E330) --------------------------------------------------------
const unsigned int __cdecl CSysTray::GetSysTrayNotifyMsg()
{
  const unsigned int result; // eax@2

  if ( _S1_11 & 1 )
  {
    result = s_MsgID;
  }
  else
  {
    _S1_11 |= 1u;
    result = RegisterWindowMessageA("CSysTrayNotifyMessage");
    s_MsgID = result;
  }
  return result;
}

//----- (0041E370) --------------------------------------------------------
void __thiscall CSysTray::_CSysTray(CSysTray *this)
{
  CSysTray *v1; // edi@1

  v1 = this;
  if ( Shell_NotifyIconA(2u, &this->m_IconData) )
  {
    if ( v1->m_IconData.hIcon )
      DestroyIcon(v1->m_IconData.hIcon);
    --v1->m_uIconCount;
    memset(v1, 0, 0x58u);
  }
}

//----- (0041E3A0) --------------------------------------------------------
int __thiscall CSysTray::AddIcon(CSysTray *this, const char *lpToolTip, HICON__ *hIcon, unsigned int uID)
{
  CSysTray *v4; // esi@1
  bool v5; // zf@6
  int result; // eax@11

  v4 = this;
  if ( this->m_IconData.cbSize && Shell_NotifyIconA(2u, &this->m_IconData) )
  {
    if ( v4->m_IconData.hIcon )
      DestroyIcon(v4->m_IconData.hIcon);
    --v4->m_uIconCount;
    memset(v4, 0, 0x58u);
  }
  v4->m_IconData.hWnd = v4->m_hWnd;
  v4->m_IconData.uID = uID;
  v5 = (_S1_11 & 1) == 0;
  v4->m_IconData.cbSize = 88;
  v4->m_IconData.uFlags = 7;
  v4->m_IconData.hIcon = hIcon;
  if ( v5 )
  {
    _S1_11 |= 1u;
    s_MsgID = RegisterWindowMessageA("CSysTrayNotifyMessage");
  }
  v4->m_IconData.uCallbackMessage = s_MsgID;
  if ( lpToolTip )
    _snprintf(v4->m_IconData.szTip, 0x40u, "%s");
  else
    _snprintf(v4->m_IconData.szTip, 0x40u, "Temp Application");
  result = Shell_NotifyIconA(0, &v4->m_IconData);
  if ( result )
    ++v4->m_uIconCount;
  return result;
}

//----- (0041E480) --------------------------------------------------------
int __thiscall _vcall_(void *this)
{
  return (**(int (***)(void))this)();
}

//----- (0041E490) --------------------------------------------------------
int __thiscall _vcall_(void *this)
{
  return (*(int (**)(void))(*(_DWORD *)this + 4))();
}

//----- (0041E4A0) --------------------------------------------------------
void __thiscall std::list<CThread___std::allocator<CThread__>>::clear(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this)
{
  std::list<LogBuffer *,std::allocator<LogBuffer *> > *v1; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v2; // ecx@1
  void *v3; // eax@1
  bool v4; // zf@1
  void *v5; // edi@2

  v1 = this;
  v2 = this->_Myhead;
  v3 = v2->_Next;
  v2->_Next = v2;
  v1->_Myhead->_Prev = v1->_Myhead;
  v4 = v3 == v1->_Myhead;
  v1->_Mysize = 0;
  if ( !v4 )
  {
    do
    {
      v5 = *(void **)v3;
      operator delete(v3);
      v3 = v5;
    }
    while ( v5 != v1->_Myhead );
  }
}

//----- (0041E4E0) --------------------------------------------------------
std::mem_fun_t<bool,CCommand> *__cdecl std::for_each<std::list<CCommand___std::allocator<CCommand__>>::iterator_std::mem_fun_t<bool_CCommand>>(std::mem_fun_t<bool,CCommand> *result, std::list<CCommand *,std::allocator<CCommand *> >::iterator _First, std::list<CCommand *,std::allocator<CCommand *> >::iterator _Last, std::mem_fun_t<bool,CCommand> _Func)
{
  std::list<CCommand *,std::allocator<CCommand *> >::iterator v4; // esi@1
  std::mem_fun_t<bool,CCommand> *v5; // eax@3

  v4 = _First;
  if ( _First == _Last )
  {
    v5 = result;
    *(_DWORD *)&result->___u0.baseclass_0.dummy[0] = _Func;
  }
  else
  {
    do
    {
      (*(void (__thiscall **)(_DWORD))&_Func)(*(_DWORD *)(*(_DWORD *)&v4 + 8));
      v4 = (std::list<CCommand *,std::allocator<CCommand *> >::iterator)**(_DWORD **)&v4;
    }
    while ( v4 != _Last );
    v5 = result;
    *(_DWORD *)&result->___u0.baseclass_0.dummy[0] = _Func;
  }
  return v5;
}

//----- (0041E520) --------------------------------------------------------
void __thiscall CCommandProcess::ClearAll(CCommandProcess *this)
{
  CCommandProcess *v1; // esi@1
  unsigned int v2; // eax@1
  std::mem_fun_t<bool,CCommand> result; // [sp+4h] [bp-10h]@2
  int v4; // [sp+10h] [bp-4h]@1

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v2 = v1->m_CMDList._Mysize;
  v4 = 0;
  if ( v2 )
  {
    std::for_each<std::list<CCommand___std::allocator<CCommand__>>::iterator_std::mem_fun_t<bool_CCommand>>(
      &result,
      (std::list<CCommand *,std::allocator<CCommand *> >::iterator)v1->m_CMDList._Myhead->_Next,
      (std::list<CCommand *,std::allocator<CCommand *> >::iterator)v1->m_CMDList._Myhead,
      (std::mem_fun_t<bool,CCommand>)_vcall_);
    std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_CMDList);
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0041E590) --------------------------------------------------------
void __thiscall CCommandProcess::CCommandProcess(CCommandProcess *this)
{
  CCommandProcess *v1; // esi@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_CMDList._Myhead = (std::_List_nod<CCommand *,std::allocator<CCommand *> >::_Node *)std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_CMDList);
  v1->m_CMDList._Mysize = 0;
}

//----- (0041E5F0) --------------------------------------------------------
void __thiscall CCommandProcess::_CCommandProcess(CCommandProcess *this)
{
  CCommandProcess *v1; // esi@1

  v1 = this;
  CCommandProcess::ClearAll(this);
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_CMDList);
  operator delete(v1->m_CMDList._Myhead);
  v1->m_CMDList._Myhead = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0041E650) --------------------------------------------------------
void __thiscall std::list<CCommand___std::allocator<CCommand__>>::_Splice(std::list<CCommand *,std::allocator<CCommand *> > *this, std::list<CCommand *,std::allocator<CCommand *> >::iterator _Where, std::list<CCommand *,std::allocator<CCommand *> > *_Right, std::list<CCommand *,std::allocator<CCommand *> >::iterator _First, std::list<CCommand *,std::allocator<CCommand *> >::iterator _Last, unsigned int _Count)
{
  int v6; // esi@3

  if ( this != _Right )
  {
    std::list<CCommand___std::allocator<CCommand__>>::_Incsize(this, _Count);
    _Right->_Mysize -= _Count;
  }
  **(_DWORD **)(*(_DWORD *)&_First + 4) = _Last;
  **(_DWORD **)(*(_DWORD *)&_Last + 4) = _Where;
  **(_DWORD **)(*(_DWORD *)&_Where + 4) = _First;
  v6 = *(_DWORD *)(*(_DWORD *)&_Where + 4);
  *(_DWORD *)(*(_DWORD *)&_Where + 4) = *(_DWORD *)(*(_DWORD *)&_Last + 4);
  *(_DWORD *)(*(_DWORD *)&_Last + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
  *(_DWORD *)(*(_DWORD *)&_First + 4) = v6;
}

//----- (0041E6A0) --------------------------------------------------------
void __thiscall CCommandProcess::ProcessAll(CCommandProcess *this)
{
  CCommandProcess *v1; // edi@1
  void *v2; // esi@1
  void *i; // edi@4
  void *j; // edi@6
  void *v5; // eax@8
  bool v6; // zf@8
  void *v7; // edi@9
  std::list<CCommand *,std::allocator<CCommand *> > ProcessList; // [sp+0h] [bp-18h]@1
  int v9; // [sp+14h] [bp-4h]@1

  v1 = this;
  v2 = std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&ProcessList);
  ProcessList._Myhead = (std::_List_nod<CCommand *,std::allocator<CCommand *> >::_Node *)v2;
  ProcessList._Mysize = 0;
  v9 = 0;
  EnterCriticalSection((LPCRITICAL_SECTION)v1);
  if ( &ProcessList != &v1->m_CMDList && v1->m_CMDList._Mysize )
  {
    std::list<CCommand___std::allocator<CCommand__>>::_Splice(
      &ProcessList,
      (std::list<CCommand *,std::allocator<CCommand *> >::iterator)v2,
      &v1->m_CMDList,
      (std::list<CCommand *,std::allocator<CCommand *> >::iterator)v1->m_CMDList._Myhead->_Next,
      (std::list<CCommand *,std::allocator<CCommand *> >::iterator)v1->m_CMDList._Myhead,
      v1->m_CMDList._Mysize);
    v2 = ProcessList._Myhead;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  for ( i = *(void **)v2; i != v2; i = *(void **)i )
    _vcall_(*((void **)i + 2));
  for ( j = *(void **)v2; j != v2; j = *(void **)j )
    _vcall_(*((void **)j + 2));
  v5 = *(void **)v2;
  v6 = *(_DWORD *)v2 == (_DWORD)v2;
  *(_DWORD *)v2 = v2;
  *((_DWORD *)v2 + 1) = v2;
  if ( !v6 )
  {
    do
    {
      v7 = *(void **)v5;
      operator delete(v5);
      v5 = v7;
    }
    while ( v7 != v2 );
  }
  operator delete(v2);
}

//----- (0041E770) --------------------------------------------------------
void __thiscall CPulse::SetTicksPerPulse(CPulse *this, int nTicksPerPulse)
{
  signed int v2; // esi@1

  v2 = nTicksPerPulse;
  if ( nTicksPerPulse <= 0 )
    v2 = 100;
  this->m_nTicksPerPulse = v2;
  this->m_nTicksPerSec = 1000 / v2;
}

//----- (0041E790) --------------------------------------------------------
unsigned int __thiscall CPulse::CheckSleep(CPulse *this)
{
  CPulse *v1; // esi@1
  DWORD v2; // eax@1
  int v3; // ecx@1
  int v4; // eax@1
  DWORD v5; // edx@2
  int v6; // eax@2
  int v7; // edx@7
  bool v8; // zf@11

  v1 = this;
  v2 = timeGetTime();
  v3 = v1->m_nTicksPerPulse;
  v4 = v2 - v1->m_dwLastTick;
  if ( v4 >= v3 )
  {
    v7 = v1->m_dwHeavyTrafficCount + 1;
    v1->m_dwHeavyTrafficCount = v7;
    if ( (unsigned int)v7 > 5 || v4 > 2 * v3 )
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CPulse::CheckSleep",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Utility\\Time\\Pulse\\Pulse.cpp",
        84,
        "Time Overflow : Elapsed time is %u, (TPP is %d), HeavyTrafficCount is %u");
      v1->m_bTPPOverTwoTime = 1;
    }
    else
    {
      CServerLog::DetailLog(
        &g_Log,
        LOG_DETAIL,
        "CPulse::CheckSleep",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Utility\\Time\\Pulse\\Pulse.cpp",
        90,
        "Traffic is %u");
      v1->m_bTPPOverTwoTime = 0;
    }
  }
  else
  {
    v5 = v3 - v4 - 1;
    v6 = v1->m_nTicksPerPulse;
    if ( v3 < 0 )
      v6 = 0;
    if ( v6 < v5 )
      v5 = 0;
    Sleep(v5);
    v1->m_dwHeavyTrafficCount = 0;
    v1->m_bTPPOverTwoTime = 0;
  }
  v1->m_dwLastTick = timeGetTime();
  v8 = v1->m_dwPulse++ == -1;
  if ( v8 )
    v1->m_dwPulse = 1;
  return v1->m_dwPulse;
}

//----- (0041E850) --------------------------------------------------------
CPulse *__cdecl CPulse::GetInstance()
{
  if ( !(_S1_12 & 1) )
  {
    _S1_12 |= 1u;
    Pulse.m_dwPulse = 0;
    Pulse.m_dwLastTick = timeGetTime();
    Pulse.m_dwHeavyTrafficCount = 0;
    Pulse.m_bTPPOverTwoTime = 0;
    Pulse.m_nTicksPerPulse = 100;
    Pulse.m_nTicksPerSec = 10;
    atexit(_E2_12);
  }
  return &Pulse;
}

//----- (0041E8C0) --------------------------------------------------------
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this, std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *_Next, std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *_Prev, LogBuffer *const *_Val)
{
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *result; // eax@1

  result = (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)operator new(0xCu);
  if ( result )
  {
    result->_Next = _Next;
    result->_Prev = _Prev;
    result->_Myval = *_Val;
  }
  return result;
}

//----- (0041E8F0) --------------------------------------------------------
void __thiscall CSessionMgr::DeleteSession(CSessionMgr *this, CSession *lpSession)
{
  CSessionMgr *v2; // edi@1
  _RTL_CRITICAL_SECTION *v3; // ebx@1
  boost::pool<boost::default_user_allocator_new_delete> *v4; // edi@3

  v2 = this;
  v3 = (_RTL_CRITICAL_SECTION *)&this->m_CreationLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_CreationLock);
  if ( v2->m_lpSessionPool && lpSession )
  {
    CSession::_CSession(lpSession);
    v4 = v2->m_lpSessionPool;
    *(_DWORD *)&lpSession->m_SessionLock.___u0.baseclass_0.dummy[0] = v4->baseclass_0.first;
    v4->baseclass_0.first = lpSession;
  }
  LeaveCriticalSection(v3);
}

//----- (0041E970) --------------------------------------------------------
void __thiscall CSessionMgr::CSessionMgr(CSessionMgr *this)
{
  CSessionMgr *v1; // esi@1
  void *v2; // eax@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_to_be_added._Myhead = (std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *)std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_to_be_added);
  v1->m_to_be_added._Mysize = 0;
  InitializeCriticalSection((LPCRITICAL_SECTION)&v1->m_ProcessLock);
  v1->m_current._Myhead = (std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *)std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_current);
  v1->m_current._Mysize = 0;
  InitializeCriticalSection((LPCRITICAL_SECTION)&v1->m_CreationLock);
  v2 = operator new(0x14u);
  if ( v2 )
  {
    *(_DWORD *)v2 = 0;
    *((_DWORD *)v2 + 1) = 0;
    *((_DWORD *)v2 + 2) = 0;
    *((_DWORD *)v2 + 3) = 148;
    *((_DWORD *)v2 + 4) = 32;
    v1->m_lpSessionPool = (boost::pool<boost::default_user_allocator_new_delete> *)v2;
  }
  else
  {
    v1->m_lpSessionPool = 0;
  }
}

//----- (0041EA30) --------------------------------------------------------
CSession *__thiscall CSessionMgr::CreateSession(CSessionMgr *this, CSessionPolicy *SessionPolicy)
{
  CSessionMgr *v2; // esi@1
  _RTL_CRITICAL_SECTION *v3; // edi@1
  boost::pool<boost::default_user_allocator_new_delete> *v4; // ecx@1
  void *v5; // eax@1
  CSession *v6; // eax@5
  CSession *v7; // esi@5

  v2 = this;
  v3 = (_RTL_CRITICAL_SECTION *)&this->m_CreationLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_CreationLock);
  v4 = v2->m_lpSessionPool;
  v5 = v4->baseclass_0.first;
  if ( v4->baseclass_0.first )
    v4->baseclass_0.first = *(void **)v5;
  else
    v5 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v4);
  if ( v5 )
  {
    CSession::CSession((CSession *)v5, SessionPolicy);
    v7 = v6;
  }
  else
  {
    v7 = 0;
  }
  LeaveCriticalSection(v3);
  return v7;
}

//----- (0041EAC0) --------------------------------------------------------
void __thiscall std::list<CSession___std::allocator<CSession__>>::_Incsize(std::list<CSession *,std::allocator<CSession *> > *this, unsigned int _Count)
{
  unsigned int v2; // eax@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v5; // [sp+4Ch] [bp-4h]@2

  v2 = this->_Mysize;
  if ( 1073741823 - v2 < _Count )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "list<T> too long", 0x10u);
    v5 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  this->_Mysize = _Count + v2;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (0041EB60) --------------------------------------------------------
void __thiscall CSessionMgr::Add(CSessionMgr *this, CSession *lpSession)
{
  CSessionMgr *v2; // esi@1
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *v3; // ebx@2
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ebp@2

  v2 = this;
  if ( lpSession )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    v3 = v2->m_to_be_added._Myhead;
    v4 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
           (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v2->m_to_be_added,
           (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v2->m_to_be_added._Myhead,
           (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v3->_Prev,
           (LogBuffer *const *)&lpSession);
    std::list<CSession___std::allocator<CSession__>>::_Incsize(&v2->m_to_be_added, 1u);
    v3->_Prev = (std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *)v4;
    v4->_Prev->_Next = v4;
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
}

//----- (0041EBE0) --------------------------------------------------------
void __thiscall std::list<CSession___std::allocator<CSession__>>::_Splice(std::list<CSession *,std::allocator<CSession *> > *this, std::list<CSession *,std::allocator<CSession *> >::iterator _Where, std::list<CSession *,std::allocator<CSession *> > *_Right, std::list<CSession *,std::allocator<CSession *> >::iterator _First, std::list<CSession *,std::allocator<CSession *> >::iterator _Last, unsigned int _Count)
{
  int v6; // esi@3

  if ( this != _Right )
  {
    std::list<CSession___std::allocator<CSession__>>::_Incsize(this, _Count);
    _Right->_Mysize -= _Count;
  }
  **(_DWORD **)(*(_DWORD *)&_First + 4) = _Last;
  **(_DWORD **)(*(_DWORD *)&_Last + 4) = _Where;
  **(_DWORD **)(*(_DWORD *)&_Where + 4) = _First;
  v6 = *(_DWORD *)(*(_DWORD *)&_Where + 4);
  *(_DWORD *)(*(_DWORD *)&_Where + 4) = *(_DWORD *)(*(_DWORD *)&_Last + 4);
  *(_DWORD *)(*(_DWORD *)&_Last + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
  *(_DWORD *)(*(_DWORD *)&_First + 4) = v6;
}

//----- (0041EC30) --------------------------------------------------------
void __thiscall CSessionMgr::InternalProcess(CSessionMgr *this)
{
  CSessionMgr *v1; // edi@1
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *v2; // ebp@4
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *v3; // esi@4
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *v4; // ebp@6
  CSession *lpSession; // [sp+0h] [bp-14h]@5
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *sync; // [sp+4h] [bp-10h]@4

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( &v1->m_current != &v1->m_to_be_added && v1->m_to_be_added._Mysize )
    std::list<CSession___std::allocator<CSession__>>::_Splice(
      &v1->m_current,
      (std::list<CSession *,std::allocator<CSession *> >::iterator)v1->m_current._Myhead,
      &v1->m_to_be_added,
      (std::list<CSession *,std::allocator<CSession *> >::iterator)v1->m_to_be_added._Myhead->_Next,
      (std::list<CSession *,std::allocator<CSession *> >::iterator)v1->m_to_be_added._Myhead,
      v1->m_to_be_added._Mysize);
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  v2 = v1->m_current._Myhead;
  v3 = v2->_Next;
  sync = v1->m_current._Myhead;
  while ( v3 != v2 )
  {
    lpSession = v3->_Myval;
    if ( CSession::Process(v3->_Myval) )
    {
      v3 = v3->_Next;
    }
    else
    {
      v4 = v3->_Next;
      if ( v3 != v1->m_current._Myhead )
      {
        v3->_Prev->_Next = v4;
        v3->_Next->_Prev = v3->_Prev;
        operator delete(v3);
        --v1->m_current._Mysize;
      }
      v3 = v4;
      CSessionMgr::DeleteSession(v1, lpSession);
      v2 = sync;
    }
  }
}

//----- (0041ED10) --------------------------------------------------------
void __thiscall CSessionMgr::Destroy(CSessionMgr *this, unsigned int dwWaitTime)
{
  CSessionMgr *v2; // esi@1
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *v3; // ebp@4
  std::_List_nod<CSession *,std::allocator<CSession *> >::_Node *i; // edi@4
  DWORD v5; // eax@6
  DWORD v6; // ebp@7
  _RTL_CRITICAL_SECTION *process_sync; // [sp+0h] [bp-14h]@1

  v2 = this;
  process_sync = (_RTL_CRITICAL_SECTION *)&this->m_ProcessLock;
  EnterCriticalSection((LPCRITICAL_SECTION)&this->m_ProcessLock);
  EnterCriticalSection((LPCRITICAL_SECTION)v2);
  if ( &v2->m_current != &v2->m_to_be_added && v2->m_to_be_added._Mysize )
    std::list<CSession___std::allocator<CSession__>>::_Splice(
      &v2->m_current,
      (std::list<CSession *,std::allocator<CSession *> >::iterator)v2->m_current._Myhead,
      &v2->m_to_be_added,
      (std::list<CSession *,std::allocator<CSession *> >::iterator)v2->m_to_be_added._Myhead->_Next,
      (std::list<CSession *,std::allocator<CSession *> >::iterator)v2->m_to_be_added._Myhead,
      v2->m_to_be_added._Mysize);
  LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  v3 = v2->m_current._Myhead;
  for ( i = v3->_Next; i != v3; i = i->_Next )
    CSession::CloseSession(i->_Myval);
  v5 = timeGetTime();
  if ( v2->m_current._Mysize )
  {
    v6 = v5 + dwWaitTime;
    do
    {
      if ( timeGetTime() >= v6 )
        break;
      CSessionMgr::InternalProcess(v2);
      Sleep(0xAu);
    }
    while ( v2->m_current._Mysize );
  }
  LeaveCriticalSection(process_sync);
}

//----- (0041EE00) --------------------------------------------------------
void __thiscall CSessionMgr::_CSessionMgr(CSessionMgr *this)
{
  CSessionMgr *v1; // esi@1
  void *v2; // edi@1

  v1 = this;
  CSessionMgr::Destroy(this, 0x1388u);
  v2 = v1->m_lpSessionPool;
  if ( v2 )
  {
    boost::pool<boost::default_user_allocator_new_delete>::purge_memory(v1->m_lpSessionPool);
    operator delete(v2);
  }
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_CreationLock);
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_current);
  operator delete(v1->m_current._Myhead);
  v1->m_current._Myhead = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)&v1->m_ProcessLock);
  std::list<CThread___std::allocator<CThread__>>::clear((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)&v1->m_to_be_added);
  operator delete(v1->m_to_be_added._Myhead);
  v1->m_to_be_added._Myhead = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (0041EEB0) --------------------------------------------------------
void __thiscall CIOWorker::CIOWorker(CIOWorker *this, CCompletionHandler *SocketHandler)
{
  this->baseclass_0.m_hThreadHandle = (void *)-1;
  this->baseclass_0.vfptr = (CThreadVtbl *)&CIOWorker::_vftable_;
  this->m_SocketHandler = SocketHandler;
}
// 45759C: using guessed type int (__thiscall *CIOWorker___vftable_)(void *p, char);

//----- (0041EED0) --------------------------------------------------------
unsigned int __thiscall CIOWorker::Run(CIOWorker *this)
{
  CIOWorker *v1; // edi@1
  CCompletionHandler *v2; // eax@1
  BOOL v3; // eax@1
  int v4; // edx@1
  char *v5; // ecx@6
  CCompletionHandler *v6; // eax@9
  char *lpOverlappedStruct; // [sp+Ch] [bp-Ch]@1
  int lpSessionKey; // [sp+10h] [bp-8h]@1
  int dwProcessedBytes; // [sp+14h] [bp-4h]@1

  v1 = this;
  v2 = this->m_SocketHandler;
  dwProcessedBytes = 0;
  lpSessionKey = 0;
  lpOverlappedStruct = 0;
  v3 = GetQueuedCompletionStatus(
         v2->m_hIOCP,
         (LPDWORD)&dwProcessedBytes,
         (PULONG_PTR)&lpSessionKey,
         (LPOVERLAPPED *)&lpOverlappedStruct,
         v2->m_nTimeOutMS);
  v4 = lpSessionKey;
  if ( lpSessionKey )
  {
    while ( !v3 )
    {
      if ( lpOverlappedStruct )
        goto LABEL_6;
      WSAGetLastError();
      CServerLog::DetailLog(
        &g_SessionLog,
        LOG_DETAIL,
        "CIOWorker::Run",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\IOCP\\IOWorker.cpp",
        46,
        "SP:0x%p/lpOverlapped:0x%p/bResult:%s/GetQueuedCompletionStatus error : %u");
LABEL_9:
      v6 = v1->m_SocketHandler;
      dwProcessedBytes = 0;
      lpSessionKey = 0;
      lpOverlappedStruct = 0;
      v3 = GetQueuedCompletionStatus(
             v6->m_hIOCP,
             (LPDWORD)&dwProcessedBytes,
             (PULONG_PTR)&lpSessionKey,
             (LPOVERLAPPED *)&lpOverlappedStruct,
             v6->m_nTimeOutMS);
      v4 = lpSessionKey;
      if ( !lpSessionKey )
        goto LABEL_10;
    }
    if ( lpOverlappedStruct )
LABEL_6:
      v5 = lpOverlappedStruct - 4;
    else
      v5 = 0;
    (*(void (__stdcall **)(BOOL, int, int))(*(_DWORD *)v5 + 4))(v3, v4, dwProcessedBytes);
    goto LABEL_9;
  }
LABEL_10:
  GetCurrentThreadId();
  CServerLog::DetailLog(
    &g_SessionLog,
    LOG_DETAIL,
    "CIOWorker::Run",
    "D:\\Project\\Server\\RYLSERVERPROJECT\\BaseLibrary\\Network\\IOCP\\IOWorker.cpp",
    38,
    "SP:0x%p/lpOverlapped:0x%p/bResult:%s/Thread 0x%p Completed");
  return 0;
}

//----- (0041EFF0) --------------------------------------------------------
int __thiscall CIOWorker::End(CIOWorker *this)
{
  PostQueuedCompletionStatus(this->m_SocketHandler->m_hIOCP, 0, 0, 0);
  return 1;
}

//----- (0041F010) --------------------------------------------------------
void *__thiscall CIOWorker::_scalar_deleting_destructor_(CIOWorker *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CIOWorker::_CIOWorker(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041F030) --------------------------------------------------------
void __thiscall CCompletionHandler::CCompletionHandler(CCompletionHandler *this)
{
  this->vfptr = (CCompletionHandlerVtbl *)&CCompletionHandler::_vftable_;
  this->m_hIOCP = (void *)-1;
  this->m_nThread = 0;
  this->m_nTimeOutMS = 0;
}
// 457698: using guessed type int (__thiscall *CCompletionHandler___vftable_)(void *p, char);

//----- (0041F050) --------------------------------------------------------
bool __thiscall CCompletionHandler::Initialize(CCompletionHandler *this, unsigned int nThread, unsigned int nTimeOutMS)
{
  CCompletionHandler *v3; // esi@1
  bool result; // al@2
  HANDLE v5; // eax@3

  v3 = this;
  if ( this->m_hIOCP == (void *)-1 )
  {
    v5 = CreateIoCompletionPort((HANDLE)0xFFFFFFFF, 0, 0, nThread);
    v3->m_hIOCP = v5;
    if ( v5 )
    {
      v3->m_nThread = nThread;
      v3->m_nTimeOutMS = nTimeOutMS;
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041F090) --------------------------------------------------------
void *__thiscall CCompletionHandler::_scalar_deleting_destructor_(CCompletionHandler *this, unsigned int a2)
{
  CCompletionHandler *v2; // esi@1
  void *v3; // eax@1

  v2 = this;
  v3 = this->m_hIOCP;
  this->vfptr = (CCompletionHandlerVtbl *)&CCompletionHandler::_vftable_;
  if ( v3 == (void *)-1 || CloseHandle(v3) )
    v2->m_hIOCP = (void *)-1;
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 457698: using guessed type int (__thiscall *CCompletionHandler___vftable_)(void *p, char);

//----- (0041F0D0) --------------------------------------------------------
unsigned int __usercall lzo1x_1_do_compress<eax>(unsigned int in_len<eax>, const char *in, char *out, unsigned int *out_len, void *wrkmem)
{
  void *v5; // esi@1
  const char *v6; // ebp@1
  const char v7; // dl@2
  unsigned int v8; // eax@2
  unsigned int v9; // ebx@2
  char *v10; // edi@2
  int v11; // ecx@3
  int v12; // eax@7
  int v13; // eax@8
  int v14; // eax@15
  char v15; // dl@19
  unsigned int v16; // edx@21
  int v17; // edi@21
  int i; // ecx@21
  unsigned int v19; // eax@24
  const char v20; // al@30
  const char v21; // dl@31
  const char v22; // al@32
  const char v23; // dl@33
  const char v24; // al@34
  const char v25; // dl@35
  int j; // ebx@36
  int v27; // ebx@39
  int v28; // eax@40
  unsigned int v29; // ecx@41
  int v30; // ebx@42
  char v31; // al@43
  unsigned int v32; // edx@47
  unsigned int v33; // ecx@47
  int v34; // edi@47
  int k; // ecx@47
  unsigned int v36; // eax@50
  char v37; // al@53
  unsigned int v38; // ecx@54
  int v39; // esi@54
  char v40; // al@55
  int v41; // esi@58
  int m_off; // [sp+10h] [bp-18h]@3
  unsigned int m_offa; // [sp+10h] [bp-18h]@40
  const char *ii; // [sp+14h] [bp-14h]@1
  int tt; // [sp+18h] [bp-10h]@20
  const char *v47; // [sp+1Ch] [bp-Ch]@1

  v5 = out;
  ii = in;
  v47 = &in[in_len];
  v6 = in + 4;
  do
  {
    v7 = v6[3];
    v8 = (33
        * ((unsigned __int8)*v6 ^ 32
                                * ((unsigned __int8)v6[1] ^ 32
                                                          * ((unsigned __int8)v6[2] ^ ((unsigned int)(unsigned __int8)v6[3] << 6)))) >> 5) & 0x3FFF;
    v9 = *((_DWORD *)wrkmem + v8);
    v10 = (char *)wrkmem + 4 * v8;
    if ( v9 < (unsigned int)in
      || (v11 = (int)&v6[-v9], m_off = (int)&v6[-v9], v6 == (const char *)v9)
      || (unsigned int)v11 > 0xBFFF )
      goto literal;
    if ( (unsigned int)v11 > 0x800 && *(_BYTE *)(v9 + 3) != v7 )
    {
      v12 = (unsigned __int8)((unsigned __int8)((unsigned __int16)(33
                                                                 * ((unsigned __int8)*v6 ^ (unsigned __int16)(32 * ((unsigned __int8)v6[1] ^ (unsigned __int16)(32 * ((unsigned __int8)v6[2] ^ (unsigned __int16)((unsigned __int8)v6[3] << 6))))))) >> 8) >> -3) ^ 0x201F;
      v9 = *((_DWORD *)wrkmem + v12);
      v10 = (char *)wrkmem + 4 * v12;
      if ( v9 < (unsigned int)in
        || (v13 = (int)&v6[-v9], m_off = (int)&v6[-v9], v6 == (const char *)v9)
        || (unsigned int)v13 > 0xBFFF
        || (unsigned int)v13 > 0x800 && *(_BYTE *)(v9 + 3) != v7 )
        goto literal;
      v11 = (int)&v6[-v9];
    }
    if ( *(_WORD *)v9 == *(_WORD *)v6 && *(_BYTE *)(v9 + 2) == v6[2] )
    {
      v14 = v6 - ii;
      *(_DWORD *)v10 = v6;
      if ( v6 != ii )
      {
        if ( (unsigned int)v14 > 3 )
        {
          if ( (unsigned int)v14 > 0x12 )
          {
            *(_BYTE *)v5 = 0;
            v5 = (char *)v5 + 1;
            tt = v14 - 18;
            if ( (unsigned int)(v14 - 18) > 0xFF )
            {
              v16 = (v14 - 274) / 0xFFu + 1;
              memset(v5, 0, 4 * (v16 >> 2));
              v17 = (int)((char *)v5 + 4 * (v16 >> 2));
              for ( i = v16 & 3; i; --i )
                *(_BYTE *)v17++ = 0;
              v19 = (v14 - 274) / 0xFFu + 1;
              v5 = (char *)v5 + v16;
              do
              {
                --v19;
                tt -= 255;
              }
              while ( v19 );
              v14 = v6 - ii;
              v11 = m_off;
            }
            v15 = tt;
          }
          else
          {
            v15 = v14 - 3;
          }
          *(_BYTE *)v5 = v15;
          v5 = (char *)v5 + 1;
        }
        else
        {
          *((_BYTE *)v5 - 2) |= v14;
        }
        do
        {
          *(_BYTE *)v5 = *ii;
          v5 = (char *)v5 + 1;
          --v14;
          ++ii;
        }
        while ( v14 );
      }
      v20 = v6[3];
      v6 += 4;
      if ( *(_BYTE *)(v9 + 3) != v20
        || (v21 = *v6, ++v6, *(_BYTE *)(v9 + 4) != v21)
        || (v22 = *v6, ++v6, *(_BYTE *)(v9 + 5) != v22)
        || (v23 = *v6, ++v6, *(_BYTE *)(v9 + 6) != v23)
        || (v24 = *v6, ++v6, *(_BYTE *)(v9 + 7) != v24)
        || (v25 = *v6, ++v6, *(_BYTE *)(v9 + 8) != v25) )
      {
        --v6;
        v37 = (_BYTE)v6 - (_BYTE)ii;
        if ( (unsigned int)v11 <= 0x800 )
        {
          v38 = v11 - 1;
          *(_BYTE *)v5 = 4 * (v38 & 7 | (unsigned __int8)(8 * (v37 - 1)));
          v39 = (int)((char *)v5 + 1);
          *(_BYTE *)v39 = v38 >> 3;
          v5 = (void *)(v39 + 1);
          ii = v6;
          continue;
        }
        v40 = v37 - 2;
        if ( (unsigned int)v11 > 0x4000 )
        {
          v29 = v11 - 16384;
          *(_BYTE *)v5 = v40 | (v29 >> 11) & 8 | 0x10;
        }
        else
        {
          v29 = v11 - 1;
          *(_BYTE *)v5 = v40 | 0x20;
        }
        goto LABEL_58;
      }
      for ( j = v9 + 9; v6 < v47; ++v6 )
      {
        if ( *(_BYTE *)j != *v6 )
          break;
        ++j;
      }
      v27 = v6 - ii;
      if ( (unsigned int)m_off > 0x4000 )
      {
        m_offa = m_off - 16384;
        v31 = (m_offa >> 11) & 8;
        if ( (unsigned int)v27 <= 9 )
        {
          v29 = m_offa;
          *(_BYTE *)v5 = (v27 - 2) | v31 | 0x10;
          goto LABEL_58;
        }
        v30 = v27 - 9;
        *(_BYTE *)v5 = v31 | 0x10;
      }
      else
      {
        v28 = m_off - 1;
        m_offa = m_off - 1;
        if ( (unsigned int)v27 <= 0x21 )
        {
          *(_BYTE *)v5 = (v27 - 2) | 0x20;
          v29 = v28;
LABEL_58:
          v41 = (int)((char *)v5 + 1);
          *(_BYTE *)v41++ = 4 * v29;
          *(_BYTE *)v41 = v29 >> 6;
          v5 = (void *)(v41 + 1);
          ii = v6;
          continue;
        }
        v30 = v27 - 33;
        *(_BYTE *)v5 = 32;
      }
      v5 = (char *)v5 + 1;
      if ( (unsigned int)v30 > 0xFF )
      {
        v32 = (v30 - 256) / 0xFFu + 1;
        v33 = ((v30 - 256) / 0xFFu + 1) >> 2;
        memset(v5, 0, 4 * v33);
        v34 = (int)((char *)v5 + 4 * v33);
        for ( k = v32 & 3; k; --k )
          *(_BYTE *)v34++ = 0;
        v36 = (v30 - 256) / 0xFFu + 1;
        v5 = (char *)v5 + v32;
        do
        {
          v30 -= 255;
          --v36;
        }
        while ( v36 );
      }
      v29 = m_offa;
      *(_BYTE *)v5 = v30;
      goto LABEL_58;
    }
literal:
    *(_DWORD *)v10 = v6++;
  }
  while ( v6 < v47 - 13 );
  *out_len = v5 - out;
  return v47 - ii;
}

//----- (0041F420) --------------------------------------------------------
int __cdecl lzo1x_1_compress(const char *in, unsigned int in_len, char *out, unsigned int *out_len, void *wrkmem)
{
  char *v5; // ecx@1
  void *v6; // esi@1
  unsigned int v7; // ebx@2
  const char *v8; // edi@5
  char v9; // al@11
  unsigned int v10; // edx@13
  unsigned int v11; // ebp@13
  int v12; // edi@13
  int i; // ecx@13
  char v14; // cl@17
  int v15; // esi@22
  const char *ii; // [sp+10h] [bp-4h]@5
  int in_lena; // [sp+1Ch] [bp+8h]@12

  v5 = out;
  v6 = out;
  if ( in_len > 0xD )
  {
    v7 = lzo1x_1_do_compress(in, in_len, out, out_len, wrkmem);
    v6 = &out[*out_len];
    v5 = out;
  }
  else
  {
    v7 = in_len;
  }
  if ( v7 )
  {
    v8 = &in[in_len] - v7;
    ii = &in[in_len] - v7;
    if ( v6 != v5 || v7 > 0xEE )
    {
      if ( v7 <= 3 )
      {
        *((_BYTE *)v6 - 2) |= v7;
        goto LABEL_21;
      }
      if ( v7 > 0x12 )
      {
        v9 = v7 - 18;
        *(_BYTE *)v6 = 0;
        v6 = (char *)v6 + 1;
        in_lena = v7 - 18;
        if ( v7 - 18 > 0xFF )
        {
          v10 = (v7 - 274) / 0xFF + 1;
          v11 = (v7 - 274) / 0xFF + 1;
          memset(v6, 0, 4 * (v11 >> 2));
          v12 = (int)((char *)v6 + 4 * (v11 >> 2));
          for ( i = v11 & 3; i; --i )
            *(_BYTE *)v12++ = 0;
          v6 = (char *)v6 + v10;
          do
          {
            v14 = in_lena + 1;
            --v10;
            in_lena -= 255;
          }
          while ( v10 );
          v8 = ii;
          v9 = v14;
          v5 = out;
        }
      }
      else
      {
        v9 = v7 - 3;
      }
      *(_BYTE *)v6 = v9;
    }
    else
    {
      *(_BYTE *)v6 = v7 + 17;
    }
    v6 = (char *)v6 + 1;
    do
    {
LABEL_21:
      *(_BYTE *)v6 = *v8;
      v6 = (char *)v6 + 1;
      ++v8;
      --v7;
    }
    while ( v7 );
  }
  *(_BYTE *)v6 = 17;
  v15 = (int)((char *)v6 + 1);
  *(_BYTE *)v15++ = 0;
  *(_BYTE *)v15 = 0;
  *out_len = v15 - (_DWORD)v5 + 1;
  return 0;
}

//----- (0041F520) --------------------------------------------------------
int __cdecl lzo1x_decompress_safe(const char *in, unsigned int in_len, char *out, unsigned int *out_len, void *wrkmem)
{
  const char *v5; // eax@1
  char *v6; // ebx@1
  const char *v7; // ebp@1
  unsigned int v8; // edx@1
  const char v9; // cl@1
  char *v10; // edx@1
  int v11; // esi@1
  int v12; // ecx@2
  unsigned int v13; // ecx@8
  int v14; // ecx@17
  int v15; // edx@25
  int v16; // esi@27
  int v17; // edi@35
  int v18; // ecx@35
  int v19; // esi@37
  int v20; // edi@37
  int v21; // edi@49
  unsigned int v22; // edi@55
  int v23; // edi@61
  int v24; // ecx@61
  int v25; // edx@66
  int v26; // esi@68
  int result; // eax@70
  char *ina; // [sp+Ch] [bp+4h]@1

  v5 = in;
  v6 = out;
  v7 = &in[in_len];
  v8 = *out_len;
  *out_len = 0;
  v9 = *in;
  v10 = &out[v8];
  ina = v10;
  v11 = (int)out;
  if ( (unsigned __int8)v9 > 0x11u )
  {
    v12 = (unsigned __int8)v9 - 17;
    ++v5;
    if ( (unsigned int)v12 < 4 )
      goto match_next;
    if ( v10 - out >= v12 )
    {
      if ( v7 - v5 >= v12 + 1 )
      {
        do
        {
          *(_BYTE *)v11++ = *v5++;
          --v12;
        }
        while ( v12 );
        goto first_literal_run;
      }
      goto input_overrun;
    }
output_overrun:
    *out_len = v11 - (_DWORD)v6;
    return -5;
  }
LABEL_7:
  if ( v5 < v7 )
  {
    v13 = (unsigned __int8)*v5++;
    if ( v13 >= 0x10 )
      goto match_0;
    if ( !v13 )
    {
      if ( v7 - v5 < 1 )
        goto input_overrun;
      if ( !*v5 )
      {
        while ( 1 )
        {
          v13 += 255;
          ++v5;
          if ( v7 - v5 < 1 )
            break;
          if ( *v5 )
            goto LABEL_14;
        }
input_overrun:
        *out_len = v11 - (_DWORD)v6;
        return -4;
      }
LABEL_14:
      v13 += (unsigned __int8)*v5++ + 15;
    }
    if ( (unsigned int)&v10[-v11] < v13 + 3 )
      goto output_overrun;
    if ( v7 - v5 < v13 + 4 )
      goto input_overrun;
    *(_DWORD *)v11 = *(_DWORD *)v5;
    v11 += 4;
    v5 += 4;
    v14 = v13 - 1;
    if ( v14 )
    {
      if ( (unsigned int)v14 < 4 )
      {
        do
        {
          *(_BYTE *)v11++ = *v5++;
          --v14;
        }
        while ( v14 );
      }
      else
      {
        do
        {
          *(_DWORD *)v11 = *(_DWORD *)v5;
          v14 -= 4;
          v11 += 4;
          v5 += 4;
        }
        while ( (unsigned int)v14 >= 4 );
        for ( ; v14; --v14 )
          *(_BYTE *)v11++ = *v5++;
      }
    }
first_literal_run:
    v13 = (unsigned __int8)*v5++;
    if ( v13 < 0x10 )
    {
      v15 = v11 - 4 * (unsigned __int8)*v5++ - (v13 >> 2) - 2049;
      if ( v15 < (unsigned int)v6 )
      {
lookbehind_overrun:
        *out_len = v11 - (_DWORD)v6;
        return -6;
      }
      if ( (unsigned int)&ina[-v11] >= 3 )
      {
        *(_BYTE *)v11 = *(_BYTE *)v15;
        v16 = v11 + 1;
        *(_BYTE *)v16++ = *(_BYTE *)(v15 + 1);
        *(_BYTE *)v16 = *(_BYTE *)(v15 + 2);
        v11 = v16 + 1;
        goto match_done;
      }
      goto output_overrun;
    }
    while ( 1 )
    {
match_0:
      if ( v13 < 0x40 )
      {
        if ( v13 < 0x20 )
        {
          if ( v13 < 0x10 )
          {
            v25 = v11 - 4 * (unsigned __int8)*v5++ - (v13 >> 2) - 1;
            if ( v25 < (unsigned int)v6 )
              goto lookbehind_overrun;
            if ( (unsigned int)&ina[-v11] < 2 )
              goto output_overrun;
            *(_BYTE *)v11 = *(_BYTE *)v25;
            v26 = v11 + 1;
            *(_BYTE *)v26 = *(_BYTE *)(v25 + 1);
            v11 = v26 + 1;
            goto match_done;
          }
          v21 = v11 - ((v13 & 8) << 11);
          v18 = v13 & 7;
          if ( !v18 )
          {
            if ( v7 - v5 < 1 )
              goto input_overrun;
            while ( !*v5 )
            {
              v18 += 255;
              ++v5;
              if ( v7 - v5 < 1 )
                goto input_overrun;
            }
            v18 += (unsigned __int8)*v5++ + 7;
          }
          v22 = v21 - ((unsigned int)*(_WORD *)v5 >> 2);
          v5 += 2;
          if ( v22 == v11 )
          {
            *out_len = v11 - (_DWORD)v6;
            if ( v5 == v7 )
              result = 0;
            else
              result = v5 < v7 ? -8 : -4;
            return result;
          }
          v17 = v22 - 16384;
        }
        else
        {
          v18 = v13 & 0x1F;
          if ( !v18 )
          {
            if ( v7 - v5 < 1 )
              goto input_overrun;
            while ( !*v5 )
            {
              v18 += 255;
              ++v5;
              if ( v7 - v5 < 1 )
                goto input_overrun;
            }
            v18 += (unsigned __int8)*v5++ + 31;
          }
          v17 = v11 - ((unsigned int)*(_WORD *)v5 >> 2) - 1;
          v5 += 2;
        }
        if ( v17 < (unsigned int)v6 )
          goto lookbehind_overrun;
        if ( (unsigned int)&ina[-v11] < v18 + 2 )
        {
LABEL_75:
          v6 = out;
          goto output_overrun;
        }
        if ( (unsigned int)v18 >= 6 && v11 - v17 >= 4 )
        {
          *(_DWORD *)v11 = *(_DWORD *)v17;
          v11 += 4;
          v23 = v17 + 4;
          v24 = v18 - 2;
          do
          {
            *(_DWORD *)v11 = *(_DWORD *)v23;
            v24 -= 4;
            v11 += 4;
            v23 += 4;
          }
          while ( (unsigned int)v24 >= 4 );
          for ( ; v24; --v24 )
            *(_BYTE *)v11++ = *(_BYTE *)v23++;
          goto LABEL_28;
        }
      }
      else
      {
        v17 = v11 - ((v13 >> 2) & 7) - 8 * (unsigned __int8)*v5++ - 1;
        v18 = (v13 >> 5) - 1;
        if ( v17 < (unsigned int)v6 )
          goto lookbehind_overrun;
        if ( (unsigned int)&ina[-v11] < v18 + 2 )
          goto LABEL_75;
      }
      *(_BYTE *)v11 = *(_BYTE *)v17;
      v19 = v11 + 1;
      *(_BYTE *)v19 = *(_BYTE *)(v17 + 1);
      v11 = v19 + 1;
      v20 = v17 + 2;
      do
      {
        *(_BYTE *)v11++ = *(_BYTE *)v20++;
        --v18;
      }
      while ( v18 );
LABEL_28:
      v6 = out;
match_done:
      v10 = ina;
      v12 = *(v5 - 2) & 3;
      if ( !(*(v5 - 2) & 3) )
        goto LABEL_7;
match_next:
      if ( (unsigned int)&v10[-v11] < v12 )
        goto output_overrun;
      if ( v7 - v5 < v12 + 1 )
        goto input_overrun;
      do
      {
        *(_BYTE *)v11++ = *v5++;
        --v12;
      }
      while ( v12 );
      v13 = (unsigned __int8)*v5++;
      if ( v5 >= v7 )
      {
        v10 = ina;
        goto LABEL_7;
      }
    }
  }
  *out_len = v11 - (_DWORD)v6;
  return -7;
}

//----- (0041F8E0) --------------------------------------------------------
void __thiscall ATL::CComCriticalSection::CComCriticalSection(ATL::CComCriticalSection *this)
{
  this->m_sec.DebugInfo = 0;
  this->m_sec.LockCount = 0;
  this->m_sec.RecursionCount = 0;
  this->m_sec.OwningThread = 0;
  this->m_sec.LockSemaphore = 0;
  this->m_sec.SpinCount = 0;
}

//----- (0041F900) --------------------------------------------------------
HRESULT __thiscall ATL::CComCriticalSection::Init(ATL::CComCriticalSection *this)
{
  int v1; // eax@0
  int v3; // [sp-Ch] [bp-28h]@1
  int *v4; // [sp+4h] [bp-18h]@1
  int v5; // [sp+Ch] [bp-10h]@1
  int (__cdecl *v6)(int, _EH3_EXCEPTION_REGISTRATION *, int); // [sp+10h] [bp-Ch]@1
  _UNKNOWN *v7; // [sp+14h] [bp-8h]@1
  int v8; // [sp+18h] [bp-4h]@1

  v7 = &unk_457A18;
  v6 = _except_handler3;
  v5 = v1;
  v4 = &v3;
  v8 = 0;
  InitializeCriticalSection(&this->m_sec);
  return 0;
}

//----- (0041F980) --------------------------------------------------------
Item::CItem *__thiscall Item::CItemFactory::CreateTempItem(Item::CItemFactory *this, Item::ItemInfo *itemInfo)
{
  unsigned int v2; // eax@1
  void *v3; // eax@2
  Item::CItem *result; // eax@3
  Item::ItemInfo *v5; // edx@7
  void *v6; // eax@10
  void *v7; // eax@12

  v2 = itemInfo->m_DetailData.m_dwFlags;
  if ( (itemInfo->m_DetailData.m_dwFlags & 1) == 1 )
  {
    v3 = operator new(0xF4u);
    if ( v3 )
      Item::CEquipment::CEquipment((Item::CEquipment *)v3, itemInfo);
    else
      result = 0;
    if ( !itemInfo->m_DetailData.m_wDropOption && result )
    {
      v5 = result->m_ItemInfo;
      if ( (v5->m_DetailData.m_dwFlags & 1) == 1 ? (int)result : 0 )
        ((v5->m_DetailData.m_dwFlags & 1) == 1 ? &result[4] : 144)->vfptr = (Item::CItemVtbl *)itemInfo->m_DetailData.m_cGrade;
    }
  }
  else
  {
    if ( (v2 & 2) == 2 )
    {
      v6 = operator new(0x24u);
      if ( v6 )
      {
        Item::CUseItem::CUseItem((Item::CUseItem *)result, itemInfo);
        return result;
      }
    }
    else
    {
      v7 = operator new(0x24u);
      if ( v7 )
      {
        Item::CItem::CItem(result, itemInfo);
        return result;
      }
    }
    result = 0;
  }
  return result;
}

//----- (0041FAA0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__cdecl std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *result; // eax@1
  int i; // ecx@1

  result = _Pnode;
  for ( i = *(_DWORD *)&_Pnode[4].baseclass_0.comp.baseclass_0.dummy[0]; !*(_BYTE *)(i + 49); i = *(_DWORD *)(i + 8) )
    result = (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)i;
  return result;
}

//----- (0041FAC0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__cdecl std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *result; // eax@1
  int i; // ecx@1

  result = _Pnode;
  for ( i = *(_DWORD *)&_Pnode->baseclass_0.comp.baseclass_0.dummy[0]; !*(_BYTE *)(i + 49); i = *(_DWORD *)i )
    result = (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)i;
  return result;
}

//----- (0041FAE0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: *this)
{
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v1; // eax@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v2; // edx@2
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: j; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: i; // eax@6

  v1 = *this;
  if ( !*(_BYTE *)(*this + 49) )
  {
    v2 = *(_DWORD *)(v1 + 8);
    if ( *(_BYTE *)(v2 + 49) )
    {
      for ( i = *(_DWORD *)(v1 + 4); !*(_BYTE *)(i + 49); i = *(_DWORD *)(i + 4) )
      {
        if ( *this != *(_DWORD *)(i + 8) )
          break;
        *this = i;
      }
      *this = i;
    }
    else
    {
      for ( j = *(_DWORD *)v2; !*(_BYTE *)(j + 49); j = *(_DWORD *)j )
        v2 = j;
      *this = v2;
    }
  }
}

//----- (0041FB40) --------------------------------------------------------
void *__thiscall std::bad_alloc::_vector_deleting_destructor_(std::bad_alloc *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::bad_alloc::_bad_alloc(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0041FB60) --------------------------------------------------------
void __thiscall std::bad_alloc::_bad_alloc(std::bad_alloc *this)
{
  this->baseclass_0.vfptr = (exceptionVtbl *)&std::bad_alloc::_vftable_;
  exception::_exception(&this->baseclass_0);
}
// 4642AC: using guessed type int (__thiscall *std__bad_alloc___vftable_)(void *p, char);

//----- (0041FB70) --------------------------------------------------------
Item::CItem *__thiscall Item::CItemFactory::CreateItem(Item::CItemFactory *this, unsigned __int16 usProtoTypeID)
{
  Item::CItemFactory *v2; // esi@1
  Item::CItemMgr *v3; // eax@1
  Item::ItemInfo *v4; // eax@1
  Item::CItem *result; // eax@2
  int v6; // edi@3
  int v7; // ebx@3

  v2 = this;
  v3 = Item::CItemMgr::GetInstance();
  v4 = Item::CItemMgr::GetItemInfo(v3, usProtoTypeID);
  if ( v4 )
  {
    result = Item::CItemFactory::CreateTempItem(v2, v4);
    if ( result )
    {
      v6 = LODWORD(v2->m_nCurrentUID);
      v7 = HIDWORD(v2->m_nCurrentUID);
      ++v2->m_nCurrentUID;
      HIDWORD(result->m_ItemData.m_dwUID) = v7;
      LODWORD(result->m_ItemData.m_dwUID) = v6;
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItemFactory::CreateItem",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemFactory.cpp",
      96,
      "ProtoTypeID:%u /  ");
    result = 0;
  }
  return result;
}

//----- (0041FBF0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lbound(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, const unsigned __int64 *_Keyval)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *result; // eax@1
  int v3; // ecx@1

  result = this->_Myhead;
  v3 = *(_DWORD *)&result[2].baseclass_0.comp.baseclass_0.dummy[0];
  while ( !*(_BYTE *)(v3 + 49) )
  {
    if ( *(_QWORD *)(v3 + 16) >= *_Keyval )
    {
      result = (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v3;
      v3 = *(_DWORD *)v3;
    }
    else
    {
      v3 = *(_DWORD *)(v3 + 8);
    }
  }
  return result;
}

//----- (0041FC40) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Wherenode)
{
  int v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v3; // ecx@3
  int v4; // ecx@5

  v2 = *(_DWORD *)&_Wherenode[4].baseclass_0.comp.baseclass_0.dummy[0];
  *(_DWORD *)&_Wherenode[4].baseclass_0.comp.baseclass_0.dummy[0] = *(_DWORD *)v2;
  if ( !*(_BYTE *)(*(_DWORD *)v2 + 49) )
    *(_DWORD *)(*(_DWORD *)v2 + 4) = _Wherenode;
  *(_DWORD *)(v2 + 4) = *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0];
  v3 = this->_Myhead;
  if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)&v3[2].baseclass_0.comp.baseclass_0.dummy[0] )
  {
    *(_DWORD *)&v3[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
    *(_DWORD *)v2 = _Wherenode;
    *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
  }
  else
  {
    v4 = *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0];
    if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)v4 )
    {
      *(_DWORD *)v4 = v2;
      *(_DWORD *)v2 = _Wherenode;
      *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
    }
    else
    {
      *(_DWORD *)(v4 + 8) = v2;
      *(_DWORD *)v2 = _Wherenode;
      *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (0041FCA0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Wherenode)
{
  int v2; // eax@1
  int v3; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v4; // ecx@3
  int v5; // ecx@5

  v2 = *(_DWORD *)&_Wherenode->baseclass_0.comp.baseclass_0.dummy[0];
  *(_DWORD *)&_Wherenode->baseclass_0.comp.baseclass_0.dummy[0] = *(_DWORD *)(*(_DWORD *)&_Wherenode->baseclass_0.comp.baseclass_0.dummy[0]
                                                                            + 8);
  v3 = *(_DWORD *)(v2 + 8);
  if ( !*(_BYTE *)(v3 + 49) )
    *(_DWORD *)(v3 + 4) = _Wherenode;
  *(_DWORD *)(v2 + 4) = *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0];
  v4 = this->_Myhead;
  if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)&v4[2].baseclass_0.comp.baseclass_0.dummy[0] )
  {
    *(_DWORD *)&v4[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
    *(_DWORD *)(v2 + 8) = _Wherenode;
    *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
  }
  else
  {
    v5 = *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0];
    if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)(v5 + 8) )
    {
      *(_DWORD *)(v5 + 8) = v2;
      *(_DWORD *)(v2 + 8) = _Wherenode;
      *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
    }
    else
    {
      *(_DWORD *)v5 = v2;
      *(_DWORD *)(v2 + 8) = _Wherenode;
      *(_DWORD *)&_Wherenode[2].baseclass_0.comp.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (0041FD00) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Ubound(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, const unsigned __int64 *_Keyval)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *result; // eax@1
  int v3; // ecx@1

  result = this->_Myhead;
  v3 = *(_DWORD *)&result[2].baseclass_0.comp.baseclass_0.dummy[0];
  while ( !*(_BYTE *)(v3 + 49) )
  {
    if ( *_Keyval >= *(_QWORD *)(v3 + 16) )
    {
      v3 = *(_DWORD *)(v3 + 8);
    }
    else
    {
      result = (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v3;
      v3 = *(_DWORD *)v3;
    }
  }
  return result;
}

//----- (0041FD40) --------------------------------------------------------
boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance()
{
  if ( !(__S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA & 1) )
  {
    __S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA |= 1u;
    InitializeCriticalSection(&obj.baseclass_0.mtx);
    obj.p.baseclass_0.first = 0;
    obj.p.list.ptr = 0;
    obj.p.list.sz = 0;
    obj.p.requested_size = 56;
    obj.p.next_size = 32;
    atexit(obj);
  }
  return &obj;
}
// 4A5E00: using guessed type int ?$S7_?1??instance_?$singleton_default_Upool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__boost___pool_details_boost__SAAAUpool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0DI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__5_XZ_4IA;

//----- (0041FDA0) --------------------------------------------------------
void __cdecl boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::free(void *const ptr)
{
  boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *v1; // esi@1

  v1 = boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
  EnterCriticalSection(&v1->baseclass_0.mtx);
  *(_DWORD *)ptr = v1->p.baseclass_0.first;
  v1->p.baseclass_0.first = ptr;
  LeaveCriticalSection(&v1->baseclass_0.mtx);
}

//----- (0041FDD0) --------------------------------------------------------
void __thiscall std::bad_alloc::bad_alloc(std::bad_alloc *this, std::bad_alloc *__that)
{
  std::bad_alloc *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0, &__that->baseclass_0);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&std::bad_alloc::_vftable_;
}
// 4642AC: using guessed type int (__thiscall *std__bad_alloc___vftable_)(void *p, char);

//----- (0041FDF0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i[24]._Alnod.dummy[0]; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Erase(
      v3,
      *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)&i[4].baseclass_0.comp.baseclass_0.dummy[0]);
    i = *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)&i->baseclass_0.comp.baseclass_0.dummy[0];
    boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::free(v2);
  }
}

//----- (0041FE30) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *v17; // esi@60
  unsigned int v18; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: *v19; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v23; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(_Where + 49) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v23 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::const_iterator::_Inc(&_Where);
  if ( *(_BYTE *)(*(_DWORD *)v4 + 49) )
  {
    v5 = *(_DWORD *)(v4 + 8);
LABEL_9:
    v7 = *(_DWORD *)(v4 + 4);
    if ( !*(_BYTE *)(v5 + 49) )
      *(_DWORD *)(v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( *(_DWORD *)&v8[2].baseclass_0.comp.baseclass_0.dummy[0] == v4 )
    {
      *(_DWORD *)&v8[2].baseclass_0.comp.baseclass_0.dummy[0] = v5;
    }
    else
    {
      if ( *(_DWORD *)v7 == v4 )
        *(_DWORD *)v7 = v5;
      else
        *(_DWORD *)(v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( *(_DWORD *)&v9->baseclass_0.comp.baseclass_0.dummy[0] == _Erasednode )
    {
      if ( *(_BYTE *)(v5 + 49) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Min((std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v5);
      *(_DWORD *)&v9->baseclass_0.comp.baseclass_0.dummy[0] = v10;
    }
    v11 = v3->_Myhead;
    if ( *(_DWORD *)&v11[4].baseclass_0.comp.baseclass_0.dummy[0] == _Erasednode )
    {
      if ( *(_BYTE *)(v5 + 49) )
        *(_DWORD *)&v11[4].baseclass_0.comp.baseclass_0.dummy[0] = v7;
      else
        *(_DWORD *)&v11[4].baseclass_0.comp.baseclass_0.dummy[0] = std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Max((std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(v4 + 8) + 49) )
  {
    v5 = *(_DWORD *)v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(_DWORD *)(_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(*(_DWORD *)v4 + 4) = _Where;
  *(_DWORD *)v6 = *(_DWORD *)v4;
  if ( v6 == *(_DWORD *)(v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(_DWORD *)(v6 + 4);
    if ( !*(_BYTE *)(v5 + 49) )
      *(_DWORD *)(v5 + 4) = v7;
    *(_DWORD *)v7 = v5;
    *(_DWORD *)(v6 + 8) = *(_DWORD *)(v4 + 8);
    *(_DWORD *)(*(_DWORD *)(v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( *(_DWORD *)&v12[2].baseclass_0.comp.baseclass_0.dummy[0] == v4 )
  {
    *(_DWORD *)&v12[2].baseclass_0.comp.baseclass_0.dummy[0] = v6;
  }
  else
  {
    v13 = *(_DWORD *)(v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(v6 + 4) = *(_DWORD *)(v4 + 4);
  v14 = *(_BYTE *)(v6 + 48);
  *(_BYTE *)(v6 + 48) = *(_BYTE *)(v4 + 48);
  *(_BYTE *)(v4 + 48) = v14;
LABEL_36:
  if ( *(_BYTE *)(_Erasednode + 48) == 1 )
  {
    if ( v5 != *(_DWORD *)&v3->_Myhead[2].baseclass_0.comp.baseclass_0.dummy[0] )
    {
      do
      {
        if ( *(_BYTE *)(v5 + 48) != 1 )
          break;
        v15 = *(_DWORD *)v7;
        if ( v5 == *(_DWORD *)v7 )
        {
          v15 = *(_DWORD *)(v7 + 8);
          if ( !*(_BYTE *)(v15 + 48) )
          {
            *(_BYTE *)(v15 + 48) = 1;
            *(_BYTE *)(v7 + 48) = 0;
            std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lrotate(
              v3,
              (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v7);
            v15 = *(_DWORD *)(v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 49) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 48) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 48) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 48) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 48) = 1;
              *(_BYTE *)(v15 + 48) = 0;
              std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Rrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v15);
              v15 = *(_DWORD *)(v7 + 8);
            }
            *(_BYTE *)(v15 + 48) = *(_BYTE *)(v7 + 48);
            *(_BYTE *)(v7 + 48) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 48) = 1;
            std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lrotate(
              v3,
              (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 48) )
          {
            *(_BYTE *)(v15 + 48) = 1;
            *(_BYTE *)(v7 + 48) = 0;
            std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Rrotate(
              v3,
              (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v7);
            v15 = *(_DWORD *)v7;
          }
          if ( *(_BYTE *)(v15 + 49) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 48) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 48) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 48) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 48) = 1;
              *(_BYTE *)(v15 + 48) = 0;
              std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v15);
              v15 = *(_DWORD *)v7;
            }
            *(_BYTE *)(v15 + 48) = *(_BYTE *)(v7 + 48);
            *(_BYTE *)(v7 + 48) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 48) = 1;
            std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Rrotate(
              v3,
              (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 48) = 0;
LABEL_54:
        v5 = v7;
        v16 = v7 == *(_DWORD *)&v3->_Myhead[2].baseclass_0.comp.baseclass_0.dummy[0];
        v7 = *(_DWORD *)(v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(v5 + 48) = 1;
  }
  v17 = boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
  EnterCriticalSection(&v17->baseclass_0.mtx);
  *(_DWORD *)_Erasednode = v17->p.baseclass_0.first;
  v17->p.baseclass_0.first = (void *)_Erasednode;
  LeaveCriticalSection(&v17->baseclass_0.mtx);
  v18 = v3->_Mysize;
  if ( v18 )
    v3->_Mysize = v18 - 1;
  v19 = result;
  *result = _Where;
  return v19;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (00420100) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *__thiscall std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *this)
{
  boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *v1; // edi@1
  void *v2; // esi@1
  boost::pool<boost::default_user_allocator_new_delete> *v3; // ecx@1
  char *what; // [sp+8h] [bp-10h]@5
  exception thisa; // [sp+Ch] [bp-Ch]@5

  v1 = boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
  EnterCriticalSection(&v1->baseclass_0.mtx);
  v2 = v1->p.baseclass_0.first;
  v3 = &v1->p;
  if ( v2 )
    v3->baseclass_0.first = *(void **)v2;
  else
    v2 = boost::pool<boost::default_user_allocator_new_delete>::malloc_need_resize(v3);
  LeaveCriticalSection(&v1->baseclass_0.mtx);
  if ( !v2 )
  {
    what = "bad allocation";
    exception::exception(&thisa, (const char *const *)&what);
    thisa.vfptr = (exceptionVtbl *)&std::bad_alloc::_vftable_;
    _CxxThrowException(&thisa, &_TI2_AVbad_alloc_std__);
  }
  *(_DWORD *)v2 = 0;
  if ( v2 != (void *)-4 )
    *((_DWORD *)v2 + 1) = 0;
  if ( v2 != (void *)-8 )
    *((_DWORD *)v2 + 2) = 0;
  *((_BYTE *)v2 + 48) = 1;
  *((_BYTE *)v2 + 49) = 0;
  return (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)v2;
}
// 4642AC: using guessed type int (__thiscall *std__bad_alloc___vftable_)(void *p, char);

//----- (004201A0) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( _First != *(_DWORD *)&v7->baseclass_0.comp.baseclass_0.dummy[0]
    || (std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(v5 + 49) )
        {
          v11 = *(_DWORD *)(v5 + 8);
          if ( *(_BYTE *)(v11 + 49) )
          {
            for ( i = *(_DWORD *)(v5 + 4); !*(_BYTE *)(i + 49); i = *(_DWORD *)(i + 4) )
            {
              if ( v5 != *(_DWORD *)(i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(_DWORD *)(v5 + 8);
            for ( j = *(_DWORD *)v11; !*(_BYTE *)(j + 49); j = *(_DWORD *)j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *result = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Erase(
      this,
      *(std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> **)&v7[2].baseclass_0.comp.baseclass_0.dummy[0]);
    *(_DWORD *)&v6->_Myhead[2].baseclass_0.comp.baseclass_0.dummy[0] = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    *(_DWORD *)&v8->baseclass_0.comp.baseclass_0.dummy[0] = v8;
    *(_DWORD *)&v6->_Myhead[4].baseclass_0.comp.baseclass_0.dummy[0] = v6->_Myhead;
    v9 = result;
    *result = *(_DWORD *)v6->_Myhead;
  }
  return v9;
}

//----- (00420260) --------------------------------------------------------
void __thiscall Item::CItemFactory::_CItemFactory(Item::CItemFactory *this)
{
  char *v1; // esi@1
  void *v2; // ebx@1
  boost::singleton_pool<boost::fast_pool_allocator_tag,56,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *v3; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >::)this;
  v1 = (char *)&this->m_ItemSerialMap;
  std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(
    &this->m_ItemSerialMap.baseclass_0,
    &result,
    *(std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: *)this->m_ItemSerialMap.baseclass_0._Myhead,
    (std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >::)this->m_ItemSerialMap.baseclass_0._Myhead);
  v2 = (void *)*((_DWORD *)v1 + 1);
  v3 = boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance();
  EnterCriticalSection(&v3->baseclass_0.mtx);
  *(_DWORD *)v2 = v3->p.baseclass_0.first;
  v3->p.baseclass_0.first = v2;
  LeaveCriticalSection(&v3->baseclass_0.mtx);
  *((_DWORD *)v1 + 1) = 0;
  *((_DWORD *)v1 + 2) = 0;
}

//----- (004202B0) --------------------------------------------------------
void __thiscall Item::CItemFactory::DeleteItem(Item::CItemFactory *this, Item::CItem *lpDeleteItem)
{
  Item::CItem *v2; // esi@1
  int v3; // edx@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *v4; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v5; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: v6; // eax@1
  unsigned __int64 _Keyval; // [sp+Ch] [bp-8h]@1

  v2 = lpDeleteItem;
  v3 = HIDWORD(lpDeleteItem->m_ItemData.m_dwUID);
  LODWORD(_Keyval) = LODWORD(lpDeleteItem->m_ItemData.m_dwUID);
  v4 = (std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> > *)&this->m_ItemSerialMap;
  HIDWORD(_Keyval) = v3;
  v5 = (std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >::)std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Lbound(&this->m_ItemSerialMap.baseclass_0, &_Keyval);
  v6 = (std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >::)std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Ubound(v4, &_Keyval);
  std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::erase(
    v4,
    (std::_Tree<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> >:: *)&lpDeleteItem,
    v5,
    v6);
  v2->vfptr->__vecDelDtor(v2, 1u);
}

//----- (00420310) --------------------------------------------------------
Item::CItemFactory *__cdecl Item::CItemFactory::GetInstance()
{
  std::_Tree_nod<std::_Tmap_traits<unsigned __int64,Item::CItemOwnerInfo,std::less<unsigned __int64>,boost::fast_pool_allocator<std::pair<unsigned __int64,Item::CItemOwnerInfo>,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>,0> *v0; // eax@2

  if ( !(_S5 & 1) )
  {
    _S5 |= 1u;
    LODWORD(itemFactory.m_nCurrentUID) = 0;
    unk_4A5E0C = 0;
    v0 = std::_Tree<std::_Tmap_traits<unsigned___int64_Item::CItemOwnerInfo_std::less<unsigned___int64>_boost::fast_pool_allocator<std::pair<unsigned___int64_Item::CItemOwnerInfo>_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>_0>>::_Buynode(&stru_4A5E10);
    stru_4A5E10._Myhead = v0;
    v0[24]._Alnod.dummy[0] = 1;
    *(_DWORD *)&stru_4A5E10._Myhead[2].baseclass_0.comp.baseclass_0.dummy[0] = stru_4A5E10._Myhead;
    *(_DWORD *)stru_4A5E10._Myhead = stru_4A5E10._Myhead;
    *(_DWORD *)&stru_4A5E10._Myhead[4].baseclass_0.comp.baseclass_0.dummy[0] = stru_4A5E10._Myhead;
    stru_4A5E10._Mysize = 0;
    atexit(_E6);
  }
  return &itemFactory;
}

//----- (004203A0) --------------------------------------------------------
void __cdecl GAMELOG::LogCharCreateDelete(const unsigned int dwUID, sockaddr_in *lpSockAddr, const unsigned int dwCID, const char cCMD, const unsigned __int16 eError)
{
  CGameLog *v5; // eax@1
  CGameLog *v6; // esi@1
  char *v7; // eax@1

  v5 = CGameLog::GetInstance();
  v6 = v5;
  v7 = CGameLog::ReserveBuffer(v5, 0x1Au);
  if ( v7 )
  {
    *((_DWORD *)v7 + 2) = v6->m_time;
    v7[18] = cCMD;
    *(_DWORD *)v7 = dwUID;
    v7[19] = eError;
    *((_DWORD *)v7 + 1) = dwCID;
    *((_WORD *)v7 + 6) = 0;
    *((_WORD *)v7 + 7) = 0;
    *((_WORD *)v7 + 8) = 0;
    if ( lpSockAddr )
    {
      *((_DWORD *)v7 + 5) = *(_DWORD *)&lpSockAddr->sin_addr.S_un.S_un_b.s_b1;
      *((_WORD *)v7 + 12) = lpSockAddr->sin_port;
      v6->m_lpLogBuffer->m_nUsage += 26;
    }
    else
    {
      *((_DWORD *)v7 + 5) = 0;
      *((_WORD *)v7 + 12) = 0;
      v6->m_lpLogBuffer->m_nUsage += 26;
    }
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "GAMELOG::LogCharCreateDelete",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\CharacterLog.cpp",
      87,
      "UID:0x%08x CID:0x%08x  %s:%2d  ");
  }
}

//----- (00420470) --------------------------------------------------------
bool __cdecl CharCreate::CheckCharCreateName(const char *Name_In, bool HanCheck_In)
{
  bool result; // al@2
  unsigned int v3; // eax@3
  unsigned int v4; // edi@3
  signed int v5; // ecx@5
  int v6; // esi@6
  int v7; // ecx@7
  const char v8; // dl@8
  int v9; // ebx@13
  signed int v10; // eax@13
  __int16 v11; // cx@13
  signed int v12; // eax@29
  char v13[4]; // edi@35
  const char *v14; // esi@35
  bool v15; // zf@35
  signed int v16; // esi@39

  if ( Name_In )
  {
    v3 = strlen(Name_In);
    v4 = v3;
    if ( v3 < 4 || v3 > 0xF )
    {
      result = 0;
    }
    else
    {
      v5 = 1;
      if ( HanCheck_In == 1 )
      {
        v6 = 0;
        if ( v3 )
        {
          do
          {
            LOBYTE(v7) = Name_In[(unsigned __int16)v6];
            if ( (char)v7 >= 0 )
            {
              if ( (unsigned __int8)v7 < 0x41u || (unsigned __int8)v7 > 0x5Au )
              {
                if ( (unsigned __int8)v7 < 0x61u || (unsigned __int8)v7 > 0x7Au )
                {
                  if ( (unsigned __int8)v7 < 0x30u || (unsigned __int8)v7 > 0x39u )
                  {
                    v12 = 0;
                    v7 = (unsigned __int8)v7;
                    do
                    {
                      if ( v7 == AllowLetters[v12] )
                        break;
                      ++v12;
                    }
                    while ( v12 < 2 );
                    if ( v12 == 2 )
                      goto LABEL_43;
                  }
                }
              }
            }
            else
            {
              v8 = Name_In[(unsigned __int16)v6 + 1];
              if ( !v8
                || (unsigned __int8)v7 < 0xB0u
                || (unsigned __int8)v7 > 0xC9u
                || (unsigned __int8)v8 < 0xA1u
                || (unsigned __int8)v8 > 0xFEu )
                goto LABEL_43;
              LOBYTE(v9) = 0;
              *(_WORD *)((char *)&v9 + 1) = (unsigned __int8)Name_In[(unsigned __int16)v6];
              v10 = 0;
              v11 = (unsigned __int8)v8 | (unsigned __int16)v9;
              while ( v11 != AllowHans[v10] )
              {
                if ( v11 == AllowHans[v10 + 1] )
                {
                  ++v10;
                  break;
                }
                if ( v11 == AllowHans[v10 + 2] )
                {
                  v10 += 2;
                  break;
                }
                v10 += 3;
                if ( v10 >= 39 )
                  break;
              }
              if ( v10 != 39 )
                goto LABEL_43;
              ++v6;
            }
            ++v6;
          }
          while ( (unsigned __int16)v6 < v4 );
        }
        result = 1;
      }
      else
      {
        *(_DWORD *)v13 = String;
        v14 = Name_In;
        v15 = 1;
        do
        {
          if ( !v5 )
            break;
          v15 = *v14++ == **(_BYTE **)v13;
          ++*(_DWORD *)v13;
          --v5;
        }
        while ( v15 );
        if ( !v15 )
        {
          v16 = 0;
          while ( !_mbschr(Name_In, DisAllowLetters[v16]) )
          {
            ++v16;
            if ( v16 >= 9 )
              return 1;
          }
        }
LABEL_43:
        result = 0;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004205E0) --------------------------------------------------------
bool __cdecl CharCreate::CheckCharCreateData(CHAR_CREATE *CharCreate_In)
{
  char v1; // cl@1
  unsigned __int16 v2; // cx@2
  unsigned __int16 v3; // cx@5
  bool v4; // zf@6
  unsigned __int16 v6; // di@15
  unsigned __int16 v7; // si@16
  unsigned __int16 v8; // dx@17
  unsigned __int16 v9; // cx@18
  unsigned __int16 v10; // ax@19
  unsigned __int16 v11; // cx@23
  unsigned __int16 v12; // di@32
  unsigned __int16 v13; // si@33
  unsigned __int16 v14; // dx@34
  unsigned __int16 v15; // cx@35
  unsigned __int16 v16; // ax@36

  v1 = CharCreate_In->Race;
  if ( !v1 )
  {
    v2 = CharCreate_In->Equip[1];
    if ( v2 < 0xC9u || v2 > 0xD1u || CharCreate_In->Equip[5] != 601 )
      return 0;
    v3 = CharCreate_In->Class;
    if ( v3 == 1 )
    {
      v4 = CharCreate_In->Equip[11] == 701;
    }
    else
    {
      if ( v3 == 2 )
      {
        v4 = CharCreate_In->Equip[11] == 1601;
      }
      else
      {
        if ( v3 != 3 )
        {
          if ( v3 == 4 && CharCreate_In->Equip[11] != 801 )
            return 0;
          goto LABEL_15;
        }
        v4 = CharCreate_In->Equip[11] == 1501;
      }
    }
    if ( !v4 )
      return 0;
LABEL_15:
    v6 = CharCreate_In->STR;
    if ( v6 < 0x14u
      || (v7 = CharCreate_In->CON, v7 < 0x14u)
      || (v8 = CharCreate_In->DEX, v8 < 0x14u)
      || (v9 = CharCreate_In->INT, v9 < 0x14u)
      || (v10 = CharCreate_In->WIS, v10 < 0x14u) )
      return 0;
    if ( v6 + v7 + v8 + v9 + v10 > 105 )
      return 0;
    return 1;
  }
  if ( v1 != 1 )
    return 0;
  v11 = CharCreate_In->Class;
  if ( v11 == 17 )
  {
    if ( CharCreate_In->Equip[11] != 5401 || CharCreate_In->Equip[3] != 5101 )
      return 0;
    if ( CharCreate_In->Equip[5] != 5201 )
      return 0;
  }
  else
  {
    if ( v11 == 18
      && (CharCreate_In->Equip[11] != 5801 || CharCreate_In->Equip[3] != 5110 || CharCreate_In->Equip[5] != 5210) )
      return 0;
  }
  v12 = CharCreate_In->STR;
  if ( v12 < 0x14u
    || (v13 = CharCreate_In->CON, v13 < 0x14u)
    || (v14 = CharCreate_In->DEX, v14 < 0x14u)
    || (v15 = CharCreate_In->INT, v15 < 0x14u)
    || (v16 = CharCreate_In->WIS, v16 < 0x14u)
    || v12 + v13 + v14 + v15 + v16 > 105 )
    return 0;
  return 1;
}

//----- (00420770) --------------------------------------------------------
POS *__cdecl CharCreate::GetDefaultCharacterPos(POS *result, unsigned int dwRace, unsigned int dwRacePlayerNum)
{
  unsigned int v3; // esi@3
  unsigned int v4; // eax@3
  int v5; // eax@10
  float v6; // esi@10
  float v7; // ST18_4@10
  float v8; // ST14_4@10
  float v9; // ST14_4@10
  double v10; // st7@10
  unsigned int v11; // eax@11
  float v12; // ST18_4@11
  unsigned int v13; // eax@11
  float v14; // ST14_4@11
  unsigned int v15; // eax@11
  float v16; // ST14_4@11
  POS *v17; // eax@12
  float v18; // ST20_4@12
  float StartPos; // [sp+8h] [bp-Ch]@10
  float StartPos_8; // [sp+10h] [bp-4h]@10

  if ( CServerSetup::GetInstance()->m_bBattleAuth == 1 || CServerSetup::GetInstance()->m_bBattleGame == 1 )
  {
    v11 = 12 * (Math::Random::ComplexRandom(2, 0) + 2 * dwRace) + 4553872;
    LODWORD(v6) = *(_DWORD *)(v11 + 4);
    LODWORD(v12) = *(_DWORD *)v11;
    LODWORD(StartPos_8) = *(_DWORD *)(v11 + 8);
    v13 = GetTickCount();
    v14 = (double)(Math::Random::SimpleRandom(v13, 20, 0) - 10);
    StartPos = v14 + v12;
    v15 = GetTickCount();
    v16 = (double)(Math::Random::SimpleRandom(v15, 20, 0) - 10);
    v10 = v16;
  }
  else
  {
    v3 = dwRace;
    v4 = 0;
    if ( dwRace >= 2 )
      v3 = 0;
    while ( dwRacePlayerNum >= StartPointVariation[v4] )
    {
      ++v4;
      if ( v4 >= 6 )
        goto LABEL_10;
    }
    if ( v4 )
      v4 = Math::Random::ComplexRandom(v4 + 1, 0);
LABEL_10:
    v5 = 12 * (v4 + 6 * v3) + 4553728;
    LODWORD(v6) = *(_DWORD *)(v5 + 4);
    LODWORD(v7) = *(_DWORD *)v5;
    LODWORD(StartPos_8) = *(_DWORD *)(v5 + 8);
    v8 = (double)Math::Random::ComplexRandom(14, 0);
    StartPos = v8 - 7.0 + v7;
    v9 = (double)Math::Random::ComplexRandom(14, 0);
    v10 = v9 - 7.0;
  }
  v17 = result;
  result->fPointX = StartPos;
  v18 = v10 + StartPos_8;
  result->fPointY = v6;
  result->fPointZ = v18;
  return v17;
}

//----- (00420900) --------------------------------------------------------
Item::ItemInfo *__thiscall Item::CItemMgr::GetItemInfo(Item::CItemMgr *this, unsigned __int16 usProtoTypeID)
{
  Item::ItemInfo *result; // eax@1
  unsigned int v3; // esi@1
  Item::ItemInfo *v4; // edi@1
  Item::ItemInfo *v5; // ecx@2

  result = this->m_ItemInfoArray;
  v3 = this->m_nItemNum;
  v4 = &result[this->m_nItemNum];
  while ( v3 )
  {
    v5 = &result[v3 >> 1];
    if ( v5->m_usProtoTypeID >= usProtoTypeID )
    {
      v3 >>= 1;
    }
    else
    {
      result = v5 + 1;
      v3 += -1 - (v3 >> 1);
    }
  }
  if ( result == v4 || usProtoTypeID < result->m_usProtoTypeID )
    result = 0;
  return result;
}

//----- (00420960) --------------------------------------------------------
unsigned int __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::size(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this)
{
  unsigned int result; // eax@1

  result = (unsigned int)this->_Myfirst;
  if ( result )
    result = (signed int)((char *)this->_Mylast - result) / 616;
  return result;
}

//----- (00420980) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *i; // ecx@1

  result = _Pnode;
  for ( i = _Pnode->_Right; !i->_Isnil; i = i->_Right )
    result = i;
  return result;
}

//----- (004209A0) --------------------------------------------------------
void __cdecl std::fill<unsigned_short___unsigned_short>(unsigned __int16 *_First, unsigned __int16 *_Last, const unsigned __int16 *_Val)
{
  unsigned __int16 *i; // eax@1

  for ( i = _First; i != _Last; ++i )
    *i = *_Val;
}

//----- (004209C0) --------------------------------------------------------
void __cdecl std::fill<Item::ItemInfo___Item::ItemInfo>(Item::ItemInfo *_First, Item::ItemInfo *_Last, Item::ItemInfo *_Val)
{
  Item::ItemInfo *v3; // eax@1
  void *v4; // edi@2

  v3 = _First;
  while ( v3 != _Last )
  {
    v4 = (void *)v3;
    ++v3;
    memcpy(v4, _Val, 0x268u);
  }
}

//----- (004209F0) --------------------------------------------------------
void __thiscall Item::ItemInfo::ItemInfo(Item::ItemInfo *this, Item::ItemInfo *__that)
{
  this->m_usProtoTypeID = __that->m_usProtoTypeID;
  memcpy(&this->m_DetailData, &__that->m_DetailData, 0x30u);
  memcpy(&this->m_SpriteData, &__that->m_SpriteData, sizeof(this->m_SpriteData));
  memcpy(&this->m_StringData, &__that->m_StringData, sizeof(this->m_StringData));
  memcpy(&this->m_EquipAttribute, &__that->m_EquipAttribute, sizeof(this->m_EquipAttribute));
  this->m_UseItemInfo.m_Pos.m_fPointX = __that->m_UseItemInfo.m_Pos.m_fPointX;
  this->m_UseItemInfo.m_Pos.m_fPointY = __that->m_UseItemInfo.m_Pos.m_fPointY;
  this->m_UseItemInfo.m_Pos.m_fPointZ = __that->m_UseItemInfo.m_Pos.m_fPointZ;
  this->m_UseItemInfo.m_cZone = __that->m_UseItemInfo.m_cZone;
  this->m_UseItemInfo.m_dwAmount = __that->m_UseItemInfo.m_dwAmount;
  this->m_UseItemInfo.m_usSkill_ID = __that->m_UseItemInfo.m_usSkill_ID;
  this->m_UseItemInfo.m_usSkill_LockCount = __that->m_UseItemInfo.m_usSkill_LockCount;
  this->m_UseItemInfo.m_wQuestID = __that->m_UseItemInfo.m_wQuestID;
  this->m_UseItemInfo.m_cLimitRealmPoint = __that->m_UseItemInfo.m_cLimitRealmPoint;
  this->m_UseItemInfo.m_bForStatueWar = __that->m_UseItemInfo.m_bForStatueWar;
}

//----- (00420AD0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@3
  int i; // eax@4
  int v4; // eax@7

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( *(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 21) )
  {
    *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = *(_DWORD *)(v1 + 8);
  }
  else
  {
    v2 = *(_DWORD *)v1;
    if ( *(_BYTE *)(*(_DWORD *)v1 + 21) )
    {
      v4 = *(_DWORD *)(v1 + 4);
      if ( !*(_BYTE *)(v4 + 21) )
      {
        do
        {
          if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)v4 )
            break;
          *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v4;
          v4 = *(_DWORD *)(v4 + 4);
        }
        while ( !*(_BYTE *)(v4 + 21) );
        if ( !*(_BYTE *)(v4 + 21) )
          *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v4;
      }
    }
    else
    {
      for ( i = *(_DWORD *)(v2 + 8); !*(_BYTE *)(i + 21); i = *(_DWORD *)(i + 8) )
        v2 = i;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (00420B30) --------------------------------------------------------
unsigned __int16 *__cdecl std::copy_backward<unsigned_short___unsigned_short__>(unsigned __int16 *_First, unsigned __int16 *_Last, unsigned __int16 *_Dest)
{
  unsigned __int16 *result; // eax@1

  memmove((char *)&_Dest[-(_Last - _First)], (char *)_First, 2 * (_Last - _First));
  return result;
}

//----- (00420B50) --------------------------------------------------------
Item::ItemInfo *__cdecl std::copy_backward<Item::ItemInfo___Item::ItemInfo__>(Item::ItemInfo *_First, Item::ItemInfo *_Last, Item::ItemInfo *_Dest)
{
  Item::ItemInfo *v3; // edx@1
  Item::ItemInfo *result; // eax@1

  v3 = _Last;
  result = _Dest;
  while ( v3 != _First )
  {
    --v3;
    --result;
    memcpy((void *)result, v3, 0x268u);
  }
  return result;
}

//----- (00420B90) --------------------------------------------------------
void __cdecl std::swap<Item::ItemInfo>(Item::ItemInfo *_Left, Item::ItemInfo *_Right)
{
  Item::ItemInfo _Tmp; // [sp+8h] [bp-26Ch]@1

  Item::ItemInfo::ItemInfo(&_Tmp, _Left);
  memcpy((void *)_Left, _Right, 0x268u);
  memcpy((void *)_Right, &_Tmp, 0x268u);
}

//----- (00420BF0) --------------------------------------------------------
void __cdecl std::_Push_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, int _Hole, int _Top, Item::ItemInfo _Val)
{
  int v4; // edi@1
  int i; // eax@1

  v4 = _Hole;
  for ( i = (_Hole - 1) / 2; _Top < v4; i = (i - 1) / 2 )
  {
    if ( *(_WORD *)(616 * i + *(_DWORD *)&_First) >= _Val.m_usProtoTypeID )
      break;
    memcpy((void *)(*(_DWORD *)&_First + 616 * v4), (const void *)(616 * i + *(_DWORD *)&_First), 0x268u);
    v4 = i;
  }
  memcpy((void *)(*(_DWORD *)&_First + 616 * v4), &_Val, 0x268u);
}

//----- (00420C60) --------------------------------------------------------
void __cdecl std::_Rotate<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Mid, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, int *__formal, Item::ItemInfo *a5)
{
  int v5; // ebp@1
  int v6; // eax@1
  int v7; // esi@1
  int v8; // edx@2
  int v9; // esi@5
  Item::ItemInfo *v10; // edi@5
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *v11; // eax@8
  const void *v12; // ebx@10
  int v13; // eax@11
  int *v14; // eax@12
  int v15; // eax@15
  int v16; // [sp+Ch] [bp-284h]@5
  int v17; // [sp+14h] [bp-27Ch]@5
  Item::ItemInfo *v18; // [sp+18h] [bp-278h]@9
  int v19; // [sp+1Ch] [bp-274h]@13
  char *v20; // [sp+20h] [bp-270h]@12
  Item::ItemInfo _Holeval; // [sp+24h] [bp-26Ch]@7

  v5 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) / 616;
  v6 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616;
  v7 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) / 616;
  if ( v5 )
  {
    do
    {
      v8 = v6 % v7;
      v6 = v7;
      v7 = v8;
    }
    while ( v8 );
  }
  if ( v6 < (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616 && v6 > 0 )
  {
    v9 = v5;
    v10 = (Item::ItemInfo *)(*(_DWORD *)&_First + 616 * v6);
    v16 = *(_DWORD *)&_First + 616 * v6;
    v17 = v6;
    while ( 1 )
    {
      Item::ItemInfo::ItemInfo(&_Holeval, v10);
      if ( &v10[v9] == (Item::ItemInfo *)_Last )
      {
        v11 = &_First;
      }
      else
      {
        v18 = &v10[v9];
        v11 = (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *)&v18;
      }
      v12 = *(const void **)&v11->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      if ( *(Item::ItemInfo **)&v11->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] != v10 )
      {
        do
        {
          memcpy((void *)v10, v12, 0x268u);
          v13 = (*(_DWORD *)&_Last - (signed int)v12) / 616;
          v10 = (Item::ItemInfo *)v12;
          if ( v5 >= v13 )
          {
            v19 = *(_DWORD *)&_First + 616 * (v5 - v13);
            v14 = &v19;
          }
          else
          {
            v20 = (char *)v12 + 616 * v5;
            v14 = (int *)&v20;
          }
          v12 = (const void *)*v14;
        }
        while ( *v14 != v16 );
      }
      v15 = v17;
      memcpy((void *)v10, &_Holeval, 0x268u);
      v16 -= 616;
      --v17;
      if ( v15 == 1 )
        break;
      v9 = v5;
      v10 = (Item::ItemInfo *)v16;
    }
  }
}

//----- (00420DD0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (00420E10) --------------------------------------------------------
int __stdcall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ucopy<unsigned_short__>(char *src, int a2, char *dst)
{
  int v3; // eax@1

  memmove(dst, src, 2 * ((a2 - (signed int)src) >> 1));
  return 2 * ((a2 - (signed int)src) >> 1) + v3;
}

//----- (00420E40) --------------------------------------------------------
Item::ItemInfo *__cdecl std::_Uninit_copy<Item::ItemInfo___Item::ItemInfo___std::allocator<Item::ItemInfo>>(Item::ItemInfo *_First, Item::ItemInfo *_Last, Item::ItemInfo *_Dest, std::allocator<Item::ItemInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  Item::ItemInfo *v5; // esi@1
  Item::ItemInfo *v6; // edi@2
  Item::ItemInfo *result; // eax@6

  v5 = _First;
  if ( _First == _Last )
  {
    result = _Dest;
  }
  else
  {
    v6 = _Dest;
    do
    {
      if ( v6 )
        Item::ItemInfo::ItemInfo(v6, v5);
      ++v5;
      ++v6;
    }
    while ( v5 != _Last );
    result = v6;
  }
  return result;
}

//----- (00420E80) --------------------------------------------------------
void __cdecl std::_Adjust_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, int _Hole, int _Bottom, Item::ItemInfo _Val)
{
  int v4; // edi@1
  int v5; // eax@1
  bool i; // zf@1
  Item::ItemInfo v7; // [sp-268h] [bp-278h]@7

  v4 = _Hole;
  v5 = 2 * _Hole + 2;
  for ( i = v5 == _Bottom; v5 < _Bottom; i = v5 == _Bottom )
  {
    if ( *(_WORD *)(616 * v5 + *(_DWORD *)&_First) < *(_WORD *)(*(_DWORD *)&_First + 616 * v5 - 616) )
      --v5;
    memcpy((void *)(*(_DWORD *)&_First + 616 * v4), (const void *)(*(_DWORD *)&_First + 616 * v5), 0x268u);
    v4 = v5;
    v5 = 2 * v5 + 2;
  }
  if ( i )
  {
    memcpy((void *)(*(_DWORD *)&_First + 616 * v4), (const void *)(616 * _Bottom + *(_DWORD *)&_First - 616), 0x268u);
    v4 = _Bottom - 1;
  }
  Item::ItemInfo::ItemInfo(&v7, &_Val);
  std::_Push_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(
    _First,
    v4,
    _Hole,
    v7);
}

//----- (00420F30) --------------------------------------------------------
bool __thiscall CParseDelimitedData::operator__(CParseDelimitedData *this, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *ParserArray, Item::ItemInfo *itemInfo)
{
  ItemDataParser::ParseData *v3; // esi@1
  CTokenlizedFile **v4; // edi@1
  const char *v5; // eax@2
  bool result; // al@5
  int v7; // [sp-10h] [bp-20h]@6
  const char *v8; // [sp-Ch] [bp-1Ch]@6

  v3 = ParserArray->_Myfirst;
  v4 = (CTokenlizedFile **)this;
  if ( v3 == ParserArray->_Mylast )
  {
LABEL_5:
    result = 1;
  }
  else
  {
    while ( 1 )
    {
      v5 = CTokenlizedFile::GetStringValue(*v4, v3->m_szColumnName);
      if ( !v5 )
      {
        v8 = "  ";
        v7 = 62;
        goto LABEL_8;
      }
      if ( !v3->m_fnParseFunc(itemInfo, v5) )
        break;
      ++v3;
      if ( v3 == ParserArray->_Mylast )
        goto LABEL_5;
    }
    v8 = "  . Line:%d, ColumnName:%s";
    v7 = 69;
LABEL_8:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CParseDelimitedData::operator`()'",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
      v7,
      v8);
    result = 0;
  }
  return result;
}

//----- (00420FC0) --------------------------------------------------------
unsigned __int16 *__thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ufill(std::vector<unsigned short,std::allocator<unsigned short> > *this, unsigned __int16 *_Ptr, unsigned int _Count, const unsigned __int16 *_Val)
{
  unsigned __int16 *v4; // eax@1
  unsigned int v5; // ecx@2

  v4 = _Ptr;
  if ( _Count )
  {
    v5 = _Count;
    do
    {
      *v4 = *_Val;
      ++v4;
      --v5;
    }
    while ( v5 );
  }
  return &_Ptr[_Count];
}

//----- (00420FF0) --------------------------------------------------------
void __cdecl std::_Uninit_fill_n<Item::ItemInfo___unsigned_int_Item::ItemInfo_std::allocator<Item::ItemInfo>>(Item::ItemInfo *_First, unsigned int _Count, Item::ItemInfo *_Val, std::allocator<Item::ItemInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  Item::ItemInfo *v5; // esi@2
  unsigned int v6; // edi@2

  if ( _Count )
  {
    v5 = _First;
    v6 = _Count;
    do
    {
      if ( v5 )
        Item::ItemInfo::ItemInfo(v5, _Val);
      ++v5;
      --v6;
    }
    while ( v6 );
  }
}

//----- (00421020) --------------------------------------------------------
void __cdecl std::_Median<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Mid, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last)
{
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v3; // esi@1
  int v4; // eax@1
  int v5; // eax@2
  int v6; // edi@2
  Item::ItemInfo *v7; // ebx@2
  int v8; // ebp@2
  bool v9; // cf@2
  Item::ItemInfo *v10; // esi@8
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v11; // eax@14
  Item::ItemInfo *v12; // esi@14
  unsigned __int16 v13; // cx@14
  Item::ItemInfo *v14; // edi@14
  Item::ItemInfo *_Firsta; // [sp+10h] [bp+4h]@2

  v3 = _First;
  v4 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616;
  if ( v4 <= 40 )
  {
    if ( **(_WORD **)&_Mid < **(_WORD **)&_First )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Mid, *(Item::ItemInfo **)&_First);
    if ( **(_WORD **)&_Last < **(_WORD **)&_Mid )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Last, *(Item::ItemInfo **)&_Mid);
    if ( **(_WORD **)&_Mid < **(_WORD **)&_First )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Mid, *(Item::ItemInfo **)&_First);
  }
  else
  {
    v5 = (v4 + 1) / 8;
    v6 = 616 * v5;
    v7 = (Item::ItemInfo *)(616 * v5 + *(_DWORD *)&_First);
    v8 = 1232 * v5;
    v9 = v7->m_usProtoTypeID < **(_WORD **)&_First;
    _Firsta = (Item::ItemInfo *)(616 * v5 + *(_DWORD *)&_First);
    if ( v9 )
      std::swap<Item::ItemInfo>(v7, *(Item::ItemInfo **)&v3);
    if ( *(_WORD *)(*(_DWORD *)&v3 + v8) < v7->m_usProtoTypeID )
      std::swap<Item::ItemInfo>((Item::ItemInfo *)(*(_DWORD *)&v3 + v8), v7);
    if ( v7->m_usProtoTypeID < **(_WORD **)&v3 )
      std::swap<Item::ItemInfo>(v7, *(Item::ItemInfo **)&v3);
    v10 = (Item::ItemInfo *)(*(_DWORD *)&_Mid - v6);
    if ( **(_WORD **)&_Mid < *(_WORD *)(*(_DWORD *)&_Mid - v6) )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Mid, (Item::ItemInfo *)(*(_DWORD *)&_Mid - v6));
    if ( *(_WORD *)(v6 + *(_DWORD *)&_Mid) < **(_WORD **)&_Mid )
      std::swap<Item::ItemInfo>((Item::ItemInfo *)(v6 + *(_DWORD *)&_Mid), *(Item::ItemInfo **)&_Mid);
    if ( **(_WORD **)&_Mid < v10->m_usProtoTypeID )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Mid, v10);
    v11 = _Last;
    v12 = (Item::ItemInfo *)(*(_DWORD *)&_Last - v6);
    v13 = *(_WORD *)(*(_DWORD *)&_Last - v6);
    v14 = (Item::ItemInfo *)(*(_DWORD *)&_Last - v8);
    if ( v13 < *(_WORD *)(*(_DWORD *)&_Last - v8) )
    {
      std::swap<Item::ItemInfo>(v12, v14);
      v11 = _Last;
    }
    if ( **(_WORD **)&v11 < v12->m_usProtoTypeID )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&v11, v12);
    if ( v12->m_usProtoTypeID < v14->m_usProtoTypeID )
      std::swap<Item::ItemInfo>(v12, v14);
    if ( **(_WORD **)&_Mid < _Firsta->m_usProtoTypeID )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Mid, _Firsta);
    if ( v12->m_usProtoTypeID < **(_WORD **)&_Mid )
      std::swap<Item::ItemInfo>(v12, *(Item::ItemInfo **)&_Mid);
    if ( **(_WORD **)&_Mid < _Firsta->m_usProtoTypeID )
      std::swap<Item::ItemInfo>(*(Item::ItemInfo **)&_Mid, _Firsta);
  }
}

//----- (004211B0) --------------------------------------------------------
void __cdecl std::_Make_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, int *__formal, Item::ItemInfo *a4)
{
  int v4; // esi@1
  Item::ItemInfo *v5; // ebx@2
  Item::ItemInfo v6; // [sp-268h] [bp-278h]@3

  v4 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616 / 2;
  if ( v4 > 0 )
  {
    v5 = (Item::ItemInfo *)(*(_DWORD *)&_First + 616 * v4);
    do
    {
      --v5;
      --v4;
      Item::ItemInfo::ItemInfo(&v6, v5);
      std::_Adjust_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(
        _First,
        v4,
        (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616,
        v6);
    }
    while ( v4 > 0 );
  }
}

//----- (00421220) --------------------------------------------------------
void __cdecl std::_Pop_heap_0<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_Item::ItemInfo>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, Item::ItemInfo *__formal)
{
  signed int v3; // edx@1
  int v4; // esi@1
  Item::ItemInfo v5; // [sp-268h] [bp-4E0h]@1
  Item::ItemInfo this; // [sp+10h] [bp-268h]@1

  Item::ItemInfo::ItemInfo(&this, (Item::ItemInfo *)(*(_DWORD *)&_Last - 616));
  v3 = (signed int)((unsigned __int64)(892460737i64 * (*(_DWORD *)&_Last - 616 - *(_DWORD *)&_First)) >> 32) >> 7;
  memcpy((void *)(*(_DWORD *)&_Last - 616), *(const void **)&_First, 0x268u);
  v4 = v3 + ((unsigned int)v3 >> 31);
  Item::ItemInfo::ItemInfo(&v5, &this);
  std::_Adjust_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(
    _First,
    0,
    v4,
    v5);
}

//----- (004212A0) --------------------------------------------------------
void __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *this)
{
  std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *v1; // esi@1

  v1 = this;
  if ( this->_Myfirst )
    operator delete(this->_Myfirst);
  v1->_Myfirst = 0;
  v1->_Mylast = 0;
  v1->_Myend = 0;
}

//----- (004212D0) --------------------------------------------------------
std::pair<std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator,std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::pair<std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator,std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator> *result, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last)
{
  int v3; // ebx@1
  int v4; // esi@1
  unsigned __int16 v5; // ax@2
  unsigned __int16 v6; // cx@6
  Item::ItemInfo *v7; // edi@11
  const void *v8; // ebp@11
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v9; // edx@17
  bool v10; // zf@17
  void *v11; // edi@28
  const void *v12; // esi@28
  Item::ItemInfo *v13; // ST08_4@28
  void *v14; // ST24_4@28
  Item::ItemInfo *v15; // ST08_4@33
  void *v16; // ST24_4@33
  std::pair<std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator,std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator> *v17; // eax@34
  int _Plast; // [sp+0h] [bp-10E8h]@1
  Item::ItemInfo *_Glast; // [sp+4h] [bp-10E4h]@11
  const void *v20; // [sp+8h] [bp-10E0h]@18
  char v21; // [sp+Ch] [bp-10DCh]@21
  char v22; // [sp+274h] [bp-E74h]@28
  char v23; // [sp+4DCh] [bp-C0Ch]@31
  char v24; // [sp+744h] [bp-9A4h]@27
  char v25; // [sp+9ACh] [bp-73Ch]@32
  Item::ItemInfo this; // [sp+C14h] [bp-4D4h]@15
  char v27; // [sp+E7Ch] [bp-26Ch]@33

  v3 = *(_DWORD *)&_First + 616 * (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616 / 2;
  std::_Median<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(
    _First,
    (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)(*(_DWORD *)&_First
                                                                          + 616
                                                                          * (*(_DWORD *)&_Last - *(_DWORD *)&_First)
                                                                          / 616
                                                                          / 2),
    (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)(*(_DWORD *)&_Last - 616));
  v4 = v3 + 616;
  for ( _Plast = v3 + 616; *(unsigned int *)&_First < v3; v3 -= 616 )
  {
    v5 = *(_WORD *)(v3 - 616);
    if ( *(_WORD *)v3 > v5 )
      break;
    if ( *(_WORD *)v3 < v5 )
      break;
  }
  if ( v4 < *(unsigned int *)&_Last )
  {
    v6 = *(_WORD *)v3;
    do
    {
      if ( v6 > *(_WORD *)v4 )
        break;
      if ( v6 < *(_WORD *)v4 )
        break;
      v4 += 616;
    }
    while ( v4 < *(unsigned int *)&_Last );
    _Plast = v4;
  }
  v7 = (Item::ItemInfo *)v3;
  v8 = (const void *)v4;
  for ( _Glast = (Item::ItemInfo *)v3; ; v7 = _Glast )
  {
    while ( 1 )
    {
      for ( ; (unsigned int)v8 < *(_DWORD *)&_Last; v8 = (char *)v8 + 616 )
      {
        if ( *(_WORD *)v8 <= *(_WORD *)v3 )
        {
          if ( *(_WORD *)v8 < *(_WORD *)v3 )
            break;
          _Plast = v4 + 616;
          Item::ItemInfo::ItemInfo(&this, (Item::ItemInfo *)v4);
          memcpy((void *)v4, v8, 0x268u);
          memcpy((void *)v8, &this, 0x268u);
          v4 += 616;
          v7 = _Glast;
        }
      }
      v9 = _First;
      v10 = v7 == (Item::ItemInfo *)_First;
      if ( (unsigned int)v7 > *(_DWORD *)&_First )
      {
        v20 = &v7[-1];
        do
        {
          if ( *(_WORD *)v3 <= *(_WORD *)v20 )
          {
            if ( *(_WORD *)v3 < *(_WORD *)v20 )
              break;
            v3 -= 616;
            Item::ItemInfo::ItemInfo((Item::ItemInfo *)&v21, (Item::ItemInfo *)v3);
            v9 = _First;
            memcpy((void *)v3, v20, 0x268u);
            memcpy((void *)v20, &v21, 0x268u);
            v4 = _Plast;
            v7 = _Glast;
          }
          --v7;
          _Glast = v7;
          v20 = (char *)v20 - 616;
        }
        while ( *(_DWORD *)&v9 < (unsigned int)v7 );
        v10 = v7 == (Item::ItemInfo *)v9;
      }
      if ( v10 )
        break;
      --v7;
      _Glast = v7;
      if ( v8 == (const void *)_Last )
      {
        v3 -= 616;
        if ( v7 != (Item::ItemInfo *)v3 )
        {
          Item::ItemInfo::ItemInfo((Item::ItemInfo *)&v23, v7);
          memcpy((void *)v7, (const void *)v3, 0x268u);
          memcpy((void *)v3, &v23, 0x268u);
          v4 = _Plast;
        }
        v4 -= 616;
        _Plast = v4;
        Item::ItemInfo::ItemInfo((Item::ItemInfo *)&v25, (Item::ItemInfo *)v3);
        memcpy((void *)v3, (const void *)v4, 0x268u);
        memcpy((void *)v4, &v25, 0x268u);
      }
      else
      {
        v15 = (Item::ItemInfo *)v8;
        v16 = (void *)v8;
        v8 = (char *)v8 + 616;
        Item::ItemInfo::ItemInfo((Item::ItemInfo *)&v27, v15);
        memcpy(v16, v7, 0x268u);
        memcpy((void *)v7, &v27, 0x268u);
        v4 = _Plast;
      }
    }
    if ( v8 == (const void *)_Last )
      break;
    if ( (const void *)v4 != v8 )
    {
      Item::ItemInfo::ItemInfo((Item::ItemInfo *)&v24, (Item::ItemInfo *)v3);
      memcpy((void *)v3, (const void *)v4, 0x268u);
      memcpy((void *)_Plast, &v24, 0x268u);
      v4 = _Plast;
    }
    v11 = (void *)v3;
    _Plast = v4 + 616;
    v12 = v8;
    v13 = (Item::ItemInfo *)v3;
    v14 = (void *)v8;
    v8 = (char *)v8 + 616;
    v3 += 616;
    Item::ItemInfo::ItemInfo((Item::ItemInfo *)&v22, v13);
    memcpy(v11, v12, 0x268u);
    memcpy(v14, &v22, 0x268u);
    v4 = _Plast;
  }
  v17 = result;
  *(_DWORD *)&result->second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v4;
  *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v3;
  return v17;
}

//----- (004215F0) --------------------------------------------------------
void __cdecl std::_Insertion_sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last)
{
  int i; // esi@2
  unsigned __int16 v3; // cx@3
  int v4; // eax@7
  int v5; // edx@8
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v6; // [sp-18h] [bp-20h]@6
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v7; // [sp-14h] [bp-1Ch]@6
  int v8; // [sp-10h] [bp-18h]@6
  int *v9; // [sp-Ch] [bp-14h]@6
  Item::ItemInfo *v10; // [sp-8h] [bp-10h]@6

  if ( _First != _Last )
  {
    for ( i = *(_DWORD *)&_First + 616; i != _Last; i += 616 )
    {
      v3 = *(_WORD *)i;
      if ( *(_WORD *)i >= **(_WORD **)&_First )
      {
        v4 = i - 616;
        if ( v3 >= *(_WORD *)(i - 616) )
          continue;
        do
        {
          v5 = v4;
          v4 -= 616;
        }
        while ( v3 < *(_WORD *)v4 );
        if ( v5 == i || i == i + 616 )
          continue;
        v10 = 0;
        v9 = 0;
        v8 = i + 616;
        v7 = (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)i;
        v6 = (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)v5;
      }
      else
      {
        if ( _First == i || i == i + 616 )
          continue;
        v10 = 0;
        v9 = 0;
        v8 = i + 616;
        v7 = (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)i;
        v6 = _First;
      }
      std::_Rotate<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(
        v6,
        v7,
        (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)v8,
        v9,
        v10);
    }
  }
}

//----- (00421680) --------------------------------------------------------
Item::ItemInfo *__thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_Ufill(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, Item::ItemInfo *_Ptr, unsigned int _Count, Item::ItemInfo *_Val)
{
  std::_Uninit_fill_n<Item::ItemInfo___unsigned_int_Item::ItemInfo_std::allocator<Item::ItemInfo>>(
    _Ptr,
    _Count,
    _Val,
    &this->baseclass_0._Alval,
    (std::_Nonscalar_ptr_iterator_tag)_Val);
  return &_Ptr[_Count];
}

//----- (004216B0) --------------------------------------------------------
void __cdecl std::sort_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last)
{
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator i; // esi@1

  for ( i = _Last; (*(_DWORD *)&i - *(_DWORD *)&_First) / 616 > 1; *(_DWORD *)&i -= 616 )
    std::_Pop_heap_0<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_Item::ItemInfo>(_First, i, 0);
}

//----- (00421710) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Insert(...)
{
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *v5; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v6; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v7; // eax@4
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v8; // eax@7
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v9; // eax@9
  int v10; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v11; // esi@11
  int v12; // ecx@12
  int v13; // ebp@12
  int v14; // edx@12
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *v15; // eax@24
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v18; // [sp+4Ch] [bp-4h]@2
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Vala; // [sp+60h] [bp+10h]@4

  v5 = this;
  if ( this->_Mysize >= 0x1FFFFFFE )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "map/set<T> too long", 0x13u);
    v18 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  v6 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(
         this,
         this->_Myhead,
         _Wherenode,
         this->_Myhead,
         _Val,
         0);
  v7 = v5->_Myhead;
  _Vala = v6;
  ++v5->_Mysize;
  if ( _Wherenode == v7 )
  {
    v7->_Parent = v6;
    v5->_Myhead->_Left = v6;
    v5->_Myhead->_Right = v6;
  }
  else
  {
    if ( _Addleft )
    {
      _Wherenode->_Left = v6;
      v8 = v5->_Myhead;
      if ( _Wherenode == v8->_Left )
        v8->_Left = v6;
    }
    else
    {
      _Wherenode->_Right = v6;
      v9 = v5->_Myhead;
      if ( _Wherenode == v9->_Right )
        v9->_Right = v6;
    }
  }
  v10 = (int)&v6->_Parent;
  v11 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v6;
  if ( !v6->_Parent->_Color )
  {
    while ( 1 )
    {
      v12 = *(_DWORD *)v10;
      v13 = *(_DWORD *)(*(_DWORD *)v10 + 4);
      v14 = *(_DWORD *)v13;
      if ( *(_DWORD *)v10 == *(_DWORD *)v13 )
      {
        v14 = *(_DWORD *)(v13 + 8);
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(v12 + 8) )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      else
      {
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v12 )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      *(_BYTE *)(*(_DWORD *)v10 + 20) = 1;
      *(_BYTE *)(v14 + 20) = 1;
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)v10 + 4) + 20) = 0;
      v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(*(_DWORD *)v10 + 4);
LABEL_22:
      v10 = (int)&v11->_Parent;
      if ( v11->_Parent->_Color )
      {
        v6 = _Vala;
        break;
      }
    }
  }
  v15 = result;
  v5->_Myhead->_Parent->_Color = 1;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6;
  return v15;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (004218C0) --------------------------------------------------------
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Xlen(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00421930) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 21) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::const_iterator *)&_Where);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 21) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
      v9->_Left = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v7;
      else
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 21) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 20);
  *(_BYTE *)(*(_DWORD *)&v6 + 20) = *(_BYTE *)(*(_DWORD *)&v4 + 20);
  *(_BYTE *)(*(_DWORD *)&v4 + 20) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 20) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 20) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
                (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 20) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 20) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (00421BF0) --------------------------------------------------------
void __cdecl std::_Sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int>(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _First, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Last, int _Ideal)
{
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v3; // ebx@1
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v4; // edi@1
  int v5; // eax@1
  signed int v6; // esi@2
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v7; // ebp@4
  std::pair<std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator,std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator> _Mid; // [sp+10h] [bp-8h]@4

  v3 = _First;
  v4 = _Last;
  v5 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 616;
  if ( v5 <= 32 )
    goto LABEL_8;
  v6 = _Ideal;
  while ( v6 > 0 )
  {
    std::_Unguarded_partition<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(&_Mid, v3, v4);
    v7 = *(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v6 = v6 / 2 / 2 + v6 / 2;
    if ( (*(_DWORD *)&_Mid - *(_DWORD *)&v3) / 616 >= (*(_DWORD *)&v4
                                                     - *(_DWORD *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0])
                                                    / 616 )
    {
      std::_Sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int>(_Mid.second, v4, v6);
      v4 = *(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *)&_Mid;
    }
    else
    {
      std::_Sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int>(v3, _Mid.first, v6);
      v3 = v7;
    }
    v5 = (*(_DWORD *)&v4 - *(_DWORD *)&v3) / 616;
    if ( v5 <= 32 )
      goto LABEL_8;
  }
  if ( v5 <= 32 )
  {
LABEL_8:
    if ( v5 > 1 )
      std::_Insertion_sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(v3, v4);
  }
  else
  {
    if ( (*(_DWORD *)&v4 - *(_DWORD *)&v3) / 616 > 1 )
      std::_Make_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int_Item::ItemInfo>(
        v3,
        v4,
        0,
        0);
    std::sort_heap<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator>(v3, v4);
  }
}

//----- (00421D20) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator,bool> *result, std::pair<enum Item::ItemType::Type const ,unsigned char> *_Val)
{
  std::pair<enum Item::ItemType::Type const ,unsigned char> *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *v4; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v5; // esi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v6; // eax@1
  bool v7; // cl@1
  Item::ItemType::Type v8; // edx@2
  std::pair<enum Item::ItemType::Type const ,unsigned char> *v9; // edx@7
  int v10; // edx@9
  std::pair<std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator,bool> *v11; // eax@9
  int v12; // ecx@12
  char _Addleft; // [sp+Ch] [bp-4h]@1

  v3 = _Val;
  v4 = this;
  v5 = this->_Myhead;
  v6 = v5->_Parent;
  v7 = 1;
  _Addleft = 1;
  if ( !v6->_Isnil )
  {
    v8 = _Val->first;
    do
    {
      v7 = v8 < v6->_Myval.first;
      v5 = v6;
      _Addleft = v8 < v6->_Myval.first;
      if ( v8 >= v6->_Myval.first )
        v6 = v6->_Right;
      else
        v6 = v6->_Left;
    }
    while ( !v6->_Isnil );
  }
  v9 = (std::pair<enum Item::ItemType::Type const ,unsigned char> *)v5;
  _Val = (std::pair<enum Item::ItemType::Type const ,unsigned char> *)v5;
  if ( v7 )
  {
    if ( v5 == v4->_Myhead->_Left )
    {
      v10 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Insert(
                          v4,
                          (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)&_Val,
                          1,
                          v5,
                          v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      v11 = result;
      result->second = 1;
      *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v10;
      return v11;
    }
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    v9 = _Val;
  }
  if ( *(_DWORD *)&v9[1].second >= v3->first )
  {
    v11 = result;
    result->second = 0;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v9;
  }
  else
  {
    v12 = *(_DWORD *)&std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Insert(
                        v4,
                        (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)&_Val,
                        _Addleft,
                        v5,
                        v3)->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v11 = result;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v12;
    result->second = 1;
  }
  return v11;
}

//----- (00421DE0) --------------------------------------------------------
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::_Insert_n(std::vector<unsigned short,std::allocator<unsigned short> > *this, std::vector<unsigned short,std::allocator<unsigned short> >::iterator _Where, unsigned int _Count, const unsigned __int16 *_Val)
{
  std::vector<unsigned short,std::allocator<unsigned short> > *v4; // esi@1
  unsigned __int16 *v5; // edx@1
  signed int v6; // eax@2
  unsigned int v7; // edi@4
  signed int v8; // ecx@6
  int v9; // ecx@11
  int v10; // eax@15
  int v11; // ecx@18
  int v12; // eax@22
  void *v13; // eax@25
  unsigned int v14; // ebp@25
  int v15; // eax@25
  unsigned __int16 *v16; // eax@25
  unsigned __int16 *v17; // eax@25
  int v18; // ecx@26
  int v19; // edi@28
  int v20; // ebp@31
  std::vector<unsigned short,std::allocator<unsigned short> >::iterator v21; // ebx@31
  int v22; // edx@31
  unsigned int v23; // eax@31
  int v24; // ecx@32
  unsigned __int16 *v25; // edi@33
  void *_Newvec; // [sp+0h] [bp-4h]@25
  unsigned int _Wherea; // [sp+8h] [bp+4h]@31
  int _Counta; // [sp+Ch] [bp+8h]@25

  v4 = this;
  v5 = this->_Myfirst;
  _Val = (const unsigned __int16 *)*_Val;
  if ( v5 )
    v6 = this->_Myend - v5;
  else
    v6 = 0;
  v7 = _Count;
  if ( _Count )
  {
    if ( v5 )
      v8 = this->_Mylast - v5;
    else
      v8 = 0;
    if ( 2147483647 - v8 < _Count )
      std::vector<unsigned_short_std::allocator<unsigned_short>>::_Xlen((std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *)v4);
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( v6 >= _Count + v9 )
    {
      v20 = (int)v4->_Mylast;
      v21 = _Where;
      v22 = (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 1;
      v23 = 2 * _Count;
      _Wherea = 2 * _Count;
      if ( v22 >= _Count )
      {
        v25 = (unsigned __int16 *)(v20 - v23);
        v4->_Mylast = (unsigned __int16 *)std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ucopy<unsigned_short__>(
                                            (char *)(v20 - v23),
                                            v20,
                                            (char *)v20);
        std::copy_backward<unsigned_short___unsigned_short__>(*(unsigned __int16 **)&v21, v25, (unsigned __int16 *)v20);
        std::fill<unsigned_short___unsigned_short>(
          *(unsigned __int16 **)&v21,
          (unsigned __int16 *)(*(_DWORD *)&v21 + _Wherea),
          (const unsigned __int16 *)&_Val);
      }
      else
      {
        std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ucopy<unsigned_short__>(
          *(char **)&v21,
          v20,
          (char *)(*(_DWORD *)&v21 + v23));
        std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ufill(
          v4,
          v4->_Mylast,
          _Count - ((signed int)((char *)v4->_Mylast - *(_DWORD *)&v21) >> 1),
          (const unsigned __int16 *)&_Val);
        v24 = (int)&v4->_Mylast[_Wherea / 2];
        v4->_Mylast = (unsigned __int16 *)v24;
        std::fill<unsigned_short___unsigned_short>(
          *(unsigned __int16 **)&v21,
          (unsigned __int16 *)(v24 - _Wherea),
          (const unsigned __int16 *)&_Val);
      }
    }
    else
    {
      if ( 2147483647 - ((unsigned int)v6 >> 1) >= v6 )
        v10 = ((unsigned int)v6 >> 1) + v6;
      else
        v10 = 0;
      if ( v5 )
        v11 = v4->_Mylast - v5;
      else
        v11 = 0;
      if ( v10 < _Count + v11 )
      {
        if ( v5 )
          v12 = v4->_Mylast - v5;
        else
          v12 = 0;
        v10 = _Count + v12;
      }
      _Counta = 2 * v10;
      v13 = operator new(2 * v10);
      v14 = 2 * ((signed int)(*(_DWORD *)&_Where - (unsigned int)v4->_Myfirst) >> 1);
      _Newvec = v13;
      memmove((char *)v13, (char *)v4->_Myfirst, v14);
      v16 = std::vector<unsigned_short_std::allocator<unsigned_short>>::_Ufill(
              v4,
              (unsigned __int16 *)(v14 + v15),
              v7,
              (const unsigned __int16 *)&_Val);
      memmove((char *)v16, *(char **)&_Where, 2 * ((signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 1));
      v17 = v4->_Myfirst;
      if ( v17 )
        v18 = v4->_Mylast - v17;
      else
        v18 = 0;
      v19 = v18 + v7;
      if ( v17 )
        operator delete(v4->_Myfirst);
      v4->_Myend = (unsigned __int16 *)((char *)_Newvec + _Counta);
      v4->_Mylast = (unsigned __int16 *)((char *)_Newvec + 2 * v19);
      v4->_Myfirst = (unsigned __int16 *)_Newvec;
    }
  }
}

//----- (00421FB0) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(...)
{
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 21) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 21);
                  i = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 21);
                  j = (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (00422070) --------------------------------------------------------
void __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_Insert_n(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Where, unsigned int _Count, Item::ItemInfo *_Val)
{
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *v4; // esi@1
  Item::ItemInfo *v5; // ebx@1
  unsigned int v6; // ecx@2
  signed int v7; // edx@3
  int v8; // eax@6
  int v9; // eax@11
  int v10; // ecx@15
  int v11; // eax@18
  int v12; // ebx@22
  void *v13; // eax@22
  Item::ItemInfo *v14; // ecx@22
  int v15; // eax@22
  unsigned int v16; // edi@24
  char *v17; // eax@26
  char *v18; // edi@26
  Item::ItemInfo *v19; // ecx@27
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v20; // ebx@27
  Item::ItemInfo *v21; // ecx@28
  Item::ItemInfo *v22; // ST20_4@28
  unsigned int v23; // edi@28
  int v24; // [sp-Ch] [bp-290h]@1
  Item::ItemInfo *_Ptr; // [sp+0h] [bp-284h]@22
  char *_Newvec; // [sp+4h] [bp-280h]@22
  Item::ItemInfo _Tmp; // [sp+8h] [bp-27Ch]@1
  unsigned int cookie; // [sp+270h] [bp-14h]@30
  int *v29; // [sp+274h] [bp-10h]@1
  int v30; // [sp+280h] [bp-4h]@22
  Item::ItemInfo *_Wherea; // [sp+28Ch] [bp+8h]@29
  Item::ItemInfo *_Vala; // [sp+294h] [bp+10h]@27

  v29 = &v24;
  v4 = this;
  Item::ItemInfo::ItemInfo(&_Tmp, _Val);
  v5 = v4->_Myfirst;
  if ( v5 )
  {
    v7 = (signed int)((unsigned __int64)(892460737i64 * (unsigned int)((char *)v4->_Myend - (char *)v5)) >> 32) >> 7;
    v6 = v7 + ((unsigned int)v7 >> 31);
  }
  else
  {
    v6 = 0;
  }
  if ( _Count )
  {
    if ( v5 )
      v8 = v4->_Mylast - v5;
    else
      v8 = 0;
    if ( 6972349 - v8 < _Count )
      std::vector<unsigned_short_std::allocator<unsigned_short>>::_Xlen(v4);
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( v6 >= _Count + v9 )
    {
      v19 = v4->_Mylast;
      v20 = _Where;
      _Vala = v4->_Mylast;
      if ( (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) / 616 >= _Count )
      {
        _Wherea = &v19[-_Count];
        v4->_Mylast = std::_Uninit_copy<Item::ItemInfo___Item::ItemInfo___std::allocator<Item::ItemInfo>>(
                        &v19[-_Count],
                        v19,
                        v19,
                        &v4->baseclass_0._Alval,
                        (std::_Nonscalar_ptr_iterator_tag)((_BYTE)v19 - 104 * _Count));
        std::copy_backward<Item::ItemInfo___Item::ItemInfo__>(*(Item::ItemInfo **)&v20, _Wherea, _Vala);
        std::fill<Item::ItemInfo___Item::ItemInfo>(
          *(Item::ItemInfo **)&v20,
          (Item::ItemInfo *)(*(_DWORD *)&v20 + 616 * _Count),
          &_Tmp);
      }
      else
      {
        std::_Uninit_copy<Item::ItemInfo___Item::ItemInfo___std::allocator<Item::ItemInfo>>(
          *(Item::ItemInfo **)&_Where,
          v19,
          (Item::ItemInfo *)(*(_DWORD *)&_Where + 616 * _Count),
          &v4->baseclass_0._Alval,
          (std::_Nonscalar_ptr_iterator_tag)(104 * _Count));
        v21 = v4->_Mylast;
        v22 = v4->_Mylast;
        v30 = 2;
        std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_Ufill(
          v4,
          v22,
          _Count - (signed int)((char *)v21 - *(_DWORD *)&_Where) / 616,
          &_Tmp);
        v23 = (unsigned int)&v4->_Mylast[_Count];
        v4->_Mylast = (Item::ItemInfo *)v23;
        std::fill<Item::ItemInfo___Item::ItemInfo>(
          *(Item::ItemInfo **)&_Where,
          (Item::ItemInfo *)(v23 - 616 * _Count),
          &_Tmp);
      }
    }
    else
    {
      if ( 6972349 - (v6 >> 1) >= v6 )
        v10 = (v6 >> 1) + v6;
      else
        v10 = 0;
      if ( v5 )
        v11 = v4->_Mylast - v5;
      else
        v11 = 0;
      if ( v10 < _Count + v11 )
        v10 = _Count + std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::size(v4);
      v12 = 616 * v10;
      v13 = operator new(616 * v10);
      v14 = v4->_Myfirst;
      _Newvec = (char *)v13;
      v30 = 0;
      _Ptr = std::_Uninit_copy<Item::ItemInfo___Item::ItemInfo___std::allocator<Item::ItemInfo>>(
               v14,
               *(Item::ItemInfo **)&_Where,
               (Item::ItemInfo *)v13,
               &v4->baseclass_0._Alval,
               (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<Item::ItemInfo___unsigned_int_Item::ItemInfo_std::allocator<Item::ItemInfo>>(
        _Ptr,
        _Count,
        &_Tmp,
        &v4->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<Item::ItemInfo___Item::ItemInfo___std::allocator<Item::ItemInfo>>(
        *(Item::ItemInfo **)&_Where,
        v4->_Mylast,
        &_Ptr[_Count],
        &v4->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v15 = (int)v4->_Myfirst;
      if ( v15 )
        v15 = (signed int)((char *)v4->_Mylast - v15) / 616;
      v16 = v15 + _Count;
      if ( v4->_Myfirst )
        operator delete((void *)v4->_Myfirst);
      v17 = _Newvec;
      v18 = &_Newvec[616 * v16];
      v4->_Myend = (Item::ItemInfo *)&_Newvec[v12];
      v4->_Mylast = (Item::ItemInfo *)v18;
      v4->_Myfirst = (Item::ItemInfo *)v17;
    }
  }
  __security_check_cookie(cookie);
}

//----- (00422340) --------------------------------------------------------
std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *__thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::insert(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *result, std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator _Where, Item::ItemInfo *_Val)
{
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *v4; // edi@1
  Item::ItemInfo *v5; // esi@1
  int v6; // esi@3
  signed int v7; // edx@4
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *v8; // eax@5

  v4 = this;
  v5 = this->_Myfirst;
  if ( v5 && this->_Mylast - v5 )
  {
    v7 = (signed int)((unsigned __int64)(892460737i64 * (*(_DWORD *)&_Where - (signed int)v5)) >> 32) >> 7;
    v6 = v7 + ((unsigned int)v7 >> 31);
  }
  else
  {
    v6 = 0;
  }
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_Insert_n(this, _Where, 1u, _Val);
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = &v4->_Myfirst[v6];
  return v8;
}

//----- (004223B0) --------------------------------------------------------
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::push_back(std::vector<unsigned short,std::allocator<unsigned short> > *this, const unsigned __int16 *_Val)
{
  unsigned __int16 *v2; // esi@1
  signed int v3; // edx@2
  unsigned __int16 *v4; // eax@6

  v2 = this->_Myfirst;
  if ( v2 )
    v3 = this->_Mylast - v2;
  else
    v3 = 0;
  if ( v2 && v3 < this->_Myend - v2 )
  {
    v4 = this->_Mylast;
    *v4 = *_Val;
    this->_Mylast = v4 + 1;
  }
  else
  {
    std::vector<unsigned_short_std::allocator<unsigned_short>>::_Insert_n(
      this,
      (std::vector<unsigned short,std::allocator<unsigned short> >::iterator)this->_Mylast,
      1u,
      _Val);
  }
}

//----- (00422400) --------------------------------------------------------
void __thiscall std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::push_back(std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *this, Item::ItemInfo *_Val)
{
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *v2; // esi@1
  Item::ItemInfo *v3; // edi@1
  int v4; // ecx@2
  signed int v5; // edx@3
  Item::ItemInfo *v6; // edi@6

  v2 = this;
  v3 = this->_Myfirst;
  if ( v3 )
  {
    v5 = (signed int)((unsigned __int64)(892460737i64 * (unsigned int)((char *)this->_Mylast - (char *)v3)) >> 32) >> 7;
    v4 = v5 + ((unsigned int)v5 >> 31);
  }
  else
  {
    v4 = 0;
  }
  if ( v3 && v4 < v2->_Myend - v3 )
  {
    v6 = v2->_Mylast;
    std::_Uninit_fill_n<Item::ItemInfo___unsigned_int_Item::ItemInfo_std::allocator<Item::ItemInfo>>(
      v2->_Mylast,
      1u,
      _Val,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Val);
    v2->_Mylast = v6 + 1;
  }
  else
  {
    std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::insert(
      v2,
      (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator *)&_Val,
      (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)v2->_Mylast,
      _Val);
  }
}

//----- (00422490) --------------------------------------------------------
void __thiscall std::map<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>>::_map<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>>(std::map<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> > > *this)
{
  std::map<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (004224C0) --------------------------------------------------------
void __thiscall Item::CItemMgr::_CItemMgr(Item::CItemMgr *this)
{
  Item::CItemMgr *v1; // esi@1
  void *v2; // eax@1
  void *v3; // eax@3
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator result; // [sp+10h] [bp-10h]@5
  int v5; // [sp+1Ch] [bp-4h]@1

  v1 = this;
  v2 = (void *)this->m_ItemInfoArray;
  v5 = 4;
  if ( v2 )
  {
    operator delete__(v2);
    v1->m_ItemInfoArray = 0;
  }
  v3 = v1->m_ChemicalArray;
  v1->m_nItemNum = 0;
  if ( v3 )
  {
    operator delete__(v3);
    v1->m_ChemicalArray = 0;
  }
  v1->m_nChemicalNum = 0;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::erase(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator)v1->m_mapRuneItemCnt.baseclass_0._Myhead);
  operator delete(v1->m_mapRuneItemCnt.baseclass_0._Myhead);
  v1->m_mapRuneItemCnt.baseclass_0._Myhead = 0;
  v1->m_mapRuneItemCnt.baseclass_0._Mysize = 0;
  LOBYTE(v5) = 3;
  _eh_vector_destructor_iterator_(
    v1->m_vecCompensation,
    0x10u,
    78,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  LOBYTE(v5) = 2;
  _eh_vector_destructor_iterator_(
    v1->m_vecRuneDropListByLevel,
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  LOBYTE(v5) = 1;
  _eh_vector_destructor_iterator_(
    v1->m_vecNecklaceDropListByLevel,
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  LOBYTE(v5) = 0;
  _eh_vector_destructor_iterator_(
    v1->m_vecRingDropListByLevel,
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  v5 = -1;
  _eh_vector_destructor_iterator_(
    v1->m_vecDropListByLevel,
    0x10u,
    150,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (004225F0) --------------------------------------------------------
bool __thiscall Item::CItemMgr::LoadItemProtoType(Item::CItemMgr *this, const char *szFileName)
{
  ItemDataParser::ParseData *v2; // esi@1
  Item::CItemMgr *v3; // edi@1
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v4; // ebp@10
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v5; // ebx@10
  Item::CItemMgr *v6; // esi@11
  Item::CItemType *v7; // ebx@13
  unsigned __int8 v8; // bl@19
  int v9; // eax@19
  unsigned __int8 v10; // bl@29
  int v11; // eax@29
  int v12; // ecx@36
  bool v13; // al@47
  signed int v14; // edx@67
  int v15; // edi@67
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v16; // eax@67
  unsigned int v17; // esi@70
  void *v18; // edi@70
  void *v19; // edx@73
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator v20; // eax@91
  int v21; // edx@92
  void *v22; // edi@93
  const void *v23; // esi@93
  ItemDataParser::ParseData *v24; // eax@94
  bool result; // al@107
  int v26; // [sp-14h] [bp-8330h]@6
  const unsigned __int16 *v27; // [sp-14h] [bp-8330h]@36
  const char *v28; // [sp-10h] [bp-832Ch]@6
  CParseDelimitedData ParseData; // [sp+0h] [bp-831Ch]@10
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > AccessoryData; // [sp+4h] [bp-8318h]@10
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > EquipItemData; // [sp+14h] [bp-8308h]@10
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > UseItemData; // [sp+24h] [bp-82F8h]@10
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > EtcItemData; // [sp+34h] [bp-82E8h]@10
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > DefaultItemData; // [sp+44h] [bp-82D8h]@10
  Item::CItemMgr *v35; // [sp+54h] [bp-82C8h]@1
  Item::CItemType *ItemType; // [sp+58h] [bp-82C4h]@10
  std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > ItemInfoVector; // [sp+5Ch] [bp-82C0h]@10
  Item::ItemInfo itemInfo; // [sp+6Ch] [bp-82B0h]@5
  CTokenlizedFile TokenlizedFile; // [sp+2D4h] [bp-8048h]@5
  unsigned int v40; // [sp+830Ch] [bp-10h]@107
  int v41; // [sp+8318h] [bp-4h]@5

  v2 = 0;
  v3 = this;
  v35 = this;
  if ( !szFileName )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItemMgr::LoadItemProtoType",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
      150,
      "   ");
    goto LABEL_107;
  }
  if ( this->m_ItemInfoArray )
  {
    operator delete__((void *)this->m_ItemInfoArray);
    v3->m_ItemInfoArray = 0;
  }
  v3->m_nItemNum = 0;
  Item::ItemInfo::ItemInfo(&itemInfo);
  CTokenlizedFile::CTokenlizedFile(&TokenlizedFile, "\t");
  v41 = 0;
  if ( !CTokenlizedFile::Open(&TokenlizedFile, szFileName, "rt") )
  {
    v28 = "   ";
    v26 = 161;
LABEL_9:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItemMgr::LoadItemProtoType",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
      v26,
      v28);
    v41 = -1;
    CTokenlizedFile::_CTokenlizedFile(&TokenlizedFile);
    goto LABEL_107;
  }
  if ( !CTokenlizedFile::ReadColumn(&TokenlizedFile) )
  {
    v28 = "     .";
    v26 = 167;
    goto LABEL_9;
  }
  DefaultItemData._Myfirst = 0;
  DefaultItemData._Mylast = 0;
  DefaultItemData._Myend = 0;
  EquipItemData._Myfirst = 0;
  EquipItemData._Mylast = 0;
  EquipItemData._Myend = 0;
  AccessoryData._Myfirst = 0;
  AccessoryData._Mylast = 0;
  AccessoryData._Myend = 0;
  UseItemData._Myfirst = 0;
  UseItemData._Mylast = 0;
  UseItemData._Myend = 0;
  EtcItemData._Myfirst = 0;
  EtcItemData._Mylast = 0;
  EtcItemData._Myend = 0;
  LOBYTE(v41) = 5;
  ItemDataParser::SetDefaultData(&DefaultItemData);
  ItemDataParser::SetEquipData(&EquipItemData);
  ItemDataParser::SetAccessoryData(&AccessoryData);
  ItemDataParser::SetUseItemData(&UseItemData);
  ItemDataParser::SetEtcItemData(&EtcItemData);
  v4 = 0;
  v5 = 0;
  ItemType = Item::CItemType::GetInstance();
  ItemInfoVector._Myfirst = 0;
  ItemInfoVector._Mylast = 0;
  ItemInfoVector._Myend = 0;
  LOBYTE(v41) = 6;
  ParseData.m_TokenlizedFile = &TokenlizedFile;
  if ( CTokenlizedFile::ReadLine(&TokenlizedFile) )
  {
    v6 = v35;
    while ( 1 )
    {
      Item::ItemInfo::Initialize(&itemInfo);
      if ( !CParseDelimitedData::operator__(&ParseData, &DefaultItemData, &itemInfo) )
      {
        if ( v4 )
          operator delete(*(void **)&v4);
        if ( EtcItemData._Myfirst )
          operator delete(EtcItemData._Myfirst);
        EtcItemData._Myfirst = 0;
        EtcItemData._Mylast = 0;
        EtcItemData._Myend = 0;
        if ( UseItemData._Myfirst )
          operator delete(UseItemData._Myfirst);
        UseItemData._Myfirst = 0;
        UseItemData._Mylast = 0;
        UseItemData._Myend = 0;
        if ( AccessoryData._Myfirst )
          operator delete(AccessoryData._Myfirst);
        AccessoryData._Myfirst = 0;
        AccessoryData._Mylast = 0;
        AccessoryData._Myend = 0;
        if ( EquipItemData._Myfirst )
          operator delete(EquipItemData._Myfirst);
        EquipItemData._Myfirst = 0;
        EquipItemData._Mylast = 0;
        EquipItemData._Myend = 0;
        if ( DefaultItemData._Myfirst )
          operator delete(DefaultItemData._Myfirst);
        DefaultItemData._Myfirst = 0;
        DefaultItemData._Mylast = 0;
        DefaultItemData._Myend = 0;
        goto LABEL_65;
      }
      v7 = ItemType;
      if ( Item::CItemType::IsCorrectItemType(ItemType, 0, itemInfo.m_DetailData.m_cItemType) )
      {
        if ( !CParseDelimitedData::operator__(&ParseData, &EquipItemData, &itemInfo) )
          goto LABEL_66;
        Item::CItemType::SetEquipTypeFlags(v7, &itemInfo);
        if ( itemInfo.m_DetailData.m_wDropOption )
          std::vector<unsigned_short_std::allocator<unsigned_short>>::push_back(
            &v6->m_vecCompensation[(unsigned __int8)itemInfo.m_DetailData.m_cItemType],
            &itemInfo.m_usProtoTypeID);
        if ( itemInfo.m_DetailData.m_cMinDropLevel )
        {
          if ( itemInfo.m_DetailData.m_cMaxDropLevel )
          {
            v8 = itemInfo.m_DetailData.m_cMinDropLevel - 1;
            v9 = (unsigned __int8)(itemInfo.m_DetailData.m_cMinDropLevel - 1);
            if ( v9 <= (unsigned __int8)itemInfo.m_DetailData.m_cMaxDropLevel - 1 )
            {
              do
              {
                if ( v8 <= 0x96u )
                  std::vector<unsigned_short_std::allocator<unsigned_short>>::push_back(
                    &v6->m_vecDropListByLevel[v9],
                    &itemInfo.m_usProtoTypeID);
                else
                  CServerLog::DetailLog(
                    &g_Log,
                    LOG_ERROR,
                    "Item::CItemMgr::LoadItemProtoType",
                    "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
                    224,
                    "MaxDropLevel ");
                ++v8;
                v9 = v8;
              }
              while ( v8 <= (unsigned __int8)itemInfo.m_DetailData.m_cMaxDropLevel - 1 );
            }
          }
        }
        goto LABEL_47;
      }
      if ( !Item::CItemType::IsCorrectItemType(v7, ACCESSORY_TYPE, itemInfo.m_DetailData.m_cItemType) )
      {
        if ( Item::CItemType::IsCorrectItemType(v7, USE_ITEM_TYPE, itemInfo.m_DetailData.m_cItemType) )
        {
          if ( !CParseDelimitedData::operator__(&ParseData, &UseItemData, &itemInfo) )
            goto LABEL_66;
          Item::CItemType::SetUseItemTypeFlags(v7, &itemInfo);
        }
        else
        {
          if ( !CParseDelimitedData::operator__(&ParseData, &EtcItemData, &itemInfo) )
          {
LABEL_66:
            std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)&ItemInfoVector);
            std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)&EtcItemData);
            std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)&UseItemData);
            std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)&AccessoryData);
            std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)&EquipItemData);
            std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)&DefaultItemData);
LABEL_65:
            v41 = -1;
            CTokenlizedFile::_CTokenlizedFile(&TokenlizedFile);
            goto LABEL_107;
          }
          Item::CItemType::SetEtcItemTypeFlags(v7, &itemInfo);
        }
        goto LABEL_47;
      }
      if ( !CParseDelimitedData::operator__(&ParseData, &AccessoryData, &itemInfo) )
        goto LABEL_66;
      Item::CItemType::SetAccessoryTypeFlags(v7, &itemInfo);
      if ( itemInfo.m_DetailData.m_cMinDropLevel )
      {
        if ( itemInfo.m_DetailData.m_cMaxDropLevel )
        {
          v10 = itemInfo.m_DetailData.m_cMinDropLevel - 1;
          v11 = (unsigned __int8)(itemInfo.m_DetailData.m_cMinDropLevel - 1);
          if ( v11 <= (unsigned __int8)itemInfo.m_DetailData.m_cMaxDropLevel - 1 )
            break;
        }
      }
LABEL_47:
      std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::push_back(&ItemInfoVector, &itemInfo);
      v13 = CTokenlizedFile::ReadLine(&TokenlizedFile);
      v4 = (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)ItemInfoVector._Myfirst;
      if ( !v13 )
      {
        v5 = (std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> >::iterator)ItemInfoVector._Mylast;
        v2 = 0;
        goto LABEL_49;
      }
    }
    while ( 1 )
    {
      if ( v10 <= 0x96u )
      {
        if ( *(_QWORD *)&itemInfo.m_EquipAttribute.m_usAttributeValue[18] <= 0ui64 )
        {
          if ( itemInfo.m_DetailData.m_cItemType == 65 )
          {
            v27 = (const unsigned __int16 *)&itemInfo;
            v12 = (int)((char *)v6->m_vecNecklaceDropListByLevel
                      + 16 * ((unsigned __int8)itemInfo.m_DetailData.m_cGrade + 8 * v11));
            goto LABEL_39;
          }
          if ( itemInfo.m_DetailData.m_cItemType == 66 )
          {
            v27 = (const unsigned __int16 *)&itemInfo;
            v12 = (int)((char *)v6->m_vecRingDropListByLevel
                      + 16 * ((unsigned __int8)itemInfo.m_DetailData.m_cGrade + 8 * v11));
            goto LABEL_39;
          }
          if ( itemInfo.m_DetailData.m_cItemType == 67 )
          {
            v27 = (const unsigned __int16 *)&itemInfo;
            v12 = (int)((char *)v6->m_vecRuneDropListByLevel
                      + 16 * ((unsigned __int8)itemInfo.m_DetailData.m_cGrade + 8 * v11));
LABEL_39:
            std::vector<unsigned_short_std::allocator<unsigned_short>>::push_back(
              (std::vector<unsigned short,std::allocator<unsigned short> > *)v12,
              v27);
            goto LABEL_40;
          }
        }
      }
      else
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "Item::CItemMgr::LoadItemProtoType",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
          253,
          "MaxDropLevel ");
      }
LABEL_40:
      ++v10;
      v11 = v10;
      if ( v10 > (unsigned __int8)itemInfo.m_DetailData.m_cMaxDropLevel - 1 )
        goto LABEL_47;
    }
  }
LABEL_49:
  if ( (ItemDataParser::ParseData *)TokenlizedFile.m_lpFile == v2
    || !(((unsigned int)TokenlizedFile.m_lpFile->_flag >> 4) & 1) )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItemMgr::LoadItemProtoType",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
      310,
      "    ");
LABEL_78:
    if ( (ItemDataParser::ParseData *)v4 != v2 )
      operator delete(*(void **)&v4);
    if ( EtcItemData._Myfirst != v2 )
      operator delete(EtcItemData._Myfirst);
    EtcItemData._Myfirst = v2;
    EtcItemData._Mylast = v2;
    EtcItemData._Myend = v2;
    if ( UseItemData._Myfirst != v2 )
      operator delete(UseItemData._Myfirst);
    UseItemData._Myfirst = v2;
    UseItemData._Mylast = v2;
    UseItemData._Myend = v2;
    if ( AccessoryData._Myfirst != v2 )
      operator delete(AccessoryData._Myfirst);
    AccessoryData._Myfirst = v2;
    AccessoryData._Mylast = v2;
    AccessoryData._Myend = v2;
    if ( EquipItemData._Myfirst != v2 )
      operator delete(EquipItemData._Myfirst);
    EquipItemData._Myfirst = v2;
    EquipItemData._Mylast = v2;
    EquipItemData._Myend = v2;
    if ( DefaultItemData._Myfirst != v2 )
      operator delete(DefaultItemData._Myfirst);
    DefaultItemData._Myfirst = v2;
    DefaultItemData._Mylast = v2;
    DefaultItemData._Myend = v2;
    goto LABEL_65;
  }
  v14 = (signed int)((unsigned __int64)(892460737i64 * (*(_DWORD *)&v5 - *(_DWORD *)&v4)) >> 32) >> 7;
  v15 = v14 + ((unsigned int)v14 >> 31);
  std::_Sort<std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::iterator_int>(
    v4,
    v5,
    v14 + ((unsigned int)v14 >> 31));
  v16 = v4;
  if ( v4 != *(_DWORD *)&v5 - 616 )
  {
    while ( **(_WORD **)&v16 != *(_WORD *)(*(_DWORD *)&v16 + 616) )
    {
      *(_DWORD *)&v16 += 616;
      if ( v16 == *(_DWORD *)&v5 - 616 )
        goto LABEL_70;
    }
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItemMgr::LoadItemProtoType",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
      321,
      "  ");
    goto LABEL_78;
  }
LABEL_70:
  v17 = v4 != 0 ? v15 : 0;
  v35->m_nItemNum = v17;
  v18 = operator new__(616 * (v4 != 0 ? v15 : 0));
  ItemType = (Item::CItemType *)v18;
  LOBYTE(v41) = 7;
  if ( v18 )
  {
    ParseData.m_TokenlizedFile = (CTokenlizedFile *)v18;
    if ( ((v17 - 1) & 0x80000000u) == 0 )
    {
      do
      {
        Item::ItemInfo::ItemInfo((Item::ItemInfo *)ParseData.m_TokenlizedFile);
        --v17;
        ParseData.m_TokenlizedFile = (CTokenlizedFile *)((char *)ParseData.m_TokenlizedFile + 616);
      }
      while ( v17 );
    }
    v19 = v18;
  }
  else
  {
    v19 = 0;
  }
  LOBYTE(v41) = 6;
  v35->m_ItemInfoArray = (Item::ItemInfo *)v19;
  if ( !v19 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItemMgr::LoadItemProtoType",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemMgr.cpp",
      330,
      "    ");
    v2 = 0;
    goto LABEL_78;
  }
  v20 = v4;
  if ( v4 != v5 )
  {
    v21 = (int)((char *)v19 - *(_DWORD *)&v4);
    do
    {
      v22 = (void *)(v21 + *(_DWORD *)&v20);
      v23 = (const void *)v20;
      *(_DWORD *)&v20 += 616;
      memcpy(v22, v23, 0x268u);
    }
    while ( v20 != v5 );
  }
  v24 = 0;
  if ( v4 )
  {
    operator delete(*(void **)&v4);
    v24 = 0;
  }
  if ( EtcItemData._Myfirst != v24 )
  {
    operator delete(EtcItemData._Myfirst);
    v24 = 0;
  }
  EtcItemData._Myfirst = v24;
  EtcItemData._Mylast = v24;
  EtcItemData._Myend = v24;
  if ( UseItemData._Myfirst != v24 )
  {
    operator delete(UseItemData._Myfirst);
    v24 = 0;
  }
  UseItemData._Myfirst = v24;
  UseItemData._Mylast = v24;
  UseItemData._Myend = v24;
  if ( AccessoryData._Myfirst != v24 )
  {
    operator delete(AccessoryData._Myfirst);
    v24 = 0;
  }
  AccessoryData._Myfirst = v24;
  AccessoryData._Mylast = v24;
  AccessoryData._Myend = v24;
  if ( EquipItemData._Myfirst != v24 )
  {
    operator delete(EquipItemData._Myfirst);
    v24 = 0;
  }
  EquipItemData._Myfirst = v24;
  EquipItemData._Mylast = v24;
  EquipItemData._Myend = v24;
  if ( DefaultItemData._Myfirst != v24 )
    operator delete(DefaultItemData._Myfirst);
  DefaultItemData._Myfirst = 0;
  DefaultItemData._Mylast = 0;
  DefaultItemData._Myend = 0;
  v41 = -1;
  CTokenlizedFile::_CTokenlizedFile(&TokenlizedFile);
LABEL_107:
  __security_check_cookie(v40);
  return result;
}

//----- (00422EC0) --------------------------------------------------------
void __thiscall Item::CItemMgr::CItemMgr(Item::CItemMgr *this)
{
  Item::CItemMgr *v1; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // eax@1
  bool v3; // zf@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v4; // eax@2
  std::pair<enum Item::ItemType::Type const ,unsigned char> _Val; // [sp+4h] [bp-20h]@3
  std::pair<std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::iterator,bool> result; // [sp+Ch] [bp-18h]@3
  int v7; // [sp+20h] [bp-4h]@1

  v1 = this;
  this->m_nItemNum = 0;
  this->m_ItemInfoArray = 0;
  _eh_vector_constructor_iterator_(
    this->m_vecDropListByLevel,
    0x10u,
    150,
    (void (__thiscall *)(void *))std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  v7 = 0;
  _eh_vector_constructor_iterator_(
    v1->m_vecRingDropListByLevel,
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  _eh_vector_constructor_iterator_(
    v1->m_vecNecklaceDropListByLevel,
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  _eh_vector_constructor_iterator_(
    v1->m_vecRuneDropListByLevel,
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  _eh_vector_constructor_iterator_(
    v1->m_vecCompensation,
    0x10u,
    78,
    (void (__thiscall *)(void *))std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  LOBYTE(v7) = 4;
  v1->m_nChemicalNum = 0;
  v1->m_ChemicalArray = 0;
  v2 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)&v1->m_mapRuneItemCnt);
  v1->m_mapRuneItemCnt.baseclass_0._Myhead = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v2;
  v2->_Isnil = 1;
  v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Parent = v1->m_mapRuneItemCnt.baseclass_0._Myhead;
  v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Left = v1->m_mapRuneItemCnt.baseclass_0._Myhead;
  v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Right = v1->m_mapRuneItemCnt.baseclass_0._Myhead;
  v1->m_mapRuneItemCnt.baseclass_0._Mysize = 0;
  v3 = v1->m_mapRuneItemCnt.baseclass_0._Mysize == 0;
  LOBYTE(v7) = 5;
  if ( !v3 )
  {
    std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Erase(
      &v1->m_mapRuneItemCnt.baseclass_0,
      v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Parent);
    v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Parent = v1->m_mapRuneItemCnt.baseclass_0._Myhead;
    v4 = v1->m_mapRuneItemCnt.baseclass_0._Myhead;
    v1->m_mapRuneItemCnt.baseclass_0._Mysize = 0;
    v4->_Left = v4;
    v1->m_mapRuneItemCnt.baseclass_0._Myhead->_Right = v1->m_mapRuneItemCnt.baseclass_0._Myhead;
  }
  _Val.first = 3;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 7;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 22;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 26;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 21;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 37;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 11;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 13;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 15;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 20;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 30;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 34;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 35;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 38;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 39;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 40;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 31;
  _Val.second = 1;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 12;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 14;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 16;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 17;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 18;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 19;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 32;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 36;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
  _Val.first = 33;
  _Val.second = 2;
  std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::insert(
    &v1->m_mapRuneItemCnt.baseclass_0,
    &result,
    &_Val);
}

//----- (00423310) --------------------------------------------------------
Item::CItemMgr *__cdecl Item::CItemMgr::GetInstance()
{
  if ( !(_S5_0 & 1) )
  {
    _S5_0 |= 1u;
    Item::CItemMgr::CItemMgr(&itemMgr);
    atexit(_E6_0);
  }
  return &itemMgr;
}

//----- (00423370) --------------------------------------------------------
int __thiscall CLogSaveThread::End(CLogSaveThread *this)
{
  CLogSaveThread *v1; // esi@1

  v1 = this;
  InterlockedExchange(&this->m_bEnd, 1);
  SetEvent(v1->m_hFlush);
  return 1;
}

//----- (00423390) --------------------------------------------------------
bool __thiscall CLogSaveThread::Compress(CLogSaveThread *this)
{
  const char *v1; // ebp@1
  HANDLE v2; // edi@1
  int v4; // esi@3
  void *v5; // ebx@5
  DWORD v6; // eax@13
  int v7; // [sp-1Ch] [bp-1540h]@15
  const char *v8; // [sp-18h] [bp-153Ch]@15
  unsigned int dwRead; // [sp+0h] [bp-1524h]@7
  _SYSTEMTIME sysTime; // [sp+4h] [bp-1520h]@3
  char drive[3]; // [sp+14h] [bp-1510h]@3
  char fname[256]; // [sp+18h] [bp-150Ch]@3
  char dir[256]; // [sp+118h] [bp-140Ch]@3
  char szCompressedLogFileName[520]; // [sp+218h] [bp-130Ch]@3
  char ext[256]; // [sp+420h] [bp-1104h]@3
  char szBuffer[4096]; // [sp+520h] [bp-1004h]@7

  v1 = this->m_szLogFileName;
  v2 = CreateFileA(this->m_szLogFileName, 0x80000000u, 1u, 0, 3u, 0x80u, 0);
  if ( v2 == (HANDLE)-1 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CLogSaveThread::Compress",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
      121,
      "   ");
    return 0;
  }
  GetLocalTime(&sysTime);
  v4 = 0;
  _splitpath(v1, drive, dir, fname, ext);
  _snprintf(szCompressedLogFileName, 0x208u, "%s\\%s-%04d%02d%02d-%02d%02d%02d-%04d.zip");
  while ( GetFileAttributesA(szCompressedLogFileName) != -1 )
  {
    ++v4;
    _snprintf(szCompressedLogFileName, 0x208u, "%s\\%s-%04d%02d%02d-%02d%02d%02d-%04d.zip");
  }
  v5 = gzopen(szCompressedLogFileName, "wb");
  if ( !v5 )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CLogSaveThread::Compress",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
      155,
      "      ");
    CloseHandle(v2);
    return 0;
  }
  dwRead = 0;
  if ( ReadFile(v2, szBuffer, 0x1000u, &dwRead, 0) )
  {
    while ( dwRead )
    {
      if ( !gzwrite(v5, szBuffer, dwRead) )
      {
        CServerLog::DetailLog(
          &g_Log,
          LOG_ERROR,
          "CLogSaveThread::Compress",
          "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
          172,
          "     ");
        break;
      }
      if ( !ReadFile(v2, szBuffer, 0x1000u, &dwRead, 0) )
        break;
    }
  }
  gzclose(v5);
  CloseHandle(v2);
  v6 = GetLastError();
  if ( v6 && v6 != 38 )
  {
    v8 = "%d      .";
    v7 = 183;
LABEL_18:
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CLogSaveThread::Compress",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
      v7,
      v8);
    return 0;
  }
  if ( !DeleteFileA(v1) )
  {
    v8 = "%d      ";
    v7 = 189;
    goto LABEL_18;
  }
  return 1;
}

//----- (00423670) --------------------------------------------------------
void __thiscall CLogSaveThread::_CLogSaveThread(CLogSaveThread *this)
{
  CLogSaveThread *v1; // esi@1
  void *v2; // eax@1

  v1 = this;
  v2 = this->m_hFile;
  this->baseclass_0.vfptr = (CThreadVtbl *)&CLogSaveThread::_vftable_;
  if ( v2 != (void *)-1 )
  {
    CloseHandle(v2);
    v1->m_hFile = (void *)-1;
  }
  if ( v1->m_hFlush )
  {
    CloseHandle(v1->m_hFlush);
    v1->m_hFlush = 0;
  }
  std::list<CThread___std::allocator<CThread__>>::clear(&v1->m_WriteBufferList);
  operator delete(v1->m_WriteBufferList._Myhead);
  v1->m_WriteBufferList._Myhead = 0;
  v1->baseclass_0.vfptr = (CThreadVtbl *)&CThread::_vftable_;
}
// 452100: using guessed type int (__thiscall *CThread___vftable_)(void *p, char);
// 4581D4: using guessed type int (__thiscall *CLogSaveThread___vftable_)(void *p, char);

//----- (004236D0) --------------------------------------------------------
LogBuffer *__thiscall CGameLog::GetBuffer(CGameLog *this)
{
  CGameLog *v1; // esi@1
  void *v2; // eax@2
  LogBuffer *v3; // edi@3
  void **v4; // ecx@5
  void *v5; // eax@5
  LogBuffer *result; // eax@8

  v1 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( v1->m_FreeList._Mysize )
  {
    v3 = v1->m_FreeList._Myhead->_Next->_Myval;
    v4 = (void **)v1->m_FreeList._Myhead;
    v5 = *v4;
    if ( *v4 != v4 )
    {
      **((_DWORD **)v5 + 1) = *(_DWORD *)v5;
      *(_DWORD *)(*(_DWORD *)v5 + 4) = *((_DWORD *)v5 + 1);
      operator delete(v5);
      --v1->m_FreeList._Mysize;
    }
  }
  else
  {
    v2 = operator new(0xFDECu);
    if ( v2 )
    {
      *(_DWORD *)v2 = 0;
      v3 = (LogBuffer *)v2;
    }
    else
    {
      v3 = 0;
    }
  }
  if ( v3 )
  {
    v3->m_nUsage = 0;
    LeaveCriticalSection((LPCRITICAL_SECTION)v1);
    result = v3;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CGameLog::GetBuffer",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
      374,
      "");
    LeaveCriticalSection((LPCRITICAL_SECTION)v1);
    result = 0;
  }
  return result;
}

//----- (004237C0) --------------------------------------------------------
void __thiscall CLogSaveThread::CLogSaveThread(CLogSaveThread *this)
{
  CLogSaveThread *v1; // esi@1
  HANDLE v2; // eax@1

  v1 = this;
  this->baseclass_0.m_hThreadHandle = (void *)-1;
  this->baseclass_0.vfptr = (CThreadVtbl *)&CLogSaveThread::_vftable_;
  v2 = CreateEventA(0, 1, 0, 0);
  v1->m_hFile = (void *)-1;
  v1->m_hFlush = v2;
  v1->m_dwTotalWritten = 0;
  v1->m_WriteBufferList._Myhead = std::list<CCommand___std::allocator<CCommand__>>::_Buynode(&v1->m_WriteBufferList);
  v1->m_WriteBufferList._Mysize = 0;
  InterlockedExchange(&v1->m_bEnd, 0);
}
// 4581D4: using guessed type int (__thiscall *CLogSaveThread___vftable_)(void *p, char);

//----- (00423840) --------------------------------------------------------
void *__thiscall CLogSaveThread::_vector_deleting_destructor_(CLogSaveThread *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  CLogSaveThread::_CLogSaveThread(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00423860) --------------------------------------------------------
void __thiscall CGameLog::CGameLog(CGameLog *this)
{
  CGameLog *v1; // esi@1

  v1 = this;
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  v1->m_FreeList._Myhead = std::list<CCommand___std::allocator<CCommand__>>::_Buynode(&v1->m_FreeList);
  v1->m_FreeList._Mysize = 0;
  v1->m_FullList._Myhead = std::list<CCommand___std::allocator<CCommand__>>::_Buynode(&v1->m_FullList);
  v1->m_FullList._Mysize = 0;
  CLogSaveThread::CLogSaveThread(&v1->m_LogSaveThread);
  v1->m_lpLogBuffer = 0;
  memset(v1->m_szLogFilePrefix, 0, sizeof(v1->m_szLogFilePrefix));
}

//----- (004238F0) --------------------------------------------------------
void __thiscall std::list<LogBuffer___std::allocator<LogBuffer__>>::_Incsize(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this, unsigned int _Count)
{
  unsigned int v2; // eax@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@2
  int v5; // [sp+4Ch] [bp-4h]@2

  v2 = this->_Mysize;
  if ( 1073741823 - v2 < _Count )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "list<T> too long", 0x10u);
    v5 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  this->_Mysize = _Count + v2;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00423990) --------------------------------------------------------
bool __thiscall CGameLog::Initialize(CGameLog *this, const char *szLogFilePrefix)
{
  CGameLog *v2; // esi@1
  signed int v3; // ebp@2
  void *v4; // eax@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // edi@9
  std::list<LogBuffer *,std::allocator<LogBuffer *> > *v6; // esi@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // ebx@9
  void *v8; // eax@11
  int v10; // [sp-8h] [bp-1Ch]@13
  const char *v11; // [sp-4h] [bp-18h]@13
  CGameLog *v12; // [sp+10h] [bp-4h]@1

  v2 = this;
  v12 = this;
  if ( szLogFilePrefix )
  {
    _snprintf(this->m_szLogFilePrefix, 0x103u, "%s");
    v2->m_szLogFilePrefix[259] = 0;
    v3 = 0;
  }
  else
  {
    DbgUtils::SetProgramName(this->m_szLogFilePrefix, 260, 0);
    v3 = 0;
  }
  while ( 1 )
  {
    v4 = operator new(0xFDECu);
    if ( v4 )
      *(_DWORD *)v4 = 0;
    else
      v4 = 0;
    szLogFilePrefix = (const char *)v4;
    if ( !v4 )
    {
      v11 = "  ";
      v10 = 281;
LABEL_19:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CGameLog::Initialize",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
        v10,
        v11);
      return 0;
    }
    v5 = v2->m_FreeList._Myhead;
    v6 = &v2->m_FreeList;
    v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
           v6,
           v5,
           v5->_Prev,
           (LogBuffer *const *)&szLogFilePrefix);
    std::list<LogBuffer___std::allocator<LogBuffer__>>::_Incsize(v6, 1u);
    v5->_Prev = v7;
    ++v3;
    v7->_Prev->_Next = v7;
    if ( v3 >= 100 )
      break;
    v2 = v12;
  }
  if ( !v12->m_lpLogBuffer )
  {
    v8 = operator new(0xFDECu);
    if ( v8 )
      *(_DWORD *)v8 = 0;
    else
      v8 = 0;
    v12->m_lpLogBuffer = (LogBuffer *)v8;
    if ( !v8 )
    {
      v11 = "  ";
      v10 = 296;
      goto LABEL_19;
    }
  }
  if ( CThreadMgr::Run(&v12->m_LogSaveThread.baseclass_0) == (void *)-1 )
  {
    v11 = "Flush ";
    v10 = 302;
    goto LABEL_19;
  }
  return 1;
}

//----- (00423AD0) --------------------------------------------------------
void __thiscall CGameLog::PushFullBuffer(CGameLog *this, LogBuffer **ppLogBuffer)
{
  CGameLog *v2; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // ebx@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ebp@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // ebx@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // ebp@4

  v2 = this;
  if ( *ppLogBuffer )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    if ( (*ppLogBuffer)->m_nUsage )
    {
      v5 = v2->m_FullList._Myhead;
      v6 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
             &v2->m_FullList,
             v2->m_FullList._Myhead,
             v5->_Prev,
             ppLogBuffer);
      std::list<LogBuffer___std::allocator<LogBuffer__>>::_Incsize(&v2->m_FullList, 1u);
      v5->_Prev = v6;
      v6->_Prev->_Next = v6;
    }
    else
    {
      v3 = v2->m_FreeList._Myhead;
      v4 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
             &v2->m_FreeList,
             v2->m_FreeList._Myhead,
             v3->_Prev,
             ppLogBuffer);
      std::list<LogBuffer___std::allocator<LogBuffer__>>::_Incsize(&v2->m_FreeList, 1u);
      v3->_Prev = v4;
      v4->_Prev->_Next = v4;
    }
    *ppLogBuffer = 0;
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
}

//----- (00423B90) --------------------------------------------------------
void __thiscall std::list<LogBuffer___std::allocator<LogBuffer__>>::_Splice(std::list<LogBuffer *,std::allocator<LogBuffer *> > *this, std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator _Where, std::list<LogBuffer *,std::allocator<LogBuffer *> > *_Right, std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator _First, std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator _Last, unsigned int _Count)
{
  int v6; // esi@3

  if ( this != _Right )
  {
    std::list<LogBuffer___std::allocator<LogBuffer__>>::_Incsize(this, _Count);
    _Right->_Mysize -= _Count;
  }
  **(_DWORD **)(*(_DWORD *)&_First + 4) = _Last;
  **(_DWORD **)(*(_DWORD *)&_Last + 4) = _Where;
  **(_DWORD **)(*(_DWORD *)&_Where + 4) = _First;
  v6 = *(_DWORD *)(*(_DWORD *)&_Where + 4);
  *(_DWORD *)(*(_DWORD *)&_Where + 4) = *(_DWORD *)(*(_DWORD *)&_Last + 4);
  *(_DWORD *)(*(_DWORD *)&_Last + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
  *(_DWORD *)(*(_DWORD *)&_First + 4) = v6;
}

//----- (00423BE0) --------------------------------------------------------
int __thiscall CGameLog::Flush(CGameLog *this)
{
  CGameLog *v1; // esi@1

  v1 = this;
  CGameLog::PushFullBuffer(this, &this->m_lpLogBuffer);
  return PulseEvent(v1->m_LogSaveThread.m_hFlush);
}

//----- (00423C00) --------------------------------------------------------
bool __thiscall CGameLog::Destroy(CGameLog *this)
{
  CGameLog *v1; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v2; // eax@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // edi@1
  void **v4; // ecx@3
  void *v5; // eax@3
  bool v6; // zf@3
  void *v7; // edi@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // eax@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v9; // edi@5
  void **v10; // ecx@7
  void *v11; // eax@7
  void *v12; // edi@8

  v1 = this;
  CGameLog::PushFullBuffer(this, &this->m_lpLogBuffer);
  PulseEvent(v1->m_LogSaveThread.m_hFlush);
  CThreadMgr::Stop(&v1->m_LogSaveThread.baseclass_0, 0xFFFFFFFFu);
  EnterCriticalSection((LPCRITICAL_SECTION)v1);
  v2 = v1->m_FreeList._Myhead;
  v3 = v2->_Next;
  if ( v2->_Next != v2 )
  {
    do
    {
      operator delete(v3->_Myval);
      v3 = v3->_Next;
    }
    while ( v3 != v1->m_FreeList._Myhead );
  }
  v4 = (void **)v1->m_FreeList._Myhead;
  v5 = *v4;
  *v4 = v4;
  v1->m_FreeList._Myhead->_Prev = v1->m_FreeList._Myhead;
  v6 = v5 == v1->m_FreeList._Myhead;
  v1->m_FreeList._Mysize = 0;
  if ( !v6 )
  {
    do
    {
      v7 = *(void **)v5;
      operator delete(v5);
      v5 = v7;
    }
    while ( v7 != v1->m_FreeList._Myhead );
  }
  v8 = v1->m_FullList._Myhead;
  v9 = v8->_Next;
  if ( v8->_Next != v8 )
  {
    do
    {
      operator delete(v9->_Myval);
      v9 = v9->_Next;
    }
    while ( v9 != v1->m_FullList._Myhead );
  }
  v10 = (void **)v1->m_FullList._Myhead;
  v11 = *v10;
  *v10 = v10;
  v1->m_FullList._Myhead->_Prev = v1->m_FullList._Myhead;
  v6 = v11 == v1->m_FullList._Myhead;
  v1->m_FullList._Mysize = 0;
  if ( !v6 )
  {
    do
    {
      v12 = *(void **)v11;
      operator delete(v11);
      v11 = v12;
    }
    while ( v12 != v1->m_FullList._Myhead );
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)v1);
  return 1;
}

//----- (00423CE0) --------------------------------------------------------
char *__thiscall CGameLog::ReserveBuffer(CGameLog *this, unsigned __int16 usReserve)
{
  CGameLog *v2; // edi@1
  LogBuffer **v3; // esi@1
  LogBuffer *v4; // esi@5
  char *result; // eax@6

  v2 = this;
  v3 = &this->m_lpLogBuffer;
  if ( !this->m_lpLogBuffer )
    *v3 = CGameLog::GetBuffer(this);
  if ( (*v3)->m_nUsage + usReserve > 65000 )
  {
    CGameLog::PushFullBuffer(v2, v3);
    PulseEvent(v2->m_LogSaveThread.m_hFlush);
    *v3 = CGameLog::GetBuffer(v2);
  }
  v4 = *v3;
  if ( v4 )
  {
    result = &v4->m_Buffer[v4->m_nUsage];
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "CGameLog::ReserveBuffer",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
      349,
      " ");
    result = 0;
  }
  return result;
}

//----- (00423D70) --------------------------------------------------------
void __thiscall CGameLog::SpliceOutFullBuffer(CGameLog *this, std::list<LogBuffer *,std::allocator<LogBuffer *> > *logBufferList)
{
  CGameLog *v2; // ebx@1
  unsigned int v3; // edi@4

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( v2->m_FullList._Mysize )
  {
    if ( logBufferList != &v2->m_FullList )
    {
      v3 = v2->m_FullList._Mysize;
      if ( v3 )
        std::list<LogBuffer___std::allocator<LogBuffer__>>::_Splice(
          logBufferList,
          (std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator)logBufferList->_Myhead,
          &v2->m_FullList,
          (std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator)v2->m_FullList._Myhead->_Next,
          (std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator)v2->m_FullList._Myhead,
          v3);
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
  else
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
}

//----- (00423E00) --------------------------------------------------------
void __thiscall CGameLog::SpliceInFreeBuffer(CGameLog *this, std::list<LogBuffer *,std::allocator<LogBuffer *> > *logBufferList)
{
  CGameLog *v2; // esi@1
  unsigned int v3; // ebx@1

  v2 = this;
  EnterCriticalSection((LPCRITICAL_SECTION)this);
  v3 = logBufferList->_Mysize;
  if ( v3 )
  {
    if ( &v2->m_FreeList != logBufferList )
      std::list<LogBuffer___std::allocator<LogBuffer__>>::_Splice(
        &v2->m_FreeList,
        (std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator)v2->m_FreeList._Myhead,
        logBufferList,
        (std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator)logBufferList->_Myhead->_Next,
        (std::list<LogBuffer *,std::allocator<LogBuffer *> >::iterator)logBufferList->_Myhead,
        v3);
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
  else
  {
    LeaveCriticalSection((LPCRITICAL_SECTION)v2);
  }
}

//----- (00423E90) --------------------------------------------------------
void __thiscall CGameLog::_CGameLog(CGameLog *this)
{
  CGameLog *v1; // esi@1

  v1 = this;
  CGameLog::Destroy(this);
  CLogSaveThread::_CLogSaveThread(&v1->m_LogSaveThread);
  std::list<CThread___std::allocator<CThread__>>::clear(&v1->m_FullList);
  operator delete(v1->m_FullList._Myhead);
  v1->m_FullList._Myhead = 0;
  std::list<CThread___std::allocator<CThread__>>::clear(&v1->m_FreeList);
  operator delete(v1->m_FreeList._Myhead);
  v1->m_FreeList._Myhead = 0;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1);
}

//----- (00423F20) --------------------------------------------------------
CGameLog *__cdecl CGameLog::GetInstance()
{
  if ( !(_S5_1 & 1) )
  {
    _S5_1 |= 1u;
    CGameLog::CGameLog(&gameLog);
    atexit(_E6_1);
  }
  return &gameLog;
}

//----- (00423F80) --------------------------------------------------------
bool __thiscall CLogSaveThread::SetLogFileName(CLogSaveThread *this)
{
  CLogSaveThread *v1; // esi@1
  char *v2; // ST24_4@1
  bool result; // al@3
  int v4; // edi@4
  char *v5; // esi@4
  _SYSTEMTIME sysTime; // [sp+8h] [bp-21Ch]@1
  char szProgramName[260]; // [sp+18h] [bp-20Ch]@1
  char szLogFilePrefix[260]; // [sp+11Ch] [bp-108h]@1

  v1 = this;
  DbgUtils::SetProgramName(szProgramName, 260, 0);
  szProgramName[259] = 0;
  v2 = CGameLog::GetInstance()->m_szLogFilePrefix;
  _snprintf(szLogFilePrefix, 0x103u, "%s");
  szLogFilePrefix[259] = 0;
  GetLocalTime(&sysTime);
  if ( GetFileAttributesA(szProgramName) != -1 || CreateDirectoryA(szProgramName, 0) )
  {
    v4 = 0;
    v5 = v1->m_szLogFileName;
    if ( _snprintf(v5, 0x104u, "%s\\%sGameLog-%04d%02d%02d-%02d%02d%02d-%04d.log") <= 0 )
    {
LABEL_7:
      CServerLog::DetailLog(
        &g_Log,
        LOG_ERROR,
        "CLogSaveThread::SetLogFileName",
        "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
        234,
        "     ");
      result = 0;
    }
    else
    {
      while ( GetFileAttributesA(v5) != -1 )
      {
        ++v4;
        if ( _snprintf(v5, 0x104u, "%s\\%sGameLog-%04d%02d%02d-%02d%02d%02d-%04d.log") <= 0 )
          goto LABEL_7;
      }
      result = 1;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00424120) --------------------------------------------------------
bool __thiscall CLogSaveThread::WriteLog(CLogSaveThread *this)
{
  CLogSaveThread *v1; // esi@1
  HANDLE v2; // eax@2
  bool result; // al@3
  CGameLog *v4; // eax@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // eax@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // ebx@5
  CGameLog *v7; // eax@9
  CLogSaveThread *dwWritten; // [sp+0h] [bp-4h]@1

  dwWritten = this;
  v1 = this;
  if ( this->m_hFile != (void *)-1
    || (CLogSaveThread::SetLogFileName(this),
        v2 = CreateFileA(v1->m_szLogFileName, 0x40000000u, 1u, 0, 2u, 0x80u, 0),
        v1->m_hFile = v2,
        v2 != (HANDLE)-1) )
  {
    v4 = CGameLog::GetInstance();
    CGameLog::SpliceOutFullBuffer(v4, &v1->m_WriteBufferList);
    if ( v1->m_WriteBufferList._Mysize )
    {
      v5 = v1->m_WriteBufferList._Myhead;
      dwWritten = 0;
      v6 = v5->_Next;
      if ( v5->_Next != v5 )
      {
        do
        {
          if ( !WriteFile(v1->m_hFile, v6->_Myval->m_Buffer, v6->_Myval->m_nUsage, (LPDWORD)&dwWritten, 0) )
          {
            GetLastError();
            CServerLog::DetailLog(
              &g_Log,
              LOG_ERROR,
              "CLogSaveThread::WriteLog",
              "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Log\\GameLog.cpp",
              95,
              "   . ErrorNum : %d, FileHandle:0x%p, ");
          }
          v1->m_dwTotalWritten += (unsigned int)dwWritten;
          v6 = v6->_Next;
        }
        while ( v6 != v1->m_WriteBufferList._Myhead );
      }
      v7 = CGameLog::GetInstance();
      CGameLog::SpliceInFreeBuffer(v7, &v1->m_WriteBufferList);
      if ( v1->m_dwTotalWritten > 0x3200000 )
      {
        if ( v1->m_hFile != (void *)-1 )
        {
          CloseHandle(v1->m_hFile);
          v1->m_hFile = (void *)-1;
        }
        CLogSaveThread::Compress(v1);
        v1->m_dwTotalWritten = 0;
      }
    }
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00424240) --------------------------------------------------------
unsigned int __thiscall CLogSaveThread::Run(CLogSaveThread *this)
{
  CLogSaveThread *v1; // esi@1
  volatile LONG *v2; // edi@1

  v1 = this;
  v2 = &this->m_bEnd;
  if ( InterlockedCompareExchange(&this->m_bEnd, 1, 1) != 1 )
  {
    do
    {
      if ( WaitForSingleObject(v1->m_hFlush, 0x3E8u) != 258 )
        CLogSaveThread::WriteLog(v1);
    }
    while ( InterlockedCompareExchange(v2, 1, 1) != 1 );
  }
  CLogSaveThread::WriteLog(v1);
  return 0;
}

//----- (004242A0) --------------------------------------------------------
void __thiscall Item::CEquipment::AddAttribute(Item::CEquipment *this, Item::Attribute::Type eAttributeType, __int16 nAttributeValue)
{
  Item::CEquipment *v3; // esi@1
  Item::CItemMgr *v4; // eax@3
  Item::ItemInfo *v5; // eax@3
  unsigned __int8 v6; // cl@4
  int v7; // ecx@8
  int v8; // eax@8
  signed int v9; // edx@8

  v3 = this;
  if ( eAttributeType == 15 && nAttributeValue )
  {
    v4 = Item::CItemMgr::GetInstance();
    v5 = Item::CItemMgr::GetItemInfo(v4, nAttributeValue - 25536);
    if ( v5 )
    {
      v6 = 0;
      while ( !v3->m_usRuneSocket[v6] )
      {
        ++v6;
        if ( v6 >= 2u )
          return;
      }
      v3->m_usRuneSocket[v6] = nAttributeValue - 25536;
      v7 = (int)&v3->m_wAttribute[1];
      v8 = (int)&v5->m_EquipAttribute.m_usAttributeValue[1];
      v9 = 11;
      do
      {
        *(_WORD *)(v7 - 2) += *(_WORD *)(v8 - 2);
        *(_WORD *)v7 += *(_WORD *)v8;
        v8 += 4;
        v7 += 4;
        --v9;
      }
      while ( v9 );
    }
  }
  else
  {
    this->m_wAttribute[eAttributeType] += nAttributeValue;
  }
}

//----- (00424330) --------------------------------------------------------
void __thiscall Item::CEquipment::InitializeAttribute(Item::CEquipment *this)
{
  char *v1; // eax@1
  signed int v2; // edi@1

  v1 = (char *)&this->m_wAttribute[1];
  v2 = 11;
  do
  {
    *((_WORD *)v1 - 1) = *(unsigned __int16 *)((char *)&this->baseclass_0.m_ItemInfo->m_usProtoTypeID
                                             + 446
                                             - (_DWORD)this
                                             + (unsigned int)v1);
    *(_WORD *)v1 = *(unsigned __int16 *)((char *)&this->baseclass_0.m_ItemInfo->m_usProtoTypeID
                                       + 448
                                       - (_DWORD)this
                                       + (unsigned int)v1);
    v1 += 4;
    --v2;
  }
  while ( v2 );
}

//----- (00424380) --------------------------------------------------------
void __thiscall Item::CEquipment::ApplyGemAttribute(Item::CEquipment *this, Item::CEquipment::ApplyType eApplyType)
{
  Item::CEquipment *v2; // edi@1
  char *v3; // esi@1
  char *i; // ebx@1
  __int16 v5; // ax@2

  v2 = this;
  v3 = (char *)this->m_SocketAttribute;
  for ( i = (char *)this->m_UpgradeAttribute; v3 != i; v3 += 2 )
  {
    v5 = *(_WORD *)v3;
    Item::CEquipment::AddAttribute(v2, (Item::Attribute::Type)(v5 & 0xF), eApplyType * (*(_WORD *)v3 >> 4));
  }
}

//----- (004243C0) --------------------------------------------------------
void __thiscall Item::CEquipment::ApplyUpgradeAttribute(Item::CEquipment *this, Item::CEquipment::ApplyType eApplyType)
{
  Item::CEquipment *v2; // edi@1
  char *v3; // esi@1
  char *i; // ebx@1
  __int16 v5; // ax@2

  v2 = this;
  v3 = (char *)this->m_UpgradeAttribute;
  for ( i = (char *)this->m_usRuneSocket; v3 != i; v3 += 2 )
  {
    v5 = *(_WORD *)v3;
    Item::CEquipment::AddAttribute(v2, (Item::Attribute::Type)(v5 & 0xF), eApplyType * (*(_WORD *)v3 >> 4));
  }
}

//----- (00424400) --------------------------------------------------------
void __thiscall Item::CEquipment::ApplyRuneAttribute(Item::CEquipment *this, Item::CEquipment::ApplyType eApplyType)
{
  Item::CEquipment *v2; // edi@1
  char *v3; // ebx@1
  unsigned __int16 v4; // ST00_2@3
  Item::CItemMgr *v5; // eax@3
  Item::ItemInfo *v6; // eax@3
  int v7; // ecx@4
  int v8; // eax@4
  signed int v9; // edx@4
  signed int v10; // [sp+10h] [bp-4h]@1

  v2 = this;
  v3 = (char *)this->m_usRuneSocket;
  v10 = 2;
  do
  {
    if ( *(_WORD *)v3 )
    {
      v4 = *(_WORD *)v3;
      v5 = Item::CItemMgr::GetInstance();
      v6 = Item::CItemMgr::GetItemInfo(v5, v4);
      if ( v6 )
      {
        v7 = (int)v2->m_wAttribute;
        v8 = (int)&v6->m_EquipAttribute;
        v9 = 22;
        do
        {
          *(_WORD *)v7 += eApplyType * *(_WORD *)v8;
          v8 += 2;
          v7 += 2;
          --v9;
        }
        while ( v9 );
      }
    }
    v3 += 2;
    --v10;
  }
  while ( v10 );
}

//----- (00424470) --------------------------------------------------------
void __thiscall Item::CItem::CItem(Item::CItem *this, Item::ItemInfo *itemInfo)
{
  Item::ItemInfo *v2; // esi@1

  this->m_ItemInfo = itemInfo;
  this->vfptr = (Item::CItemVtbl *)Item::CItem::_vftable_;
  this->m_ItemData.m_ItemPos._bf0 = 0;
  this->m_ItemData.m_cNumOrDurability = 0;
  this->m_ItemData.m_usProtoTypeID = 0;
  this->m_ItemData.m_dwUID = 0i64;
  this->m_ItemData.m_cItemSize = 14;
  this->m_itemPos_Real._bf0 = 0;
  this->m_ItemData.m_dwUID = 0i64;
  v2 = this->m_ItemInfo;
  this->m_ItemData.m_usProtoTypeID = itemInfo->m_usProtoTypeID;
  this->m_ItemData.m_ItemPos._bf0 = 0;
  this->m_ItemData.m_cItemSize = 14;
  this->m_ItemData.m_cNumOrDurability = v2->m_DetailData.m_cDefaultDurabilityOrStack;
  this->m_cMaxNumOrDurability = v2->m_DetailData.m_cMaxDurabilityOrStack;
  this->m_dwStallPrice = 0;
  this->m_dwPrice = v2->m_DetailData.m_dwPrice;
}
// 4583BC: using guessed type int (__stdcall *Item__CItem___vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut);

//----- (004244D0) --------------------------------------------------------
void __thiscall Item::CItem::_CItem(Item::CUseItem *this)
{
  this->baseclass_0.vfptr = (Item::CItemVtbl *)Item::CItem::_vftable_;
}
// 4583BC: using guessed type int (__stdcall *Item__CItem___vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut);

//----- (004244E0) --------------------------------------------------------
bool __thiscall Item::CItem::SerializeOut(Item::CItem *this, char *lpSerializeItem_Out, unsigned int *nBufferLength_InOut)
{
  char *v3; // ecx@2
  bool result; // al@2

  if ( *nBufferLength_InOut < 0xE )
  {
    *nBufferLength_InOut = 0;
    result = 0;
  }
  else
  {
    this->m_ItemData.m_cItemSize = 14;
    *nBufferLength_InOut = 14;
    v3 = (char *)&this->m_ItemData;
    *(_DWORD *)lpSerializeItem_Out = *(_DWORD *)v3;
    *((_DWORD *)lpSerializeItem_Out + 1) = *((_DWORD *)v3 + 1);
    *((_DWORD *)lpSerializeItem_Out + 2) = *((_DWORD *)v3 + 2);
    *((_WORD *)lpSerializeItem_Out + 6) = *((_WORD *)v3 + 6);
    result = 1;
  }
  return result;
}

//----- (00424530) --------------------------------------------------------
bool __thiscall Item::CItem::SerializeIn(Item::CItem *this, const char *lpSerializeItem_In, unsigned int *nBufferLength_InOut)
{
  bool result; // al@3

  if ( *nBufferLength_InOut < 0xE
    || (*nBufferLength_InOut = (unsigned __int8)lpSerializeItem_In[12],
        *((_WORD *)lpSerializeItem_In + 4) != this->m_ItemInfo->m_usProtoTypeID) )
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "Item::CItem::SerializeIn",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\Item.cpp",
      90,
      "SerializeIn .  . ItemDataSize:%d, nBufferLength_InOut:%d, itemData.m_usProtoTypeID:%d, m_ItemInfo.m_usProtoTypeID:%d");
    result = 0;
  }
  else
  {
    this->m_ItemData.m_dwUID = *(_QWORD *)lpSerializeItem_In;
    *(_DWORD *)&this->m_ItemData.m_usProtoTypeID = *((_DWORD *)lpSerializeItem_In + 2);
    *(_WORD *)&this->m_ItemData.m_cItemSize = *((_WORD *)lpSerializeItem_In + 6);
    this->m_itemPos_Real._bf0 = this->m_ItemData.m_ItemPos._bf0;
    result = 1;
  }
  return result;
}

//----- (004245B0) --------------------------------------------------------
unsigned int __thiscall Item::CItem::GetBuyPrice(Item::CItem *this)
{
  unsigned __int64 v1; // qax@1
  float v2; // ST00_4@3
  double v3; // st7@3
  float v4; // ST00_4@3

  LODWORD(v1) = this->m_dwStallPrice;
  if ( !(_DWORD)v1 )
  {
    if ( this->m_ItemInfo->m_DetailData.m_bOptionPrice == 1 )
    {
      v2 = (double)(this->m_cMaxNumOrDurability - this->m_ItemData.m_cNumOrDurability);
      v3 = 100.0 - v2 * 0.25;
      v4 = (double)this->m_dwPrice;
      v1 = (unsigned __int64)(v3 * v4 / 100.0 + 1.0);
    }
    else
    {
      LODWORD(v1) = this->m_dwPrice;
    }
  }
  return v1;
}

//----- (00424620) --------------------------------------------------------
unsigned int __thiscall Item::CItem::GetSellPrice(Item::CItem *this)
{
  unsigned __int64 v1; // qax@1
  float v2; // ST00_4@3
  double v3; // st7@3
  float v4; // ST00_4@3
  float v5; // ST00_4@4

  LODWORD(v1) = this->m_dwStallPrice;
  if ( !(_DWORD)v1 )
  {
    if ( this->m_ItemInfo->m_DetailData.m_bOptionPrice == 1 )
    {
      v2 = (double)(this->m_cMaxNumOrDurability - this->m_ItemData.m_cNumOrDurability);
      v3 = 100.0 - v2 * 0.25;
      v4 = (double)this->m_dwPrice;
      v1 = (unsigned __int64)(v3 * v4 / 100.0 / 2.0 + 1.0);
    }
    else
    {
      v5 = (double)this->m_dwPrice;
      v1 = (unsigned __int64)(v5 / 2.0 + 0.5);
    }
  }
  return v1;
}

//----- (004246C0) --------------------------------------------------------
unsigned int __thiscall Item::CItem::GetRepairPrice(Item::CItem *this)
{
  float v1; // ST00_4@1
  double v2; // st7@1
  float v3; // ST00_4@1

  v1 = (double)(this->m_cMaxNumOrDurability - this->m_ItemData.m_cNumOrDurability);
  v2 = v1 * 0.25;
  v3 = (double)this->m_dwPrice;
  return (unsigned __int64)(v2 * v3 / 200.0 + 1.0);
}

//----- (00424710) --------------------------------------------------------
unsigned int __thiscall Item::CItem::GetUpgradePrice(Item::CItem *this)
{
  float v1; // ST00_4@1
  double v2; // st7@1
  float v3; // ST00_4@1

  v1 = (double)(this->m_cMaxNumOrDurability - this->m_ItemData.m_cNumOrDurability);
  v2 = 100.0 - v1 * 0.25;
  v3 = (double)this->m_dwPrice;
  return (unsigned __int64)(v2 * v3 / 100.0 / 4.0 + 1.0);
}

//----- (00424770) --------------------------------------------------------
unsigned int __thiscall Item::CItem::GetGraftPrice(Item::CItem *this)
{
  float v1; // ST00_4@1

  v1 = (double)this->m_dwPrice;
  return (unsigned __int64)(v1 * 25.0 / 100.0 + 1.0);
}

//----- (004247B0) --------------------------------------------------------
bool __thiscall Item::CEquipment::SerializeOut(Item::CEquipment *this, char *lpSerializeItem_Out, unsigned int *nBufferLength_InOut)
{
  Item::CEquipment *v3; // esi@1
  char *v4; // edi@2
  unsigned int v5; // ecx@2
  unsigned int v6; // ebx@2
  char v7; // al@4
  char *v8; // eax@7
  int v9; // ecx@7
  unsigned int v10; // ebx@7
  int v11; // ebp@7
  __int16 v12; // bp@10
  Item::ItemInfo *v13; // ecx@13
  Item::ItemInfo *v14; // ecx@16
  Item::ItemInfo *v15; // ecx@19
  bool v16; // cf@21
  unsigned __int8 v17; // dl@22
  int v18; // ebp@22
  int v19; // ebp@26
  __int16 v20; // ax@27
  int v21; // ebp@28
  __int16 v22; // ax@29
  char v23; // al@30
  char v24; // al@30
  bool result; // al@30
  int v26; // [sp+4h] [bp-1Ch]@7
  char nSocketIndex; // [sp+8h] [bp-18h]@7
  int lpSerializeItem_Outa; // [sp+24h] [bp+4h]@7

  v3 = this;
  if ( *nBufferLength_InOut < 0x34 )
  {
    *nBufferLength_InOut = 0;
    result = 0;
  }
  else
  {
    v4 = lpSerializeItem_Out;
    *(_QWORD *)lpSerializeItem_Out = this->baseclass_0.m_ItemData.m_dwUID;
    *((_DWORD *)lpSerializeItem_Out + 2) = *(_DWORD *)&this->baseclass_0.m_ItemData.m_usProtoTypeID;
    *((_WORD *)lpSerializeItem_Out + 6) = *(_WORD *)&this->baseclass_0.m_ItemData.m_cItemSize;
    v5 = 0;
    v6 = 0;
    do
    {
      if ( v6 >= v3->m_cMaxSocket )
        break;
      v7 = v3->m_cSocket[v5];
      if ( v7 )
        lpSerializeItem_Out[v6++ + 20] = v7;
      ++v5;
    }
    while ( v5 < 8 );
    nSocketIndex = v6;
    Item::CEquipment::ApplyGemAttribute(v3, REMOVE);
    Item::CEquipment::ApplyUpgradeAttribute(v3, REMOVE);
    Item::CEquipment::ApplyRuneAttribute(v3, REMOVE);
    v8 = &lpSerializeItem_Out[v6 + 20];
    v9 = 446 - (_DWORD)v3;
    v10 = 0;
    v11 = (int)&v3->m_wAttribute[1];
    lpSerializeItem_Outa = 0;
    v26 = (int)&v3->m_wAttribute[1];
    while ( v10 < v3->m_cMaxAttribute )
    {
      v12 = *(_WORD *)(v11 - 2) - *(unsigned __int16 *)((char *)&v3->baseclass_0.m_ItemInfo->m_usProtoTypeID + v11 + v9);
      if ( v12 )
      {
        *(_WORD *)v8 = 16 * v12 | lpSerializeItem_Outa & 0xF;
        ++v10;
        v8 += 2;
      }
      if ( v10 >= v3->m_cMaxAttribute )
        break;
      v13 = v3->baseclass_0.m_ItemInfo;
      if ( *(_WORD *)v26 != *(unsigned __int16 *)((char *)&v13->m_usProtoTypeID + v26 + 448 - (_DWORD)v3) )
      {
        *(_WORD *)v8 = 16
                     * (*(_WORD *)v26 - *(unsigned __int16 *)((char *)&v13->m_usProtoTypeID + v26 + 448 - (_DWORD)v3)) | ((_BYTE)lpSerializeItem_Outa + 1) & 0xF;
        ++v10;
        v8 += 2;
      }
      if ( v10 >= v3->m_cMaxAttribute )
        break;
      v14 = v3->baseclass_0.m_ItemInfo;
      if ( *(_WORD *)(v26 + 2) != *(unsigned __int16 *)((char *)&v14->m_usProtoTypeID + v26 + 450 - (_DWORD)v3) )
      {
        *(_WORD *)v8 = 16
                     * (*(_WORD *)(v26 + 2)
                      - *(unsigned __int16 *)((char *)&v14->m_usProtoTypeID + v26 + 450 - (_DWORD)v3)) | ((_BYTE)lpSerializeItem_Outa + 2) & 0xF;
        ++v10;
        v8 += 2;
      }
      if ( v10 >= v3->m_cMaxAttribute )
        break;
      v15 = v3->baseclass_0.m_ItemInfo;
      if ( *(_WORD *)(v26 + 4) != *(unsigned __int16 *)((char *)&v15->m_usProtoTypeID + v26 + 452 - (_DWORD)v3) )
      {
        *(_WORD *)v8 = 16
                     * (*(_WORD *)(v26 + 4)
                      - *(unsigned __int16 *)((char *)&v15->m_usProtoTypeID + v26 + 452 - (_DWORD)v3)) | ((_BYTE)lpSerializeItem_Outa + 3) & 0xF;
        ++v10;
        v8 += 2;
      }
      v11 = v26 + 8;
      v16 = (unsigned int)(lpSerializeItem_Outa + 4) < 0x10;
      lpSerializeItem_Outa += 4;
      v26 += 8;
      if ( !v16 )
        break;
      v9 = 446 - (_DWORD)v3;
    }
    v17 = 0;
    v18 = (int)v3->m_usRuneSocket;
    do
    {
      if ( *(_WORD *)v18 )
      {
        *(_WORD *)v8 = 16 * (*(_WORD *)v18 + 960) | 0xF;
        ++v10;
        v8 += 2;
      }
      ++v17;
      v18 += 2;
    }
    while ( v17 < 2u );
    v19 = (int)v3->m_SocketAttribute;
    if ( v3->m_SocketAttribute != v3->m_UpgradeAttribute )
    {
      do
      {
        v20 = *(_WORD *)v19;
        Item::CEquipment::AddAttribute(v3, (Item::Attribute::Type)(v20 & 0xF), *(_WORD *)v19 >> 4);
        v19 += 2;
      }
      while ( (Item::ItemAttribute *)v19 != v3->m_UpgradeAttribute );
    }
    v21 = (int)v3->m_UpgradeAttribute;
    if ( (unsigned __int16 *)v3->m_UpgradeAttribute != v3->m_usRuneSocket )
    {
      do
      {
        v22 = *(_WORD *)v21;
        Item::CEquipment::AddAttribute(v3, (Item::Attribute::Type)(v22 & 0xF), *(_WORD *)v21 >> 4);
        v21 += 2;
      }
      while ( (unsigned __int16 *)v21 != v3->m_usRuneSocket );
    }
    Item::CEquipment::ApplyRuneAttribute(v3, APPLY);
    v23 = nSocketIndex + 2 * (v10 + 10);
    v4[12] = v23;
    v3->baseclass_0.m_ItemData.m_cItemSize = v23;
    *((_WORD *)v4 + 7) &= 0xF803u;
    *((_WORD *)v4 + 7) = *((_WORD *)v4 + 7) & 0x7FF | (v3->m_cUpgradeLevel << 11);
    v4[16] ^= (v4[16] ^ (v3->m_cMaxSocket - v3->baseclass_0.m_ItemInfo->m_DetailData.m_cMaxSocketNum)) & 0x1F;
    v4[17] = nSocketIndex & 0xF | 16 * v10;
    v24 = v4[16];
    v4[18] = v3->baseclass_0.m_cMaxNumOrDurability - v3->baseclass_0.m_ItemInfo->m_DetailData.m_cMaxDurabilityOrStack;
    v4[16] = v24 & 0x1F | 32 * v3->m_cSeasonRecord;
    v4[19] = 0;
    *((_WORD *)v4 + 7) = *((_WORD *)v4 + 7) & 0xFFFC | v3->m_cUpgradeCnt & 3;
    *nBufferLength_InOut = v3->baseclass_0.m_ItemData.m_cItemSize;
    result = 1;
  }
  return result;
}

//----- (00424B10) --------------------------------------------------------
unsigned int __thiscall Item::CEquipment::GetBuyPrice(Item::CEquipment *this)
{
  Item::CEquipment *v1; // esi@1
  unsigned int result; // eax@1
  Item::EquipType::Grade v3; // esi@3

  v1 = this;
  result = this->baseclass_0.m_dwStallPrice;
  if ( !result )
  {
    result = Item::CItem::GetBuyPrice(&this->baseclass_0);
    if ( !v1->m_cSeasonRecord )
    {
      v3 = v1->m_GradeInfo.m_eItemGrade;
      if ( v3 != 5 )
      {
        if ( v3 != 6 )
        {
          if ( v3 != 7 )
            result *= 7;
        }
      }
    }
  }
  return result;
}

//----- (00424B50) --------------------------------------------------------
unsigned int __thiscall Item::CEquipment::GetSellPrice(Item::CEquipment *this)
{
  Item::CEquipment *v1; // esi@1
  unsigned int result; // eax@1
  Item::EquipType::Grade v3; // esi@3

  v1 = this;
  result = this->baseclass_0.m_dwStallPrice;
  if ( !result )
  {
    result = Item::CItem::GetSellPrice(&this->baseclass_0);
    if ( !v1->m_cSeasonRecord )
    {
      v3 = v1->m_GradeInfo.m_eItemGrade;
      if ( v3 != 5 )
      {
        if ( v3 != 6 )
        {
          if ( v3 != 7 )
            result *= 7;
        }
      }
    }
  }
  return result;
}

//----- (00424B90) --------------------------------------------------------
unsigned int __thiscall Item::CEquipment::GetRepairPrice(Item::CEquipment *this)
{
  float v1; // ST04_4@1
  double v2; // st7@1
  float v3; // ST04_4@1
  unsigned __int64 v4; // qax@1
  Item::EquipType::Grade v5; // esi@2

  v1 = (double)(this->baseclass_0.m_cMaxNumOrDurability - this->baseclass_0.m_ItemData.m_cNumOrDurability);
  v2 = v1 * 0.25;
  v3 = (double)this->baseclass_0.m_dwPrice;
  v4 = (unsigned __int64)(v2 * v3 / 200.0 + 1.0);
  if ( !this->m_cSeasonRecord )
  {
    v5 = this->m_GradeInfo.m_eItemGrade;
    if ( v5 != 5 )
    {
      if ( v5 != 6 && v5 != 7 )
        LODWORD(v4) = 7 * v4;
    }
  }
  return v4;
}

//----- (00424C10) --------------------------------------------------------
unsigned int __thiscall Item::CEquipment::GetUpgradePrice(Item::CEquipment *this)
{
  float v1; // ST04_4@1
  double v2; // st7@1
  float v3; // ST04_4@1
  unsigned __int64 v4; // qax@1
  Item::EquipType::Grade v5; // esi@2

  v1 = (double)(this->baseclass_0.m_cMaxNumOrDurability - this->baseclass_0.m_ItemData.m_cNumOrDurability);
  v2 = 100.0 - v1 * 0.25;
  v3 = (double)this->baseclass_0.m_dwPrice;
  v4 = (unsigned __int64)(v2 * v3 / 100.0 / 4.0 + 1.0);
  if ( !this->m_cSeasonRecord )
  {
    v5 = this->m_GradeInfo.m_eItemGrade;
    if ( v5 != 5 )
    {
      if ( v5 != 6 && v5 != 7 )
        LODWORD(v4) = 7 * v4;
    }
  }
  return v4;
}

//----- (00424C90) --------------------------------------------------------
unsigned int __thiscall Item::CEquipment::GetGraftPrice(Item::CEquipment *this)
{
  float v1; // ST04_4@1
  unsigned __int64 v2; // qax@1
  Item::EquipType::Grade v3; // esi@2

  v1 = (double)this->baseclass_0.m_dwPrice;
  v2 = (unsigned __int64)(v1 * 25.0 / 100.0 + 1.0);
  if ( !this->m_cSeasonRecord )
  {
    v3 = this->m_GradeInfo.m_eItemGrade;
    if ( v3 != 5 )
    {
      if ( v3 != 6 && v3 != 7 )
        LODWORD(v2) = 7 * v2;
    }
  }
  return v2;
}

//----- (00424CF0) --------------------------------------------------------
void __thiscall Item::CEquipment::CalculateItemGrade(Item::CEquipment *this)
{
  Item::CEquipment *v1; // ebp@1
  const void *v2; // eax@2
  Item::Attribute::Type v3; // esi@2
  signed int v4; // edi@2
  Item::ItemInfo *v5; // eax@3
  unsigned __int8 v6; // bl@3
  float v7; // ST30_4@3
  float v8; // ST28_4@3
  Item::CItemType::ArrayType v9; // eax@4
  signed int v10; // ecx@8
  bool v11; // zf@12
  int v12; // [sp+4h] [bp-70h]@2
  float fGradeValue; // [sp+8h] [bp-6Ch]@4
  signed int v14; // [sp+Ch] [bp-68h]@2
  float fGradeFactor; // [sp+10h] [bp-64h]@3
  Item::Grade::GradeInfo thisa; // [sp+14h] [bp-60h]@2

  v1 = this;
  if ( this->baseclass_0.m_ItemInfo->m_DetailData.m_wDropOption )
  {
    Item::Grade::GradeInfo::GradeInfo(&thisa);
    memcpy(&v1->m_GradeInfo, v2, sizeof(v1->m_GradeInfo));
    Item::CEquipment::ApplyRuneAttribute(v1, REMOVE);
    v3 = 0;
    v4 = 540;
    v12 = (int)v1->m_GradeInfo.m_aryAttributeGrade;
    v14 = 22;
    do
    {
      v5 = v1->baseclass_0.m_ItemInfo;
      v6 = 0;
      v7 = (double)(*(_WORD *)((char *)&v1[-1] + v4 - 204) - *(unsigned __int16 *)((char *)&v5->m_usProtoTypeID + v4));
      v8 = (double)v5->m_DetailData.m_wDropOption;
      fGradeFactor = v7 / v8;
      while ( 1 )
      {
        v9 = Item::CItemType::GetEquipType(v1->baseclass_0.m_ItemInfo->m_DetailData.m_dwFlags);
        fGradeValue = Item::Grade::GetGradeValue(v9, VALUE_GRADE, (Item::EquipType::Grade)v6, v3);
        if ( 0.0 != fGradeValue )
        {
          if ( fGradeFactor > (double)fGradeValue )
            break;
        }
        ++v6;
        if ( v6 > 5u )
          goto LABEL_12;
      }
      *(_DWORD *)v12 = v6;
      v10 = v1->m_GradeInfo.m_eItemGrade;
      if ( v10 <= v6 )
      {
        if ( v10 == v6 )
          ++v1->m_GradeInfo.m_cPlus;
      }
      else
      {
        v1->m_GradeInfo.m_eItemGrade = v6;
        v1->m_GradeInfo.m_cPlus = 0;
      }
LABEL_12:
      ++v3;
      v4 += 2;
      v11 = v14 == 1;
      v12 += 4;
      --v14;
    }
    while ( !v11 );
    Item::CEquipment::ApplyRuneAttribute(v1, APPLY);
  }
}

//----- (00424E30) --------------------------------------------------------
void __thiscall Item::CUseItem::CUseItem(Item::CUseItem *this, Item::ItemInfo *itemInfo)
{
  Item::CUseItem *v2; // esi@1

  v2 = this;
  Item::CItem::CItem(&this->baseclass_0, itemInfo);
  v2->baseclass_0.vfptr = (Item::CItemVtbl *)Item::CUseItem::_vftable_;
}
// 4584EC: using guessed type int (__stdcall *Item__CUseItem___vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut);

//----- (00424E50) --------------------------------------------------------
void *__thiscall Item::CItem::_vector_deleting_destructor_(Item::CItem *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  this->vfptr = (Item::CItemVtbl *)Item::CItem::_vftable_;
  if ( a2 & 1 )
    operator delete(this);
  return v2;
}
// 4583BC: using guessed type int (__stdcall *Item__CItem___vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut);

//----- (00424E70) --------------------------------------------------------
void __thiscall Item::CEquipment::CEquipment(Item::CEquipment *this, Item::ItemInfo *itemInfo)
{
  Item::CEquipment *v2; // esi@1
  int v3; // eax@1
  signed int v4; // ecx@1
  Item::ItemInfo *v5; // eax@3
  char v6; // al@7

  v2 = this;
  Item::CItem::CItem(&this->baseclass_0, itemInfo);
  v2->baseclass_0.vfptr = (Item::CItemVtbl *)Item::CEquipment::_vftable_;
  v3 = (int)v2->m_SocketAttribute;
  v4 = 16;
  do
  {
    *(_WORD *)v3 = 0;
    v3 += 2;
    --v4;
  }
  while ( v4 );
  v2->m_UpgradeAttribute[0]._bf0 = 0;
  v2->m_UpgradeAttribute[1]._bf0 = 0;
  v2->m_UpgradeAttribute[2]._bf0 = 0;
  v2->m_UpgradeAttribute[3]._bf0 = 0;
  v2->m_UpgradeAttribute[4]._bf0 = 0;
  v2->m_UpgradeAttribute[5]._bf0 = 0;
  v2->m_cUpgradeLevel = 0;
  v2->m_cSocketNum = 0;
  v2->m_cSeasonRecord = 0;
  Item::Grade::GradeInfo::GradeInfo(&v2->m_GradeInfo);
  v5 = v2->baseclass_0.m_ItemInfo;
  if ( v5->m_DetailData.m_cXSize != 1 || v5->m_DetailData.m_cYSize != 1 )
  {
    v2->m_cMaxSocket = 8;
    v2->m_cMaxAttribute = 12;
  }
  else
  {
    v2->m_cMaxSocket = 6;
    v2->m_cMaxAttribute = 6;
  }
  v6 = v2->m_cMaxSocket;
  if ( itemInfo->m_DetailData.m_cMaxSocketNum < (unsigned __int8)v6 )
    v6 = itemInfo->m_DetailData.m_cMaxSocketNum;
  v2->m_cMaxSocket = v6;
  v2->baseclass_0.m_ItemData.m_cItemSize += 6;
  *(_DWORD *)&v2->m_cSocket[0] = 0;
  *(_DWORD *)&v2->m_cSocket[4] = 0;
  *(_DWORD *)&v2->m_usRuneSocket[0] = 0;
  Item::CEquipment::InitializeAttribute(v2);
}
// 45850C: using guessed type int (__thiscall *Item__CEquipment___vftable_[2])(Item::CEquipment *this, int lpSerializeItem_Out, int nIndex);

//----- (00424F70) --------------------------------------------------------
void *__thiscall Item::CUseItem::_scalar_deleting_destructor_(Item::CUseItem *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  Item::CItem::_CItem(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00424F90) --------------------------------------------------------
void __thiscall Item::CEquipment::CalculateItemPrice(Item::CEquipment *this)
{
  Item::CEquipment *v1; // esi@1
  int v2; // ST08_4@2
  unsigned __int8 v3; // al@2
  const float *v4; // edx@2
  char *v5; // ecx@2
  float v6; // ST08_4@2
  float v7; // ST0C_4@5
  float fPriceFactor; // [sp+4h] [bp-8h]@2

  v1 = this;
  if ( this->baseclass_0.m_ItemInfo->m_DetailData.m_bOptionPrice == 1 )
  {
    v2 = this->m_wAttribute[1] + this->m_wAttribute[2];
    v3 = 0;
    v4 = aryPriceRateTable;
    v5 = (char *)this->m_wAttribute;
    v6 = (double)v2;
    fPriceFactor = v6 / 2.0 - 10.0;
    do
    {
      if ( v3 != 1 )
      {
        if ( v3 != 2 )
        {
          v7 = (double)*(_WORD *)v5;
          fPriceFactor = v7 * *v4 + fPriceFactor;
        }
      }
      ++v3;
      v5 += 2;
      ++v4;
    }
    while ( v3 < 0x16u );
    v1->baseclass_0.m_dwPrice = (unsigned __int64)((fPriceFactor * fPriceFactor + 10.0)
                                                 * (float)aryGradeRateTable[v1->m_GradeInfo.m_eItemGrade]);
  }
}

//----- (00425040) --------------------------------------------------------
bool __thiscall Item::CEquipment::SerializeIn(Item::CEquipment *this, const char *lpSerializeItem_In, unsigned int *nBufferLength_InOut)
{
  Item::CEquipment *v3; // esi@1
  Item::ItemInfo *v4; // eax@2
  int v5; // ebx@2
  const char *v6; // ebx@2
  unsigned int i; // edi@2
  __int16 v8; // ax@3
  bool result; // al@4

  v3 = this;
  if ( Item::CItem::SerializeIn(&this->baseclass_0, lpSerializeItem_In, nBufferLength_InOut) == 1 )
  {
    v4 = v3->baseclass_0.m_ItemInfo;
    v3->m_cUpgradeLevel = *((_WORD *)lpSerializeItem_In + 7) >> 11;
    v3->m_cMaxSocket = v4->m_DetailData.m_cMaxSocketNum + ((char)(8 * lpSerializeItem_In[16]) >> 3);
    v3->m_cSocketNum = lpSerializeItem_In[17] & 0xF;
    v5 = v3->m_cSocketNum;
    v3->baseclass_0.m_cMaxNumOrDurability = lpSerializeItem_In[18] + v4->m_DetailData.m_cMaxDurabilityOrStack;
    v3->m_cSeasonRecord = (unsigned __int8)lpSerializeItem_In[16] >> 5;
    v6 = &lpSerializeItem_In[v5 + 20];
    v3->m_cUpgradeCnt = lpSerializeItem_In[14] & 3;
    memmove(v3->m_cSocket, (char *)lpSerializeItem_In + 20, v6 - (lpSerializeItem_In + 20));
    Item::CEquipment::InitializeAttribute(v3);
    for ( i = (unsigned int)&v6[2 * ((unsigned int)(unsigned __int8)lpSerializeItem_In[17] >> 4)];
          v6 != (const char *)i;
          v6 += 2 )
    {
      v8 = *(_WORD *)v6;
      Item::CEquipment::AddAttribute(v3, (Item::Attribute::Type)(v8 & 0xF), *(_WORD *)v6 >> 4);
    }
    *(_DWORD *)&v3->m_SocketAttribute[0]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[2]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[4]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[6]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[8]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[10]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[12]._bf0 = 0;
    *(_DWORD *)&v3->m_SocketAttribute[14]._bf0 = 0;
    Item::CItemType::SetInstallGemAttribute(&v3->baseclass_0);
    *(_DWORD *)&v3->m_UpgradeAttribute[0]._bf0 = 0;
    *(_DWORD *)&v3->m_UpgradeAttribute[2]._bf0 = 0;
    *(_DWORD *)&v3->m_UpgradeAttribute[4]._bf0 = 0;
    Item::CItemType::SetUpgradeItemAttribute(&v3->baseclass_0);
    Item::CEquipment::ApplyGemAttribute(v3, APPLY);
    Item::CEquipment::ApplyUpgradeAttribute(v3, APPLY);
    Item::CEquipment::CalculateItemGrade(v3);
    Item::CEquipment::CalculateItemPrice(v3);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00425170) --------------------------------------------------------
void __thiscall Item::SpriteData::Initialize(Item::SpriteData *this)
{
  memset(this, 0, 0x40u);
  *(_DWORD *)&this->m_szSpriteName[0] = 0;
  *(_DWORD *)&this->m_szSpriteName[4] = 0;
  *(_DWORD *)&this->m_szSpriteName[8] = 0;
  *(_DWORD *)&this->m_szSpriteName[12] = 0;
  *(_DWORD *)&this->m_szSpriteName[16] = 0;
  *(_DWORD *)&this->m_szSpriteName[20] = 0;
  *(_DWORD *)&this->m_szSpriteName[24] = 0;
  *(_DWORD *)&this->m_szSpriteName[28] = 0;
  this->m_nSpriteMaxY = 0;
  this->m_nSpriteMaxX = 0;
  this->m_nSpriteMinY = 0;
  this->m_nSpriteMinX = 0;
}

//----- (004251B0) --------------------------------------------------------
void __thiscall Item::StringData::Initialize(Item::StringData *this)
{
  Item::StringData *v1; // edx@1
  char *v2; // ecx@1

  v1 = this;
  *(_DWORD *)&this->m_szFieldModelName[0] = 0;
  *(_DWORD *)&this->m_szFieldModelName[4] = 0;
  *(_DWORD *)&this->m_szFieldModelName[8] = 0;
  *(_DWORD *)&this->m_szFieldModelName[12] = 0;
  *(_DWORD *)&this->m_szFieldModelName[16] = 0;
  *(_DWORD *)&this->m_szFieldModelName[20] = 0;
  *(_DWORD *)&this->m_szFieldModelName[24] = 0;
  *(_DWORD *)&this->m_szFieldModelName[28] = 0;
  v2 = this->m_szEquipModelName;
  *(_DWORD *)v2 = 0;
  *((_DWORD *)v2 + 1) = 0;
  *((_DWORD *)v2 + 2) = 0;
  *((_DWORD *)v2 + 3) = 0;
  *((_DWORD *)v2 + 4) = 0;
  *((_DWORD *)v2 + 5) = 0;
  *((_DWORD *)v2 + 6) = 0;
  *((_DWORD *)v2 + 7) = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[0] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[4] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[8] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[12] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[16] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[20] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[24] = 0;
  *(_DWORD *)&v1->m_szEffectSoundName[28] = 0;
  *(_DWORD *)&v1->m_szTypeName[0] = 0;
  *(_DWORD *)&v1->m_szTypeName[4] = 0;
  *(_DWORD *)&v1->m_szTypeName[8] = 0;
  *(_DWORD *)&v1->m_szTypeName[12] = 0;
  *(_DWORD *)&v1->m_szTypeName[16] = 0;
  *(_DWORD *)&v1->m_szTypeName[20] = 0;
  *(_DWORD *)&v1->m_szTypeName[24] = 0;
  *(_DWORD *)&v1->m_szTypeName[28] = 0;
  memset(v1->m_szItemDescribe, 0, sizeof(v1->m_szItemDescribe));
}

//----- (00425230) --------------------------------------------------------
const float __cdecl Item::Grade::GetGradeValue(Item::CItemType::ArrayType eEquipType, Item::Grade::TableType eTableType, Item::EquipType::Grade eGrade, Item::Attribute::Type eType)
{
  double v4; // st7@2
  const float result; // st7@10

  switch ( eEquipType )
  {
    case 4:
    case 5:
      v4 = g_aryGradeTable[0][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    case 6:
      v4 = g_aryGradeTable[1][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    case 7:
      v4 = g_aryGradeTable[2][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    case 8:
      v4 = g_aryGradeTable[3][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    case 9:
      v4 = g_aryGradeTable[4][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    case 10:
      v4 = g_aryGradeTable[5][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    case 11:
      v4 = g_aryGradeTable[6][0][0][eType + 22 * (eGrade + 8 * eTableType)];
      break;
    default:
      v4 = 0.0;
      break;
  }
  LODWORD(result) = LODWORD(v4);
  return result;
}

//----- (00425340) --------------------------------------------------------
void __thiscall Item::SpriteData::SpriteData(Item::SpriteData *this)
{
  memset(this, 0, 0x40u);
  *(_DWORD *)&this->m_szSpriteName[0] = 0;
  *(_DWORD *)&this->m_szSpriteName[4] = 0;
  *(_DWORD *)&this->m_szSpriteName[8] = 0;
  *(_DWORD *)&this->m_szSpriteName[12] = 0;
  *(_DWORD *)&this->m_szSpriteName[16] = 0;
  *(_DWORD *)&this->m_szSpriteName[20] = 0;
  *(_DWORD *)&this->m_szSpriteName[24] = 0;
  *(_DWORD *)&this->m_szSpriteName[28] = 0;
  this->m_nSpriteMaxY = 0;
  this->m_nSpriteMaxX = 0;
  this->m_nSpriteMinY = 0;
  this->m_nSpriteMinX = 0;
}

//----- (00425380) --------------------------------------------------------
void __thiscall Item::ItemInfo::Initialize(Item::ItemInfo *this)
{
  Item::ItemInfo *v1; // esi@1

  v1 = this;
  this->m_usProtoTypeID = 0;
  this->m_DetailData.m_cItemType = 0;
  this->m_DetailData.m_cXSize = 0;
  this->m_DetailData.m_cYSize = 0;
  this->m_DetailData.m_wDropOption = 0;
  this->m_DetailData.m_cCriticalType = 0;
  this->m_DetailData.m_cAttackRange = 0;
  this->m_DetailData.m_cMaxSocketNum = 0;
  this->m_DetailData.m_cDefaultDurabilityOrStack = 0;
  this->m_DetailData.m_cMaxDurabilityOrStack = 0;
  this->m_DetailData.m_cMinDropLevel = 0;
  this->m_DetailData.m_cMaxDropLevel = 0;
  this->m_DetailData.m_dwPrice = 0;
  this->m_DetailData.m_dwBlackPrice = 0;
  this->m_DetailData.m_dwMedalPrice = 0;
  this->m_DetailData.m_bOptionPrice = 0;
  this->m_DetailData.m_dwFlags = 0;
  this->m_DetailData.m_bExchangeAndDrop = 1;
  this->m_DetailData.m_bSell = 1;
  this->m_UseLimit.m_dwClassLimit = 0;
  this->m_UseLimit.m_cLimitStatus = 0;
  this->m_UseLimit.m_wLimitValue = 0;
  memset(&this->m_SpriteData, 0, 0x40u);
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[0] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[4] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[8] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[12] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[16] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[20] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[24] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[28] = 0;
  this->m_SpriteData.m_nSpriteMaxY = 0;
  this->m_SpriteData.m_nSpriteMaxX = 0;
  this->m_SpriteData.m_nSpriteMinY = 0;
  this->m_SpriteData.m_nSpriteMinX = 0;
  Item::StringData::Initialize(&this->m_StringData);
  v1->m_EquipAttribute.m_nAttibuteNum = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[0] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[2] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[4] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[6] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[8] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[10] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[12] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[14] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[16] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[18] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[20] = 0;
  v1->m_UseItemInfo.m_cZone = 0;
  v1->m_UseItemInfo.m_dwAmount = 0;
  v1->m_UseItemInfo.m_usSkill_ID = 0;
  v1->m_UseItemInfo.m_usSkill_LockCount = 0;
  v1->m_UseItemInfo.m_wQuestID = 0;
  v1->m_UseItemInfo.m_cLimitRealmPoint = 0;
  v1->m_UseItemInfo.m_bForStatueWar = 0;
}

//----- (00425490) --------------------------------------------------------
void __thiscall Item::Grade::GradeInfo::GradeInfo(Item::Grade::GradeInfo *this)
{
  this->m_eItemGrade = 6;
  this->m_cPlus = 0;
  this->m_aryAttributeGrade[0] = 6;
  this->m_aryAttributeGrade[1] = 6;
  this->m_aryAttributeGrade[2] = 6;
  this->m_aryAttributeGrade[3] = 6;
  this->m_aryAttributeGrade[4] = 6;
  this->m_aryAttributeGrade[5] = 6;
  this->m_aryAttributeGrade[6] = 6;
  this->m_aryAttributeGrade[7] = 6;
  this->m_aryAttributeGrade[8] = 6;
  this->m_aryAttributeGrade[9] = 6;
  this->m_aryAttributeGrade[10] = 6;
  this->m_aryAttributeGrade[11] = 6;
  this->m_aryAttributeGrade[12] = 6;
  this->m_aryAttributeGrade[13] = 6;
  this->m_aryAttributeGrade[14] = 6;
  this->m_aryAttributeGrade[15] = 6;
  this->m_aryAttributeGrade[16] = 6;
  this->m_aryAttributeGrade[17] = 6;
  this->m_aryAttributeGrade[18] = 6;
  this->m_aryAttributeGrade[19] = 6;
  this->m_aryAttributeGrade[20] = 6;
  this->m_aryAttributeGrade[21] = 6;
}

//----- (004254F0) --------------------------------------------------------
void __thiscall Item::ItemInfo::ItemInfo(Item::ItemInfo *this)
{
  Item::ItemInfo *v1; // esi@1

  v1 = this;
  this->m_DetailData.m_cItemType = 0;
  this->m_DetailData.m_cXSize = 0;
  this->m_DetailData.m_cYSize = 0;
  this->m_DetailData.m_wDropOption = 0;
  this->m_DetailData.m_cCriticalType = 0;
  this->m_DetailData.m_cAttackRange = 0;
  this->m_DetailData.m_cMaxSocketNum = 0;
  this->m_DetailData.m_cDefaultDurabilityOrStack = 0;
  this->m_DetailData.m_cMaxDurabilityOrStack = 0;
  this->m_DetailData.m_cMinDropLevel = 0;
  this->m_DetailData.m_cMaxDropLevel = 0;
  this->m_DetailData.m_dwPrice = 0;
  this->m_DetailData.m_dwBlackPrice = 0;
  this->m_DetailData.m_dwMedalPrice = 0;
  this->m_DetailData.m_bOptionPrice = 0;
  this->m_DetailData.m_dwFlags = 0;
  this->m_DetailData.m_bExchangeAndDrop = 1;
  this->m_DetailData.m_bSell = 1;
  this->m_UseLimit.m_dwClassLimit = 0;
  this->m_UseLimit.m_cLimitStatus = 0;
  this->m_UseLimit.m_wLimitValue = 0;
  memset(&this->m_SpriteData, 0, 0x40u);
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[0] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[4] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[8] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[12] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[16] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[20] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[24] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[28] = 0;
  this->m_SpriteData.m_nSpriteMaxY = 0;
  this->m_SpriteData.m_nSpriteMaxX = 0;
  this->m_SpriteData.m_nSpriteMinY = 0;
  this->m_SpriteData.m_nSpriteMinX = 0;
  Item::StringData::Initialize(&this->m_StringData);
  v1->m_EquipAttribute.m_nAttibuteNum = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[0] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[2] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[4] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[6] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[8] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[10] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[12] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[14] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[16] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[18] = 0;
  *(_DWORD *)&v1->m_EquipAttribute.m_usAttributeValue[20] = 0;
  LODWORD(v1->m_UseItemInfo.m_Pos.m_fPointX) = 0;
  LODWORD(v1->m_UseItemInfo.m_Pos.m_fPointY) = 0;
  LODWORD(v1->m_UseItemInfo.m_Pos.m_fPointZ) = 0;
  v1->m_UseItemInfo.m_cZone = 0;
  v1->m_UseItemInfo.m_dwAmount = 0;
  v1->m_UseItemInfo.m_usSkill_ID = 0;
  v1->m_UseItemInfo.m_usSkill_LockCount = 0;
  v1->m_UseItemInfo.m_wQuestID = 0;
  v1->m_UseItemInfo.m_cLimitRealmPoint = 0;
  v1->m_UseItemInfo.m_bForStatueWar = 0;
  Item::ItemInfo::Initialize(v1);
}

//----- (00425620) --------------------------------------------------------
void __thiscall Item::ItemInfo::ItemInfo(Item::ItemInfo *this, unsigned __int16 usProtoTypeID)
{
  Item::ItemInfo *v2; // esi@1

  v2 = this;
  this->m_DetailData.m_cItemType = 0;
  this->m_DetailData.m_cXSize = 0;
  this->m_DetailData.m_cYSize = 0;
  this->m_DetailData.m_wDropOption = 0;
  this->m_DetailData.m_cCriticalType = 0;
  this->m_DetailData.m_cAttackRange = 0;
  this->m_DetailData.m_cMaxSocketNum = 0;
  this->m_DetailData.m_cDefaultDurabilityOrStack = 0;
  this->m_DetailData.m_cMaxDurabilityOrStack = 0;
  this->m_DetailData.m_cMinDropLevel = 0;
  this->m_DetailData.m_cMaxDropLevel = 0;
  this->m_DetailData.m_dwPrice = 0;
  this->m_DetailData.m_dwBlackPrice = 0;
  this->m_DetailData.m_dwMedalPrice = 0;
  this->m_DetailData.m_bOptionPrice = 0;
  this->m_DetailData.m_dwFlags = 0;
  this->m_DetailData.m_bExchangeAndDrop = 1;
  this->m_DetailData.m_bSell = 1;
  this->m_UseLimit.m_dwClassLimit = 0;
  this->m_UseLimit.m_cLimitStatus = 0;
  this->m_UseLimit.m_wLimitValue = 0;
  memset(&this->m_SpriteData, 0, 0x40u);
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[0] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[4] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[8] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[12] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[16] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[20] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[24] = 0;
  *(_DWORD *)&this->m_SpriteData.m_szSpriteName[28] = 0;
  this->m_SpriteData.m_nSpriteMaxY = 0;
  this->m_SpriteData.m_nSpriteMaxX = 0;
  this->m_SpriteData.m_nSpriteMinY = 0;
  this->m_SpriteData.m_nSpriteMinX = 0;
  Item::StringData::Initialize(&this->m_StringData);
  v2->m_EquipAttribute.m_nAttibuteNum = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[0] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[2] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[4] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[6] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[8] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[10] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[12] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[14] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[16] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[18] = 0;
  *(_DWORD *)&v2->m_EquipAttribute.m_usAttributeValue[20] = 0;
  LODWORD(v2->m_UseItemInfo.m_Pos.m_fPointX) = 0;
  LODWORD(v2->m_UseItemInfo.m_Pos.m_fPointY) = 0;
  LODWORD(v2->m_UseItemInfo.m_Pos.m_fPointZ) = 0;
  v2->m_UseItemInfo.m_cZone = 0;
  v2->m_UseItemInfo.m_dwAmount = 0;
  v2->m_UseItemInfo.m_usSkill_ID = 0;
  v2->m_UseItemInfo.m_usSkill_LockCount = 0;
  v2->m_UseItemInfo.m_wQuestID = 0;
  v2->m_UseItemInfo.m_cLimitRealmPoint = 0;
  v2->m_UseItemInfo.m_bForStatueWar = 0;
  Item::ItemInfo::Initialize(v2);
  v2->m_usProtoTypeID = usProtoTypeID;
}

//----- (00425750) --------------------------------------------------------
Item::CItemType::ArrayType __cdecl Item::CItemType::GetEquipType(unsigned int dwItemFlag)
{
  Item::CItemType::ArrayType result; // eax@2

  if ( dwItemFlag & 0x10 )
  {
    result = 4;
  }
  else
  {
    if ( dwItemFlag & 0x20 )
    {
      result = 5;
    }
    else
    {
      if ( dwItemFlag & 0x40 )
      {
        result = 6;
      }
      else
      {
        if ( (dwItemFlag & 0x80u) == 0 )
        {
          if ( BYTE1(dwItemFlag) & 1 )
          {
            result = 8;
          }
          else
          {
            if ( BYTE1(dwItemFlag) & 2 )
            {
              result = 9;
            }
            else
            {
              if ( BYTE1(dwItemFlag) & 4 )
                result = 10;
              else
                result = (dwItemFlag & 0x800) != 0 ? 11 : 16;
            }
          }
        }
        else
        {
          result = 7;
        }
      }
    }
  }
  return result;
}

//----- (004257B0) --------------------------------------------------------
void __thiscall Item::CItemType::SetAccessoryTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo)
{
  switch ( itemInfo->m_DetailData.m_cItemType )
  {
    case 0x41:
      itemInfo->m_DetailData.m_dwFlags |= 0x1001u;
      break;
    case 0x42:
      itemInfo->m_DetailData.m_dwFlags |= 0x2001u;
      break;
    case 0x43:
      itemInfo->m_DetailData.m_dwFlags |= 0x4008u;
      break;
  }
}

//----- (004257F0) --------------------------------------------------------
void __thiscall Item::CItemType::SetUseItemTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo)
{
  unsigned int v2; // ecx@3

  switch ( itemInfo->m_DetailData.m_cItemType )
  {
    case 0x2C:
    case 0x30:
    case 0x31:
    case 0x33:
    case 0x34:
      itemInfo->m_DetailData.m_dwFlags |= 4u;
      break;
    default:
      break;
  }
  v2 = itemInfo->m_DetailData.m_dwFlags;
  if ( itemInfo->m_DetailData.m_cMaxDurabilityOrStack > 1u )
  {
    v2 |= 8u;
    itemInfo->m_DetailData.m_dwFlags = v2;
  }
  itemInfo->m_DetailData.m_dwFlags = v2 | 2;
}

//----- (00425840) --------------------------------------------------------
void __thiscall Item::CItemType::SetEtcItemTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo)
{
  if ( itemInfo->m_DetailData.m_cMaxDurabilityOrStack > 1u )
    itemInfo->m_DetailData.m_dwFlags |= 8u;
}

//----- (00425860) --------------------------------------------------------
void __cdecl Item::CItemType::SetInstallGemAttribute(Item::CItem *lpItem)
{
  int v1; // edi@1
  Item::ItemInfo *v2; // ecx@2
  int v3; // ebp@2
  unsigned __int8 v4; // al@3
  signed __int64 v5; // qax@5
  unsigned __int8 v6; // cl@5
  int v7; // esi@5
  int v8; // edx@5
  int v9; // eax@6
  signed int v10; // eax@7
  __int16 v11; // ax@22
  int v12; // ebx@30
  unsigned __int8 SocketIndex; // [sp+13h] [bp-99h]@3
  __int16 GemAttr; // [sp+14h] [bp-98h]@6
  Item::ItemAttribute aryDaggerGemAttribute[10]; // [sp+18h] [bp-94h]@1
  Item::ItemAttribute aryTwoHandedWeaponGemAttribute[10]; // [sp+30h] [bp-7Ch]@1
  Item::ItemAttribute aryArmorGemAttribute[10]; // [sp+48h] [bp-64h]@1
  Item::ItemAttribute aryStaffGemAttribute[10]; // [sp+60h] [bp-4Ch]@1
  Item::ItemAttribute aryOneHandedWeaponGemAttribute[10]; // [sp+78h] [bp-34h]@1
  Item::ItemAttribute aryShieldGemAttribute[10]; // [sp+90h] [bp-1Ch]@1

  aryArmorGemAttribute[5]._bf0 = 0;
  aryArmorGemAttribute[6]._bf0 = 0;
  aryArmorGemAttribute[7]._bf0 = 0;
  aryArmorGemAttribute[8]._bf0 = 0;
  aryArmorGemAttribute[9]._bf0 = 0;
  aryDaggerGemAttribute[6]._bf0 = 0;
  aryDaggerGemAttribute[7]._bf0 = 0;
  aryDaggerGemAttribute[8]._bf0 = 0;
  aryDaggerGemAttribute[9]._bf0 = 0;
  aryOneHandedWeaponGemAttribute[6]._bf0 = 0;
  aryOneHandedWeaponGemAttribute[7]._bf0 = 0;
  aryOneHandedWeaponGemAttribute[8]._bf0 = 0;
  aryOneHandedWeaponGemAttribute[9]._bf0 = 0;
  aryDaggerGemAttribute[4]._bf0 = 68;
  aryOneHandedWeaponGemAttribute[4]._bf0 = 68;
  aryTwoHandedWeaponGemAttribute[4]._bf0 = 68;
  aryTwoHandedWeaponGemAttribute[5]._bf0 = 50;
  aryStaffGemAttribute[4]._bf0 = 68;
  aryStaffGemAttribute[5]._bf0 = 50;
  v1 = 0;
  aryArmorGemAttribute[0]._bf0 = 35;
  aryArmorGemAttribute[1]._bf0 = 22;
  aryArmorGemAttribute[2]._bf0 = 23;
  aryArmorGemAttribute[3]._bf0 = 30;
  aryArmorGemAttribute[4]._bf0 = 21;
  aryDaggerGemAttribute[0]._bf0 = 17;
  aryDaggerGemAttribute[1]._bf0 = 24;
  aryDaggerGemAttribute[2]._bf0 = 25;
  aryDaggerGemAttribute[3]._bf0 = 26;
  aryDaggerGemAttribute[5]._bf0 = 18;
  aryOneHandedWeaponGemAttribute[0]._bf0 = 33;
  aryOneHandedWeaponGemAttribute[1]._bf0 = 24;
  aryOneHandedWeaponGemAttribute[2]._bf0 = 25;
  aryOneHandedWeaponGemAttribute[3]._bf0 = 26;
  aryOneHandedWeaponGemAttribute[5]._bf0 = 34;
  aryTwoHandedWeaponGemAttribute[0]._bf0 = 49;
  aryTwoHandedWeaponGemAttribute[1]._bf0 = 24;
  aryTwoHandedWeaponGemAttribute[2]._bf0 = 25;
  aryTwoHandedWeaponGemAttribute[3]._bf0 = 26;
  aryTwoHandedWeaponGemAttribute[6]._bf0 = 0;
  aryTwoHandedWeaponGemAttribute[7]._bf0 = 0;
  aryTwoHandedWeaponGemAttribute[8]._bf0 = 0;
  aryTwoHandedWeaponGemAttribute[9]._bf0 = 0;
  aryStaffGemAttribute[0]._bf0 = 93;
  aryStaffGemAttribute[1]._bf0 = 40;
  aryStaffGemAttribute[2]._bf0 = 41;
  aryStaffGemAttribute[3]._bf0 = 26;
  aryStaffGemAttribute[6]._bf0 = 0;
  aryStaffGemAttribute[7]._bf0 = 0;
  aryStaffGemAttribute[8]._bf0 = 0;
  aryStaffGemAttribute[9]._bf0 = 0;
  aryShieldGemAttribute[0]._bf0 = 22;
  aryShieldGemAttribute[1]._bf0 = 24;
  aryShieldGemAttribute[2]._bf0 = 25;
  aryShieldGemAttribute[3]._bf0 = 27;
  aryShieldGemAttribute[4]._bf0 = 23;
  aryShieldGemAttribute[5]._bf0 = 0;
  aryShieldGemAttribute[6]._bf0 = 0;
  aryShieldGemAttribute[7]._bf0 = 0;
  aryShieldGemAttribute[8]._bf0 = 0;
  aryShieldGemAttribute[9]._bf0 = 0;
  if ( lpItem )
  {
    v2 = lpItem->m_ItemInfo;
    v3 = (v2->m_DetailData.m_dwFlags & 1) == 1 ? (int)lpItem : 0;
    if ( (v2->m_DetailData.m_dwFlags & 1) == 1 ? (int)lpItem : 0 )
    {
      v4 = 0;
      SocketIndex = 0;
      if ( *(_BYTE *)((v2->m_DetailData.m_dwFlags & 1) == 1 ? (unsigned int *)((char *)&lpItem[3].m_dwStallPrice + 1) : 137) )
      {
        do
        {
          if ( (unsigned __int16)v1 >= 0x10u )
            break;
          v5 = *(_BYTE *)(v4 + v3 + 36) - 1;
          v6 = 0;
          v7 = v5 % 5;
          v8 = (unsigned __int64)(v5 / 5) + 1;
          do
          {
            v9 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 40);
            GemAttr = 0;
            if ( v9 & 0x10 )
            {
              v10 = 4;
            }
            else
            {
              if ( v9 & 0x20 )
              {
                v10 = 5;
              }
              else
              {
                if ( v9 & 0x40 )
                {
                  v10 = 6;
                }
                else
                {
                  if ( (char)v9 >= 0 )
                  {
                    if ( BYTE1(v9) & 1 )
                    {
                      v10 = 8;
                    }
                    else
                    {
                      if ( BYTE1(v9) & 2 )
                      {
                        v10 = 9;
                      }
                      else
                      {
                        if ( BYTE1(v9) & 4 )
                          v10 = 10;
                        else
                          v10 = (v9 & 0x800) != 0 ? 11 : 16;
                      }
                    }
                  }
                  else
                  {
                    v10 = 7;
                  }
                }
              }
            }
            switch ( v10 )
            {
              case 5:
                v11 = aryArmorGemAttribute[(signed __int16)v7 + 5 * v6]._bf0;
                goto LABEL_28;
              case 6:
                v11 = aryDaggerGemAttribute[(signed __int16)v7 + 5 * v6]._bf0;
                goto LABEL_28;
              case 7:
              case 8:
                v11 = aryOneHandedWeaponGemAttribute[(signed __int16)v7 + 5 * v6]._bf0;
                goto LABEL_28;
              case 9:
                v11 = aryTwoHandedWeaponGemAttribute[(signed __int16)v7 + 5 * v6]._bf0;
                goto LABEL_28;
              case 10:
                v11 = aryStaffGemAttribute[(signed __int16)v7 + 5 * v6]._bf0;
                goto LABEL_28;
              case 11:
                v11 = aryShieldGemAttribute[(signed __int16)v7 + 5 * v6]._bf0;
LABEL_28:
                GemAttr = v11;
                break;
              default:
                break;
            }
            if ( !(GemAttr & 0xFFF0) )
              break;
            v12 = (unsigned __int16)v1++;
            ++v6;
            *(_WORD *)(v3 + 2 * v12 + 44) = GemAttr & 0xF ^ (_WORD)v8 * (GemAttr & 0xFFF0);
          }
          while ( v6 < 2u );
          v4 = SocketIndex++ + 1;
        }
        while ( SocketIndex < *(_BYTE *)(v3 + 137) );
      }
    }
  }
}

//----- (00425BF0) --------------------------------------------------------
void __cdecl Item::CItemType::SetUpgradeItemAttribute(Item::CItem *lpItem)
{
  Item::ItemInfo *v1; // ecx@2
  int v2; // edi@2
  int v3; // ebp@3
  unsigned __int8 v4; // dl@5
  unsigned __int8 v5; // cl@7
  __int16 v6; // ax@8
  int v7; // esi@17
  char cUpgradeLevel; // [sp+13h] [bp-99h]@3
  __int16 UpgAttr; // [sp+14h] [bp-98h]@8
  Item::ItemAttribute aryDaggerUpgrad[10]; // [sp+18h] [bp-94h]@1
  Item::ItemAttribute aryTwoHandedWeaponUpgrade[10]; // [sp+30h] [bp-7Ch]@1
  Item::ItemAttribute aryArmorUpgrade[10]; // [sp+48h] [bp-64h]@1
  Item::ItemAttribute aryStaffUpgrade[10]; // [sp+60h] [bp-4Ch]@1
  Item::ItemAttribute aryOneHandedWeaponUpgrade[10]; // [sp+78h] [bp-34h]@1
  Item::ItemAttribute aryShieldUpgrade[10]; // [sp+90h] [bp-1Ch]@1

  aryDaggerUpgrad[4]._bf0 = 26;
  aryOneHandedWeaponUpgrade[4]._bf0 = 26;
  aryTwoHandedWeaponUpgrade[4]._bf0 = 26;
  aryStaffUpgrade[4]._bf0 = 26;
  aryArmorUpgrade[0]._bf0 = 67;
  aryArmorUpgrade[1]._bf0 = 37;
  aryArmorUpgrade[2]._bf0 = 22;
  aryArmorUpgrade[3]._bf0 = 23;
  aryArmorUpgrade[4]._bf0 = 30;
  aryArmorUpgrade[5]._bf0 = 0;
  aryArmorUpgrade[6]._bf0 = 0;
  aryArmorUpgrade[7]._bf0 = 0;
  aryArmorUpgrade[8]._bf0 = 0;
  aryArmorUpgrade[9]._bf0 = 0;
  aryDaggerUpgrad[0]._bf0 = 33;
  aryDaggerUpgrad[1]._bf0 = 132;
  aryDaggerUpgrad[2]._bf0 = 24;
  aryDaggerUpgrad[3]._bf0 = 25;
  aryDaggerUpgrad[5]._bf0 = 34;
  aryDaggerUpgrad[6]._bf0 = 0;
  aryDaggerUpgrad[7]._bf0 = 0;
  aryDaggerUpgrad[8]._bf0 = 0;
  aryDaggerUpgrad[9]._bf0 = 0;
  aryOneHandedWeaponUpgrade[0]._bf0 = 65;
  aryOneHandedWeaponUpgrade[1]._bf0 = 132;
  aryOneHandedWeaponUpgrade[2]._bf0 = 24;
  aryOneHandedWeaponUpgrade[3]._bf0 = 25;
  aryOneHandedWeaponUpgrade[5]._bf0 = 66;
  aryOneHandedWeaponUpgrade[6]._bf0 = 0;
  aryOneHandedWeaponUpgrade[7]._bf0 = 0;
  aryOneHandedWeaponUpgrade[8]._bf0 = 0;
  aryOneHandedWeaponUpgrade[9]._bf0 = 0;
  aryTwoHandedWeaponUpgrade[0]._bf0 = 97;
  aryTwoHandedWeaponUpgrade[1]._bf0 = 132;
  aryTwoHandedWeaponUpgrade[2]._bf0 = 24;
  aryTwoHandedWeaponUpgrade[3]._bf0 = 25;
  aryTwoHandedWeaponUpgrade[5]._bf0 = 98;
  aryTwoHandedWeaponUpgrade[6]._bf0 = 0;
  aryTwoHandedWeaponUpgrade[7]._bf0 = 0;
  aryTwoHandedWeaponUpgrade[8]._bf0 = 0;
  aryTwoHandedWeaponUpgrade[9]._bf0 = 0;
  aryStaffUpgrade[0]._bf0 = 173;
  aryStaffUpgrade[1]._bf0 = 132;
  aryStaffUpgrade[2]._bf0 = 40;
  aryStaffUpgrade[3]._bf0 = 41;
  aryStaffUpgrade[5]._bf0 = 98;
  aryStaffUpgrade[6]._bf0 = 0;
  aryStaffUpgrade[7]._bf0 = 0;
  aryStaffUpgrade[8]._bf0 = 0;
  aryStaffUpgrade[9]._bf0 = 0;
  aryShieldUpgrade[0]._bf0 = 22;
  aryShieldUpgrade[1]._bf0 = 23;
  aryShieldUpgrade[2]._bf0 = 24;
  aryShieldUpgrade[3]._bf0 = 25;
  aryShieldUpgrade[4]._bf0 = 27;
  aryShieldUpgrade[5]._bf0 = 0;
  aryShieldUpgrade[6]._bf0 = 0;
  aryShieldUpgrade[7]._bf0 = 0;
  aryShieldUpgrade[8]._bf0 = 0;
  aryShieldUpgrade[9]._bf0 = 0;
  if ( lpItem )
  {
    v1 = lpItem->m_ItemInfo;
    v2 = (v1->m_DetailData.m_dwFlags & 1) == 1 ? (int)lpItem : 0;
    if ( (v1->m_DetailData.m_dwFlags & 1) == 1 ? (int)lpItem : 0 )
    {
      v3 = 0;
      cUpgradeLevel = *(_BYTE *)((v1->m_DetailData.m_dwFlags & 1) == 1 ? &lpItem[3].m_dwStallPrice : 136);
      if ( *(_BYTE *)((v1->m_DetailData.m_dwFlags & 1) == 1 ? &lpItem[3].m_dwStallPrice : 136) >= 5u )
        cUpgradeLevel = 5;
      v4 = 0;
      if ( (unsigned __int8)cUpgradeLevel > 0u )
      {
        do
        {
          if ( (signed __int16)v3 >= 6 )
            break;
          v5 = 0;
          do
          {
            v6 = 0;
            UpgAttr = 0;
            switch ( *(_BYTE *)(*(_DWORD *)(v2 + 4) + 21) )
            {
              case 3:
              case 7:
              case 0x16:
              case 0x1A:
                v6 = aryArmorUpgrade[v4 + 5 * v5]._bf0;
                goto LABEL_15;
              case 0x14:
              case 0x23:
              case 0x28:
                v6 = aryDaggerUpgrad[v4 + 5 * v5]._bf0;
                goto LABEL_15;
              case 0xB:
              case 0xD:
              case 0xF:
              case 0x11:
              case 0x12:
              case 0x1E:
              case 0x1F:
              case 0x20:
              case 0x21:
              case 0x22:
              case 0x26:
              case 0x27:
                v6 = aryOneHandedWeaponUpgrade[v4 + 5 * v5]._bf0;
                goto LABEL_15;
              case 0xC:
              case 0xE:
              case 0x10:
                v6 = aryTwoHandedWeaponUpgrade[v4 + 5 * v5]._bf0;
                goto LABEL_15;
              case 0x13:
              case 0x24:
                v6 = aryStaffUpgrade[v4 + 5 * v5]._bf0;
                goto LABEL_15;
              case 0x15:
              case 0x25:
                v6 = aryShieldUpgrade[v4 + 5 * v5]._bf0;
LABEL_15:
                UpgAttr = v6;
                break;
              default:
                break;
            }
            if ( !(UpgAttr & 0xFFF0) )
              break;
            v7 = (signed __int16)v3++;
            ++v5;
            *(_WORD *)(v2 + 2 * v7 + 76) = v6;
          }
          while ( v5 < 2u );
          ++v4;
        }
        while ( v4 < cUpgradeLevel );
      }
    }
  }
}

//----- (00425F30) --------------------------------------------------------
Item::ItemType::Type *__cdecl std::copy_backward<enum__Item::ItemType::Type___enum__Item::ItemType::Type__>(Item::ItemType::Type *_First, Item::ItemType::Type *_Last, Item::ItemType::Type *_Dest)
{
  Item::ItemType::Type *v3; // ecx@1
  Item::ItemType::Type *result; // eax@1
  Item::ItemType::Type v5; // esi@2

  v3 = _Last;
  for ( result = _Dest; v3 != _First; *result = v5 )
  {
    v5 = *((_DWORD *)v3 - 1);
    --v3;
    --result;
  }
  return result;
}

//----- (00425F60) --------------------------------------------------------
void __cdecl std::_Median<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Mid, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v3; // ebp@1
  int v4; // eax@1
  int v5; // esi@1
  int v6; // eax@2
  int v7; // ebx@2
  int v8; // eax@2
  int v9; // edx@2
  int v10; // edx@4
  int v11; // esi@4
  int v12; // edx@6
  int v13; // esi@8
  int v14; // esi@14
  int v15; // edi@14
  int v16; // ebx@18
  int v17; // edi@20
  int v18; // ebx@20
  int v19; // edi@22
  int v20; // esi@24
  int v21; // edi@24
  int v22; // edx@27
  int v23; // edx@29
  int v24; // edx@31
  int _Lasta; // [sp+14h] [bp+Ch]@9
  int _Lastb; // [sp+14h] [bp+Ch]@11
  int _Lastc; // [sp+14h] [bp+Ch]@13
  int _Lastd; // [sp+14h] [bp+Ch]@15
  int _Laste; // [sp+14h] [bp+Ch]@17

  v3 = _Last;
  v4 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  v5 = **(_DWORD **)&_First;
  if ( v4 <= 40 )
  {
    v22 = **(_DWORD **)&_Mid;
    if ( **(_DWORD **)&_Mid < v5 )
    {
      **(_DWORD **)&_Mid = **(_DWORD **)&_First;
      **(_DWORD **)&_First = v22;
    }
    v23 = **(_DWORD **)&_Last;
    if ( **(_DWORD **)&_Last < **(_DWORD **)&_Mid )
    {
      **(_DWORD **)&_Last = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = v23;
    }
    v24 = **(_DWORD **)&_Mid;
    if ( **(_DWORD **)&_Mid < **(_DWORD **)&_First )
    {
      **(_DWORD **)&_Mid = **(_DWORD **)&_First;
      **(_DWORD **)&_First = v24;
    }
  }
  else
  {
    v6 = (v4 + 1) / 8;
    v7 = 8 * v6;
    v8 = 4 * v6;
    v9 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( v9 < v5 )
    {
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v5;
      **(_DWORD **)&_First = v9;
    }
    v10 = *(_DWORD *)(v7 + *(_DWORD *)&_First);
    v11 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( v10 < v11 )
    {
      *(_DWORD *)(v7 + *(_DWORD *)&_First) = v11;
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v10;
    }
    v12 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( v12 < **(_DWORD **)&_First )
    {
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = **(_DWORD **)&_First;
      **(_DWORD **)&_First = v12;
    }
    v13 = *(_DWORD *)&_Mid - v8;
    if ( **(_DWORD **)&_Mid < *(_DWORD *)(*(_DWORD *)&_Mid - v8) )
    {
      _Lasta = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = *(_DWORD *)v13;
      *(_DWORD *)v13 = _Lasta;
    }
    if ( *(_DWORD *)(v8 + *(_DWORD *)&_Mid) < **(_DWORD **)&_Mid )
    {
      _Lastb = *(_DWORD *)(v8 + *(_DWORD *)&_Mid);
      *(_DWORD *)(v8 + *(_DWORD *)&_Mid) = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = _Lastb;
    }
    if ( **(_DWORD **)&_Mid < *(_DWORD *)v13 )
    {
      _Lastc = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = *(_DWORD *)v13;
      *(_DWORD *)v13 = _Lastc;
    }
    v14 = *(_DWORD *)&v3 - v8;
    v15 = *(_DWORD *)&v3 - v7;
    if ( *(_DWORD *)(*(_DWORD *)&v3 - v8) < *(_DWORD *)(*(_DWORD *)&v3 - v7) )
    {
      _Lastd = *(_DWORD *)(*(_DWORD *)&v3 - v8);
      *(_DWORD *)v14 = *(_DWORD *)v15;
      *(_DWORD *)v15 = _Lastd;
    }
    if ( **(_DWORD **)&v3 < *(_DWORD *)v14 )
    {
      _Laste = **(_DWORD **)&v3;
      **(_DWORD **)&v3 = *(_DWORD *)v14;
      *(_DWORD *)v14 = _Laste;
    }
    v16 = *(_DWORD *)v14;
    if ( *(_DWORD *)v14 < *(_DWORD *)v15 )
    {
      *(_DWORD *)v14 = *(_DWORD *)v15;
      *(_DWORD *)v15 = v16;
    }
    v17 = **(_DWORD **)&_Mid;
    v18 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( **(_DWORD **)&_Mid < v18 )
    {
      **(_DWORD **)&_Mid = v18;
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v17;
    }
    v19 = *(_DWORD *)v14;
    if ( *(_DWORD *)v14 < **(_DWORD **)&_Mid )
    {
      *(_DWORD *)v14 = **(_DWORD **)&_Mid;
      **(_DWORD **)&_Mid = v19;
    }
    v20 = **(_DWORD **)&_Mid;
    v21 = *(_DWORD *)(v8 + *(_DWORD *)&_First);
    if ( **(_DWORD **)&_Mid < v21 )
    {
      **(_DWORD **)&_Mid = v21;
      *(_DWORD *)(v8 + *(_DWORD *)&_First) = v20;
    }
  }
}

//----- (004260A0) --------------------------------------------------------
void __cdecl std::_Adjust_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, int _Hole, int _Bottom, Item::ItemType::Type _Val)
{
  int v4; // esi@1
  int v5; // eax@1
  bool i; // zf@1
  int j; // eax@7
  Item::ItemType::Type v8; // edx@8

  v4 = _Hole;
  v5 = 2 * _Hole + 2;
  for ( i = v5 == _Bottom; v5 < _Bottom; i = v5 == _Bottom )
  {
    if ( *(_DWORD *)(*(_DWORD *)&_First + 4 * v5) < *(_DWORD *)(*(_DWORD *)&_First + 4 * v5 - 4) )
      --v5;
    *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = *(_DWORD *)(*(_DWORD *)&_First + 4 * v5);
    v4 = v5;
    v5 = 2 * v5 + 2;
  }
  if ( i )
  {
    *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = *(_DWORD *)(*(_DWORD *)&_First + 4 * _Bottom - 4);
    v4 = _Bottom - 1;
  }
  for ( j = (v4 - 1) / 2; _Hole < v4; j = (j - 1) / 2 )
  {
    v8 = *(_DWORD *)(*(_DWORD *)&_First + 4 * j);
    if ( v8 >= _Val )
      break;
    *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = v8;
    v4 = j;
  }
  *(_DWORD *)(*(_DWORD *)&_First + 4 * v4) = _Val;
}

//----- (00426120) --------------------------------------------------------
void __cdecl std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(Item::ItemType::Type *_First, unsigned int _Count, Item::ItemType::Type *_Val, std::allocator<enum Item::ItemType::Type> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  unsigned int v5; // ecx@2
  Item::ItemType::Type *v6; // eax@2

  if ( _Count )
  {
    v5 = _Count;
    v6 = _First;
    do
    {
      if ( v6 )
        *v6 = *_Val;
      ++v6;
      --v5;
    }
    while ( v5 );
  }
}

//----- (00426150) --------------------------------------------------------
std::pair<std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator,std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::pair<std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator,std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator> *result, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v3; // ebx@1
  int v4; // ecx@1
  int i; // esi@1
  int v6; // eax@2
  int v7; // edx@6
  int v8; // eax@10
  unsigned int v9; // ebp@10
  int v10; // edi@14
  bool v11; // zf@16
  int v12; // edx@17
  int v13; // edi@20
  int v14; // edx@26
  int v15; // edx@27
  int v16; // ST1C_4@27
  int v17; // edx@30
  int v18; // edi@31
  int v19; // edx@31
  int v20; // edi@32
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v21; // [sp+0h] [bp-20h]@0
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v22; // [sp+4h] [bp-1Ch]@0
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v23; // [sp+8h] [bp-18h]@0

  v3 = _Last;
  std::_Median<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(
    v21,
    v22,
    v23);
  v4 = *(_DWORD *)&_First + 4 * ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2) / 2;
  for ( i = v4 + 4; *(unsigned int *)&_First < v4; v4 -= 4 )
  {
    v6 = *(_DWORD *)(v4 - 4);
    if ( *(_DWORD *)v4 > v6 )
      break;
    if ( *(_DWORD *)v4 < v6 )
      break;
  }
  if ( i < *(unsigned int *)&_Last )
  {
    v7 = *(_DWORD *)v4;
    do
    {
      if ( v7 > *(_DWORD *)i )
        break;
      if ( v7 < *(_DWORD *)i )
        break;
      i += 4;
    }
    while ( i < *(unsigned int *)&_Last );
  }
  v8 = i;
  v9 = v4;
  while ( 1 )
  {
    while ( 1 )
    {
      for ( ; v8 < *(unsigned int *)&v3; v8 += 4 )
      {
        if ( *(_DWORD *)v8 <= *(_DWORD *)v4 )
        {
          if ( *(_DWORD *)v8 < *(_DWORD *)v4 )
            break;
          v10 = *(_DWORD *)i;
          *(_DWORD *)i = *(_DWORD *)v8;
          v3 = _Last;
          i += 4;
          *(_DWORD *)v8 = v10;
        }
      }
      v11 = v9 == _First;
      if ( v9 > *(_DWORD *)&_First )
      {
        v12 = v9 - 4;
        do
        {
          if ( *(_DWORD *)v4 <= *(_DWORD *)v12 )
          {
            if ( *(_DWORD *)v4 < *(_DWORD *)v12 )
              break;
            v13 = *(_DWORD *)(v4 - 4);
            v4 -= 4;
            *(_DWORD *)v4 = *(_DWORD *)v12;
            *(_DWORD *)v12 = v13;
          }
          v9 -= 4;
          v12 -= 4;
        }
        while ( *(_DWORD *)&_First < v9 );
        v3 = _Last;
        v11 = v9 == _First;
      }
      if ( v11 )
        break;
      v9 -= 4;
      if ( v8 == v3 )
      {
        v4 -= 4;
        if ( v9 != v4 )
        {
          v17 = *(_DWORD *)v9;
          *(_DWORD *)v9 = *(_DWORD *)v4;
          *(_DWORD *)v4 = v17;
        }
        v18 = *(_DWORD *)(i - 4);
        v19 = *(_DWORD *)v4;
        i -= 4;
        *(_DWORD *)v4 = v18;
        *(_DWORD *)i = v19;
      }
      else
      {
        v20 = *(_DWORD *)v8;
        *(_DWORD *)v8 = *(_DWORD *)v9;
        v3 = _Last;
        v8 += 4;
        *(_DWORD *)v9 = v20;
      }
    }
    if ( v8 == v3 )
      break;
    if ( i != v8 )
    {
      v14 = *(_DWORD *)v4;
      *(_DWORD *)v4 = *(_DWORD *)i;
      *(_DWORD *)i = v14;
    }
    v15 = v8;
    v16 = *(_DWORD *)v4;
    *(_DWORD *)v4 = *(_DWORD *)v8;
    v3 = _Last;
    i += 4;
    v8 += 4;
    v4 += 4;
    *(_DWORD *)v15 = v16;
  }
  *(_DWORD *)(v8 + 4) = i;
  *(_DWORD *)v8 = v4;
}

//----- (004262A0) --------------------------------------------------------
std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *__cdecl std::_Lower_bound<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_unsigned_char_int>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *result, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, const char *_Val, int *__formal)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v5; // esi@1
  int v6; // ecx@1
  int v7; // eax@2
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *v8; // eax@6

  v5 = _First;
  v6 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  while ( v6 > 0 )
  {
    v7 = v6 / 2;
    if ( *(_DWORD *)(*(_DWORD *)&v5 + 4 * v6 / 2) >= (signed int)(unsigned __int8)*_Val )
    {
      v6 /= 2;
    }
    else
    {
      *(_DWORD *)&v5 += 4 * v7 + 4;
      v6 += -1 - v7;
    }
  }
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  return v8;
}

//----- (004262F0) --------------------------------------------------------
void __cdecl std::_Make_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, int *__formal, Item::ItemType::Type *a4)
{
  int i; // esi@1
  Item::ItemType::Type v5; // eax@2

  for ( i = ((*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2) / 2;
        i > 0;
        std::_Adjust_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(
          _First,
          i,
          (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2,
          v5) )
    v5 = *(_DWORD *)(*(_DWORD *)&_First + 4 * i-- - 4);
}

//----- (00426330) --------------------------------------------------------
void __cdecl std::_Insertion_sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last)
{
  int i; // esi@2
  int v3; // ecx@3
  int v4; // eax@7
  int v5; // ebp@8
  int v6; // edx@8
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v7; // [sp-1Ch] [bp-24h]@6
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v8; // [sp-18h] [bp-20h]@6
  int v9; // [sp-14h] [bp-1Ch]@6
  int *v10; // [sp-10h] [bp-18h]@6
  Item::ItemType::Type *v11; // [sp-Ch] [bp-14h]@6

  if ( _First != _Last )
  {
    for ( i = *(_DWORD *)&_First + 4; i != _Last; i += 4 )
    {
      v3 = *(_DWORD *)i;
      if ( *(_DWORD *)i >= **(_DWORD **)&_First )
      {
        v4 = i - 4;
        if ( v3 >= *(_DWORD *)(i - 4) )
          continue;
        do
        {
          v5 = *(_DWORD *)(v4 - 4);
          v6 = v4;
          v4 -= 4;
        }
        while ( v3 < v5 );
        if ( v6 == i || i == i + 4 )
          continue;
        v11 = 0;
        v10 = 0;
        v9 = i + 4;
        v8 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)i;
        v7 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v6;
      }
      else
      {
        if ( _First == i || i == i + 4 )
          continue;
        v11 = 0;
        v10 = 0;
        v9 = i + 4;
        v8 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)i;
        v7 = _First;
      }
      std::_Rotate<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(
        v7,
        v8,
        (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v9,
        v10,
        v11);
    }
  }
}

//----- (004263B0) --------------------------------------------------------
Item::ItemType::Type *__thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Ufill(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, Item::ItemType::Type *_Ptr, unsigned int _Count, Item::ItemType::Type *_Val)
{
  std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
    _Ptr,
    _Count,
    _Val,
    &this->baseclass_0._Alval,
    (std::_Nonscalar_ptr_iterator_tag)_Val);
  return &_Ptr[_Count];
}

//----- (004263E0) --------------------------------------------------------
void __cdecl std::sort_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last)
{
  signed int i; // esi@1
  Item::ItemType::Type v3; // ST0C_4@2

  for ( i = *(_DWORD *)&_Last - *(_DWORD *)&_First; i >> 2 > 1; i -= 4 )
  {
    v3 = *(_DWORD *)(*(_DWORD *)&_First + i - 4);
    *(_DWORD *)(*(_DWORD *)&_First + i - 4) = **(_DWORD **)&_First;
    std::_Adjust_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(
      _First,
      0,
      (i - 4) >> 2,
      v3);
  }
}

//----- (00426430) --------------------------------------------------------
void __thiscall Item::CItemType::_CItemType(Item::CItemType *this)
{
  _eh_vector_destructor_iterator_(
    this,
    0x10u,
    16,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (00426440) --------------------------------------------------------
bool __thiscall Item::CItemType::IsCorrectItemType(Item::CItemType *this, Item::CItemType::ArrayType itemType, char cEquipType)
{
  Item::ItemType::Type *v3; // esi@1

  v3 = this->m_ItemTypes[itemType]._Mylast;
  std::_Lower_bound<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_unsigned_char_int>(
    (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)&itemType,
    (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)this->m_ItemTypes[itemType]._Myfirst,
    (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)this->m_ItemTypes[itemType]._Mylast,
    &cEquipType,
    0);
  return (Item::ItemType::Type *)itemType != v3 && (signed int)(unsigned __int8)cEquipType >= *(_DWORD *)itemType;
}

//----- (00426490) --------------------------------------------------------
void __thiscall Item::CItemType::SetEquipTypeFlags(Item::CItemType *this, Item::ItemInfo *itemInfo)
{
  Item::ItemInfo *v2; // ebp@1
  char v3; // bl@1
  Item::CItemType *v4; // esi@1
  Item::ItemType::Type *v5; // edi@4
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v6; // ST08_4@4
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v7; // ST04_4@4
  int v8; // eax@6
  Item::ItemType::Type *v9; // edi@7
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v10; // ST08_4@7
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v11; // ST04_4@7
  int v12; // eax@9
  int v13; // eax@11
  int v14; // eax@13
  int v15; // eax@15
  int v16; // eax@17
  int v17; // eax@19
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator result; // [sp+10h] [bp-4h]@4

  v2 = itemInfo;
  v3 = itemInfo->m_DetailData.m_cItemType;
  v4 = this;
  if ( (unsigned __int8)v3 >= 0x29u && (unsigned __int8)v3 <= 0x2Au )
    itemInfo->m_DetailData.m_dwFlags |= 8u;
  v5 = this->m_ItemTypes[4]._Mylast;
  v6 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)this->m_ItemTypes[4]._Mylast;
  v7 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)this->m_ItemTypes[4]._Myfirst;
  LOBYTE(itemInfo) = v3;
  std::_Lower_bound<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_unsigned_char_int>(
    &result,
    v7,
    v6,
    (const char *)&itemInfo,
    0);
  if ( (Item::ItemType::Type *)result == v5 || (signed int)(unsigned __int8)v3 < **(_DWORD **)&result )
  {
    v9 = v4->m_ItemTypes[5]._Mylast;
    v10 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v4->m_ItemTypes[5]._Mylast;
    v11 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v4->m_ItemTypes[5]._Myfirst;
    LOBYTE(itemInfo) = v3;
    std::_Lower_bound<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_unsigned_char_int>(
      &result,
      v11,
      v10,
      (const char *)&itemInfo,
      0);
    if ( (Item::ItemType::Type *)result == v9 || (signed int)(unsigned __int8)v3 < **(_DWORD **)&result )
    {
      if ( Item::CItemType::IsCorrectItemType(v4, DAGGER_TYPE, v3) )
      {
        v13 = v2->m_DetailData.m_dwFlags | 0x40;
        v2->m_DetailData.m_dwFlags = v13;
        v2->m_DetailData.m_dwFlags = v13 | 1;
      }
      else
      {
        if ( Item::CItemType::IsCorrectItemType(v4, ONEHANDED_TYPE, v3) )
        {
          v14 = v2->m_DetailData.m_dwFlags | 0x80;
          v2->m_DetailData.m_dwFlags = v14;
          v2->m_DetailData.m_dwFlags = v14 | 1;
        }
        else
        {
          if ( Item::CItemType::IsCorrectItemType(v4, LONGRANGE_TYPE, v3) )
          {
            v15 = v2->m_DetailData.m_dwFlags | 0x100;
            v2->m_DetailData.m_dwFlags = v15;
            v2->m_DetailData.m_dwFlags = v15 | 1;
          }
          else
          {
            if ( Item::CItemType::IsCorrectItemType(v4, TWOHANDED_TYPE, v3) )
            {
              v16 = v2->m_DetailData.m_dwFlags | 0x200;
              v2->m_DetailData.m_dwFlags = v16;
              v2->m_DetailData.m_dwFlags = v16 | 1;
            }
            else
            {
              if ( Item::CItemType::IsCorrectItemType(v4, STAFF_TYPE, v3) )
              {
                v17 = v2->m_DetailData.m_dwFlags | 0x400;
                v2->m_DetailData.m_dwFlags = v17;
                v2->m_DetailData.m_dwFlags = v17 | 1;
              }
              else
              {
                if ( Item::CItemType::IsCorrectItemType(v4, SHIELD_TYPE, v3) )
                  v2->m_DetailData.m_dwFlags |= 0x800u;
                v2->m_DetailData.m_dwFlags |= 1u;
              }
            }
          }
        }
      }
    }
    else
    {
      v12 = v2->m_DetailData.m_dwFlags | 0x20;
      v2->m_DetailData.m_dwFlags = v12;
      v2->m_DetailData.m_dwFlags = v12 | 1;
    }
  }
  else
  {
    v8 = v2->m_DetailData.m_dwFlags | 0x10;
    v2->m_DetailData.m_dwFlags = v8;
    v2->m_DetailData.m_dwFlags = v8 | 1;
  }
}

//----- (00426630) --------------------------------------------------------
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Xlen(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (004266A0) --------------------------------------------------------
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Where, unsigned int _Count, Item::ItemType::Type *_Val)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *v4; // esi@1
  Item::ItemType::Type *v5; // edx@1
  Item::ItemType::Type v6; // ecx@1
  int v7; // eax@2
  unsigned int v8; // ebx@4
  int v9; // ecx@6
  int v10; // ecx@11
  int v11; // eax@15
  int v12; // ecx@18
  int v13; // eax@22
  void *v14; // edi@25
  std::vector<char *,std::allocator<char *> >::iterator v15; // ST14_4@25
  Item::ItemType::Type *v16; // ecx@25
  int v17; // eax@26
  int v18; // ebx@28
  std::vector<char *,std::allocator<char *> >::iterator v19; // eax@31
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v20; // edi@31
  bool v21; // cf@31
  unsigned int v22; // ecx@31
  unsigned int v23; // ST24_4@32
  Item::ItemType::Type *v24; // ST20_4@32
  int v25; // ebx@32
  Item::ItemType::Type *v26; // ebx@33
  std::_Nonscalar_ptr_iterator_tag v27; // [sp-10h] [bp-28h]@31
  int v28; // [sp-Ch] [bp-24h]@1
  void *_Newvec; // [sp+0h] [bp-18h]@25
  int v30; // [sp+4h] [bp-14h]@25
  int *v31; // [sp+8h] [bp-10h]@1
  int v32; // [sp+14h] [bp-4h]@25
  unsigned int _Wherea; // [sp+20h] [bp+8h]@31
  char **_Countb; // [sp+24h] [bp+Ch]@25
  Item::ItemType::Type *_Counta; // [sp+24h] [bp+Ch]@31

  v4 = this;
  v5 = this->_Myfirst;
  v6 = *_Val;
  v31 = &v28;
  _Val = (Item::ItemType::Type *)v6;
  if ( v5 )
    v7 = v4->_Myend - v5;
  else
    v7 = 0;
  v8 = _Count;
  if ( _Count )
  {
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( 1073741823 - v9 < _Count )
      std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Xlen(v4);
    if ( v5 )
      v10 = v4->_Mylast - v5;
    else
      v10 = 0;
    if ( v7 >= _Count + v10 )
    {
      v19 = (std::vector<char *,std::allocator<char *> >::iterator)v4->_Mylast;
      v20 = _Where;
      v21 = (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2 < _Count;
      v22 = 4 * _Count;
      _Wherea = 4 * _Count;
      v27.dummy[0] = 4 * _Count;
      _Counta = v4->_Mylast;
      if ( v21 )
      {
        std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
          (std::vector<char *,std::allocator<char *> >::iterator)v20,
          v19,
          (char **)(*(_DWORD *)&v20 + v22),
          (std::allocator<char *> *)v4,
          v27);
        v23 = v8 - ((signed int)((char *)v4->_Mylast - *(_DWORD *)&v20) >> 2);
        v24 = v4->_Mylast;
        v32 = 2;
        std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Ufill(
          v4,
          v24,
          v23,
          (Item::ItemType::Type *)&_Val);
        v25 = (int)&v4->_Mylast[_Wherea / 4];
        v4->_Mylast = (Item::ItemType::Type *)v25;
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v20,
          (int *)(v25 - _Wherea),
          (const int *)&_Val);
      }
      else
      {
        v26 = (Item::ItemType::Type *)(*(_DWORD *)&v19 - v22);
        v4->_Mylast = (Item::ItemType::Type *)std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
                                                (std::vector<char *,std::allocator<char *> >::iterator)(*(_DWORD *)&v19 - v22),
                                                v19,
                                                *(char ***)&v19,
                                                (std::allocator<char *> *)v4,
                                                v27);
        std::copy_backward<enum__Item::ItemType::Type___enum__Item::ItemType::Type__>(
          *(Item::ItemType::Type **)&v20,
          v26,
          _Counta);
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v20,
          (int *)(*(_DWORD *)&v20 + _Wherea),
          (const int *)&_Val);
      }
    }
    else
    {
      if ( 1073741823 - ((unsigned int)v7 >> 1) >= v7 )
        v11 = ((unsigned int)v7 >> 1) + v7;
      else
        v11 = 0;
      if ( v5 )
        v12 = v4->_Mylast - v5;
      else
        v12 = 0;
      if ( v11 < _Count + v12 )
      {
        if ( v5 )
          v13 = v4->_Mylast - v5;
        else
          v13 = 0;
        v11 = _Count + v13;
      }
      v30 = 4 * v11;
      v14 = operator new(4 * v11);
      v15 = (std::vector<char *,std::allocator<char *> >::iterator)v4->_Myfirst;
      _Newvec = v14;
      v32 = 0;
      _Countb = std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
                  v15,
                  (std::vector<char *,std::allocator<char *> >::iterator)_Where,
                  (char **)v14,
                  (std::allocator<char *> *)v4,
                  (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
        (Item::ItemType::Type *)_Countb,
        v8,
        (Item::ItemType::Type *)&_Val,
        &v4->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
        (std::vector<char *,std::allocator<char *> >::iterator)_Where,
        (std::vector<char *,std::allocator<char *> >::iterator)v4->_Mylast,
        &_Countb[v8],
        (std::allocator<char *> *)v4,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v16 = v4->_Myfirst;
      if ( v16 )
        v17 = v4->_Mylast - v16;
      else
        v17 = 0;
      v18 = v17 + v8;
      if ( v16 )
        operator delete(v4->_Myfirst);
      v4->_Myend = (Item::ItemType::Type *)((char *)v14 + v30);
      v4->_Mylast = (Item::ItemType::Type *)((char *)v14 + 4 * v18);
      v4->_Myfirst = (Item::ItemType::Type *)v14;
    }
  }
}

//----- (004268E0) --------------------------------------------------------
void __cdecl std::_Sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int>(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _First, std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator _Last, int _Ideal)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v3; // ebx@1
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v4; // edi@1
  int v5; // eax@1
  signed int v6; // esi@2
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v7; // ebp@4
  std::pair<std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator,std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator> _Mid; // [sp+10h] [bp-8h]@4

  v3 = _First;
  v4 = _Last;
  v5 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) >> 2;
  if ( v5 <= 32 )
    goto LABEL_8;
  v6 = _Ideal;
  while ( v6 > 0 )
  {
    std::_Unguarded_partition<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(
      &_Mid,
      v3,
      v4);
    v7 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v6 = v6 / 2 / 2 + v6 / 2;
    if ( ((*(_DWORD *)&_Mid - *(_DWORD *)&v3) & 0xFFFFFFFC) >= ((*(_DWORD *)&v4
                                                               - *(_DWORD *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]) & 0xFFFFFFFC) )
    {
      std::_Sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int>(
        _Mid.second,
        v4,
        v6);
      v4 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)&_Mid;
    }
    else
    {
      std::_Sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int>(
        v3,
        _Mid.first,
        v6);
      v3 = v7;
    }
    v5 = (*(_DWORD *)&v4 - *(_DWORD *)&v3) >> 2;
    if ( v5 <= 32 )
      goto LABEL_8;
  }
  if ( v5 <= 32 )
  {
LABEL_8:
    if ( v5 > 1 )
      std::_Insertion_sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(
        v3,
        v4);
  }
  else
  {
    if ( ((*(_DWORD *)&v4 - *(_DWORD *)&v3) & 0xFFFFFFFC) > 4 )
      std::_Make_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int_enum__Item::ItemType::Type>(
        v3,
        v4,
        0,
        0);
    std::sort_heap<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator>(v3, v4);
  }
}

//----- (004269B0) --------------------------------------------------------
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::reserve(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, unsigned int _Count)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *v2; // esi@1
  Item::ItemType::Type *v3; // ecx@3
  int v4; // ebx@3
  int v5; // eax@4
  void *v6; // eax@7
  void *v7; // edi@7
  std::vector<char *,std::allocator<char *> >::iterator v8; // ST04_4@7
  std::vector<char *,std::allocator<char *> >::iterator v9; // ST00_4@7
  Item::ItemType::Type *v10; // eax@7
  int v11; // [sp-Ch] [bp-20h]@1
  void *_Ptr; // [sp+0h] [bp-14h]@7
  int *v13; // [sp+4h] [bp-10h]@1
  int v14; // [sp+10h] [bp-4h]@7
  unsigned int _Counta; // [sp+1Ch] [bp+8h]@7

  v13 = &v11;
  v2 = this;
  if ( _Count > 0x3FFFFFFF )
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Xlen(this);
  v3 = this->_Myfirst;
  v4 = 0;
  if ( v3 )
    v5 = v2->_Myend - v3;
  else
    v5 = 0;
  if ( v5 < _Count )
  {
    _Counta = 4 * _Count;
    v6 = operator new(_Counta);
    v7 = v6;
    v8 = (std::vector<char *,std::allocator<char *> >::iterator)v2->_Mylast;
    v9 = (std::vector<char *,std::allocator<char *> >::iterator)v2->_Myfirst;
    _Ptr = v6;
    v14 = 0;
    std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
      v9,
      v8,
      (char **)v6,
      (std::allocator<char *> *)v2,
      (std::_Nonscalar_ptr_iterator_tag)_Counta);
    v10 = v2->_Myfirst;
    if ( v10 )
      v4 = v2->_Mylast - v10;
    if ( v10 )
      operator delete(v2->_Myfirst);
    v2->_Myend = (Item::ItemType::Type *)((char *)v7 + _Counta);
    v2->_Mylast = (Item::ItemType::Type *)((char *)v7 + 4 * v4);
    v2->_Myfirst = (Item::ItemType::Type *)v7;
  }
}

//----- (00426A80) --------------------------------------------------------
void __thiscall std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>(std::vector<unsigned short,std::allocator<unsigned short> > *this)
{
  this->_Myfirst = 0;
  this->_Mylast = 0;
  this->_Myend = 0;
}

//----- (00426A90) --------------------------------------------------------
void __thiscall std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *this, Item::ItemType::Type *_Val)
{
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *v2; // esi@1
  Item::ItemType::Type *v3; // edx@1
  signed int v4; // ecx@2
  Item::ItemType::Type *v5; // edi@6

  v2 = this;
  v3 = this->_Myfirst;
  if ( v3 )
    v4 = this->_Mylast - v3;
  else
    v4 = 0;
  if ( v3 && v4 < v2->_Myend - v3 )
  {
    v5 = v2->_Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v2->_Mylast,
      1u,
      _Val,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Val);
    v2->_Mylast = v5 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v2,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v2->_Mylast,
      1u,
      _Val);
  }
}

//----- (00426B00) --------------------------------------------------------
void __thiscall Item::CItemType::CItemType(Item::CItemType *this)
{
  Item::CItemType *v1; // esi@1
  int v2; // eax@1
  signed int v3; // ecx@1
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *v4; // edi@3
  signed int v5; // ebp@3
  Item::ItemType::Type v6; // ecx@5
  Item::ItemType::Type v7; // edx@5
  Item::ItemType::Type v8; // ecx@5
  Item::ItemType::Type v9; // edx@5
  Item::ItemType::Type v10; // ecx@5
  Item::ItemType::Type v11; // edx@5
  Item::ItemType::Type v12; // ecx@5
  Item::ItemType::Type v13; // edx@5
  Item::ItemType::Type v14; // ecx@5
  Item::ItemType::Type v15; // edx@5
  Item::ItemType::Type v16; // ecx@5
  Item::ItemType::Type v17; // edx@5
  Item::ItemType::Type v18; // ecx@5
  Item::ItemType::Type v19; // edx@5
  Item::ItemType::Type v20; // ecx@5
  Item::ItemType::Type v21; // edx@5
  Item::ItemType::Type v22; // ecx@5
  Item::ItemType::Type v23; // edx@5
  Item::ItemType::Type v24; // ecx@5
  Item::ItemType::Type v25; // edx@5
  Item::ItemType::Type v26; // ecx@5
  Item::ItemType::Type v27; // edx@5
  Item::ItemType::Type v28; // ecx@5
  Item::ItemType::Type v29; // edx@5
  Item::ItemType::Type v30; // ecx@5
  Item::ItemType::Type v31; // edx@5
  Item::ItemType::Type v32; // ecx@5
  Item::ItemType::Type v33; // edx@5
  Item::ItemType::Type v34; // ecx@5
  Item::ItemType::Type v35; // edx@5
  Item::ItemType::Type v36; // ecx@5
  Item::ItemType::Type v37; // edx@5
  Item::ItemType::Type v38; // ecx@5
  Item::ItemType::Type v39; // edx@5
  Item::ItemType::Type v40; // ecx@5
  Item::ItemType::Type v41; // edx@5
  Item::ItemType::Type v42; // ecx@5
  Item::ItemType::Type v43; // edx@5
  Item::ItemType::Type v44; // ecx@5
  Item::ItemType::Type v45; // edx@5
  Item::ItemType::Type v46; // ecx@5
  Item::ItemType::Type v47; // edx@5
  Item::ItemType::Type v48; // ecx@5
  Item::ItemType::Type v49; // edx@5
  Item::ItemType::Type v50; // ecx@5
  Item::ItemType::Type v51; // edx@5
  Item::ItemType::Type v52; // ecx@5
  Item::ItemType::Type v53; // edx@5
  Item::ItemType::Type v54; // ecx@5
  Item::ItemType::Type v55; // edx@5
  Item::ItemType::Type v56; // ecx@5
  Item::ItemType::Type v57; // edx@5
  Item::ItemType::Type v58; // ecx@5
  Item::ItemType::Type v59; // edx@5
  Item::ItemType::Type v60; // ecx@5
  Item::ItemType::Type v61; // edx@5
  Item::ItemType::Type v62; // ecx@5
  Item::ItemType::Type v63; // edx@5
  Item::ItemType::Type v64; // ecx@5
  Item::ItemType::Type v65; // edx@5
  Item::ItemType::Type v66; // ecx@5
  Item::ItemType::Type v67; // edx@5
  Item::ItemType::Type v68; // ecx@5
  Item::ItemType::Type v69; // edx@5
  Item::ItemType::Type v70; // ecx@5
  Item::ItemType::Type v71; // edx@5
  int v72; // ebp@5
  Item::ItemType::Type *v73; // eax@5
  Item::ItemType::Type v74; // ecx@5
  int v75; // edx@6
  Item::ItemType::Type *v76; // edi@10
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v77; // edx@12
  bool v78; // zf@12
  int v79; // ecx@13
  Item::ItemType::Type *v80; // edi@17
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v81; // edx@19
  int v82; // ecx@20
  Item::ItemType::Type *v83; // edi@24
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v84; // edx@26
  int v85; // ecx@27
  Item::ItemType::Type *v86; // edi@31
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v87; // edx@33
  int v88; // ecx@34
  Item::ItemType::Type *v89; // edi@38
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v90; // edx@40
  int v91; // ecx@41
  Item::ItemType::Type *v92; // edi@45
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v93; // edx@47
  int v94; // ecx@48
  Item::ItemType::Type *v95; // edi@52
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v96; // edx@54
  int v97; // ecx@55
  Item::ItemType::Type *v98; // edi@59
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v99; // edx@61
  int v100; // ecx@62
  Item::ItemType::Type *v101; // edi@66
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v102; // edx@68
  int v103; // ecx@69
  Item::ItemType::Type *v104; // edi@73
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v105; // edx@75
  int v106; // ecx@76
  Item::ItemType::Type *v107; // edi@80
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v108; // edx@82
  int v109; // ecx@83
  Item::ItemType::Type *v110; // edi@87
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v111; // edx@89
  int v112; // ecx@90
  Item::ItemType::Type *v113; // edi@94
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v114; // edx@96
  int v115; // ecx@97
  Item::ItemType::Type *v116; // edi@101
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v117; // edx@103
  int v118; // ecx@104
  Item::ItemType::Type *v119; // edi@108
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v120; // edx@110
  int v121; // ecx@111
  Item::ItemType::Type *v122; // edi@115
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v123; // edx@117
  int v124; // ecx@118
  Item::ItemType::Type *v125; // edi@122
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v126; // edx@124
  int v127; // ecx@125
  Item::ItemType::Type *v128; // edi@129
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v129; // edx@131
  int v130; // ecx@132
  Item::ItemType::Type *v131; // edi@136
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v132; // edx@138
  int v133; // ecx@139
  Item::ItemType::Type *v134; // edi@143
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v135; // edx@145
  int v136; // ecx@146
  Item::ItemType::Type *v137; // edi@150
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v138; // edx@152
  int v139; // ecx@153
  Item::ItemType::Type *v140; // edi@157
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v141; // edx@159
  int v142; // ecx@160
  Item::ItemType::Type *v143; // edi@164
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v144; // edx@166
  int v145; // ecx@167
  Item::ItemType::Type *v146; // edi@171
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v147; // edx@173
  int v148; // ecx@174
  Item::ItemType::Type *v149; // edi@178
  std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator v150; // edx@180
  int v151; // ecx@181
  Item::ItemType::Type *v152; // edi@185
  signed int v153; // edi@187
  int v154; // ecx@189
  int v155; // edx@189
  int v156; // ecx@189
  int v157; // edx@189
  int v158; // ecx@189
  int v159; // edx@189
  int v160; // ecx@189
  int v161; // edx@189
  int v162; // ecx@189
  int v163; // edx@189
  int v164; // ecx@189
  int v165; // edx@189
  int v166; // ecx@189
  int v167; // edx@189
  int v168; // ecx@189
  Item::ItemType::Type _Val; // [sp+Ch] [bp-1Ch]@5
  std::_Nonscalar_ptr_iterator_tag __formal[4]; // [sp+14h] [bp-14h]@1
  int v171; // [sp+24h] [bp-4h]@1

  v1 = this;
  *(_DWORD *)&__formal[0].dummy[0] = this;
  _eh_vector_constructor_iterator_(
    this,
    0x10u,
    16,
    (void (__thiscall *)(void *))std::vector<unsigned_short_std::allocator<unsigned_short>>::vector<unsigned_short_std::allocator<unsigned_short>>,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
  v171 = 0;
  v2 = (int)v1->m_ItemTypeNames;
  v3 = 68;
  do
  {
    *(_BYTE *)v2 = 0;
    *(_DWORD *)(v2 + 4) = 0;
    v2 += 8;
    --v3;
  }
  while ( v3 );
  v1->m_ItemLimitNames[0].m_nType = 0;
  v1->m_ItemLimitNames[0].m_lpszName = 0;
  v1->m_ItemLimitNames[1].m_nType = 0;
  v1->m_ItemLimitNames[1].m_lpszName = 0;
  v1->m_ItemLimitNames[2].m_nType = 0;
  v1->m_ItemLimitNames[2].m_lpszName = 0;
  v1->m_ItemLimitNames[3].m_nType = 0;
  v1->m_ItemLimitNames[3].m_lpszName = 0;
  v1->m_ItemLimitNames[4].m_nType = 0;
  v1->m_ItemLimitNames[4].m_lpszName = 0;
  v1->m_ItemLimitNames[5].m_nType = 0;
  v1->m_ItemLimitNames[5].m_lpszName = 0;
  v1->m_ItemLimitNames[6].m_nType = 0;
  v1->m_ItemLimitNames[6].m_lpszName = 0;
  v1->m_ItemGradeNames[0].m_nType = 0;
  v1->m_ItemGradeNames[0].m_lpszName = 0;
  v1->m_ItemGradeNames[1].m_nType = 0;
  v1->m_ItemGradeNames[1].m_lpszName = 0;
  v1->m_ItemGradeNames[2].m_nType = 0;
  v1->m_ItemGradeNames[2].m_lpszName = 0;
  v1->m_ItemGradeNames[3].m_nType = 0;
  v1->m_ItemGradeNames[3].m_lpszName = 0;
  v1->m_ItemGradeNames[4].m_nType = 0;
  v1->m_ItemGradeNames[4].m_lpszName = 0;
  v1->m_ItemGradeNames[5].m_nType = 0;
  v1->m_ItemGradeNames[5].m_lpszName = 0;
  v1->m_ItemGradeNames[6].m_nType = 0;
  v1->m_ItemGradeNames[6].m_lpszName = 0;
  v1->m_ItemGradeNames[7].m_nType = 0;
  v1->m_ItemGradeNames[7].m_lpszName = 0;
  v4 = (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> > *)v1;
  v5 = 16;
  do
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::reserve(v4, 0x44u);
    ++v4;
    --v5;
  }
  while ( v5 );
  LOBYTE(_Val) = 1;
  v6 = _Val;
  v1->m_ItemTypeNames[1].m_lpszName = "SHIRT";
  LOBYTE(_Val) = 2;
  v7 = _Val;
  v1->m_ItemTypeNames[2].m_lpszName = "TUNIC";
  LOBYTE(_Val) = 3;
  v1->m_ItemTypeNames[3].m_lpszName = "CON_ARMOUR";
  v1->m_ItemTypeNames[4].m_lpszName = "CON_HELM";
  v1->m_ItemTypeNames[5].m_lpszName = "CON_GLOVE";
  *(_DWORD *)&v1->m_ItemTypeNames[1].m_nType = v6;
  v8 = _Val;
  LOBYTE(_Val) = 4;
  *(_DWORD *)&v1->m_ItemTypeNames[2].m_nType = v7;
  v9 = _Val;
  LOBYTE(_Val) = 5;
  v1->m_ItemTypeNames[6].m_lpszName = "CON_BOOTS";
  *(_DWORD *)&v1->m_ItemTypeNames[3].m_nType = v8;
  v10 = _Val;
  LOBYTE(_Val) = 6;
  v1->m_ItemTypeNames[7].m_lpszName = "DEX_ARMOUR";
  *(_DWORD *)&v1->m_ItemTypeNames[4].m_nType = v9;
  v11 = _Val;
  LOBYTE(_Val) = 7;
  v1->m_ItemTypeNames[8].m_lpszName = "DEX_HELM";
  *(_DWORD *)&v1->m_ItemTypeNames[5].m_nType = v10;
  v12 = _Val;
  LOBYTE(_Val) = 8;
  v1->m_ItemTypeNames[9].m_lpszName = "DEX_GLOVE";
  *(_DWORD *)&v1->m_ItemTypeNames[6].m_nType = v11;
  v13 = _Val;
  LOBYTE(_Val) = 9;
  v1->m_ItemTypeNames[10].m_lpszName = "DEX_BOOTS";
  *(_DWORD *)&v1->m_ItemTypeNames[7].m_nType = v12;
  v14 = _Val;
  LOBYTE(_Val) = 10;
  *(_DWORD *)&v1->m_ItemTypeNames[8].m_nType = v13;
  v15 = _Val;
  LOBYTE(_Val) = 11;
  v1->m_ItemTypeNames[11].m_lpszName = "ONEHANDED_SWORD";
  *(_DWORD *)&v1->m_ItemTypeNames[9].m_nType = v14;
  v16 = _Val;
  LOBYTE(_Val) = 12;
  v1->m_ItemTypeNames[12].m_lpszName = "TWOHANDED_SWORD";
  *(_DWORD *)&v1->m_ItemTypeNames[10].m_nType = v15;
  v17 = _Val;
  LOBYTE(_Val) = 13;
  v1->m_ItemTypeNames[13].m_lpszName = "ONEHANDED_AXE";
  *(_DWORD *)&v1->m_ItemTypeNames[11].m_nType = v16;
  v18 = _Val;
  LOBYTE(_Val) = 14;
  *(_DWORD *)&v1->m_ItemTypeNames[12].m_nType = v17;
  v19 = _Val;
  v1->m_ItemTypeNames[14].m_lpszName = "TWOHANDED_AXE";
  LOBYTE(_Val) = 15;
  *(_DWORD *)&v1->m_ItemTypeNames[13].m_nType = v18;
  v20 = _Val;
  *(_DWORD *)&v1->m_ItemTypeNames[14].m_nType = v19;
  v1->m_ItemTypeNames[15].m_lpszName = "ONEHANDED_BLUNT";
  LOBYTE(_Val) = 16;
  v21 = _Val;
  *(_DWORD *)&v1->m_ItemTypeNames[15].m_nType = v20;
  *(_DWORD *)&v1->m_ItemTypeNames[16].m_nType = v21;
  v1->m_ItemTypeNames[16].m_lpszName = "TWOHANDED_BLUNT";
  LOBYTE(_Val) = 17;
  v22 = _Val;
  v1->m_ItemTypeNames[17].m_lpszName = "BOW";
  LOBYTE(_Val) = 18;
  v23 = _Val;
  v1->m_ItemTypeNames[18].m_lpszName = "CROSSBOW";
  LOBYTE(_Val) = 19;
  v1->m_ItemTypeNames[19].m_lpszName = "STAFF";
  v1->m_ItemTypeNames[20].m_lpszName = "DAGGER";
  v1->m_ItemTypeNames[21].m_lpszName = "SHIELD";
  *(_DWORD *)&v1->m_ItemTypeNames[17].m_nType = v22;
  v24 = _Val;
  LOBYTE(_Val) = 20;
  *(_DWORD *)&v1->m_ItemTypeNames[18].m_nType = v23;
  v25 = _Val;
  LOBYTE(_Val) = 21;
  v1->m_ItemTypeNames[22].m_lpszName = "CON_BODY";
  *(_DWORD *)&v1->m_ItemTypeNames[19].m_nType = v24;
  v26 = _Val;
  LOBYTE(_Val) = 22;
  v1->m_ItemTypeNames[23].m_lpszName = "CON_HEAD";
  *(_DWORD *)&v1->m_ItemTypeNames[20].m_nType = v25;
  v27 = _Val;
  LOBYTE(_Val) = 23;
  v1->m_ItemTypeNames[24].m_lpszName = "CON_PELVIS";
  *(_DWORD *)&v1->m_ItemTypeNames[21].m_nType = v26;
  v28 = _Val;
  LOBYTE(_Val) = 24;
  v1->m_ItemTypeNames[25].m_lpszName = "CON_PROTECT_A";
  *(_DWORD *)&v1->m_ItemTypeNames[22].m_nType = v27;
  v29 = _Val;
  LOBYTE(_Val) = 25;
  v1->m_ItemTypeNames[26].m_lpszName = "DEX_BODY";
  *(_DWORD *)&v1->m_ItemTypeNames[23].m_nType = v28;
  v30 = _Val;
  LOBYTE(_Val) = 26;
  *(_DWORD *)&v1->m_ItemTypeNames[24].m_nType = v29;
  v31 = _Val;
  LOBYTE(_Val) = 27;
  v1->m_ItemTypeNames[27].m_lpszName = "DEX_HEAD";
  *(_DWORD *)&v1->m_ItemTypeNames[25].m_nType = v30;
  v32 = _Val;
  LOBYTE(_Val) = 28;
  v1->m_ItemTypeNames[28].m_lpszName = "DEX_PELVIS";
  *(_DWORD *)&v1->m_ItemTypeNames[26].m_nType = v31;
  v33 = _Val;
  LOBYTE(_Val) = 29;
  v1->m_ItemTypeNames[29].m_lpszName = "DEX_PROTECT_A";
  *(_DWORD *)&v1->m_ItemTypeNames[27].m_nType = v32;
  v34 = _Val;
  LOBYTE(_Val) = 30;
  *(_DWORD *)&v1->m_ItemTypeNames[28].m_nType = v33;
  v35 = _Val;
  v1->m_ItemTypeNames[30].m_lpszName = "COM_BLUNT";
  LOBYTE(_Val) = 31;
  *(_DWORD *)&v1->m_ItemTypeNames[29].m_nType = v34;
  v36 = _Val;
  LOBYTE(_Val) = 32;
  *(_DWORD *)&v1->m_ItemTypeNames[30].m_nType = v35;
  v37 = _Val;
  v1->m_ItemTypeNames[31].m_lpszName = "COM_SWORD";
  *(_DWORD *)&v1->m_ItemTypeNames[31].m_nType = v36;
  *(_DWORD *)&v1->m_ItemTypeNames[32].m_nType = v37;
  v1->m_ItemTypeNames[32].m_lpszName = "OPP_HAMMER";
  LOBYTE(_Val) = 33;
  v38 = _Val;
  v1->m_ItemTypeNames[33].m_lpszName = "OPP_AXE";
  LOBYTE(_Val) = 34;
  v39 = _Val;
  v1->m_ItemTypeNames[34].m_lpszName = "OPP_SLUSHER";
  LOBYTE(_Val) = 35;
  v1->m_ItemTypeNames[35].m_lpszName = "OPP_TALON";
  v1->m_ItemTypeNames[36].m_lpszName = "OPP_SYTHE";
  v1->m_ItemTypeNames[37].m_lpszName = "SKILL_A_GUARD";
  *(_DWORD *)&v1->m_ItemTypeNames[33].m_nType = v38;
  v40 = _Val;
  LOBYTE(_Val) = 36;
  *(_DWORD *)&v1->m_ItemTypeNames[34].m_nType = v39;
  v41 = _Val;
  LOBYTE(_Val) = 37;
  v1->m_ItemTypeNames[38].m_lpszName = "SKILL_A_ATTACK";
  *(_DWORD *)&v1->m_ItemTypeNames[35].m_nType = v40;
  v42 = _Val;
  LOBYTE(_Val) = 38;
  v1->m_ItemTypeNames[39].m_lpszName = "SKILL_A_GUN";
  *(_DWORD *)&v1->m_ItemTypeNames[36].m_nType = v41;
  v43 = _Val;
  LOBYTE(_Val) = 39;
  v1->m_ItemTypeNames[40].m_lpszName = "SKILL_A_KNIFE";
  *(_DWORD *)&v1->m_ItemTypeNames[37].m_nType = v42;
  v44 = _Val;
  v1->m_ItemTypeNames[41].m_lpszName = "ARROW";
  *(_DWORD *)&v1->m_ItemTypeNames[38].m_nType = v43;
  LOBYTE(_Val) = 40;
  v45 = _Val;
  LOBYTE(_Val) = 41;
  v1->m_ItemTypeNames[42].m_lpszName = "BOLT";
  *(_DWORD *)&v1->m_ItemTypeNames[39].m_nType = v44;
  v46 = _Val;
  LOBYTE(_Val) = 42;
  *(_DWORD *)&v1->m_ItemTypeNames[40].m_nType = v45;
  v47 = _Val;
  LOBYTE(_Val) = 43;
  v1->m_ItemTypeNames[43].m_lpszName = "AMMO";
  *(_DWORD *)&v1->m_ItemTypeNames[41].m_nType = v46;
  v48 = _Val;
  LOBYTE(_Val) = 44;
  v1->m_ItemTypeNames[44].m_lpszName = "POTION";
  *(_DWORD *)&v1->m_ItemTypeNames[42].m_nType = v47;
  v49 = _Val;
  LOBYTE(_Val) = 45;
  v1->m_ItemTypeNames[45].m_lpszName = "EXPBOOK";
  *(_DWORD *)&v1->m_ItemTypeNames[43].m_nType = v48;
  v50 = _Val;
  LOBYTE(_Val) = 46;
  *(_DWORD *)&v1->m_ItemTypeNames[44].m_nType = v49;
  v51 = _Val;
  v1->m_ItemTypeNames[46].m_lpszName = "CASHBOOK";
  LOBYTE(_Val) = 47;
  *(_DWORD *)&v1->m_ItemTypeNames[45].m_nType = v50;
  v52 = _Val;
  LOBYTE(_Val) = 48;
  *(_DWORD *)&v1->m_ItemTypeNames[46].m_nType = v51;
  v53 = _Val;
  v1->m_ItemTypeNames[47].m_lpszName = "EVENT_LOTTERY";
  *(_DWORD *)&v1->m_ItemTypeNames[47].m_nType = v52;
  *(_DWORD *)&v1->m_ItemTypeNames[48].m_nType = v53;
  v1->m_ItemTypeNames[48].m_lpszName = "PORTAL";
  LOBYTE(_Val) = 49;
  v54 = _Val;
  v1->m_ItemTypeNames[49].m_lpszName = "FIRE_CRACKER";
  LOBYTE(_Val) = 50;
  v55 = _Val;
  v1->m_ItemTypeNames[50].m_lpszName = "SKILLBOOK";
  LOBYTE(_Val) = 51;
  v1->m_ItemTypeNames[51].m_lpszName = "FIXED_PORTAL";
  v1->m_ItemTypeNames[52].m_lpszName = "SKILL_ITEM";
  v1->m_ItemTypeNames[53].m_lpszName = "GEM";
  *(_DWORD *)&v1->m_ItemTypeNames[49].m_nType = v54;
  v56 = _Val;
  LOBYTE(_Val) = 52;
  v1->m_ItemTypeNames[54].m_lpszName = "ORE";
  *(_DWORD *)&v1->m_ItemTypeNames[50].m_nType = v55;
  v57 = _Val;
  LOBYTE(_Val) = 53;
  v1->m_ItemTypeNames[55].m_lpszName = "ETC";
  *(_DWORD *)&v1->m_ItemTypeNames[51].m_nType = v56;
  v58 = _Val;
  LOBYTE(_Val) = 54;
  *(_DWORD *)&v1->m_ItemTypeNames[52].m_nType = v57;
  v59 = _Val;
  LOBYTE(_Val) = 55;
  v1->m_ItemTypeNames[56].m_lpszName = "EVENT_DROP";
  *(_DWORD *)&v1->m_ItemTypeNames[53].m_nType = v58;
  v60 = _Val;
  LOBYTE(_Val) = 56;
  v1->m_ItemTypeNames[57].m_lpszName = "CAMP_KIT";
  *(_DWORD *)&v1->m_ItemTypeNames[54].m_nType = v59;
  v61 = _Val;
  LOBYTE(_Val) = 57;
  v1->m_ItemTypeNames[58].m_lpszName = "SHORT_RANGE_ARMS_KIT";
  *(_DWORD *)&v1->m_ItemTypeNames[55].m_nType = v60;
  v62 = _Val;
  LOBYTE(_Val) = 58;
  v1->m_ItemTypeNames[59].m_lpszName = "LONG_RANGE_ARMS_KIT";
  *(_DWORD *)&v1->m_ItemTypeNames[56].m_nType = v61;
  v63 = _Val;
  LOBYTE(_Val) = 59;
  v1->m_ItemTypeNames[60].m_lpszName = "AIRSHIP_KIT";
  *(_DWORD *)&v1->m_ItemTypeNames[57].m_nType = v62;
  v64 = _Val;
  LOBYTE(_Val) = 60;
  *(_DWORD *)&v1->m_ItemTypeNames[58].m_nType = v63;
  v65 = _Val;
  LOBYTE(_Val) = 61;
  v1->m_ItemTypeNames[61].m_lpszName = "WORLDWEAPON_K_KIT";
  *(_DWORD *)&v1->m_ItemTypeNames[59].m_nType = v64;
  v66 = _Val;
  LOBYTE(_Val) = 62;
  v1->m_ItemTypeNames[62].m_lpszName = "WORLDWEAPON_M_KIT";
  *(_DWORD *)&v1->m_ItemTypeNames[60].m_nType = v65;
  v67 = _Val;
  LOBYTE(_Val) = 63;
  *(_DWORD *)&v1->m_ItemTypeNames[61].m_nType = v66;
  v68 = _Val;
  v1->m_ItemTypeNames[63].m_lpszName = "MINERAL_KIT";
  LOBYTE(_Val) = 64;
  *(_DWORD *)&v1->m_ItemTypeNames[62].m_nType = v67;
  v69 = _Val;
  v1->m_ItemTypeNames[64].m_lpszName = "QUEST_ITEM";
  *(_DWORD *)&v1->m_ItemTypeNames[63].m_nType = v68;
  *(_DWORD *)&v1->m_ItemTypeNames[64].m_nType = v69;
  LOBYTE(_Val) = 65;
  v70 = _Val;
  v1->m_ItemTypeNames[65].m_lpszName = "NECKLACE";
  LOBYTE(_Val) = 66;
  v71 = _Val;
  v1->m_ItemTypeNames[66].m_lpszName = "RING";
  v72 = (int)&v1->m_ItemTypes[0]._Myfirst;
  LOBYTE(_Val) = 67;
  v1->m_ItemTypeNames[67].m_lpszName = "RUNE";
  v73 = v1->m_ItemTypes[0]._Myfirst;
  *(_DWORD *)&v1->m_ItemTypeNames[65].m_nType = v70;
  v74 = _Val;
  *(_DWORD *)&v1->m_ItemTypeNames[66].m_nType = v71;
  *(_DWORD *)&v1->m_ItemTypeNames[67].m_nType = v74;
  _Val = 1;
  if ( v73 )
    v75 = v1->m_ItemTypes[0]._Mylast - v73;
  else
    v75 = 0;
  if ( v73 && v75 < v1->m_ItemTypes[0]._Myend - v73 )
  {
    v76 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v76 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v77 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 2;
  if ( v78 )
    v79 = 0;
  else
    v79 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v77) >> 2;
  if ( *(_DWORD *)&v77 && v79 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v77) >> 2) )
  {
    v80 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v80 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v81 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 3;
  if ( v78 )
    v82 = 0;
  else
    v82 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v81) >> 2;
  if ( *(_DWORD *)&v81 && v82 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v81) >> 2) )
  {
    v83 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v83 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v84 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 4;
  if ( v78 )
    v85 = 0;
  else
    v85 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v84) >> 2;
  if ( *(_DWORD *)&v84 && v85 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v84) >> 2) )
  {
    v86 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v86 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v87 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 5;
  if ( v78 )
    v88 = 0;
  else
    v88 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v87) >> 2;
  if ( *(_DWORD *)&v87 && v88 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v87) >> 2) )
  {
    v89 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v89 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v90 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 6;
  if ( v78 )
    v91 = 0;
  else
    v91 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v90) >> 2;
  if ( *(_DWORD *)&v90 && v91 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v90) >> 2) )
  {
    v92 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v92 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v93 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 7;
  if ( v78 )
    v94 = 0;
  else
    v94 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v93) >> 2;
  if ( *(_DWORD *)&v93 && v94 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v93) >> 2) )
  {
    v95 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v95 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v96 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 8;
  if ( v78 )
    v97 = 0;
  else
    v97 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v96) >> 2;
  if ( *(_DWORD *)&v96 && v97 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v96) >> 2) )
  {
    v98 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v98 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v99 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 9;
  if ( v78 )
    v100 = 0;
  else
    v100 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v99) >> 2;
  if ( *(_DWORD *)&v99 && v100 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v99) >> 2) )
  {
    v101 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v101 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v102 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 10;
  if ( v78 )
    v103 = 0;
  else
    v103 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v102) >> 2;
  if ( *(_DWORD *)&v102
    && v103 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v102) >> 2) )
  {
    v104 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v104 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v105 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 11;
  if ( v78 )
    v106 = 0;
  else
    v106 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v105) >> 2;
  if ( *(_DWORD *)&v105
    && v106 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v105) >> 2) )
  {
    v107 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v107 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v108 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 12;
  if ( v78 )
    v109 = 0;
  else
    v109 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v108) >> 2;
  if ( *(_DWORD *)&v108
    && v109 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v108) >> 2) )
  {
    v110 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v110 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v111 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 13;
  if ( v78 )
    v112 = 0;
  else
    v112 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v111) >> 2;
  if ( *(_DWORD *)&v111
    && v112 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v111) >> 2) )
  {
    v113 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v113 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v114 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 14;
  if ( v78 )
    v115 = 0;
  else
    v115 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v114) >> 2;
  if ( *(_DWORD *)&v114
    && v115 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v114) >> 2) )
  {
    v116 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v116 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v117 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 15;
  if ( v78 )
    v118 = 0;
  else
    v118 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v117) >> 2;
  if ( *(_DWORD *)&v117
    && v118 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v117) >> 2) )
  {
    v119 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v119 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v120 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 16;
  if ( v78 )
    v121 = 0;
  else
    v121 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v120) >> 2;
  if ( *(_DWORD *)&v120
    && v121 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v120) >> 2) )
  {
    v122 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v122 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v123 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 17;
  if ( v78 )
    v124 = 0;
  else
    v124 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v123) >> 2;
  if ( *(_DWORD *)&v123
    && v124 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v123) >> 2) )
  {
    v125 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v125 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v126 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 18;
  if ( v78 )
    v127 = 0;
  else
    v127 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v126) >> 2;
  if ( *(_DWORD *)&v126
    && v127 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v126) >> 2) )
  {
    v128 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v128 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v129 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 19;
  if ( v78 )
    v130 = 0;
  else
    v130 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v129) >> 2;
  if ( *(_DWORD *)&v129
    && v130 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v129) >> 2) )
  {
    v131 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v131 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v132 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 20;
  if ( v78 )
    v133 = 0;
  else
    v133 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v132) >> 2;
  if ( *(_DWORD *)&v132
    && v133 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v132) >> 2) )
  {
    v134 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v134 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v135 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 21;
  if ( v78 )
    v136 = 0;
  else
    v136 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v135) >> 2;
  if ( *(_DWORD *)&v135
    && v136 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v135) >> 2) )
  {
    v137 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v137 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v138 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 22;
  if ( v78 )
    v139 = 0;
  else
    v139 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v138) >> 2;
  if ( *(_DWORD *)&v138
    && v139 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v138) >> 2) )
  {
    v140 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v140 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v141 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 23;
  if ( v78 )
    v142 = 0;
  else
    v142 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v141) >> 2;
  if ( *(_DWORD *)&v141
    && v142 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v141) >> 2) )
  {
    v143 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v143 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v144 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 24;
  if ( v78 )
    v145 = 0;
  else
    v145 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v144) >> 2;
  if ( *(_DWORD *)&v144
    && v145 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v144) >> 2) )
  {
    v146 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v146 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v147 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 25;
  if ( v78 )
    v148 = 0;
  else
    v148 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v147) >> 2;
  if ( *(_DWORD *)&v147
    && v148 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v147) >> 2) )
  {
    v149 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v149 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  v150 = *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72;
  v78 = *(_DWORD *)v72 == 0;
  _Val = 26;
  if ( v78 )
    v151 = 0;
  else
    v151 = (signed int)((char *)v1->m_ItemTypes[0]._Mylast - *(_DWORD *)&v150) >> 2;
  if ( *(_DWORD *)&v150
    && v151 < (unsigned int)((signed int)((char *)v1->m_ItemTypes[0]._Myend - *(_DWORD *)&v150) >> 2) )
  {
    v152 = v1->m_ItemTypes[0]._Mylast;
    std::_Uninit_fill_n<enum__Item::ItemType::Type___unsigned_int_enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>(
      v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val,
      (std::allocator<enum Item::ItemType::Type> *)v1,
      __formal[0]);
    v1->m_ItemTypes[0]._Mylast = v152 + 1;
  }
  else
  {
    std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::_Insert_n(
      v1->m_ItemTypes,
      (std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator)v1->m_ItemTypes[0]._Mylast,
      1u,
      &_Val);
  }
  _Val = 27;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 28;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 29;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 30;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 31;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 32;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 33;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 34;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 35;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 36;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 37;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 38;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 39;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 40;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 41;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 42;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(v1->m_ItemTypes, &_Val);
  _Val = 43;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 44;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 45;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 46;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 47;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 48;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 49;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 50;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 51;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 52;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 57;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 58;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 59;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 60;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 61;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 62;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 63;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 64;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[1],
    &_Val);
  _Val = 11;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 12;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 13;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 14;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 15;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 16;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 17;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 18;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 19;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 20;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 30;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 31;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 32;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 33;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 34;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 35;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 36;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[2],
    &_Val);
  _Val = 37;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[3],
    &_Val);
  _Val = 38;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[3],
    &_Val);
  _Val = 39;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[3],
    &_Val);
  _Val = 40;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[3],
    &_Val);
  _Val = 4;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[4],
    &_Val);
  _Val = 8;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[4],
    &_Val);
  _Val = 23;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[4],
    &_Val);
  _Val = 27;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[4],
    &_Val);
  _Val = 3;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[5],
    &_Val);
  _Val = 7;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[5],
    &_Val);
  _Val = 22;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[5],
    &_Val);
  _Val = 26;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[5],
    &_Val);
  _Val = 20;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[6],
    &_Val);
  _Val = 35;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[6],
    &_Val);
  _Val = 40;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[6],
    &_Val);
  _Val = 11;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 13;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 15;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 30;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 31;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 32;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 33;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 34;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 38;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 39;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[7],
    &_Val);
  _Val = 17;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[8],
    &_Val);
  _Val = 18;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[8],
    &_Val);
  _Val = 12;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[9],
    &_Val);
  _Val = 14;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[9],
    &_Val);
  _Val = 16;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[9],
    &_Val);
  _Val = 19;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[10],
    &_Val);
  _Val = 36;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[10],
    &_Val);
  _Val = 21;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[11],
    &_Val);
  _Val = 37;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[11],
    &_Val);
  _Val = 3;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 7;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 22;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 26;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 21;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 37;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 11;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 12;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 13;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 14;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 15;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 16;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 17;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 18;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 19;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 20;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 30;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 31;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 32;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 33;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 34;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 35;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 36;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 38;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 39;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 40;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[12],
    &_Val);
  _Val = 4;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[13],
    &_Val);
  _Val = 8;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[13],
    &_Val);
  _Val = 23;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[13],
    &_Val);
  _Val = 27;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[13],
    &_Val);
  _Val = 5;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 6;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 9;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 10;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 24;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 25;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 28;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 29;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[14],
    &_Val);
  _Val = 65;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[15],
    &_Val);
  _Val = 66;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[15],
    &_Val);
  _Val = 67;
  std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::push_back(
    &v1->m_ItemTypes[15],
    &_Val);
  v153 = 16;
  do
  {
    std::_Sort<std::vector<enum__Item::ItemType::Type_std::allocator<enum__Item::ItemType::Type>>::iterator_int>(
      *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)v72,
      *(std::vector<enum Item::ItemType::Type,std::allocator<enum Item::ItemType::Type> >::iterator *)(v72 + 4),
      (*(_DWORD *)(v72 + 4) - *(_DWORD *)v72) >> 2);
    v72 += 16;
    --v153;
  }
  while ( v153 );
  __formal[0].dummy[0] = 0;
  v154 = *(_DWORD *)&__formal[0].dummy[0];
  v1->m_ItemLimitNames[0].m_lpszName = "NONE";
  __formal[0].dummy[0] = 1;
  v155 = *(_DWORD *)&__formal[0].dummy[0];
  v1->m_ItemLimitNames[1].m_lpszName = "STR";
  __formal[0].dummy[0] = 2;
  v1->m_ItemLimitNames[2].m_lpszName = "DEX";
  v1->m_ItemLimitNames[3].m_lpszName = "CON";
  *(_DWORD *)&v1->m_ItemLimitNames[0].m_nType = v154;
  v156 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 3;
  v1->m_ItemLimitNames[4].m_lpszName = "INT";
  *(_DWORD *)&v1->m_ItemLimitNames[1].m_nType = v155;
  v157 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 4;
  *(_DWORD *)&v1->m_ItemLimitNames[2].m_nType = v156;
  v158 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 5;
  v1->m_ItemLimitNames[5].m_lpszName = "WIS";
  v1->m_ItemLimitNames[6].m_lpszName = "LEVEL";
  *(_DWORD *)&v1->m_ItemLimitNames[3].m_nType = v157;
  v159 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 6;
  *(_DWORD *)&v1->m_ItemLimitNames[4].m_nType = v158;
  v160 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 0;
  v1->m_ItemGradeNames[0].m_lpszName = "AAA";
  *(_DWORD *)&v1->m_ItemLimitNames[5].m_nType = v159;
  v161 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 1;
  v1->m_ItemGradeNames[1].m_lpszName = "AA";
  *(_DWORD *)&v1->m_ItemLimitNames[6].m_nType = v160;
  v162 = *(_DWORD *)&__formal[0].dummy[0];
  __formal[0].dummy[0] = 2;
  v1->m_ItemGradeNames[2].m_lpszName = "A";
  *(_DWORD *)&v1->m_ItemGradeNames[0].m_nType = v161;
  v163 = *(_DWORD *)&__formal[0].dummy[0];
  *(_DWORD *)&v1->m_ItemGradeNames[1].m_nType = v162;
  __formal[0].dummy[0] = 3;
  v164 = *(_DWORD *)&__formal[0].dummy[0];
  v1->m_ItemGradeNames[3].m_lpszName = "B";
  __formal[0].dummy[0] = 4;
  v1->m_ItemGradeNames[4].m_lpszName = "C";
  *(_DWORD *)&v1->m_ItemGradeNames[2].m_nType = v163;
  v165 = *(_DWORD *)&__formal[0].dummy[0];
  *(_DWORD *)&v1->m_ItemGradeNames[3].m_nType = v164;
  __formal[0].dummy[0] = 5;
  v166 = *(_DWORD *)&__formal[0].dummy[0];
  v1->m_ItemGradeNames[5].m_lpszName = "D";
  *(_DWORD *)&v1->m_ItemGradeNames[4].m_nType = v165;
  __formal[0].dummy[0] = 6;
  v167 = *(_DWORD *)&__formal[0].dummy[0];
  v1->m_ItemGradeNames[6].m_lpszName = "F";
  *(_DWORD *)&v1->m_ItemGradeNames[5].m_nType = v166;
  __formal[0].dummy[0] = 7;
  v168 = *(_DWORD *)&__formal[0].dummy[0];
  v1->m_ItemGradeNames[7].m_lpszName = "X";
  *(_DWORD *)&v1->m_ItemGradeNames[7].m_nType = v168;
  *(_DWORD *)&v1->m_ItemGradeNames[6].m_nType = v167;
}

//----- (00428840) --------------------------------------------------------
Item::CItemType *__cdecl Item::CItemType::GetInstance()
{
  if ( !(_S5_2 & 1) )
  {
    _S5_2 |= 1u;
    Item::CItemType::CItemType(&itemType);
    atexit(_E6_2);
  }
  return &itemType;
}

//----- (004288A0) --------------------------------------------------------
boost::singleton_pool<boost::fast_pool_allocator_tag,12,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_12_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance()
{
  if ( !(__S5__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA & 1) )
  {
    __S5__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA |= 1u;
    InitializeCriticalSection(&obj.baseclass_0.mtx);
    obj.p.baseclass_0.first = 0;
    obj.p.list.ptr = 0;
    obj.p.list.sz = 0;
    obj.p.requested_size = 12;
    obj.p.next_size = 32;
    atexit(obj);
  }
  return &obj;
}
// 4C4668: using guessed type int ?$S5_?1??instance_?$singleton_default_Upool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__boost___pool_details_boost__SAAAUpool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0M_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__5_XZ_4IA;

//----- (00428900) --------------------------------------------------------
unsigned int __cdecl Math::Random::ComplexRandom(int nEndExtent, int nBeginExtent)
{
  unsigned int v2; // ecx@3
  unsigned int v3; // eax@3
  unsigned int v4; // ecx@3
  int v5; // ebx@3
  unsigned int v6; // eax@3
  unsigned int result; // eax@3

  if ( nEndExtent < 1 || nEndExtent <= nBeginExtent )
  {
    result = nBeginExtent;
  }
  else
  {
    v2 = (unsigned __int16)x * (unsigned __int16)a;
    v3 = ((unsigned __int16)x * HIWORD(a) << 16) + v2 + c;
    v4 = (v3++ < (unsigned __int16)x * (unsigned int)HIWORD(a) << 16)
       + ((unsigned __int16)x * (unsigned int)HIWORD(a) >> 16)
       + (v2 + c < v2);
    v5 = -(v3 < 1);
    v6 = (HIWORD(x) * (unsigned __int16)a << 16) + v3;
    c = (v6 < HIWORD(x) * (unsigned int)(unsigned __int16)a << 16)
      + v4
      + HIWORD(x) * HIWORD(a)
      - v5
      + (HIWORD(x) * (unsigned int)(unsigned __int16)a >> 16);
    x = v6;
    result = nBeginExtent + v6 % (nEndExtent - nBeginExtent);
  }
  return result;
}

//----- (004289D0) --------------------------------------------------------
int __cdecl Math::Random::SimpleRandom(unsigned int dwSeed, int nEndExtent, int nBeginExtent)
{
  return nBeginExtent + (((214013 * dwSeed + 2531011) >> 16) & 0x7FFFui64) % (unsigned int)(nEndExtent - nBeginExtent);
}

//----- (00428A00) --------------------------------------------------------
char *__cdecl trim_string(char *szString)
{
  char *result; // eax@1
  char v2; // cl@2
  char *v3; // ecx@6
  char v4; // dl@7
  char *i; // ecx@8
  char v6; // dl@9

  for ( result = szString; ; ++result )
  {
    v2 = *result;
    if ( *result != 13 )
    {
      if ( v2 != 10 && v2 != 32 )
        break;
    }
  }
  v3 = result;
  do
    v4 = *v3++;
  while ( v4 );
  for ( i = &result[v3 - (result + 1)]; result != i; *i-- = 0 )
  {
    v6 = *i;
    if ( *i != 13 && v6 != 10 && v6 != 32 && v6 )
      break;
  }
  return result;
}

//----- (00428A50) --------------------------------------------------------
void __cdecl std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Mid, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last)
{
  int v3; // edx@2
  int v4; // esi@2
  int v5; // ST18_4@2
  int v6; // esi@4
  int v7; // edi@4
  int v8; // ST18_4@4
  int v9; // edx@6
  int v10; // esi@6
  int v11; // edi@6

  if ( **(_DWORD **)&_Mid < **(_DWORD **)&_First )
  {
    v3 = **(_DWORD **)&_Mid;
    v4 = *(_DWORD *)(*(_DWORD *)&_Mid + 4);
    v5 = *(_DWORD *)(*(_DWORD *)&_Mid + 8);
    **(_DWORD **)&_Mid = **(_DWORD **)&_First;
    *(_DWORD *)(*(_DWORD *)&_Mid + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
    *(_DWORD *)(*(_DWORD *)&_Mid + 8) = *(_DWORD *)(*(_DWORD *)&_First + 8);
    **(_DWORD **)&_First = v3;
    *(_DWORD *)(*(_DWORD *)&_First + 4) = v4;
    *(_DWORD *)(*(_DWORD *)&_First + 8) = v5;
  }
  if ( **(_DWORD **)&_Last < **(_DWORD **)&_Mid )
  {
    v6 = **(_DWORD **)&_Last;
    v7 = *(_DWORD *)(*(_DWORD *)&_Last + 4);
    v8 = *(_DWORD *)(*(_DWORD *)&_Last + 8);
    **(_DWORD **)&_Last = **(_DWORD **)&_Mid;
    *(_DWORD *)(*(_DWORD *)&_Last + 4) = *(_DWORD *)(*(_DWORD *)&_Mid + 4);
    *(_DWORD *)(*(_DWORD *)&_Last + 8) = *(_DWORD *)(*(_DWORD *)&_Mid + 8);
    **(_DWORD **)&_Mid = v6;
    *(_DWORD *)(*(_DWORD *)&_Mid + 4) = v7;
    *(_DWORD *)(*(_DWORD *)&_Mid + 8) = v8;
  }
  if ( **(_DWORD **)&_Mid < **(_DWORD **)&_First )
  {
    v9 = **(_DWORD **)&_Mid;
    v10 = *(_DWORD *)(*(_DWORD *)&_Mid + 4);
    v11 = *(_DWORD *)(*(_DWORD *)&_Mid + 8);
    **(_DWORD **)&_Mid = **(_DWORD **)&_First;
    *(_DWORD *)(*(_DWORD *)&_Mid + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
    *(_DWORD *)(*(_DWORD *)&_Mid + 8) = *(_DWORD *)(*(_DWORD *)&_First + 8);
    **(_DWORD **)&_First = v9;
    *(_DWORD *)(*(_DWORD *)&_First + 4) = v10;
    *(_DWORD *)(*(_DWORD *)&_First + 8) = v11;
  }
}

//----- (00428B00) --------------------------------------------------------
void __cdecl std::_Push_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, int _Hole, int _Top, CTokenlizedFile::ColumnInfo _Val)
{
  int v4; // ecx@1
  int i; // eax@1
  unsigned int v6; // ebp@2
  int v7; // edx@2
  int v8; // ecx@3
  int v9; // eax@4

  v4 = _Hole;
  for ( i = (_Hole - 1) / 2; _Top < v4; i = (i - 1) / 2 )
  {
    v6 = *(_DWORD *)(*(_DWORD *)&_First + 12 * i);
    v7 = *(_DWORD *)&_First + 12 * i;
    if ( v6 >= _Val.m_dwHashKey )
      break;
    v8 = *(_DWORD *)&_First + 12 * v4;
    *(_DWORD *)v8 = v6;
    *(_DWORD *)(v8 + 4) = *(_DWORD *)(v7 + 4);
    *(_DWORD *)(v8 + 8) = *(_DWORD *)(v7 + 8);
    v4 = i;
  }
  v9 = *(_DWORD *)&_First + 12 * v4;
  *(_DWORD *)v9 = _Val.m_dwHashKey;
  *(_DWORD *)(v9 + 4) = _Val.m_dwIndex;
  *(_DWORD *)(v9 + 8) = _Val.m_szColumnName;
}

//----- (00428B70) --------------------------------------------------------
void __cdecl std::_Rotate<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Mid, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, int *__formal, CTokenlizedFile::ColumnInfo *a5)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v5; // ebp@1
  int v6; // esi@1
  int v7; // eax@1
  int v8; // edi@1
  int v9; // edx@2
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v10; // edx@5
  int v11; // ebx@5
  unsigned int v12; // ecx@6
  int v13; // edi@6
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *v14; // eax@7
  int v15; // ecx@9
  int v16; // eax@10
  int *v17; // eax@11
  unsigned int v18; // eax@15
  const char *v19; // ecx@15
  bool v20; // zf@15
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v21; // eax@15
  int v22; // [sp+10h] [bp-18h]@8
  int v23; // [sp+14h] [bp-14h]@11
  int v24; // [sp+18h] [bp-10h]@12
  CTokenlizedFile::ColumnInfo _Holeval; // [sp+1Ch] [bp-Ch]@6

  v5 = _Last;
  v6 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) / 12;
  v7 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12;
  v8 = (*(_DWORD *)&_Mid - *(_DWORD *)&_First) / 12;
  if ( v6 )
  {
    do
    {
      v9 = v7 % v8;
      v7 = v8;
      v8 = v9;
    }
    while ( v9 );
  }
  if ( v7 < (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12 && v7 > 0 )
  {
    v10 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(12 * v6);
    _Mid = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(12 * v6);
    v11 = *(_DWORD *)&_First + 12 * v7;
    _Last = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v7;
    do
    {
      _Holeval.m_dwHashKey = *(_DWORD *)v11;
      v12 = *(_DWORD *)(v11 + 4);
      _Holeval.m_szColumnName = *(const char **)(v11 + 8);
      v13 = v11;
      _Holeval.m_dwIndex = v12;
      if ( v11 + *(_DWORD *)&v10 == v5 )
      {
        v14 = &_First;
      }
      else
      {
        v22 = v11 + *(_DWORD *)&v10;
        v14 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *)&v22;
      }
      v15 = *(_DWORD *)&v14->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
      if ( *(_DWORD *)&v14->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] != v11 )
      {
        do
        {
          *(_DWORD *)v13 = *(_DWORD *)v15;
          *(_DWORD *)(v13 + 4) = *(_DWORD *)(v15 + 4);
          *(_DWORD *)(v13 + 8) = *(_DWORD *)(v15 + 8);
          v16 = (*(_DWORD *)&v5 - v15) / 12;
          v13 = v15;
          if ( v6 >= v16 )
          {
            v24 = *(_DWORD *)&_First + 12 * (v6 - v16);
            v17 = &v24;
          }
          else
          {
            v23 = v15 + *(_DWORD *)&_Mid;
            v17 = &v23;
          }
          v15 = *v17;
        }
        while ( *v17 != v11 );
        v10 = _Mid;
      }
      v18 = _Holeval.m_dwIndex;
      *(_DWORD *)v13 = _Holeval.m_dwHashKey;
      v19 = _Holeval.m_szColumnName;
      *(_DWORD *)(v13 + 4) = v18;
      v11 -= 12;
      v21 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_Last - 1);
      v20 = _Last == 1;
      *(_DWORD *)(v13 + 8) = v19;
      _Last = v21;
    }
    while ( !v20 );
  }
}

//----- (00428CA0) --------------------------------------------------------
CTokenlizedFile::ColumnInfo *__cdecl std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(CTokenlizedFile::ColumnInfo *_First, CTokenlizedFile::ColumnInfo *_Last, CTokenlizedFile::ColumnInfo *_Dest, std::allocator<CTokenlizedFile::ColumnInfo> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  CTokenlizedFile::ColumnInfo *v5; // ecx@1
  CTokenlizedFile::ColumnInfo *result; // eax@1

  v5 = _First;
  for ( result = _Dest; v5 != _Last; ++result )
  {
    if ( result )
    {
      result->m_dwHashKey = v5->m_dwHashKey;
      result->m_dwIndex = v5->m_dwIndex;
      result->m_szColumnName = v5->m_szColumnName;
    }
    ++v5;
  }
  return result;
}

//----- (00428CE0) --------------------------------------------------------
void __cdecl std::_Median<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Mid, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last)
{
  int v3; // eax@1
  int v4; // eax@2
  int v5; // edi@2
  int v6; // edx@2
  int v7; // esi@2
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v8; // ST24_4@2
  int _Firsta; // [sp+8h] [bp+4h]@2

  v3 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12;
  if ( v3 <= 40 )
  {
    std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      _First,
      _Mid,
      _Last);
  }
  else
  {
    v4 = (v3 + 1) / 8;
    v5 = 24 * v4;
    v6 = 24 * v4 + *(_DWORD *)&_First;
    v7 = 12 * v4;
    v8 = _First;
    _Firsta = 12 * v4 + *(_DWORD *)&_First;
    std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      v8,
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)_Firsta,
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v6);
    std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_Mid - v7),
      _Mid,
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(v7 + *(_DWORD *)&_Mid));
    std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_Last - v5),
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_Last - v7),
      _Last);
    std::_Med3<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)_Firsta,
      _Mid,
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_Last - v7));
  }
}

//----- (00428D80) --------------------------------------------------------
std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *__cdecl std::_Lower_bound<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, CTokenlizedFile::ColumnInfo *_Val, int *__formal)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v5; // esi@1
  signed int v6; // edx@1
  signed int v7; // ecx@1
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *v8; // eax@6

  v5 = _First;
  v6 = (signed int)((unsigned __int64)(715827883i64 * (*(_DWORD *)&_Last - *(_DWORD *)&_First)) >> 32) >> 1;
  v7 = v6 + ((unsigned int)v6 >> 31);
  while ( v7 > 0 )
  {
    if ( *(_DWORD *)(*(_DWORD *)&v5 + 12 * v7 / 2) >= _Val->m_dwHashKey )
    {
      v7 /= 2;
    }
    else
    {
      *(_DWORD *)&v5 += 12 * v7 / 2 + 12;
      v7 += -1 - v7 / 2;
    }
  }
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  return v8;
}

//----- (00428DE0) --------------------------------------------------------
std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *__cdecl std::_Upper_bound<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, CTokenlizedFile::ColumnInfo *_Val, int *__formal)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v5; // esi@1
  signed int v6; // edx@1
  signed int v7; // ecx@1
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *v8; // eax@6

  v5 = _First;
  v6 = (signed int)((unsigned __int64)(715827883i64 * (*(_DWORD *)&_Last - *(_DWORD *)&_First)) >> 32) >> 1;
  v7 = v6 + ((unsigned int)v6 >> 31);
  while ( v7 > 0 )
  {
    if ( _Val->m_dwHashKey < *(_DWORD *)(*(_DWORD *)&v5 + 12 * v7 / 2) )
    {
      v7 /= 2;
    }
    else
    {
      *(_DWORD *)&v5 += 12 * v7 / 2 + 12;
      v7 += -1 - v7 / 2;
    }
  }
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  return v8;
}

//----- (00428E40) --------------------------------------------------------
void __cdecl std::_Adjust_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, int _Hole, int _Bottom, CTokenlizedFile::ColumnInfo _Val)
{
  int v4; // ecx@1
  int v5; // eax@1
  bool i; // zf@1
  int v7; // edx@4
  int v8; // ecx@4
  int v9; // eax@6
  int v10; // ecx@6
  _BYTE v11[12]; // ST0C_12@7

  v4 = _Hole;
  v5 = 2 * _Hole + 2;
  for ( i = v5 == _Bottom; v5 < _Bottom; i = v5 == _Bottom )
  {
    if ( *(_DWORD *)(*(_DWORD *)&_First + 12 * v5) < *(_DWORD *)(*(_DWORD *)&_First + 12 * v5 - 12) )
      --v5;
    v7 = *(_DWORD *)&_First + 12 * v5;
    v8 = *(_DWORD *)&_First + 12 * v4;
    *(_DWORD *)v8 = *(_DWORD *)(*(_DWORD *)&_First + 12 * v5);
    *(_DWORD *)(v8 + 4) = *(_DWORD *)(v7 + 4);
    *(_DWORD *)(v8 + 8) = *(_DWORD *)(v7 + 8);
    v4 = v5;
    v5 = 2 * v5 + 2;
  }
  if ( i )
  {
    v9 = *(_DWORD *)&_First + 12 * _Bottom - 12;
    v10 = *(_DWORD *)&_First + 12 * v4;
    *(_DWORD *)v10 = *(_DWORD *)(*(_DWORD *)&_First + 12 * _Bottom - 12);
    *(_DWORD *)(v10 + 4) = *(_DWORD *)(v9 + 4);
    *(_DWORD *)(v10 + 8) = *(_DWORD *)(v9 + 8);
    v4 = _Bottom - 1;
  }
  *(_DWORD *)v11 = _Val.m_dwHashKey;
  *(_QWORD *)&v11[4] = *(_QWORD *)&_Val.m_dwIndex;
  std::_Push_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(
    _First,
    v4,
    _Hole,
    *(CTokenlizedFile::ColumnInfo *)v11);
}

//----- (00428EF0) --------------------------------------------------------
std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *__cdecl std::_Unguarded_partition<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last)
{
  int v3; // ecx@1
  int i; // edi@1
  unsigned int v5; // eax@2
  unsigned int v6; // edx@6
  unsigned int v7; // esi@10
  unsigned int v8; // edx@10
  int v9; // ST20_4@14
  int v10; // ST28_4@14
  int v11; // ST24_4@14
  bool v12; // zf@16
  int v13; // eax@17
  unsigned int v14; // ST2C_4@20
  int v15; // ST34_4@20
  int v16; // ST30_4@20
  unsigned int v17; // eax@26
  int v18; // ST70_4@26
  int v19; // ST6C_4@26
  unsigned int v20; // ST38_4@27
  unsigned int v21; // eax@27
  int v22; // ST40_4@27
  int v23; // ST3C_4@27
  int v24; // ST44_4@30
  int v25; // ST4C_4@30
  int v26; // ST48_4@30
  unsigned int v27; // ST50_4@31
  int v28; // ST58_4@31
  int v29; // ST54_4@31
  int v30; // ST5C_4@32
  int v31; // ST64_4@32
  int v32; // ST60_4@32
  std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *v33; // eax@33
  unsigned int _Glast; // [sp+10h] [bp-58h]@10

  std::_Median<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
    _First,
    (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_First + 12 * (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12 / 2),
    (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&_Last - 12));
  v3 = *(_DWORD *)&_First + 12 * (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12 / 2;
  for ( i = v3 + 12; *(unsigned int *)&_First < v3; v3 -= 12 )
  {
    v5 = *(_DWORD *)(v3 - 12);
    if ( *(_DWORD *)v3 > v5 )
      break;
    if ( *(_DWORD *)v3 < v5 )
      break;
  }
  if ( i < *(unsigned int *)&_Last )
  {
    v6 = *(_DWORD *)v3;
    do
    {
      if ( v6 > *(_DWORD *)i )
        break;
      if ( v6 < *(_DWORD *)i )
        break;
      i += 12;
    }
    while ( i < *(unsigned int *)&_Last );
  }
  v7 = v3;
  v8 = i;
  _Glast = v3;
  while ( 1 )
  {
    while ( 1 )
    {
      for ( ; v8 < *(_DWORD *)&_Last; v8 += 12 )
      {
        if ( *(_DWORD *)v8 <= *(_DWORD *)v3 )
        {
          if ( *(_DWORD *)v8 < *(_DWORD *)v3 )
            break;
          v9 = *(_DWORD *)i;
          v10 = *(_DWORD *)(i + 8);
          v11 = *(_DWORD *)(i + 4);
          *(_DWORD *)i = *(_DWORD *)v8;
          *(_DWORD *)(i + 4) = *(_DWORD *)(v8 + 4);
          *(_DWORD *)(i + 8) = *(_DWORD *)(v8 + 8);
          *(_DWORD *)v8 = v9;
          *(_DWORD *)(v8 + 4) = v11;
          i += 12;
          *(_DWORD *)(v8 + 8) = v10;
        }
      }
      v12 = v7 == _First;
      if ( v7 > *(_DWORD *)&_First )
      {
        v13 = v7 - 12;
        do
        {
          if ( *(_DWORD *)v3 <= *(_DWORD *)v13 )
          {
            if ( *(_DWORD *)v3 < *(_DWORD *)v13 )
              break;
            v3 -= 12;
            v14 = *(_DWORD *)v3;
            v15 = *(_DWORD *)(v3 + 8);
            v16 = *(_DWORD *)(v3 + 4);
            *(_DWORD *)v3 = *(_DWORD *)v13;
            *(_DWORD *)(v3 + 4) = *(_DWORD *)(v13 + 4);
            *(_DWORD *)(v3 + 8) = *(_DWORD *)(v13 + 8);
            *(_DWORD *)v13 = v14;
            *(_DWORD *)(v13 + 4) = v16;
            *(_DWORD *)(v13 + 8) = v15;
            v7 = _Glast;
          }
          v7 -= 12;
          v13 -= 12;
          _Glast = v7;
        }
        while ( *(_DWORD *)&_First < v7 );
        v12 = v7 == _First;
      }
      if ( v12 )
        break;
      v7 -= 12;
      _Glast = v7;
      if ( v8 == _Last )
      {
        v3 -= 12;
        if ( v7 != v3 )
        {
          v24 = *(_DWORD *)v7;
          v25 = *(_DWORD *)(v7 + 8);
          v26 = *(_DWORD *)(v7 + 4);
          *(_DWORD *)v7 = *(_DWORD *)v3;
          *(_DWORD *)(v7 + 4) = *(_DWORD *)(v3 + 4);
          *(_DWORD *)(v7 + 8) = *(_DWORD *)(v3 + 8);
          *(_DWORD *)v3 = v24;
          *(_DWORD *)(v3 + 4) = v26;
          *(_DWORD *)(v3 + 8) = v25;
        }
        v27 = *(_DWORD *)v3;
        v28 = *(_DWORD *)(v3 + 8);
        v29 = *(_DWORD *)(v3 + 4);
        i -= 12;
        *(_DWORD *)v3 = *(_DWORD *)i;
        *(_DWORD *)(v3 + 4) = *(_DWORD *)(i + 4);
        *(_DWORD *)(v3 + 8) = *(_DWORD *)(i + 8);
        *(_DWORD *)i = v27;
        *(_DWORD *)(i + 4) = v29;
        *(_DWORD *)(i + 8) = v28;
      }
      else
      {
        v30 = *(_DWORD *)v8;
        v31 = *(_DWORD *)(v8 + 8);
        v32 = *(_DWORD *)(v8 + 4);
        *(_DWORD *)v8 = *(_DWORD *)v7;
        *(_DWORD *)(v8 + 4) = *(_DWORD *)(v7 + 4);
        *(_DWORD *)(v8 + 8) = *(_DWORD *)(v7 + 8);
        *(_DWORD *)v7 = v30;
        *(_DWORD *)(v7 + 4) = v32;
        v8 += 12;
        *(_DWORD *)(v7 + 8) = v31;
      }
    }
    if ( v8 == _Last )
      break;
    if ( i != v8 )
    {
      v17 = *(_DWORD *)v3;
      v18 = *(_DWORD *)(v3 + 8);
      v19 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)v3 = *(_DWORD *)i;
      *(_DWORD *)(v3 + 4) = *(_DWORD *)(i + 4);
      *(_DWORD *)(v3 + 8) = *(_DWORD *)(i + 8);
      *(_DWORD *)i = v17;
      *(_DWORD *)(i + 4) = v19;
      *(_DWORD *)(i + 8) = v18;
    }
    v20 = *(_DWORD *)v3;
    v21 = v8;
    v22 = *(_DWORD *)(v3 + 8);
    v23 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)v3 = *(_DWORD *)v8;
    *(_DWORD *)(v3 + 4) = *(_DWORD *)(v8 + 4);
    *(_DWORD *)(v3 + 8) = *(_DWORD *)(v8 + 8);
    *(_DWORD *)v8 = v20;
    *(_DWORD *)(v8 + 4) = v23;
    i += 12;
    v8 += 12;
    *(_DWORD *)(v21 + 8) = v22;
    v7 = _Glast;
    v3 += 12;
  }
  v33 = result;
  *(_DWORD *)&result->second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = i;
  *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v3;
  return v33;
}

//----- (004291D0) --------------------------------------------------------
char **__cdecl std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(std::vector<char *,std::allocator<char *> >::iterator _First, std::vector<char *,std::allocator<char *> >::iterator _Last, char **_Dest, std::allocator<char *> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  std::vector<char *,std::allocator<char *> >::iterator v5; // ecx@1
  char **result; // eax@1

  v5 = _First;
  for ( result = _Dest; v5 != _Last; ++result )
  {
    if ( result )
      *result = (char *)**(_DWORD **)&v5;
    *(_DWORD *)&v5 += 4;
  }
  return result;
}

//----- (00429200) --------------------------------------------------------
void __cdecl std::_Make_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, int *__formal, CTokenlizedFile::ColumnInfo *a4)
{
  int v4; // esi@1
  int v5; // ebx@2
  _BYTE v6[12]; // ST0C_12@3

  v4 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12 / 2;
  if ( v4 > 0 )
  {
    v5 = *(_DWORD *)&_First + 12 * v4;
    do
    {
      v5 -= 12;
      *(_DWORD *)v6 = *(_DWORD *)v5;
      --v4;
      *(_QWORD *)&v6[4] = *(_QWORD *)(v5 + 4);
      std::_Adjust_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(
        _First,
        v4,
        (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12,
        *(CTokenlizedFile::ColumnInfo *)v6);
    }
    while ( v4 > 0 );
  }
}

//----- (00429270) --------------------------------------------------------
std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *__cdecl std::_Equal_range<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, CTokenlizedFile::ColumnInfo *_Val, int *__formal)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v5; // ebx@1
  signed int v6; // edx@1
  signed int v7; // esi@1
  unsigned int v8; // ebp@2
  int v9; // edi@3
  std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> *v10; // eax@8
  CTokenlizedFile::ColumnInfo *v11; // ebp@9
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v12; // edx@9

  v5 = _First;
  v6 = (signed int)((unsigned __int64)(715827883i64 * (*(_DWORD *)&_Last - *(_DWORD *)&_First)) >> 32) >> 1;
  v7 = v6 + ((unsigned int)v6 >> 31);
  if ( v7 <= 0 )
  {
LABEL_8:
    v10 = result;
    *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
    *(_DWORD *)&result->second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
    return v10;
  }
  v8 = _Val->m_dwHashKey;
  while ( 1 )
  {
    v9 = *(_DWORD *)&v5 + 12 * v7 / 2;
    if ( v8 <= *(_DWORD *)v9 )
      break;
    v5 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(v9 + 12);
    v7 += -1 - v7 / 2;
LABEL_7:
    if ( v7 <= 0 )
      goto LABEL_8;
  }
  if ( v8 < *(_DWORD *)v9 )
  {
    v7 /= 2;
    goto LABEL_7;
  }
  v11 = _Val;
  std::_Lower_bound<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(
    &_Last,
    v5,
    (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&v5 + 12 * v7 / 2),
    _Val,
    0);
  std::_Upper_bound<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(
    &_First,
    (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(v9 + 12),
    (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)(*(_DWORD *)&v5 + 12 * v7),
    v11,
    0);
  v10 = result;
  v12 = _First;
  *(_DWORD *)&result->first.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Last;
  *(_DWORD *)&result->second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v12;
  return v10;
}

//----- (00429320) --------------------------------------------------------
void __cdecl std::_Insertion_sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last)
{
  int i; // esi@2
  unsigned int v3; // ecx@3
  int v4; // eax@7
  unsigned int v5; // ebp@8
  int v6; // edx@8
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v7; // [sp-1Ch] [bp-24h]@6
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v8; // [sp-18h] [bp-20h]@6
  int v9; // [sp-14h] [bp-1Ch]@6
  int *v10; // [sp-10h] [bp-18h]@6
  CTokenlizedFile::ColumnInfo *v11; // [sp-Ch] [bp-14h]@6

  if ( _First != _Last )
  {
    for ( i = *(_DWORD *)&_First + 12; i != _Last; i += 12 )
    {
      v3 = *(_DWORD *)i;
      if ( *(_DWORD *)i >= **(_DWORD **)&_First )
      {
        v4 = i - 12;
        if ( v3 >= *(_DWORD *)(i - 12) )
          continue;
        do
        {
          v5 = *(_DWORD *)(v4 - 12);
          v6 = v4;
          v4 -= 12;
        }
        while ( v3 < v5 );
        if ( v6 == i || i == i + 12 )
          continue;
        v11 = 0;
        v10 = 0;
        v9 = i + 12;
        v8 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)i;
        v7 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v6;
      }
      else
      {
        if ( _First == i || i == i + 12 )
          continue;
        v11 = 0;
        v10 = 0;
        v9 = i + 12;
        v8 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)i;
        v7 = _First;
      }
      std::_Rotate<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(
        v7,
        v8,
        (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v9,
        v10,
        v11);
    }
  }
}

//----- (004293A0) --------------------------------------------------------
void __cdecl std::sort_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last)
{
  signed int i; // esi@1
  int v3; // eax@2
  int v4; // ebx@2
  unsigned int v5; // ecx@2
  unsigned int v6; // edx@2
  int v7; // ST30_4@2
  _BYTE v8[12]; // ST0C_12@2

  for ( i = *(_DWORD *)&_Last - *(_DWORD *)&_First; i / 12 > 1; i -= 12 )
  {
    v3 = *(_DWORD *)&_First + i - 12;
    v4 = *(_DWORD *)&_First + i - 12;
    v5 = *(_DWORD *)v4;
    v6 = *(_DWORD *)(v4 + 4);
    v7 = *(_DWORD *)(v4 + 8);
    *(_DWORD *)v3 = **(_DWORD **)&_First;
    *(_DWORD *)(v3 + 4) = *(_DWORD *)(*(_DWORD *)&_First + 4);
    *(_DWORD *)(v3 + 8) = *(_DWORD *)(*(_DWORD *)&_First + 8);
    *(_QWORD *)v8 = __PAIR__(v6, v5);
    *(_DWORD *)&v8[8] = v7;
    std::_Adjust_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(
      _First,
      0,
      (i - 12) / 12,
      *(CTokenlizedFile::ColumnInfo *)v8);
  }
}

//----- (00429440) --------------------------------------------------------
void __thiscall CTokenlizedFile::_CTokenlizedFile(CTokenlizedFile *this)
{
  CTokenlizedFile *v1; // esi@1

  v1 = this;
  if ( this->m_ColumnValues._Myfirst )
    operator delete(this->m_ColumnValues._Myfirst);
  v1->m_ColumnValues._Myfirst = 0;
  v1->m_ColumnValues._Mylast = 0;
  v1->m_ColumnValues._Myend = 0;
  if ( v1->m_ColumnInfo._Myfirst )
    operator delete(v1->m_ColumnInfo._Myfirst);
  v1->m_ColumnInfo._Myfirst = 0;
  v1->m_ColumnInfo._Mylast = 0;
  v1->m_ColumnInfo._Myend = 0;
}

//----- (004294A0) --------------------------------------------------------
void __thiscall CTokenlizedFile::Close(CTokenlizedFile *this)
{
  CTokenlizedFile *v1; // esi@1

  v1 = this;
  if ( this->m_lpFile )
    fclose(this->m_lpFile);
  if ( v1->m_ColumnInfo._Myfirst )
    operator delete(v1->m_ColumnInfo._Myfirst);
  v1->m_ColumnInfo._Myfirst = 0;
  v1->m_ColumnInfo._Mylast = 0;
  v1->m_ColumnInfo._Myend = 0;
  if ( v1->m_ColumnValues._Myfirst )
    operator delete(v1->m_ColumnValues._Myfirst);
  v1->m_ColumnValues._Myfirst = 0;
  v1->m_ColumnValues._Mylast = 0;
  v1->m_ColumnValues._Myend = 0;
}

//----- (00429510) --------------------------------------------------------
bool __thiscall CTokenlizedFile::Open(CTokenlizedFile *this, const char *szFilename, const char *szOpenMode)
{
  CTokenlizedFile *v3; // esi@1
  _iobuf *v4; // eax@1

  v3 = this;
  CTokenlizedFile::Close(this);
  v3->m_nLine = 0;
  v4 = fopen(szFilename, szOpenMode);
  v3->m_lpFile = v4;
  return v4 != 0;
}

//----- (00429540) --------------------------------------------------------
const char *__thiscall CTokenlizedFile::GetStringValue(CTokenlizedFile *this, const char *szColumnName)
{
  int v2; // eax@1
  CTokenlizedFile *v3; // ebp@1
  unsigned int v4; // ecx@1
  const char *i; // edx@1
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v6; // ST08_4@3
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v7; // ST04_4@3
  int v8; // edi@3
  const char *result; // eax@6
  char **v10; // ecx@7
  unsigned int v11; // edx@7
  std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> pair; // [sp+10h] [bp-14h]@3
  CTokenlizedFile::ColumnInfo Info; // [sp+18h] [bp-Ch]@3

  v2 = (unsigned __int8)*szColumnName;
  v3 = this;
  v4 = 0;
  for ( i = szColumnName; *i; v2 = (unsigned __int8)*i )
  {
    ++i;
    v4 = v2 + 65599 * v4;
  }
  v6 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v3->m_ColumnInfo._Mylast;
  Info.m_dwHashKey = v4;
  v7 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v3->m_ColumnInfo._Myfirst;
  Info.m_dwIndex = 0;
  Info.m_szColumnName = szColumnName;
  std::_Equal_range<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_CTokenlizedFile::ColumnInfo_int>(
    &pair,
    v7,
    v6,
    &Info,
    0);
  v8 = *(_DWORD *)&pair;
  if ( *(_DWORD *)&pair == *(_DWORD *)&pair.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] )
    goto LABEL_6;
  while ( strcmp(szColumnName, *(const char **)(v8 + 8)) )
  {
    v8 += 12;
    if ( v8 == *(_DWORD *)&pair.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] )
      goto LABEL_6;
  }
  v10 = v3->m_ColumnValues._Myfirst;
  v11 = *(_DWORD *)(v8 + 4);
  if ( v10 && v11 < v3->m_ColumnValues._Mylast - v10 )
    result = v10[v11];
  else
LABEL_6:
    result = 0;
  return result;
}

//----- (00429630) --------------------------------------------------------
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Xlen(std::vector<char *,std::allocator<char *> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (004296A0) --------------------------------------------------------
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Insert_n(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Where, unsigned int _Count, CTokenlizedFile::ColumnInfo *_Val)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *v4; // esi@1
  unsigned int v5; // ecx@1
  unsigned int v6; // edx@1
  CTokenlizedFile::ColumnInfo *v7; // ebx@1
  const char *v8; // eax@1
  unsigned int v9; // ecx@2
  signed int v10; // edx@3
  unsigned int v11; // edi@4
  int v12; // eax@6
  int v13; // eax@11
  int v14; // ecx@15
  int v15; // eax@18
  int v16; // ebx@22
  CTokenlizedFile::ColumnInfo *v17; // ST18_4@22
  int v18; // eax@22
  int v19; // edi@24
  CTokenlizedFile::ColumnInfo *v20; // ecx@27
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v21; // ebx@27
  CTokenlizedFile::ColumnInfo *v22; // ecx@28
  CTokenlizedFile::ColumnInfo *v23; // ST24_4@28
  unsigned int v24; // edi@28
  int v25; // [sp-Ch] [bp-28h]@1
  CTokenlizedFile::ColumnInfo _Tmp; // [sp+0h] [bp-1Ch]@1
  int *v27; // [sp+Ch] [bp-10h]@1
  int v28; // [sp+18h] [bp-4h]@22
  CTokenlizedFile::ColumnInfo *_Wherea; // [sp+24h] [bp+8h]@29
  CTokenlizedFile::ColumnInfo *_Counta; // [sp+28h] [bp+Ch]@22
  void *_Newvec; // [sp+2Ch] [bp+10h]@22
  CTokenlizedFile::ColumnInfo *_Newveca; // [sp+2Ch] [bp+10h]@27

  v4 = this;
  v5 = _Val->m_dwHashKey;
  v6 = _Val->m_dwIndex;
  v7 = v4->_Myfirst;
  v8 = _Val->m_szColumnName;
  v27 = &v25;
  _Tmp.m_dwHashKey = v5;
  _Tmp.m_dwIndex = v6;
  _Tmp.m_szColumnName = v8;
  if ( v7 )
  {
    v10 = (signed int)((unsigned __int64)(715827883i64 * (unsigned int)((char *)v4->_Myend - (char *)v7)) >> 32) >> 1;
    v9 = v10 + ((unsigned int)v10 >> 31);
  }
  else
  {
    v9 = 0;
  }
  v11 = _Count;
  if ( _Count )
  {
    if ( v7 )
      v12 = v4->_Mylast - v7;
    else
      v12 = 0;
    if ( 357913941 - v12 < _Count )
      std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Xlen((std::vector<char *,std::allocator<char *> > *)v4);
    if ( v7 )
      v13 = v4->_Mylast - v7;
    else
      v13 = 0;
    if ( v9 >= _Count + v13 )
    {
      v20 = v4->_Mylast;
      v21 = _Where;
      _Newveca = v4->_Mylast;
      if ( (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) / 12 >= _Count )
      {
        _Wherea = &v20[-_Count];
        v4->_Mylast = std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
                        &v20[-_Count],
                        v20,
                        v20,
                        &v4->baseclass_0._Alval,
                        (std::_Nonscalar_ptr_iterator_tag)((_BYTE)v20 - 12 * _Count));
        std::_Copy_backward_opt<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo__>(
          *(CTokenlizedFile::ColumnInfo **)&v21,
          _Wherea,
          _Newveca,
          (std::_Nonscalar_ptr_iterator_tag)_Wherea);
        std::fill<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo>(
          *(CTokenlizedFile::ColumnInfo **)&v21,
          (CTokenlizedFile::ColumnInfo *)(*(_DWORD *)&v21 + 12 * _Count),
          &_Tmp);
      }
      else
      {
        std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
          *(CTokenlizedFile::ColumnInfo **)&_Where,
          v20,
          (CTokenlizedFile::ColumnInfo *)(*(_DWORD *)&_Where + 12 * _Count),
          &v4->baseclass_0._Alval,
          (std::_Nonscalar_ptr_iterator_tag)(12 * _Count));
        v22 = v4->_Mylast;
        v23 = v4->_Mylast;
        v28 = 2;
        std::vector<CConsoleCMDFactory::StringCMD_std::allocator<CConsoleCMDFactory::StringCMD>>::_Ufill(
          v4,
          v23,
          _Count - (signed int)((char *)v22 - *(_DWORD *)&_Where) / 12,
          &_Tmp);
        v24 = (unsigned int)&v4->_Mylast[_Count];
        v4->_Mylast = (CTokenlizedFile::ColumnInfo *)v24;
        std::fill<CTokenlizedFile::ColumnInfo___CTokenlizedFile::ColumnInfo>(
          *(CTokenlizedFile::ColumnInfo **)&_Where,
          (CTokenlizedFile::ColumnInfo *)(v24 - 12 * _Count),
          &_Tmp);
      }
    }
    else
    {
      if ( 357913941 - (v9 >> 1) >= v9 )
        v14 = (v9 >> 1) + v9;
      else
        v14 = 0;
      if ( v7 )
        v15 = v4->_Mylast - v7;
      else
        v15 = 0;
      if ( v14 < _Count + v15 )
        v14 = _Count + std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::size(v4);
      v16 = 12 * v14;
      _Newvec = operator new(12 * v14);
      v17 = v4->_Myfirst;
      v28 = 0;
      _Counta = std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
                  v17,
                  *(CTokenlizedFile::ColumnInfo **)&_Where,
                  (CTokenlizedFile::ColumnInfo *)_Newvec,
                  &v4->baseclass_0._Alval,
                  (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(
        _Counta,
        v11,
        &_Tmp,
        &v4->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
        *(CTokenlizedFile::ColumnInfo **)&_Where,
        v4->_Mylast,
        &_Counta[v11],
        &v4->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v18 = (int)v4->_Myfirst;
      if ( v18 )
        v18 = (signed int)((char *)v4->_Mylast - v18) / 12;
      v19 = v18 + v11;
      if ( v4->_Myfirst )
        operator delete(v4->_Myfirst);
      v4->_Myend = (CTokenlizedFile::ColumnInfo *)((char *)_Newvec + v16);
      v4->_Mylast = (CTokenlizedFile::ColumnInfo *)((char *)_Newvec + 12 * v19);
      v4->_Myfirst = (CTokenlizedFile::ColumnInfo *)_Newvec;
    }
  }
}

//----- (00429960) --------------------------------------------------------
void __thiscall std::vector<char___std::allocator<char__>>::_Insert_n(std::vector<char *,std::allocator<char *> > *this, std::vector<char *,std::allocator<char *> >::iterator _Where, unsigned int _Count, char *const *_Val)
{
  std::vector<char *,std::allocator<char *> > *v4; // esi@1
  char **v5; // edx@1
  signed int v6; // eax@2
  unsigned int v7; // edi@4
  signed int v8; // ecx@6
  int v9; // ecx@11
  int v10; // eax@15
  int v11; // ecx@18
  int v12; // eax@22
  void *v13; // eax@25
  unsigned int v14; // ebp@25
  int v15; // eax@25
  int *v16; // eax@25
  char **v17; // eax@25
  int v18; // ecx@26
  int v19; // edi@28
  int v20; // ebp@31
  std::vector<char *,std::allocator<char *> >::iterator v21; // ebx@31
  int v22; // edx@31
  unsigned int v23; // eax@31
  int v24; // ecx@32
  int *v25; // edi@33
  void *_Newvec; // [sp+0h] [bp-4h]@25
  unsigned int _Wherea; // [sp+8h] [bp+4h]@31
  int _Counta; // [sp+Ch] [bp+8h]@25

  v4 = this;
  v5 = this->_Myfirst;
  _Val = (char *const *)*_Val;
  if ( v5 )
    v6 = this->_Myend - v5;
  else
    v6 = 0;
  v7 = _Count;
  if ( _Count )
  {
    if ( v5 )
      v8 = this->_Mylast - v5;
    else
      v8 = 0;
    if ( 1073741823 - v8 < _Count )
      std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Xlen(v4);
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( v6 >= _Count + v9 )
    {
      v20 = (int)v4->_Mylast;
      v21 = _Where;
      v22 = (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2;
      v23 = 4 * _Count;
      _Wherea = 4 * _Count;
      if ( v22 >= _Count )
      {
        v25 = (int *)(v20 - v23);
        v4->_Mylast = (char **)std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
                                 (char *)(v20 - v23),
                                 v20,
                                 (char *)v20);
        std::copy_backward<char_____char____>(*(int **)&v21, v25, (int *)v20);
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(*(_DWORD *)&v21 + _Wherea),
          (const int *)&_Val);
      }
      else
      {
        std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
          *(char **)&v21,
          v20,
          (char *)(*(_DWORD *)&v21 + v23));
        std::vector<char___std::allocator<char__>>::_Ufill(
          (std::vector<int,std::allocator<int> > *)v4,
          (int *)v4->_Mylast,
          _Count - ((signed int)((char *)v4->_Mylast - *(_DWORD *)&v21) >> 2),
          (const int *)&_Val);
        v24 = (int)&v4->_Mylast[_Wherea / 4];
        v4->_Mylast = (char **)v24;
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(v24 - _Wherea),
          (const int *)&_Val);
      }
    }
    else
    {
      if ( 1073741823 - ((unsigned int)v6 >> 1) >= v6 )
        v10 = ((unsigned int)v6 >> 1) + v6;
      else
        v10 = 0;
      if ( v5 )
        v11 = v4->_Mylast - v5;
      else
        v11 = 0;
      if ( v10 < _Count + v11 )
      {
        if ( v5 )
          v12 = v4->_Mylast - v5;
        else
          v12 = 0;
        v10 = _Count + v12;
      }
      _Counta = 4 * v10;
      v13 = operator new(4 * v10);
      v14 = 4 * ((signed int)(*(_DWORD *)&_Where - (unsigned int)v4->_Myfirst) >> 2);
      _Newvec = v13;
      memmove((char *)v13, (char *)v4->_Myfirst, v14);
      v16 = std::vector<char___std::allocator<char__>>::_Ufill(
              (std::vector<int,std::allocator<int> > *)v4,
              (int *)(v14 + v15),
              v7,
              (const int *)&_Val);
      memmove((char *)v16, *(char **)&_Where, 4 * ((signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2));
      v17 = v4->_Myfirst;
      if ( v17 )
        v18 = v4->_Mylast - v17;
      else
        v18 = 0;
      v19 = v18 + v7;
      if ( v17 )
        operator delete(v4->_Myfirst);
      v4->_Myend = (char **)((char *)_Newvec + _Counta);
      v4->_Mylast = (char **)((char *)_Newvec + 4 * v19);
      v4->_Myfirst = (char **)_Newvec;
    }
  }
}

//----- (00429B40) --------------------------------------------------------
void __cdecl std::_Sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int>(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _First, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Last, int _Ideal)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v3; // ebx@1
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v4; // edi@1
  int v5; // eax@1
  signed int v6; // esi@2
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v7; // ebp@4
  std::pair<std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator,std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator> _Mid; // [sp+10h] [bp-8h]@4

  v3 = _First;
  v4 = _Last;
  v5 = (*(_DWORD *)&_Last - *(_DWORD *)&_First) / 12;
  if ( v5 <= 32 )
    goto LABEL_8;
  v6 = _Ideal;
  while ( v6 > 0 )
  {
    std::_Unguarded_partition<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      &_Mid,
      v3,
      v4);
    v7 = *(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0];
    v6 = v6 / 2 / 2 + v6 / 2;
    if ( (*(_DWORD *)&_Mid - *(_DWORD *)&v3) / 12 >= (*(_DWORD *)&v4
                                                    - *(_DWORD *)&_Mid.second.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0])
                                                   / 12 )
    {
      std::_Sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int>(
        _Mid.second,
        v4,
        v6);
      v4 = *(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *)&_Mid;
    }
    else
    {
      std::_Sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int>(
        v3,
        _Mid.first,
        v6);
      v3 = v7;
    }
    v5 = (*(_DWORD *)&v4 - *(_DWORD *)&v3) / 12;
    if ( v5 <= 32 )
      goto LABEL_8;
  }
  if ( v5 <= 32 )
  {
LABEL_8:
    if ( v5 > 1 )
      std::_Insertion_sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
        v3,
        v4);
  }
  else
  {
    if ( (*(_DWORD *)&v4 - *(_DWORD *)&v3) / 12 > 1 )
      std::_Make_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int_CTokenlizedFile::ColumnInfo>(
        v3,
        v4,
        0,
        0);
    std::sort_heap<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator>(
      v3,
      v4);
  }
}

//----- (00429C70) --------------------------------------------------------
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::reserve(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, unsigned int _Count)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *v2; // esi@1
  CTokenlizedFile::ColumnInfo *v3; // eax@3
  unsigned int v4; // ebx@6
  CTokenlizedFile::ColumnInfo *v5; // ST04_4@6
  CTokenlizedFile::ColumnInfo *v6; // ST00_4@6
  CTokenlizedFile::ColumnInfo *v7; // ecx@6
  int v8; // edi@7
  signed int v9; // edx@8
  int v10; // [sp-Ch] [bp-1Ch]@1
  int *v11; // [sp+0h] [bp-10h]@1
  int v12; // [sp+Ch] [bp-4h]@6
  void *_Ptr; // [sp+18h] [bp+8h]@6

  v11 = &v10;
  v2 = this;
  if ( _Count > 0x15555555 )
    std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Xlen((std::vector<char *,std::allocator<char *> > *)this);
  v3 = this->_Myfirst;
  if ( v3 )
    v3 = (CTokenlizedFile::ColumnInfo *)(this->_Myend - v3);
  if ( (unsigned int)v3 < _Count )
  {
    v4 = 12 * _Count;
    _Ptr = operator new(12 * _Count);
    v5 = v2->_Mylast;
    v6 = v2->_Myfirst;
    v12 = 0;
    std::_Uninit_copy<CConsoleCMDFactory::StringCMD___CConsoleCMDFactory::StringCMD___std::allocator<CConsoleCMDFactory::StringCMD>>(
      v6,
      v5,
      (CTokenlizedFile::ColumnInfo *)_Ptr,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Ptr);
    v7 = v2->_Myfirst;
    if ( v7 )
    {
      v9 = (signed int)((unsigned __int64)(715827883i64 * (unsigned int)((char *)v2->_Mylast - (char *)v7)) >> 32) >> 1;
      v8 = v9 + ((unsigned int)v9 >> 31);
    }
    else
    {
      v8 = 0;
    }
    if ( v7 )
      operator delete(v2->_Myfirst);
    v2->_Myend = (CTokenlizedFile::ColumnInfo *)((char *)_Ptr + v4);
    v2->_Mylast = (CTokenlizedFile::ColumnInfo *)((char *)_Ptr + 12 * v8);
    v2->_Myfirst = (CTokenlizedFile::ColumnInfo *)_Ptr;
  }
}

//----- (00429D60) --------------------------------------------------------
void __thiscall std::vector<char___std::allocator<char__>>::reserve(std::vector<char *,std::allocator<char *> > *this, unsigned int _Count)
{
  std::vector<char *,std::allocator<char *> > *v2; // esi@1
  char **v3; // ecx@3
  int v4; // ebx@3
  int v5; // eax@4
  void *v6; // eax@7
  void *v7; // edi@7
  std::vector<char *,std::allocator<char *> >::iterator v8; // ST04_4@7
  std::vector<char *,std::allocator<char *> >::iterator v9; // ST00_4@7
  char **v10; // eax@7
  int v11; // [sp-Ch] [bp-20h]@1
  void *_Ptr; // [sp+0h] [bp-14h]@7
  int *v13; // [sp+4h] [bp-10h]@1
  int v14; // [sp+10h] [bp-4h]@7
  unsigned int _Counta; // [sp+1Ch] [bp+8h]@7

  v13 = &v11;
  v2 = this;
  if ( _Count > 0x3FFFFFFF )
    std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Xlen(this);
  v3 = this->_Myfirst;
  v4 = 0;
  if ( v3 )
    v5 = v2->_Myend - v3;
  else
    v5 = 0;
  if ( v5 < _Count )
  {
    _Counta = 4 * _Count;
    v6 = operator new(_Counta);
    v7 = v6;
    v8 = (std::vector<char *,std::allocator<char *> >::iterator)v2->_Mylast;
    v9 = (std::vector<char *,std::allocator<char *> >::iterator)v2->_Myfirst;
    _Ptr = v6;
    v14 = 0;
    std::_Uninit_copy<enum__Item::ItemType::Type___enum__Item::ItemType::Type___std::allocator<enum__Item::ItemType::Type>>(
      v9,
      v8,
      (char **)v6,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Counta);
    v10 = v2->_Myfirst;
    if ( v10 )
      v4 = v2->_Mylast - v10;
    if ( v10 )
      operator delete(v2->_Myfirst);
    v2->_Myend = (char **)((char *)v7 + _Counta);
    v2->_Mylast = (char **)((char *)v7 + 4 * v4);
    v2->_Myfirst = (char **)v7;
  }
}

//----- (00429E30) --------------------------------------------------------
std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *__thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::insert(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *result, std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator _Where, CTokenlizedFile::ColumnInfo *_Val)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *v4; // edi@1
  CTokenlizedFile::ColumnInfo *v5; // esi@1
  int v6; // esi@3
  signed int v7; // edx@4
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *v8; // eax@5

  v4 = this;
  v5 = this->_Myfirst;
  if ( v5 && this->_Mylast - v5 )
  {
    v7 = (signed int)((unsigned __int64)(715827883i64 * (*(_DWORD *)&_Where - (signed int)v5)) >> 32) >> 1;
    v6 = v7 + ((unsigned int)v7 >> 31);
  }
  else
  {
    v6 = 0;
  }
  std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::_Insert_n(
    this,
    _Where,
    1u,
    _Val);
  v8 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = &v4->_Myfirst[v6];
  return v8;
}

//----- (00429EA0) --------------------------------------------------------
void __thiscall std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::push_back(std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *this, CTokenlizedFile::ColumnInfo *_Val)
{
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *v2; // esi@1
  CTokenlizedFile::ColumnInfo *v3; // edi@1
  int v4; // ecx@2
  signed int v5; // edx@3
  CTokenlizedFile::ColumnInfo *v6; // edi@6

  v2 = this;
  v3 = this->_Myfirst;
  if ( v3 )
  {
    v5 = (signed int)((unsigned __int64)(715827883i64 * (unsigned int)((char *)this->_Mylast - (char *)v3)) >> 32) >> 1;
    v4 = v5 + ((unsigned int)v5 >> 31);
  }
  else
  {
    v4 = 0;
  }
  if ( v3 && v4 < v2->_Myend - v3 )
  {
    v6 = v2->_Mylast;
    std::_Uninit_fill_n<CTokenlizedFile::ColumnInfo___unsigned_int_CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>(
      v2->_Mylast,
      1u,
      _Val,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Val);
    v2->_Mylast = v6 + 1;
  }
  else
  {
    std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::insert(
      v2,
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator *)&_Val,
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v2->_Mylast,
      _Val);
  }
}

//----- (00429F20) --------------------------------------------------------
void __thiscall CTokenlizedFile::CTokenlizedFile(CTokenlizedFile *this, const char *lpszDelimiter)
{
  CTokenlizedFile *v2; // esi@1
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *v3; // edi@1
  std::vector<char *,std::allocator<char *> > *v4; // ebp@1

  v2 = this;
  v3 = &this->m_ColumnInfo;
  this->m_lpFile = 0;
  this->m_nLine = 0;
  this->m_ColumnInfo._Myfirst = 0;
  this->m_ColumnInfo._Mylast = 0;
  this->m_ColumnInfo._Myend = 0;
  v4 = &this->m_ColumnValues;
  this->m_ColumnValues._Myfirst = 0;
  this->m_ColumnValues._Mylast = 0;
  this->m_ColumnValues._Myend = 0;
  strncpy(this->m_szDelimiter, lpszDelimiter, 0xFu);
  v2->m_szDelimiter[15] = 0;
  std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::reserve(v3, 0x40u);
  std::vector<char___std::allocator<char__>>::reserve(v4, 0x40u);
}

//----- (00429FB0) --------------------------------------------------------
bool __thiscall CTokenlizedFile::ReadColumn(CTokenlizedFile *this)
{
  CTokenlizedFile *v1; // edi@1
  char *v2; // ebp@1
  unsigned int v3; // ebx@1
  char *v4; // eax@4
  char *v5; // eax@5
  int v6; // ecx@5
  unsigned int v7; // edx@5
  char *i; // esi@5
  std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator v9; // esi@8
  bool result; // al@8
  CTokenlizedFile::ColumnInfo _Val; // [sp+10h] [bp-Ch]@7

  v1 = this;
  v2 = (char *)&this->m_ColumnInfo;
  v3 = 0;
  if ( this->m_ColumnInfo._Myfirst )
    operator delete(this->m_ColumnInfo._Myfirst);
  *((_DWORD *)v2 + 1) = 0;
  *((_DWORD *)v2 + 2) = 0;
  *((_DWORD *)v2 + 3) = 0;
  if ( fgets(v1->m_szColumn, 16384, v1->m_lpFile) )
  {
    v4 = strtok(v1->m_szColumn, v1->m_szDelimiter);
    do
    {
      v5 = trim_string(v4);
      v6 = (unsigned __int8)*v5;
      v7 = 0;
      for ( i = v5; *i; v6 = (unsigned __int8)*i )
      {
        ++i;
        v7 = v6 + 65599 * v7;
      }
      _Val.m_dwHashKey = v7;
      _Val.m_dwIndex = v3;
      _Val.m_szColumnName = v5;
      std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::push_back(
        (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> > *)v2,
        &_Val);
      ++v3;
      v4 = strtok(0, v1->m_szDelimiter);
    }
    while ( v4 );
    v9 = (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v1->m_ColumnInfo._Mylast;
    ++v1->m_nLine;
    std::_Sort<std::vector<CTokenlizedFile::ColumnInfo_std::allocator<CTokenlizedFile::ColumnInfo>>::iterator_int>(
      (std::vector<CTokenlizedFile::ColumnInfo,std::allocator<CTokenlizedFile::ColumnInfo> >::iterator)v1->m_ColumnInfo._Myfirst,
      v9,
      (signed int)(*(_DWORD *)&v9 - (unsigned int)v1->m_ColumnInfo._Myfirst) / 12);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042A0B0) --------------------------------------------------------
bool __thiscall CTokenlizedFile::ReadLine(CTokenlizedFile *this)
{
  CTokenlizedFile *v1; // esi@1
  void *v2; // eax@1
  char *v3; // ebx@1
  char *v4; // ebp@3
  char *v5; // eax@5
  char *v6; // eax@6
  int v7; // edx@6
  int v8; // esi@7
  int v9; // ecx@11
  bool result; // al@14
  CTokenlizedFile *v11; // [sp+10h] [bp-8h]@1
  char *_Val; // [sp+14h] [bp-4h]@6

  v1 = this;
  v2 = this->m_ColumnValues._Myfirst;
  v3 = (char *)&this->m_ColumnValues;
  v11 = this;
  if ( v2 )
    operator delete(v2);
  *((_DWORD *)v3 + 1) = 0;
  *((_DWORD *)v3 + 2) = 0;
  *((_DWORD *)v3 + 3) = 0;
  v4 = v1->m_szLine;
  if ( fgets(v1->m_szLine, 16384, v1->m_lpFile) && strncmp("\n", v1->m_szLine, 2) )
  {
    v5 = strtok(v4, v11->m_szDelimiter);
    do
    {
      v6 = trim_string(v5);
      v7 = *((_DWORD *)v3 + 1);
      _Val = v6;
      if ( v7 )
        v8 = (*((_DWORD *)v3 + 2) - v7) >> 2;
      else
        v8 = 0;
      if ( v7 && v8 < (unsigned int)((*((_DWORD *)v3 + 3) - v7) >> 2) )
      {
        v9 = *((_DWORD *)v3 + 2);
        *(_DWORD *)v9 = v6;
        *((_DWORD *)v3 + 2) = v9 + 4;
      }
      else
      {
        std::vector<char___std::allocator<char__>>::_Insert_n(
          (std::vector<char *,std::allocator<char *> > *)v3,
          *((std::vector<char *,std::allocator<char *> >::iterator *)v3 + 2),
          1u,
          &_Val);
      }
      v5 = strtok(0, v11->m_szDelimiter);
    }
    while ( v5 );
    ++v11->m_nLine;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042A1B0) --------------------------------------------------------
unsigned __int16 __cdecl Math::Convert::StrToHex16(const char *szSrc)
{
  int v1; // eax@0
  int v2; // ecx@0
  const char v3; // al@1
  int v4; // ecx@10
  int v5; // eax@19
  const char v6; // cl@19
  __int16 v7; // si@28
  const char v8; // cl@28
  __int16 v9; // si@28
  unsigned __int16 result; // ax@30

  v3 = szSrc[2];
  if ( v3 < 48 || v3 > 57 )
  {
    if ( v3 < 65 || v3 > 70 )
    {
      if ( v3 >= 97 && v3 <= 102 )
        v3 -= 87;
    }
    else
    {
      v3 -= 55;
    }
  }
  else
  {
    v3 -= 48;
  }
  LOWORD(v2) = (char)v1;
  LOBYTE(v1) = szSrc[3];
  v4 = v2 << 12;
  if ( (char)v1 < 48 || (char)v1 > 57 )
  {
    if ( (char)v1 < 65 || (char)v1 > 70 )
    {
      if ( (char)v1 >= 97 && (char)v1 <= 102 )
        LOBYTE(v1) = v1 - 87;
    }
    else
    {
      LOBYTE(v1) = v1 - 55;
    }
  }
  else
  {
    LOBYTE(v1) = v1 - 48;
  }
  LOWORD(v1) = (char)v1;
  v5 = v4 + (v1 << 8);
  v6 = szSrc[4];
  if ( szSrc[4] < 48 || v6 > 57 )
  {
    if ( v6 < 65 || v6 > 70 )
    {
      if ( v6 >= 97 && v6 <= 102 )
        v6 -= 87;
    }
    else
    {
      v6 -= 55;
    }
  }
  else
  {
    v6 -= 48;
  }
  v7 = v6;
  v8 = szSrc[5];
  v9 = 16 * v7;
  if ( v8 < 48 || v8 > 57 )
  {
    if ( v8 < 65 || v8 > 70 )
    {
      if ( v8 >= 97 )
      {
        if ( v8 <= 102 )
          v8 -= 87;
      }
      result = v9 + v8 + v5;
    }
    else
    {
      result = v9 + (char)(v8 - 55) + v5;
    }
  }
  else
  {
    result = v9 + (char)(v8 - 48) + v5;
  }
  return result;
}

//----- (0042A290) --------------------------------------------------------
bool __cdecl ReadString(char *szBuffer_Out, int nBufferLen, const char *szValue_In)
{
  int v3; // eax@1
  bool result; // al@2

  v3 = _snprintf(szBuffer_Out, nBufferLen - 1, "%s");
  if ( v3 < 0 )
  {
    szBuffer_Out[nBufferLen - 1] = 0;
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "ReadString",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemDataParser.cpp",
      27,
      "");
    result = 0;
  }
  else
  {
    szBuffer_Out[v3] = 0;
    result = 1;
  }
  return result;
}

//----- (0042A2F0) --------------------------------------------------------
bool __cdecl ReadStringToTypeValue(char *cValue_Out, CTypeName *lpTypeArray, const char nMaxType, const char *szValue_In)
{
  unsigned __int8 v4; // dl@1
  char *v5; // esi@2
  bool result; // al@5

  v4 = 0;
  if ( nMaxType )
  {
    while ( 1 )
    {
      v5 = lpTypeArray[v4].m_lpszName;
      if ( v5 )
      {
        if ( !strcmp(szValue_In, v5) )
          break;
      }
      ++v4;
      if ( v4 >= nMaxType )
        goto LABEL_5;
    }
    *cValue_Out = lpTypeArray[v4].m_nType;
    result = 1;
  }
  else
  {
LABEL_5:
    result = 0;
  }
  return result;
}

//----- (0042A370) --------------------------------------------------------
bool __cdecl ReadID(Item::ItemInfo *itemInfo, const char *szValue)
{
  unsigned __int16 v2; // ax@1
  bool result; // al@3

  v2 = atoi(szValue);
  itemInfo->m_usProtoTypeID = v2;
  if ( v2 && v2 != -1 )
  {
    result = 1;
  }
  else
  {
    CServerLog::DetailLog(
      &g_Log,
      LOG_ERROR,
      "ReadID",
      "D:\\Project\\Server\\RYLSERVERPROJECT\\RylGameLibrary\\Item\\ItemDataParser.cpp",
      90,
      " ID ");
    result = 0;
  }
  return result;
}

//----- (0042A3C0) --------------------------------------------------------
bool __cdecl ReadItemName(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_SpriteData.m_szName, 64, szValue);
}

//----- (0042A3E0) --------------------------------------------------------
bool __cdecl ReadFieldModelName(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_StringData.m_szFieldModelName, 32, szValue);
}

//----- (0042A400) --------------------------------------------------------
bool __cdecl ReadAttachedModelName(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_StringData.m_szEquipModelName, 32, szValue);
}

//----- (0042A420) --------------------------------------------------------
bool __cdecl ReadSpriteDDS(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_SpriteData.m_szSpriteName, 32, szValue);
}

//----- (0042A440) --------------------------------------------------------
bool __cdecl ReadMinX(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_SpriteData.m_nSpriteMinX = atoi(szValue);
  return 1;
}

//----- (0042A460) --------------------------------------------------------
bool __cdecl ReadMinY(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_SpriteData.m_nSpriteMinY = atoi(szValue);
  return 1;
}

//----- (0042A480) --------------------------------------------------------
bool __cdecl ReadMaxX(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_SpriteData.m_nSpriteMaxX = atoi(szValue);
  return 1;
}

//----- (0042A4A0) --------------------------------------------------------
bool __cdecl ReadMaxY(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_SpriteData.m_nSpriteMaxY = atoi(szValue);
  return 1;
}

//----- (0042A4C0) --------------------------------------------------------
bool __cdecl ReadSizeX(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cXSize = atoi(szValue);
  return 1;
}

//----- (0042A4E0) --------------------------------------------------------
bool __cdecl ReadSizeY(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cYSize = atoi(szValue);
  return 1;
}

//----- (0042A500) --------------------------------------------------------
bool __cdecl ReadEffectSound(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_StringData.m_szEffectSoundName, 32, szValue);
}

//----- (0042A520) --------------------------------------------------------
bool __cdecl ReadItemType(Item::ItemInfo *itemInfo, const char *szValue)
{
  Item::CItemType *v2; // eax@1

  v2 = Item::CItemType::GetInstance();
  return ReadStringToTypeValue(&itemInfo->m_DetailData.m_cItemType, v2->m_ItemTypeNames, 68, szValue);
}

//----- (0042A550) --------------------------------------------------------
bool __cdecl ReadTypeName(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_StringData.m_szTypeName, 32, szValue);
}

//----- (0042A570) --------------------------------------------------------
bool __cdecl ReadAbleExchangeNDrop(Item::ItemInfo *itemInfo, const char *szValue)
{
  int v2; // ecx@0
  int v3; // edi@1
  int *v4; // esi@1
  signed int v5; // ecx@1
  char v6; // zf@1
  int string; // [sp+0h] [bp-4h]@1

  string = v2;
  _snprintf((char *)&string, 2u, "%s");
  v3 = (int)"O";
  v4 = &string;
  v5 = 2;
  v6 = 1;
  do
  {
    if ( !v5 )
      break;
    v6 = *(_BYTE *)v4 == *(_BYTE *)v3;
    v4 = (int *)((char *)v4 + 1);
    ++v3;
    --v5;
  }
  while ( v6 );
  itemInfo->m_DetailData.m_bExchangeAndDrop = v6;
  return 1;
}

//----- (0042A5B0) --------------------------------------------------------
bool __cdecl ReadAbleSell(Item::ItemInfo *itemInfo, const char *szValue)
{
  int v2; // ecx@0
  int v3; // edi@1
  int *v4; // esi@1
  signed int v5; // ecx@1
  char v6; // zf@1
  int string; // [sp+0h] [bp-4h]@1

  string = v2;
  _snprintf((char *)&string, 2u, "%s");
  v3 = (int)"O";
  v4 = &string;
  v5 = 2;
  v6 = 1;
  do
  {
    if ( !v5 )
      break;
    v6 = *(_BYTE *)v4 == *(_BYTE *)v3;
    v4 = (int *)((char *)v4 + 1);
    ++v3;
    --v5;
  }
  while ( v6 );
  itemInfo->m_DetailData.m_bSell = v6;
  return 1;
}

//----- (0042A5F0) --------------------------------------------------------
bool __cdecl ReadMinDropLevel(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cMinDropLevel = atoi(szValue);
  return 1;
}

//----- (0042A610) --------------------------------------------------------
bool __cdecl ReadMaxDropLevel(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cMaxDropLevel = atoi(szValue);
  return 1;
}

//----- (0042A630) --------------------------------------------------------
bool __cdecl ReadPrice(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_dwPrice = atol(szValue);
  return 1;
}

//----- (0042A650) --------------------------------------------------------
bool __cdecl ReadOptionPrice(Item::ItemInfo *itemInfo, const char *szValue)
{
  int v2; // ecx@0
  int v3; // edi@1
  int *v4; // esi@1
  signed int v5; // ecx@1
  char v6; // zf@1
  int string; // [sp+0h] [bp-4h]@1

  string = v2;
  _snprintf((char *)&string, 2u, "%s");
  v3 = (int)"O";
  v4 = &string;
  v5 = 2;
  v6 = 1;
  do
  {
    if ( !v5 )
      break;
    v6 = *(_BYTE *)v4 == *(_BYTE *)v3;
    v4 = (int *)((char *)v4 + 1);
    ++v3;
    --v5;
  }
  while ( v6 );
  itemInfo->m_DetailData.m_bOptionPrice = v6;
  return 1;
}

//----- (0042A690) --------------------------------------------------------
bool __cdecl ReadBlackPrice(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_dwBlackPrice = atol(szValue);
  return 1;
}

//----- (0042A6B0) --------------------------------------------------------
bool __cdecl ReadMedalPrice(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_dwMedalPrice = atol(szValue);
  return 1;
}

//----- (0042A6D0) --------------------------------------------------------
bool __cdecl ReadDurability(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cDefaultDurabilityOrStack = atoi(szValue);
  return 1;
}

//----- (0042A6F0) --------------------------------------------------------
bool __cdecl ReadMaxDurability(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cMaxDurabilityOrStack = atoi(szValue);
  return 1;
}

//----- (0042A710) --------------------------------------------------------
bool __cdecl ReadClassLimit(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseLimit.m_dwClassLimit = atol(szValue);
  return 1;
}

//----- (0042A730) --------------------------------------------------------
bool __cdecl ReadLowLevel(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_wLowLimitLevel = atoi(szValue);
  return 1;
}

//----- (0042A750) --------------------------------------------------------
bool __cdecl ReadHighLevel(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_wHighLimitLevel = atoi(szValue);
  return 1;
}

//----- (0042A770) --------------------------------------------------------
bool __cdecl ReadLimitStatus(Item::ItemInfo *itemInfo, const char *szValue)
{
  Item::CItemType *v2; // eax@1

  v2 = Item::CItemType::GetInstance();
  return ReadStringToTypeValue(&itemInfo->m_UseLimit.m_cLimitStatus, v2->m_ItemLimitNames, 7, szValue);
}

//----- (0042A7A0) --------------------------------------------------------
bool __cdecl ReadLimitValue(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseLimit.m_wLimitValue = atoi(szValue);
  return 1;
}

//----- (0042A7C0) --------------------------------------------------------
bool __cdecl ReadMinDamage(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[1] = atoi(szValue);
  return 1;
}

//----- (0042A7F0) --------------------------------------------------------
bool __cdecl ReadMaxDamage(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[2] = atoi(szValue);
  return 1;
}

//----- (0042A820) --------------------------------------------------------
bool __cdecl ReadArmor(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[3] = atoi(szValue);
  return 1;
}

//----- (0042A850) --------------------------------------------------------
bool __cdecl ReadBlock(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[11] = atoi(szValue);
  return 1;
}

//----- (0042A880) --------------------------------------------------------
bool __cdecl ReadDropOption(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_wDropOption = atoi(szValue);
  return 1;
}

//----- (0042A8A0) --------------------------------------------------------
bool __cdecl ReadGrade(Item::ItemInfo *itemInfo, const char *szValue)
{
  Item::CItemType *v2; // eax@1

  v2 = Item::CItemType::GetInstance();
  return ReadStringToTypeValue(&itemInfo->m_DetailData.m_cGrade, v2->m_ItemGradeNames, 8, szValue);
}

//----- (0042A8D0) --------------------------------------------------------
bool __cdecl ReadCriticalType(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cCriticalType = atoi(szValue);
  return 1;
}

//----- (0042A8F0) --------------------------------------------------------
bool __cdecl ReadAttackRange(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cAttackRange = atoi(szValue);
  return 1;
}

//----- (0042A910) --------------------------------------------------------
bool __cdecl ReadMaxSocketNum(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_DetailData.m_cMaxSocketNum = atoi(szValue);
  return 1;
}

//----- (0042A930) --------------------------------------------------------
bool __cdecl ReadHitRate(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[4] = atoi(szValue);
  return 1;
}

//----- (0042A960) --------------------------------------------------------
bool __cdecl ReadEvade(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[5] = atoi(szValue);
  return 1;
}

//----- (0042A990) --------------------------------------------------------
bool __cdecl ReadCritical(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[10] = atoi(szValue);
  return 1;
}

//----- (0042A9C0) --------------------------------------------------------
bool __cdecl ReadMagicPower(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[13] = atoi(szValue);
  return 1;
}

//----- (0042A9F0) --------------------------------------------------------
bool __cdecl ReadMagicResist(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[14] = atoi(szValue);
  return 1;
}

//----- (0042AA20) --------------------------------------------------------
bool __cdecl ReadCoolDown(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[16] = atoi(szValue);
  return 1;
}

//----- (0042AA50) --------------------------------------------------------
bool __cdecl ReadMaxHP(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[6] = atoi(szValue);
  return 1;
}

//----- (0042AA80) --------------------------------------------------------
bool __cdecl ReadMaxMP(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[8] = atoi(szValue);
  return 1;
}

//----- (0042AAB0) --------------------------------------------------------
bool __cdecl ReadHPRegen(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[7] = atoi(szValue);
  return 1;
}

//----- (0042AAE0) --------------------------------------------------------
bool __cdecl ReadMPRegen(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[9] = atoi(szValue);
  return 1;
}

//----- (0042AB10) --------------------------------------------------------
bool __cdecl ReadSpeed(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[12] = atoi(szValue);
  return 1;
}

//----- (0042AB40) --------------------------------------------------------
bool __cdecl ReadSkillPoint(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[17] = atoi(szValue);
  return 1;
}

//----- (0042AB70) --------------------------------------------------------
bool __cdecl ReadFrost(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[18] = atoi(szValue);
  return 1;
}

//----- (0042ABA0) --------------------------------------------------------
bool __cdecl ReadFire(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[19] = atoi(szValue);
  return 1;
}

//----- (0042ABD0) --------------------------------------------------------
bool __cdecl ReadElectro(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[20] = atoi(szValue);
  return 1;
}

//----- (0042AC00) --------------------------------------------------------
bool __cdecl ReadDarkness(Item::ItemInfo *itemInfo, const char *szValue)
{
  ++itemInfo->m_EquipAttribute.m_nAttibuteNum;
  itemInfo->m_EquipAttribute.m_usAttributeValue[21] = atoi(szValue);
  return 1;
}

//----- (0042AC30) --------------------------------------------------------
bool __cdecl ReadForStatueWar(Item::ItemInfo *itemInfo, const char *szValue)
{
  int v2; // ecx@0
  int v3; // edi@1
  int *v4; // esi@1
  signed int v5; // ecx@1
  char v6; // zf@1
  int string; // [sp+0h] [bp-4h]@1

  string = v2;
  _snprintf((char *)&string, 2u, "%s");
  v3 = (int)"O";
  v4 = &string;
  v5 = 2;
  v6 = 1;
  do
  {
    if ( !v5 )
      break;
    v6 = *(_BYTE *)v4 == *(_BYTE *)v3;
    v4 = (int *)((char *)v4 + 1);
    ++v3;
    --v5;
  }
  while ( v6 );
  itemInfo->m_UseItemInfo.m_bForStatueWar = v6;
  return 1;
}

//----- (0042AC80) --------------------------------------------------------
bool __cdecl ReadLimitRealmPoint(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_cLimitRealmPoint = atoi(szValue);
  return 1;
}

//----- (0042ACA0) --------------------------------------------------------
bool __cdecl ReadSkill_ID(Item::ItemInfo *itemInfo, const char *szValue)
{
  bool result; // al@2

  if ( _mbsnbcmp(szValue, "0x", 2u) )
  {
    itemInfo->m_UseItemInfo.m_usSkill_ID = atoi(szValue);
    result = 1;
  }
  else
  {
    itemInfo->m_UseItemInfo.m_usSkill_ID = Math::Convert::StrToHex16(szValue);
    result = 1;
  }
  return result;
}

//----- (0042ACF0) --------------------------------------------------------
bool __cdecl ReadSkill_Level(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_usSkill_LockCount = atoi(szValue);
  return 1;
}

//----- (0042AD10) --------------------------------------------------------
bool __cdecl ReadZone(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_cZone = atoi(szValue);
  return 1;
}

//----- (0042AD30) --------------------------------------------------------
bool __cdecl ReadPositionX(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_Pos.m_fPointX = atof(szValue);
  return 1;
}

//----- (0042AD50) --------------------------------------------------------
bool __cdecl ReadPositionY(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_Pos.m_fPointY = atof(szValue);
  return 1;
}

//----- (0042AD70) --------------------------------------------------------
bool __cdecl ReadPositionZ(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_Pos.m_fPointZ = atof(szValue);
  return 1;
}

//----- (0042AD90) --------------------------------------------------------
bool __cdecl ReadAmount(Item::ItemInfo *itemInfo, const char *szValue)
{
  itemInfo->m_UseItemInfo.m_dwAmount = atol(szValue);
  return 1;
}

//----- (0042ADB0) --------------------------------------------------------
bool __cdecl ReadQuestID(Item::ItemInfo *itemInfo, const char *szValue)
{
  bool result; // al@2

  if ( _mbsnbcmp(szValue, "0x", 2u) )
  {
    itemInfo->m_UseItemInfo.m_wQuestID = atoi(szValue);
    result = 1;
  }
  else
  {
    itemInfo->m_UseItemInfo.m_wQuestID = Math::Convert::StrToHex16(szValue);
    result = 1;
  }
  return result;
}

//----- (0042AE00) --------------------------------------------------------
bool __cdecl ReadItemDescribe(Item::ItemInfo *itemInfo, const char *szValue)
{
  return ReadString(itemInfo->m_StringData.m_szItemDescribe, 256, szValue);
}

//----- (0042AE20) --------------------------------------------------------
void __cdecl std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(ItemDataParser::ParseData *_First, ItemDataParser::ParseData *_Last, ItemDataParser::ParseData *_Val)
{
  ItemDataParser::ParseData *i; // eax@1

  for ( i = _First; i != _Last; ++i )
  {
    i->m_szColumnName = _Val->m_szColumnName;
    i->m_fnParseFunc = _Val->m_fnParseFunc;
  }
}

//----- (0042AE50) --------------------------------------------------------
ItemDataParser::ParseData *__thiscall std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Ufill(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, ItemDataParser::ParseData *_Ptr, unsigned int _Count, ItemDataParser::ParseData *_Val)
{
  std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
    _Ptr,
    _Count,
    _Val,
    &this->baseclass_0._Alval,
    (std::_Nonscalar_ptr_iterator_tag)_Val);
  return &_Ptr[_Count];
}

//----- (0042AE80) --------------------------------------------------------
void __thiscall std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::_Insert_n(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _Where, unsigned int _Count, ItemDataParser::ParseData *_Val)
{
  bool (__cdecl *v4)(Item::ItemInfo *, const char *); // edx@1
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *v5; // esi@1
  ItemDataParser::ParseData *v6; // ecx@1
  int v7; // eax@2
  unsigned int v8; // ebx@4
  int v9; // edx@6
  int v10; // edx@11
  int v11; // eax@15
  int v12; // edx@18
  int v13; // eax@22
  void *v14; // edi@25
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v15; // ST14_4@25
  ItemDataParser::ParseData *v16; // ecx@25
  int v17; // eax@26
  int v18; // ebx@28
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v19; // eax@31
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v20; // edi@31
  bool v21; // cf@31
  unsigned int v22; // ecx@31
  unsigned int v23; // ST24_4@32
  ItemDataParser::ParseData *v24; // ST20_4@32
  int v25; // ebx@32
  ItemDataParser::ParseData *v26; // ebx@33
  std::_Nonscalar_ptr_iterator_tag v27; // [sp-10h] [bp-2Ch]@31
  int v28; // [sp-Ch] [bp-28h]@1
  ItemDataParser::ParseData _Tmp; // [sp+0h] [bp-1Ch]@1
  void *_Newvec; // [sp+8h] [bp-14h]@25
  int *v31; // [sp+Ch] [bp-10h]@1
  int v32; // [sp+18h] [bp-4h]@25
  unsigned int _Wherea; // [sp+24h] [bp+8h]@31
  int _Counta; // [sp+28h] [bp+Ch]@25
  ItemDataParser::ParseData *_Valb; // [sp+2Ch] [bp+10h]@25
  ItemDataParser::ParseData *_Vala; // [sp+2Ch] [bp+10h]@31

  v4 = _Val->m_fnParseFunc;
  v5 = this;
  _Tmp.m_szColumnName = _Val->m_szColumnName;
  v6 = this->_Myfirst;
  v31 = &v28;
  _Tmp.m_fnParseFunc = v4;
  if ( v6 )
    v7 = v5->_Myend - v6;
  else
    v7 = 0;
  v8 = _Count;
  if ( _Count )
  {
    if ( v6 )
      v9 = v5->_Mylast - v6;
    else
      v9 = 0;
    if ( 536870911 - v9 < _Count )
      std::vector<unsigned_short_std::allocator<unsigned_short>>::_Xlen((std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *)v5);
    if ( v6 )
      v10 = v5->_Mylast - v6;
    else
      v10 = 0;
    if ( v7 >= _Count + v10 )
    {
      v19 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v5->_Mylast;
      v20 = _Where;
      v21 = (signed int)((char *)v5->_Mylast - *(_DWORD *)&_Where) >> 3 < _Count;
      v22 = 8 * _Count;
      _Wherea = 8 * _Count;
      v27.dummy[0] = 8 * _Count;
      _Vala = v5->_Mylast;
      if ( v21 )
      {
        std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
          v20,
          v19,
          (ItemDataParser::ParseData *)(*(_DWORD *)&v20 + v22),
          &v5->baseclass_0._Alval,
          v27);
        v23 = _Count - ((signed int)((char *)v5->_Mylast - *(_DWORD *)&v20) >> 3);
        v24 = v5->_Mylast;
        v32 = 2;
        std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Ufill(
          v5,
          v24,
          v23,
          &_Tmp);
        v25 = (int)&v5->_Mylast[_Wherea / 8];
        v5->_Mylast = (ItemDataParser::ParseData *)v25;
        std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(
          *(ItemDataParser::ParseData **)&v20,
          (ItemDataParser::ParseData *)(v25 - _Wherea),
          &_Tmp);
      }
      else
      {
        v26 = (ItemDataParser::ParseData *)(*(_DWORD *)&v19 - v22);
        v5->_Mylast = std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
                        (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)(*(_DWORD *)&v19 - v22),
                        v19,
                        *(ItemDataParser::ParseData **)&v19,
                        &v5->baseclass_0._Alval,
                        v27);
        std::copy_backward<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>__>(
          *(ItemDataParser::ParseData **)&v20,
          v26,
          _Vala);
        std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(
          *(ItemDataParser::ParseData **)&v20,
          (ItemDataParser::ParseData *)(*(_DWORD *)&v20 + _Wherea),
          &_Tmp);
      }
    }
    else
    {
      if ( 536870911 - ((unsigned int)v7 >> 1) >= v7 )
        v11 = ((unsigned int)v7 >> 1) + v7;
      else
        v11 = 0;
      if ( v6 )
        v12 = v5->_Mylast - v6;
      else
        v12 = 0;
      if ( v11 < _Count + v12 )
      {
        if ( v6 )
          v13 = v5->_Mylast - v6;
        else
          v13 = 0;
        v11 = _Count + v13;
      }
      _Counta = 8 * v11;
      v14 = operator new(8 * v11);
      v15 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v5->_Myfirst;
      _Newvec = v14;
      v32 = 0;
      _Valb = std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
                v15,
                _Where,
                (ItemDataParser::ParseData *)v14,
                &v5->baseclass_0._Alval,
                (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
        _Valb,
        v8,
        &_Tmp,
        &v5->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
        _Where,
        (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v5->_Mylast,
        &_Valb[v8],
        &v5->baseclass_0._Alval,
        (std::_Nonscalar_ptr_iterator_tag)_Where.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v16 = v5->_Myfirst;
      if ( v16 )
        v17 = v5->_Mylast - v16;
      else
        v17 = 0;
      v18 = v17 + v8;
      if ( v16 )
        operator delete(v5->_Myfirst);
      v5->_Myend = (ItemDataParser::ParseData *)((char *)v14 + _Counta);
      v5->_Mylast = (ItemDataParser::ParseData *)((char *)v14 + 8 * v18);
      v5->_Myfirst = (ItemDataParser::ParseData *)v14;
    }
  }
}

//----- (0042B0D0) --------------------------------------------------------
void __thiscall std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::reserve(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, unsigned int _Count)
{
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *v2; // esi@1
  ItemDataParser::ParseData *v3; // ecx@3
  int v4; // ebx@3
  int v5; // eax@4
  void *v6; // eax@7
  void *v7; // edi@7
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v8; // ST04_4@7
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v9; // ST00_4@7
  ItemDataParser::ParseData *v10; // eax@7
  int v11; // [sp-Ch] [bp-20h]@1
  void *_Ptr; // [sp+0h] [bp-14h]@7
  int *v13; // [sp+4h] [bp-10h]@1
  int v14; // [sp+10h] [bp-4h]@7
  unsigned int _Counta; // [sp+1Ch] [bp+8h]@7

  v13 = &v11;
  v2 = this;
  if ( _Count > 0x1FFFFFFF )
    std::vector<unsigned_short_std::allocator<unsigned_short>>::_Xlen((std::vector<Item::ItemInfo,std::allocator<Item::ItemInfo> > *)this);
  v3 = this->_Myfirst;
  v4 = 0;
  if ( v3 )
    v5 = v2->_Myend - v3;
  else
    v5 = 0;
  if ( v5 < _Count )
  {
    _Counta = 8 * _Count;
    v6 = operator new(_Counta);
    v7 = v6;
    v8 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v2->_Mylast;
    v9 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v2->_Myfirst;
    _Ptr = v6;
    v14 = 0;
    std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
      v9,
      v8,
      (ItemDataParser::ParseData *)v6,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Counta);
    v10 = v2->_Myfirst;
    if ( v10 )
      v4 = v2->_Mylast - v10;
    if ( v10 )
      operator delete(v2->_Myfirst);
    v2->_Myend = (ItemDataParser::ParseData *)((char *)v7 + _Counta);
    v2->_Mylast = (ItemDataParser::ParseData *)((char *)v7 + 8 * v4);
    v2->_Myfirst = (ItemDataParser::ParseData *)v7;
  }
}

//----- (0042B1A0) --------------------------------------------------------
void __thiscall std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *this, ItemDataParser::ParseData *_Val)
{
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *v2; // esi@1
  ItemDataParser::ParseData *v3; // edx@1
  signed int v4; // ecx@2
  ItemDataParser::ParseData *v5; // edi@6

  v2 = this;
  v3 = this->_Myfirst;
  if ( v3 )
    v4 = this->_Mylast - v3;
  else
    v4 = 0;
  if ( v3 && v4 < v2->_Myend - v3 )
  {
    v5 = v2->_Mylast;
    std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
      v2->_Mylast,
      1u,
      _Val,
      &v2->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Val);
    v2->_Mylast = v5 + 1;
  }
  else
  {
    std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::_Insert_n(
      v2,
      (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)v2->_Mylast,
      1u,
      _Val);
  }
}

//----- (0042B210) --------------------------------------------------------
bool __cdecl ItemDataParser::SetDefaultData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray)
{
  ItemDataParser::ParseData _Val; // [sp+8h] [bp-8h]@1

  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::reserve(parseDataArray, 0x28u);
  _Val.m_szColumnName = "ID";
  _Val.m_fnParseFunc = ReadID;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "ItemName";
  _Val.m_fnParseFunc = ReadItemName;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "FieldModelName";
  _Val.m_fnParseFunc = ReadFieldModelName;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "AttachedModelName";
  _Val.m_fnParseFunc = ReadAttachedModelName;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "SpriteDDS";
  _Val.m_fnParseFunc = ReadSpriteDDS;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MinX";
  _Val.m_fnParseFunc = ReadMinX;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MinY";
  _Val.m_fnParseFunc = ReadMinY;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxX";
  _Val.m_fnParseFunc = ReadMaxX;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxY";
  _Val.m_fnParseFunc = ReadMaxY;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "SizeX";
  _Val.m_fnParseFunc = ReadSizeX;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "SizeY";
  _Val.m_fnParseFunc = ReadSizeY;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "EffectSound";
  _Val.m_fnParseFunc = ReadEffectSound;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "ItemType";
  _Val.m_fnParseFunc = ReadItemType;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "TypeName";
  _Val.m_fnParseFunc = ReadTypeName;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "AbleExchangeNDrop";
  _Val.m_fnParseFunc = ReadAbleExchangeNDrop;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "AbleSell";
  _Val.m_fnParseFunc = ReadAbleSell;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MinDropLevel";
  _Val.m_fnParseFunc = ReadMinDropLevel;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxDropLevel";
  _Val.m_fnParseFunc = ReadMaxDropLevel;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Price";
  _Val.m_fnParseFunc = ReadPrice;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "OptionPrice";
  _Val.m_fnParseFunc = ReadOptionPrice;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "BlackPrice";
  _Val.m_fnParseFunc = ReadBlackPrice;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MedalPrice";
  _Val.m_fnParseFunc = ReadMedalPrice;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "ClassLimit";
  _Val.m_fnParseFunc = ReadClassLimit;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "LimitStat";
  _Val.m_fnParseFunc = ReadLimitStatus;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Limit";
  _Val.m_fnParseFunc = ReadLimitValue;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Durability";
  _Val.m_fnParseFunc = ReadDurability;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "LowLevel";
  _Val.m_fnParseFunc = ReadLowLevel;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "HighLevel";
  _Val.m_fnParseFunc = ReadHighLevel;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxDurability";
  _Val.m_fnParseFunc = ReadMaxDurability;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  return 1;
}

//----- (0042B560) --------------------------------------------------------
bool __cdecl ItemDataParser::SetEquipData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray)
{
  ItemDataParser::ParseData _Val; // [sp+4h] [bp-8h]@1

  _Val.m_szColumnName = "MinDamage";
  _Val.m_fnParseFunc = ReadMinDamage;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxDamage";
  _Val.m_fnParseFunc = ReadMaxDamage;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Defence";
  _Val.m_fnParseFunc = ReadArmor;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Block";
  _Val.m_fnParseFunc = ReadBlock;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "DropOption";
  _Val.m_fnParseFunc = ReadDropOption;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Grade";
  _Val.m_fnParseFunc = ReadGrade;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "CriticalType";
  _Val.m_fnParseFunc = ReadCriticalType;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "AttackRange";
  _Val.m_fnParseFunc = ReadAttackRange;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxSocketNum";
  _Val.m_fnParseFunc = ReadMaxSocketNum;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  return 1;
}

//----- (0042B670) --------------------------------------------------------
bool __cdecl ItemDataParser::SetAccessoryData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray)
{
  ItemDataParser::ParseData _Val; // [sp+8h] [bp-8h]@1

  _Val.m_szColumnName = "MinDamage";
  _Val.m_fnParseFunc = ReadMinDamage;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxDamage";
  _Val.m_fnParseFunc = ReadMaxDamage;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Defence";
  _Val.m_fnParseFunc = ReadArmor;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Block";
  _Val.m_fnParseFunc = ReadBlock;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "DropOption";
  _Val.m_fnParseFunc = ReadDropOption;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Grade";
  _Val.m_fnParseFunc = ReadGrade;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "CriticalType";
  _Val.m_fnParseFunc = ReadCritical;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "AttackRange";
  _Val.m_fnParseFunc = ReadHitRate;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxSocketNum";
  _Val.m_fnParseFunc = ReadMagicPower;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MagicResist";
  _Val.m_fnParseFunc = ReadMagicResist;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Evade";
  _Val.m_fnParseFunc = ReadEvade;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "CoolDown";
  _Val.m_fnParseFunc = ReadCoolDown;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxHP";
  _Val.m_fnParseFunc = ReadMaxHP;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxMP";
  _Val.m_fnParseFunc = ReadMaxMP;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "HPRegen";
  _Val.m_fnParseFunc = ReadHPRegen;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MPRegen";
  _Val.m_fnParseFunc = ReadMPRegen;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Speed";
  _Val.m_fnParseFunc = ReadSpeed;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "SkillPoint";
  _Val.m_fnParseFunc = ReadSkillPoint;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Frost";
  _Val.m_fnParseFunc = ReadFrost;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Fire";
  _Val.m_fnParseFunc = ReadFire;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Electro";
  _Val.m_fnParseFunc = ReadElectro;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Darkness";
  _Val.m_fnParseFunc = ReadDarkness;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  return 1;
}

//----- (0042B8F0) --------------------------------------------------------
bool __cdecl ItemDataParser::SetUseItemData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray)
{
  ItemDataParser::ParseData _Val; // [sp+4h] [bp-8h]@1

  _Val.m_szColumnName = "MinDamage";
  _Val.m_fnParseFunc = ReadForStatueWar;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxDamage";
  _Val.m_fnParseFunc = ReadLimitRealmPoint;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Defence";
  _Val.m_fnParseFunc = ReadSkill_ID;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Block";
  _Val.m_fnParseFunc = ReadSkill_Level;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "DropOption";
  _Val.m_fnParseFunc = ReadZone;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Grade";
  _Val.m_fnParseFunc = ReadPositionX;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "CriticalType";
  _Val.m_fnParseFunc = ReadPositionY;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "AttackRange";
  _Val.m_fnParseFunc = ReadPositionZ;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MaxSocketNum";
  _Val.m_fnParseFunc = ReadAmount;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "MagicResist";
  _Val.m_fnParseFunc = ReadQuestID;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  _Val.m_szColumnName = "Evade";
  _Val.m_fnParseFunc = ReadItemDescribe;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(parseDataArray, &_Val);
  return 1;
}

//----- (0042BA40) --------------------------------------------------------
bool __cdecl ItemDataParser::SetEtcItemData(std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *parseDataArray)
{
  int v2; // [sp+0h] [bp-8h]@1
  bool (__cdecl *v3)(Item::ItemInfo *, const char *); // [sp+4h] [bp-4h]@1

  v2 = (int)"MinDamage";
  v3 = ReadItemDescribe;
  std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::push_back(
    parseDataArray,
    (ItemDataParser::ParseData *)&v2);
  return 1;
}

//----- (0042BA70) --------------------------------------------------------
int __usercall get_byte<eax>(gz_stream *s<esi>)
{
  int result; // eax@2
  unsigned int v2; // eax@4
  _iobuf *v3; // edx@5

  if ( s->z_eof )
    return -1;
  if ( s->stream.avail_in )
    goto LABEL_8;
  *_errno() = 0;
  v2 = fread(s->inbuf, 1u, 0x4000u, s->file);
  s->stream.avail_in = v2;
  if ( v2 )
  {
    s->stream.next_in = s->inbuf;
LABEL_8:
    --s->stream.avail_in;
    return *s->stream.next_in++;
  }
  v3 = s->file;
  s->z_eof = 1;
  result = -1;
  if ( v3->_flag & 0x20 )
    s->z_err = -1;
  return result;
}

//----- (0042BAE0) --------------------------------------------------------
void __usercall check_header(gz_stream *s<eax>)
{
  unsigned int v1; // edi@1
  gz_stream *v2; // esi@1
  signed int v3; // eax@3
  unsigned int v4; // eax@5
  _iobuf *v5; // edx@6
  unsigned __int8 v6; // cl@10
  signed int v7; // edi@14
  int v8; // ecx@16
  int v9; // eax@18
  unsigned int v10; // eax@21
  _iobuf *v11; // ecx@22
  unsigned __int8 v12; // cl@26
  char v13; // bl@28
  unsigned int v14; // eax@30
  _iobuf *v15; // edx@31
  char v16; // cl@35
  signed int v17; // edi@38
  unsigned int v18; // eax@41
  _iobuf *v19; // eax@42
  int v20; // eax@45
  int v21; // edi@48
  int v22; // edi@48
  int v23; // edx@49
  unsigned int v24; // eax@52
  char *v25; // eax@54
  char v26; // cl@54
  _iobuf *v27; // eax@56
  unsigned int v28; // eax@61
  char *v29; // eax@63
  char v30; // cl@63
  _iobuf *v31; // ecx@66
  unsigned int v32; // eax@71
  char *v33; // eax@73
  char v34; // cl@73
  _iobuf *v35; // edx@76
  signed int v36; // edi@79
  unsigned int v37; // eax@82
  _iobuf *v38; // edx@83
  int v39; // eax@86

  v1 = 0;
  v2 = s;
  do
  {
    if ( v2->z_eof )
    {
      v3 = -1;
      goto LABEL_11;
    }
    if ( v2->stream.avail_in )
      goto LABEL_10;
    *_errno() = 0;
    v4 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
    v2->stream.avail_in = v4;
    if ( v4 )
    {
      v2->stream.next_in = v2->inbuf;
LABEL_10:
      --v2->stream.avail_in;
      v6 = *v2->stream.next_in++;
      v3 = v6;
      goto LABEL_11;
    }
    v5 = v2->file;
    v2->z_eof = 1;
    if ( v5->_flag & 0x20 )
      v2->z_err = -1;
    v3 = -1;
LABEL_11:
    if ( v3 != gz_magic[v1] )
    {
      if ( v1 )
      {
        v8 = (int)(v2->stream.next_in - 1);
        ++v2->stream.avail_in;
        v2->stream.next_in = (char *)v8;
      }
      if ( v3 != -1 )
      {
        v9 = (int)(v2->stream.next_in - 1);
        ++v2->stream.avail_in;
        v2->stream.next_in = (char *)v9;
        v2->transparent = 1;
      }
      v2->z_err = v2->stream.avail_in == 0;
      return;
    }
    ++v1;
  }
  while ( v1 < 2 );
  if ( v2->z_eof )
  {
    v7 = -1;
    goto LABEL_27;
  }
  if ( v2->stream.avail_in )
    goto LABEL_26;
  *_errno() = 0;
  v10 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
  v2->stream.avail_in = v10;
  if ( v10 )
  {
    v2->stream.next_in = v2->inbuf;
LABEL_26:
    --v2->stream.avail_in;
    v12 = *v2->stream.next_in++;
    v7 = v12;
    goto LABEL_27;
  }
  v11 = v2->file;
  v2->z_eof = 1;
  if ( v11->_flag & 0x20 )
    v2->z_err = -1;
  v7 = -1;
LABEL_27:
  if ( v2->z_eof )
  {
    v13 = -1;
    goto LABEL_36;
  }
  if ( v2->stream.avail_in )
  {
LABEL_35:
    --v2->stream.avail_in;
    v16 = *v2->stream.next_in++;
    v13 = v16;
    goto LABEL_36;
  }
  *_errno() = 0;
  v14 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
  v2->stream.avail_in = v14;
  if ( v14 )
  {
    v2->stream.next_in = v2->inbuf;
    goto LABEL_35;
  }
  v15 = v2->file;
  v2->z_eof = 1;
  if ( v15->_flag & 0x20 )
    v2->z_err = -1;
  v13 = -1;
LABEL_36:
  if ( v7 != 8 || v13 & 0xE0 )
  {
    v2->z_err = -3;
    return;
  }
  v17 = 6;
  while ( 2 )
  {
    if ( !v2->z_eof )
    {
      if ( !v2->stream.avail_in )
      {
        *_errno() = 0;
        v18 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
        v2->stream.avail_in = v18;
        if ( !v18 )
        {
          v19 = v2->file;
          v2->z_eof = 1;
          if ( v19->_flag & 0x20 )
            v2->z_err = -1;
          goto LABEL_46;
        }
        v2->stream.next_in = v2->inbuf;
      }
      v20 = (int)(v2->stream.next_in + 1);
      --v2->stream.avail_in;
      v2->stream.next_in = (char *)v20;
    }
LABEL_46:
    --v17;
    if ( v17 )
      continue;
    break;
  }
  if ( v13 & 4 )
  {
    v21 = get_byte(v2);
    v22 = (get_byte(v2) << 8) + v21;
    do
    {
      v23 = v22--;
      if ( !v23 )
        break;
      if ( v2->z_eof )
        break;
      if ( !v2->stream.avail_in )
      {
        *_errno() = 0;
        v24 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
        v2->stream.avail_in = v24;
        if ( !v24 )
        {
          v27 = v2->file;
          v2->z_eof = 1;
          if ( v27->_flag & 0x20 )
            v2->z_err = -1;
          break;
        }
        v2->stream.next_in = v2->inbuf;
      }
      v25 = v2->stream.next_in;
      --v2->stream.avail_in;
      v26 = *v25;
      v2->stream.next_in = v25 + 1;
    }
    while ( v26 != -1 );
  }
  if ( v13 & 8 )
  {
    while ( !v2->z_eof )
    {
      if ( !v2->stream.avail_in )
      {
        *_errno() = 0;
        v28 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
        v2->stream.avail_in = v28;
        if ( !v28 )
        {
          v31 = v2->file;
          v2->z_eof = 1;
          if ( v31->_flag & 0x20 )
            v2->z_err = -1;
          break;
        }
        v2->stream.next_in = v2->inbuf;
      }
      v29 = v2->stream.next_in;
      --v2->stream.avail_in;
      v30 = *v29;
      v2->stream.next_in = v29 + 1;
      if ( !v30 || v30 == -1 )
        break;
    }
  }
  if ( v13 & 0x10 )
  {
    while ( !v2->z_eof )
    {
      if ( !v2->stream.avail_in )
      {
        *_errno() = 0;
        v32 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
        v2->stream.avail_in = v32;
        if ( !v32 )
        {
          v35 = v2->file;
          v2->z_eof = 1;
          if ( v35->_flag & 0x20 )
            v2->z_err = -1;
          break;
        }
        v2->stream.next_in = v2->inbuf;
      }
      v33 = v2->stream.next_in;
      --v2->stream.avail_in;
      v34 = *v33;
      v2->stream.next_in = v33 + 1;
      if ( !v34 || v34 == -1 )
        break;
    }
  }
  if ( v13 & 2 )
  {
    v36 = 2;
    do
    {
      if ( !v2->z_eof )
      {
        if ( !v2->stream.avail_in )
        {
          *_errno() = 0;
          v37 = fread(v2->inbuf, 1u, 0x4000u, v2->file);
          v2->stream.avail_in = v37;
          if ( !v37 )
          {
            v38 = v2->file;
            v2->z_eof = 1;
            if ( v38->_flag & 0x20 )
              v2->z_err = -1;
            goto LABEL_87;
          }
          v2->stream.next_in = v2->inbuf;
        }
        v39 = (int)(v2->stream.next_in + 1);
        --v2->stream.avail_in;
        v2->stream.next_in = (char *)v39;
      }
LABEL_87:
      --v36;
    }
    while ( v36 );
  }
  v2->z_err = v2->z_eof != 0 ? 0xFFFFFFFD : 0;
}

//----- (0042BEC0) --------------------------------------------------------
int __usercall destroy<eax>(gz_stream *s<esi>)
{
  signed int v1; // edi@1
  char v3; // al@6
  int v4; // eax@7

  v1 = 0;
  if ( !s )
    return -2;
  if ( s->msg )
    free(s->msg);
  if ( s->stream.state )
  {
    v3 = s->mode;
    if ( v3 == 119 )
    {
      v4 = deflateEnd(&s->stream);
    }
    else
    {
      if ( v3 != 114 )
        goto LABEL_11;
      v4 = inflateEnd(&s->stream);
    }
    v1 = v4;
  }
LABEL_11:
  if ( s->file && fclose(s->file) && *_errno() != 29 )
    v1 = -1;
  if ( s->z_err < 0 )
    v1 = s->z_err;
  if ( s->inbuf )
    free(s->inbuf);
  if ( s->outbuf )
    free(s->outbuf);
  if ( s->path )
    free(s->path);
  free(s);
  return v1;
}

//----- (0042BF70) --------------------------------------------------------
int __cdecl gzwrite(void *file, void *const buf, unsigned int len)
{
  const void *v3; // eax@5
  _iobuf *v4; // ST0C_4@5
  int v5; // eax@7
  unsigned int v6; // eax@11
  int v7; // ecx@11

  if ( !file || *((_BYTE *)file + 92) != 119 )
    return -2;
  *(_DWORD *)file = buf;
  *((_DWORD *)file + 1) = len;
  if ( !len )
    goto LABEL_11;
  while ( 1 )
  {
    if ( *((_DWORD *)file + 4) )
      goto LABEL_7;
    v3 = (const void *)*((_DWORD *)file + 18);
    v4 = (_iobuf *)*((_DWORD *)file + 16);
    *((_DWORD *)file + 3) = v3;
    if ( fwrite(v3, 1u, 0x4000u, v4) != 16384 )
      break;
    *((_DWORD *)file + 4) = 16384;
LABEL_7:
    v5 = deflate((z_stream_s *)file, 0);
    *((_DWORD *)file + 14) = v5;
    if ( v5 || !*((_DWORD *)file + 1) )
      goto LABEL_11;
  }
  *((_DWORD *)file + 14) = -1;
LABEL_11:
  v6 = crc32(*((_DWORD *)file + 19), (const char *)buf, len);
  v7 = *((_DWORD *)file + 1);
  *((_DWORD *)file + 19) = v6;
  return len - v7;
}

//----- (0042C010) --------------------------------------------------------
int __usercall do_flush<eax>(void *file<eax>, int flush)
{
  void *v2; // esi@1
  signed int v3; // ebx@1
  int v4; // eax@4
  unsigned int v5; // edi@4
  int v6; // eax@8
  int v7; // eax@15
  int result; // eax@17

  v2 = file;
  v3 = 0;
  if ( file && *((_BYTE *)file + 92) == 119 )
  {
    *((_DWORD *)file + 1) = 0;
    while ( 1 )
    {
      v4 = *((_DWORD *)v2 + 4);
      v5 = 16384 - v4;
      if ( 16384 != v4 )
      {
        if ( fwrite(*((const void **)v2 + 18), 1u, v5, *((_iobuf **)v2 + 16)) != v5 )
        {
          result = -1;
          *((_DWORD *)v2 + 14) = -1;
          return result;
        }
        *((_DWORD *)v2 + 3) = *((_DWORD *)v2 + 18);
        *((_DWORD *)v2 + 4) = 16384;
      }
      if ( !v3 )
      {
        v6 = deflate((z_stream_s *)v2, flush);
        *((_DWORD *)v2 + 14) = v6;
        if ( !v5 && v6 == -5 )
          *((_DWORD *)v2 + 14) = 0;
        v3 = *((_DWORD *)v2 + 4) || *((_DWORD *)v2 + 14) == 1 ? 1 : 0;
        v7 = *((_DWORD *)v2 + 14);
        if ( !v7 )
          continue;
        if ( v7 == 1 )
          continue;
      }
      return *((_DWORD *)v2 + 14) != 1 ? *((_DWORD *)v2 + 14) : 0;
    }
  }
  return -2;
}

//----- (0042C0D0) --------------------------------------------------------
void __usercall putLong(_iobuf *file<ebx>, unsigned int x<eax>)
{
  unsigned int v2; // esi@1
  signed int v3; // edi@1

  v2 = x;
  v3 = 4;
  do
  {
    fputc((unsigned __int8)v2, file);
    v2 >>= 8;
    --v3;
  }
  while ( v3 );
}

//----- (0042C100) --------------------------------------------------------
int __cdecl gzclose(void *file)
{
  int result; // eax@2

  if ( file )
  {
    if ( *((_BYTE *)file + 92) == 119 )
    {
      if ( !do_flush(file, 4) )
      {
        putLong(*((_iobuf **)file + 16), *((_DWORD *)file + 19));
        putLong(*((_iobuf **)file + 16), *((_DWORD *)file + 2));
      }
    }
    result = destroy((gz_stream *)file);
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0042C150) --------------------------------------------------------
void *__cdecl gz_open(const char *path, const char *mode, int fd)
{
  const char *v3; // eax@1
  int v4; // ebp@1
  const char *v5; // edi@1
  void *v6; // eax@3
  void *v7; // esi@3
  void *v8; // eax@4
  const char *v9; // ecx@5
  void *v10; // edx@5
  char v11; // al@6
  const char v12; // al@13
  char v13; // al@23
  int v14; // edi@25
  void *v15; // eax@25
  void *result; // eax@28
  void *v17; // eax@29
  _iobuf *v18; // eax@32
  unsigned int *m; // [sp+Ch] [bp-58h]@1
  char fmode[80]; // [sp+10h] [bp-54h]@1
  unsigned int cookie; // [sp+60h] [bp-4h]@22
  int modea; // [sp+6Ch] [bp+8h]@1

  m = (unsigned int *)fmode;
  v3 = mode;
  v4 = -1;
  modea = 0;
  v5 = v3;
  if ( path && v3 )
  {
    v6 = malloc(0x64u);
    v7 = v6;
    if ( !v6 )
      return 0;
    *((_DWORD *)v6 + 8) = 0;
    *((_DWORD *)v6 + 9) = 0;
    *((_DWORD *)v6 + 10) = 0;
    *((_DWORD *)v6 + 17) = 0;
    *(_DWORD *)v6 = 0;
    *((_DWORD *)v6 + 18) = 0;
    *((_DWORD *)v6 + 3) = 0;
    *((_DWORD *)v6 + 4) = 0;
    *((_DWORD *)v6 + 1) = 0;
    *((_DWORD *)v6 + 16) = 0;
    *((_DWORD *)v6 + 14) = 0;
    *((_DWORD *)v6 + 15) = 0;
    *((_DWORD *)v6 + 19) = crc32(0, 0, 0);
    *((_DWORD *)v7 + 20) = 0;
    *((_DWORD *)v7 + 22) = 0;
    v8 = malloc(strlen(path) + 1);
    *((_DWORD *)v7 + 21) = v8;
    if ( !v8 )
      goto LABEL_27;
    v9 = path;
    v10 = v8;
    do
    {
      v11 = *v9++;
      *(_BYTE *)v10 = v11;
      v10 = (char *)v10 + 1;
    }
    while ( v11 );
    *((_BYTE *)v7 + 92) = 0;
    do
    {
      if ( *v5 == 114 )
        *((_BYTE *)v7 + 92) = 114;
      if ( *v5 == 119 || *v5 == 97 )
        *((_BYTE *)v7 + 92) = 119;
      v12 = *v5;
      if ( *v5 < 48 || v12 > 57 )
      {
        if ( v12 == 102 )
        {
          modea = 1;
        }
        else
        {
          if ( v12 == 104 )
          {
            modea = 2;
          }
          else
          {
            *(_BYTE *)m = v12;
            m = (unsigned int *)((char *)m + 1);
          }
        }
      }
      else
      {
        v4 = v12 - 48;
      }
      ++v5;
    }
    while ( v12 && m != &cookie );
    v13 = *((_BYTE *)v7 + 92);
    if ( !v13 )
    {
LABEL_27:
      destroy((gz_stream *)v7);
      return 0;
    }
    if ( v13 == 119 )
    {
      v14 = deflateInit2_((z_stream_s *)v7, v4, 8, -15, 8, modea, "1.1.4", 56);
      v15 = malloc(0x4000u);
      *((_DWORD *)v7 + 18) = v15;
      *((_DWORD *)v7 + 3) = v15;
      if ( v14 || !v15 )
        goto LABEL_27;
    }
    else
    {
      v17 = malloc(0x4000u);
      *((_DWORD *)v7 + 17) = v17;
      *(_DWORD *)v7 = v17;
      if ( inflateInit2_((z_stream_s *)v7, -15, "1.1.4", 56) || !*((_DWORD *)v7 + 17) )
        goto LABEL_27;
    }
    *((_DWORD *)v7 + 4) = 16384;
    *_errno() = 0;
    if ( fd >= 0 )
      v18 = _fdopen(fd, fmode);
    else
      v18 = fopen(path, fmode);
    *((_DWORD *)v7 + 16) = v18;
    if ( !v18 )
      goto LABEL_27;
    if ( *((_BYTE *)v7 + 92) == 119 )
    {
      fprintf(v18, "%c%c%c%c%c%c%c%c%c%c");
      *((_DWORD *)v7 + 24) = 10;
      result = v7;
    }
    else
    {
      check_header((gz_stream *)v7);
      *((_DWORD *)v7 + 24) = ftell(*((_iobuf **)v7 + 16)) - *((_DWORD *)v7 + 1);
      result = v7;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042C3C0) --------------------------------------------------------
void *__cdecl gzopen(const char *path, const char *mode)
{
  return gz_open(path, mode, -1);
}

//----- (0042C3E0) --------------------------------------------------------
void __thiscall CSkillMgr::CSkillMgr(CSkillMgr *this)
{
  CSingleton<CSkillMgr>::ms_pSingleton = (int)this;
  *(_DWORD *)&this->___u0.baseclass_0.dummy[0] = 0;
  this->m_nSkillNum = 0;
  this->m_dwCRC32 = 0;
}
// 4C4258: using guessed type int CSingleton_CSkillMgr___ms_pSingleton;

//----- (0042C400) --------------------------------------------------------
void __thiscall CSkillMgr::_CSkillMgr(CSkillMgr *this)
{
  CSkillMgr *v1; // esi@1

  v1 = this;
  if ( *(_DWORD *)&this->___u0.baseclass_0.dummy[0] )
  {
    operator delete__(*(void **)&this->___u0.baseclass_0.dummy[0]);
    *(_DWORD *)&v1->___u0.baseclass_0.dummy[0] = 0;
  }
  CSingleton<CSkillMgr>::ms_pSingleton = 0;
}
// 4C4258: using guessed type int CSingleton_CSkillMgr___ms_pSingleton;

//----- (0042C430) --------------------------------------------------------
void __thiscall Item::CNullItem::_CNullItem(Item::CUseItem *this)
{
  this->baseclass_0.vfptr = (Item::CItemVtbl *)Item::CNullItem::_vftable_;
  CSingleton<Item::CNullItem>::ms_pSingleton = 0;
  Item::CItem::_CItem(this);
}
// 45C98C: using guessed type int (__stdcall *Item__CNullItem___vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut);
// 4C498C: using guessed type int CSingleton_Item__CNullItem___ms_pSingleton;

//----- (0042C450) --------------------------------------------------------
int __thiscall Item::CNullItem::CNullItem(Item::CItem *this, Item::ItemInfo *itemInfo)
{
  int v2; // esi@1

  v2 = (int)this;
  Item::CItem::CItem(this, itemInfo);
  CSingleton<Item::CNullItem>::ms_pSingleton = v2;
  *(_DWORD *)v2 = Item::CNullItem::_vftable_;
  return v2;
}
// 45C98C: using guessed type int (__stdcall *Item__CNullItem___vftable_[2])(int lpSerializeItem_Out, int nBufferLength_InOut);
// 4C498C: using guessed type int CSingleton_Item__CNullItem___ms_pSingleton;

//----- (0042C470) --------------------------------------------------------
void *__thiscall Item::CNullItem::_vector_deleting_destructor_(unsigned int this)
{
  void *v1; // esi@1
  char v3; // [sp+8h] [bp+4h]@0

  v1 = (void *)this;
  Item::CNullItem::_CNullItem((Item::CUseItem *)this);
  if ( v3 & 1 )
    operator delete(v1);
  return v1;
}

//----- (0042C490) --------------------------------------------------------
void __usercall putShortMSB(internal_state *s<eax>, unsigned int b<ecx>)
{
  char *v2; // esi@1
  int v3; // edx@1

  s->pending_buf[s->pending] = BYTE1(b);
  v2 = s->pending_buf;
  v3 = s->pending + 1;
  s->pending = v3;
  v2[v3] = b;
  ++s->pending;
}

//----- (0042C4C0) --------------------------------------------------------
void __usercall flush_pending(z_stream_s *strm<eax>)
{
  internal_state *v1; // esi@1
  unsigned int v2; // edx@1
  internal_state *v3; // ecx@4
  unsigned int v4; // edi@4
  internal_state *v5; // ecx@4
  internal_state *v6; // eax@4

  v1 = strm->state;
  v2 = v1->pending;
  if ( v2 > strm->avail_out )
    v2 = strm->avail_out;
  if ( v2 )
  {
    memcpy(strm->next_out, v1->pending_out, v2);
    v3 = strm->state;
    strm->next_out += v2;
    v3->pending_out += v2;
    v4 = strm->avail_out;
    v5 = strm->state;
    strm->total_out += v2;
    strm->avail_out = v4 - v2;
    v5->pending -= v2;
    v6 = strm->state;
    if ( !v6->pending )
      v6->pending_out = v6->pending_buf;
  }
}

//----- (0042C530) --------------------------------------------------------
int __cdecl deflate(z_stream_s *strm, int flush)
{
  z_stream_s *v2; // ebx@1
  internal_state *v3; // esi@2
  int v4; // eax@8
  int result; // eax@11
  int v6; // ecx@12
  int v7; // eax@13
  int v8; // ecx@15
  internal_state *v9; // eax@18
  int v10; // eax@28
  unsigned int v11; // ecx@28
  block_state v12; // eax@35
  void *v13; // edi@44
  unsigned int v14; // edx@44
  int v15; // edi@44
  int i; // ecx@44
  internal_state *v17; // eax@51
  int v18; // ecx@51
  int strma; // [sp+10h] [bp+4h]@12

  v2 = strm;
  if ( !strm || (v3 = strm->state) == 0 || flush > 4 || flush < 0 )
    return -2;
  if ( !strm->next_out || !strm->next_in && strm->avail_in || (v4 = v3->status, v4 == 666) && flush != 4 )
  {
    strm->msg = off_46D75C[0];
    return -2;
  }
  if ( !strm->avail_out )
  {
    strm->msg = off_46D768[0];
    return -5;
  }
  v6 = v3->last_flush;
  v3->strm = strm;
  strma = v6;
  v3->last_flush = flush;
  if ( v4 == 42 )
  {
    v7 = (v3->level - 1) >> 1;
    if ( (unsigned int)v7 > 3 )
      v7 = 3;
    v8 = (v7 << 6) | (((v3->w_bits - 8) << 12) + 2048);
    if ( v3->strstart )
      v8 |= 0x20u;
    v3->status = 113;
    putShortMSB(v3, v8 - v8 % 0x1Fu + 31);
    if ( v3->strstart )
    {
      putShortMSB(v3, HIWORD(v2->adler));
      putShortMSB(v9, v2->adler & 0xFFFF);
    }
    v2->adler = 1;
  }
  if ( v3->pending )
  {
    flush_pending(v2);
    if ( !v2->avail_out )
    {
LABEL_22:
      v3->last_flush = -1;
      return 0;
    }
  }
  else
  {
    if ( !v2->avail_in && flush <= strma && flush != 4 )
    {
      v2->msg = off_46D768[0];
      return -5;
    }
  }
  v10 = v3->status;
  v11 = v2->avail_in;
  if ( v10 == 666 )
  {
    if ( v11 )
    {
      v2->msg = off_46D768[0];
      return -5;
    }
LABEL_32:
    if ( !v3->lookahead && (!flush || v10 == 666) )
      goto LABEL_48;
    goto LABEL_35;
  }
  if ( !v11 )
    goto LABEL_32;
LABEL_35:
  v12 = configuration_table[v3->level].func(v3, flush);
  if ( v12 == 2 || v12 == 3 )
    v3->status = 666;
  if ( !v12 || v12 == 2 )
  {
    if ( v2->avail_out )
      return 0;
    v3->last_flush = -1;
    return 0;
  }
  if ( v12 == 1 )
  {
    if ( flush == 1 )
    {
      _tr_align(v3);
    }
    else
    {
      _tr_stored_block(v3, 0, 0, 0);
      if ( flush == 3 )
      {
        v3->head[v3->hash_size - 1] = 0;
        v13 = v3->head;
        v14 = 2 * v3->hash_size - 2;
        memset(v13, 0, 4 * (v14 >> 2));
        v15 = (int)((char *)v13 + 4 * (v14 >> 2));
        for ( i = v14 & 3; i; --i )
          *(_BYTE *)v15++ = 0;
      }
    }
    flush_pending(v2);
    if ( !v2->avail_out )
      goto LABEL_22;
  }
LABEL_48:
  if ( flush != 4 )
    return 0;
  if ( v3->noheader )
  {
    result = 1;
  }
  else
  {
    putShortMSB(v3, HIWORD(v2->adler));
    putShortMSB(v17, v2->adler & 0xFFFF);
    flush_pending(v2);
    v18 = v3->pending;
    v3->noheader = -1;
    result = v18 == 0;
  }
  return result;
}
// 46D75C: using guessed type char *off_46D75C[5];
// 46D768: using guessed type char *off_46D768[2];

//----- (0042C7C0) --------------------------------------------------------
int __cdecl deflateEnd(z_stream_s *strm)
{
  internal_state *v1; // eax@2
  int v2; // edi@3
  int result; // eax@6
  void *v4; // eax@7
  internal_state *v5; // ecx@9
  internal_state *v6; // edx@13

  if ( strm && (v1 = strm->state) != 0 )
  {
    v2 = v1->status;
    if ( v2 == 42 || v2 == 113 || v2 == 666 )
    {
      v4 = v1->pending_buf;
      if ( v4 )
        strm->zfree(strm->opaque, v4);
      v5 = strm->state;
      if ( v5->head )
        strm->zfree(strm->opaque, v5->head);
      if ( strm->state->prev )
        strm->zfree(strm->opaque, strm->state->prev);
      v6 = strm->state;
      if ( v6->window )
        strm->zfree(strm->opaque, v6->window);
      strm->zfree(strm->opaque, strm->state);
      strm->state = 0;
      result = ((v2 != 113) - 1) & 0xFFFFFFFD;
    }
    else
    {
      result = -2;
    }
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0042C880) --------------------------------------------------------
void __usercall lm_init(internal_state *s<edx>)
{
  unsigned int v1; // ecx@1
  unsigned int v2; // ebx@1
  void *v3; // edi@1
  int v4; // edi@1
  int i; // ecx@1
  int v6; // eax@4

  v1 = s->hash_size;
  s->window_size = 2 * s->w_size;
  s->head[v1 - 1] = 0;
  v2 = 2 * s->hash_size - 2;
  v3 = s->head;
  memset(v3, 0, 4 * (v2 >> 2));
  v4 = (int)((char *)v3 + 4 * (v2 >> 2));
  for ( i = v2 & 3; i; --i )
    *(_BYTE *)v4++ = 0;
  v6 = s->level;
  s->max_lazy_match = configuration_table[v6].max_lazy;
  s->good_match = configuration_table[v6].good_length;
  s->nice_match = configuration_table[v6].nice_length;
  s->max_chain_length = configuration_table[v6].max_chain;
  s->strstart = 0;
  s->block_start = 0;
  s->lookahead = 0;
  s->match_available = 0;
  s->ins_h = 0;
  s->prev_length = 2;
  s->match_length = 2;
}

//----- (0042C910) --------------------------------------------------------
unsigned int __usercall longest_match<eax>(internal_state *s<esi>, unsigned int cur_match<eax>)
{
  unsigned int v2; // edx@1
  unsigned int v3; // ebp@1
  unsigned int v4; // edi@1
  int v5; // ecx@1
  int v6; // edi@4
  char *v7; // edx@8
  char v8; // bl@11
  int v9; // edx@11
  int v10; // ecx@12
  int v11; // edx@12
  char v12; // bl@13
  int v13; // edx@13
  char v14; // bl@14
  int v15; // edx@14
  char v16; // bl@15
  int v17; // edx@15
  char v18; // bl@16
  int v19; // edx@16
  char v20; // bl@17
  int v21; // edx@17
  char v22; // bl@18
  int v23; // edx@18
  char v24; // bl@19
  int v25; // edx@19
  char v26; // bl@20
  int v27; // edx@22
  unsigned int result; // eax@27
  char scan_end1; // [sp+Eh] [bp-12h]@4
  char scan_end; // [sp+Fh] [bp-11h]@4
  unsigned int chain_length; // [sp+10h] [bp-10h]@1
  unsigned int nice_match; // [sp+14h] [bp-Ch]@1
  unsigned int limit; // [sp+18h] [bp-8h]@2
  unsigned int v34; // [sp+1Ch] [bp-4h]@6

  v2 = s->strstart;
  v3 = s->prev_length;
  chain_length = s->max_chain_length;
  nice_match = s->nice_match;
  v4 = s->w_size;
  v5 = (int)&s->window[v2];
  if ( v2 <= v4 - 262 )
    limit = 0;
  else
    limit = v2 - v4 + 262;
  scan_end1 = *(_BYTE *)(v5 + v3 - 1);
  scan_end = *(_BYTE *)(v5 + v3);
  v6 = v5 + 258;
  if ( v3 >= s->good_match )
    chain_length >>= 2;
  v34 = s->lookahead;
  if ( nice_match > s->lookahead )
    nice_match = s->lookahead;
  do
  {
    v7 = &s->window[cur_match];
    if ( v7[v3] == scan_end )
    {
      if ( v7[v3 - 1] == scan_end1 )
      {
        if ( *v7 == *(_BYTE *)v5 )
        {
          v8 = v7[1];
          v9 = (int)(v7 + 1);
          if ( v8 == *(_BYTE *)(v5 + 1) )
          {
            v10 = v5 + 2;
            v11 = v9 + 1;
            do
            {
              v12 = *(_BYTE *)(v10++ + 1);
              v13 = v11 + 1;
              if ( v12 != *(_BYTE *)v13 )
                break;
              v14 = *(_BYTE *)(v10++ + 1);
              v15 = v13 + 1;
              if ( v14 != *(_BYTE *)v15 )
                break;
              v16 = *(_BYTE *)(v10++ + 1);
              v17 = v15 + 1;
              if ( v16 != *(_BYTE *)v17 )
                break;
              v18 = *(_BYTE *)(v10++ + 1);
              v19 = v17 + 1;
              if ( v18 != *(_BYTE *)v19 )
                break;
              v20 = *(_BYTE *)(v10++ + 1);
              v21 = v19 + 1;
              if ( v20 != *(_BYTE *)v21 )
                break;
              v22 = *(_BYTE *)(v10++ + 1);
              v23 = v21 + 1;
              if ( v22 != *(_BYTE *)v23 )
                break;
              v24 = *(_BYTE *)(v10++ + 1);
              v25 = v23 + 1;
              if ( v24 != *(_BYTE *)v25 )
                break;
              v26 = *(_BYTE *)(v10++ + 1);
              v11 = v25 + 1;
              if ( v26 != *(_BYTE *)v11 )
                break;
            }
            while ( v10 < (unsigned int)v6 );
            v27 = v10 - v6 + 258;
            v5 = v6 - 258;
            if ( v27 > (signed int)v3 )
            {
              s->match_start = cur_match;
              v3 = v27;
              if ( v27 >= (signed int)nice_match )
                break;
              scan_end1 = *(_BYTE *)(v27 + v5 - 1);
              scan_end = *(_BYTE *)(v27 + v5);
            }
          }
        }
      }
    }
    cur_match = s->prev[cur_match & s->w_mask];
    if ( cur_match <= limit )
      break;
    --chain_length;
  }
  while ( chain_length );
  result = v34;
  if ( v3 <= v34 )
    result = v3;
  return result;
}

//----- (0042CA80) --------------------------------------------------------
void __usercall fill_window(internal_state *s<ebx>)
{
  unsigned int v1; // eax@1
  unsigned int v2; // ecx@2
  unsigned int v3; // esi@2
  unsigned int v4; // edx@2
  unsigned int v5; // esi@9
  int v6; // ecx@9
  unsigned int v7; // edi@9
  unsigned __int16 *v8; // ecx@9
  int v9; // esi@9
  int v10; // ecx@10
  __int16 v11; // cx@11
  unsigned int v12; // edi@14
  unsigned __int16 *v13; // esi@14
  int v14; // ecx@15
  unsigned __int16 v15; // cx@16
  z_stream_s *v16; // ebp@20
  void *v17; // edi@21
  unsigned int v18; // esi@21
  unsigned int v19; // ecx@24
  internal_state *v20; // edx@25
  int v21; // edx@27
  unsigned int v22; // edi@28
  char *v23; // esi@29
  unsigned int v24; // edx@29
  unsigned int v25; // ecx@29
  unsigned int v26; // [sp+Ch] [bp-8h]@21
  unsigned int wsize; // [sp+10h] [bp-4h]@1

  v1 = s->w_size;
  wsize = s->w_size;
  do
  {
    v2 = s->strstart;
    v3 = s->lookahead;
    v4 = s->window_size - v2 - v3;
    if ( s->window_size - v2 == v3 )
    {
      if ( !v2 && !v3 )
      {
        v4 = v1;
        goto LABEL_20;
      }
    }
    else
    {
      if ( v4 == -1 )
      {
        v4 = -2;
        goto LABEL_20;
      }
    }
    if ( v2 >= v1 + s->w_size - 262 )
    {
      memcpy(s->window, &s->window[v1], v1);
      v5 = s->strstart - v1;
      v6 = s->block_start - v1;
      s->match_start -= v1;
      v7 = s->hash_size;
      s->block_start = v6;
      v8 = s->head;
      s->strstart = v5;
      v9 = (int)&v8[v7];
      do
      {
        v10 = *(_WORD *)(v9 - 2);
        v9 -= 2;
        if ( v10 < v1 )
          v11 = 0;
        else
          v11 = v10 - v1;
        --v7;
        *(_WORD *)v9 = v11;
      }
      while ( v7 );
      v12 = v1;
      v13 = &s->prev[v1];
      do
      {
        v14 = *(v13 - 1);
        --v13;
        if ( v14 < v1 )
          v15 = 0;
        else
          v15 = v14 - v1;
        --v12;
        *v13 = v15;
      }
      while ( v12 );
      v4 += v1;
    }
LABEL_20:
    v16 = s->strm;
    if ( !s->strm->avail_in )
      break;
    v17 = &s->window[s->strstart] + s->lookahead;
    v18 = v16->avail_in;
    v26 = v16->avail_in;
    if ( v18 > v4 )
    {
      v26 = v4;
      v18 = v4;
    }
    if ( v18 )
    {
      v20 = v16->state;
      v16->avail_in -= v18;
      if ( !v20->noheader )
      {
        v16->adler = adler32(v16->adler, v16->next_in, v18);
        v1 = wsize;
      }
      memcpy(v17, v16->next_in, v18);
      v19 = v26;
      v21 = v26 + v16->total_in;
      v16->next_in += v26;
      v16->total_in = v21;
    }
    else
    {
      v19 = 0;
    }
    v22 = v19 + s->lookahead;
    s->lookahead = v22;
    if ( v22 >= 3 )
    {
      v23 = &s->window[s->strstart];
      v24 = (unsigned __int8)*v23;
      v25 = s->hash_shift;
      s->ins_h = v24;
      s->ins_h = s->hash_mask & ((unsigned __int8)v23[1] ^ (v24 << v25));
    }
  }
  while ( v22 < 0x106 && s->strm->avail_in );
}

//----- (0042CC10) --------------------------------------------------------
block_state __cdecl deflate_stored(internal_state *s, int flush)
{
  unsigned int v2; // eax@3
  unsigned int v3; // ecx@5
  bool v4; // zf@5
  int v5; // ecx@5
  unsigned int v6; // edx@5
  unsigned int v7; // eax@5
  char *v8; // edx@8
  z_stream_s *v9; // eax@10
  internal_state *v10; // esi@10
  unsigned int v11; // edx@10
  internal_state *v12; // ecx@13
  unsigned int v13; // edi@13
  internal_state *v14; // ecx@13
  internal_state *v15; // eax@13
  int v16; // edx@16
  unsigned int v17; // ecx@16
  char *v18; // eax@18
  z_stream_s *v19; // eax@20
  internal_state *v20; // esi@20
  unsigned int v21; // edx@20
  internal_state *v22; // ecx@23
  unsigned int v23; // edi@23
  internal_state *v24; // ecx@23
  internal_state *v25; // eax@23
  block_state result; // eax@26
  int v27; // esi@28
  char *v28; // eax@29
  unsigned int max_block_size; // [sp+10h] [bp-4h]@1

  max_block_size = 65535;
  if ( s->pending_buf_size - 5 < 0xFFFF )
    max_block_size = s->pending_buf_size - 5;
  while ( 1 )
  {
    v2 = s->lookahead;
    if ( v2 <= 1 )
    {
      fill_window(s);
      v2 = s->lookahead;
      if ( !v2 )
        break;
    }
    v3 = s->strstart;
    v4 = v2 + v3 == 0;
    s->strstart = v2 + v3;
    v5 = s->block_start;
    v6 = s->strstart;
    s->lookahead = 0;
    v7 = v5 + max_block_size;
    if ( !v4 && v6 < v7 )
      goto LABEL_36;
    s->lookahead = v6 - v7;
    s->strstart = v7;
    if ( v5 < 0 )
      v8 = 0;
    else
      v8 = &s->window[v5];
    _tr_flush_block(s, v8, max_block_size, 0);
    v9 = s->strm;
    s->block_start = s->strstart;
    v10 = v9->state;
    v11 = v10->pending;
    if ( v11 > v9->avail_out )
      v11 = v9->avail_out;
    if ( v11 )
    {
      memcpy(v9->next_out, v10->pending_out, v11);
      v12 = v9->state;
      v9->next_out += v11;
      v12->pending_out += v11;
      v13 = v9->avail_out;
      v14 = v9->state;
      v9->total_out += v11;
      v9->avail_out = v13 - v11;
      v14->pending -= v11;
      v15 = v9->state;
      if ( !v15->pending )
        v15->pending_out = v15->pending_buf;
    }
    if ( s->strm->avail_out )
    {
LABEL_36:
      v16 = s->block_start;
      v17 = s->strstart - v16;
      if ( v17 < s->w_size - 262 )
        continue;
      if ( v16 < 0 )
        v18 = 0;
      else
        v18 = &s->window[v16];
      _tr_flush_block(s, v18, v17, 0);
      v19 = s->strm;
      s->block_start = s->strstart;
      v20 = v19->state;
      v21 = v20->pending;
      if ( v21 > v19->avail_out )
        v21 = v19->avail_out;
      if ( v21 )
      {
        memcpy(v19->next_out, v20->pending_out, v21);
        v22 = v19->state;
        v19->next_out += v21;
        v22->pending_out += v21;
        v23 = v19->avail_out;
        v24 = v19->state;
        v19->total_out += v21;
        v19->avail_out = v23 - v21;
        v24->pending -= v21;
        v25 = v19->state;
        if ( !v25->pending )
          v25->pending_out = v25->pending_buf;
      }
      if ( s->strm->avail_out )
        continue;
    }
    return 0;
  }
  if ( !flush )
    return 0;
  v27 = s->block_start;
  if ( v27 < 0 )
    v28 = 0;
  else
    v28 = &s->window[v27];
  _tr_flush_block(s, v28, s->strstart - v27, flush == 4);
  s->block_start = s->strstart;
  flush_pending(s->strm);
  if ( s->strm->avail_out )
    result = 2 * (flush == 4) + 1;
  else
    result = ((flush != 4) - 1) & 2;
  return result;
}

//----- (0042CE20) --------------------------------------------------------
block_state __cdecl deflate_fast(internal_state *s, int flush)
{
  unsigned int v2; // edi@1
  unsigned int v3; // eax@2
  unsigned int v4; // edx@7
  unsigned __int16 *v5; // ecx@7
  unsigned int v6; // eax@7
  unsigned int v7; // eax@12
  unsigned __int16 v8; // ax@13
  char v9; // cl@13
  unsigned __int16 v10; // ax@13
  int v11; // eax@14
  unsigned int v12; // edx@16
  int v13; // esi@16
  unsigned int v14; // eax@16
  unsigned int v15; // ecx@16
  char *v16; // ecx@19
  unsigned int v17; // edi@19
  unsigned int v18; // edx@19
  int v19; // eax@19
  unsigned __int16 *v20; // ecx@19
  unsigned int v21; // eax@19
  unsigned int v22; // eax@19
  unsigned int v23; // ecx@21
  char *v24; // edx@21
  unsigned int v25; // ecx@21
  unsigned int v26; // eax@21
  char v27; // al@22
  int v28; // edx@22
  int v29; // ecx@25
  char *v30; // eax@26
  z_stream_s *v31; // eax@28
  internal_state *v32; // esi@28
  unsigned int v33; // edx@28
  internal_state *v34; // ecx@31
  unsigned int v35; // ebp@31
  internal_state *v36; // ecx@31
  internal_state *v37; // eax@31
  block_state result; // eax@34
  int v39; // esi@35
  char *v40; // eax@36
  unsigned int hash_head; // [sp+10h] [bp-4h]@1

  v2 = 0;
  hash_head = 0;
  while ( 1 )
  {
    v3 = s->lookahead;
    if ( v3 < 0x106 )
    {
      fill_window(s);
      v3 = s->lookahead;
      if ( v3 < 0x106 && !flush )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = s->strstart;
      v5 = s->head;
      v6 = s->hash_mask & (s->window[v4 + 2] ^ (s->ins_h << s->hash_shift));
      s->ins_h = v6;
      v2 = v5[v6];
      s->prev[v4 & s->w_mask] = v2;
      hash_head = v2;
      s->head[s->ins_h] = LOWORD(s->strstart);
    }
    if ( v2 && s->strstart - v2 <= s->w_size - 262 && s->strategy != 2 )
      s->match_length = longest_match(s, v2);
    v7 = s->match_length;
    if ( v7 < 3 )
    {
      v27 = s->window[s->strstart];
      s->d_buf[s->last_lit] = 0;
      s->l_buf[s->last_lit++] = v27;
      ++s->dyn_ltree[(unsigned __int8)v27].fc.freq;
      v28 = s->last_lit == s->lit_bufsize - 1;
      --s->lookahead;
      v13 = v28;
    }
    else
    {
      v8 = LOWORD(s->strstart) - LOWORD(s->match_start);
      v9 = s->match_length - 3;
      s->d_buf[s->last_lit] = v8;
      s->l_buf[s->last_lit++] = v9;
      v10 = v8 - 1;
      ++s->dyn_ltree[(unsigned __int8)_length_code[(unsigned __int8)v9] + 257].fc.freq;
      if ( v10 >= 0x100u )
        v11 = (unsigned __int8)byte_45D820[(unsigned int)v10 >> 7];
      else
        v11 = (unsigned __int8)_dist_code[v10];
      ++s->dyn_dtree[v11].fc.freq;
      v12 = s->max_lazy_match;
      v13 = s->last_lit == s->lit_bufsize - 1;
      v14 = s->match_length;
      v15 = s->lookahead - v14;
      s->lookahead = v15;
      if ( v14 > v12 || v15 < 3 )
      {
        v23 = v14 + s->strstart;
        v24 = &s->window[v23];
        s->strstart = v23;
        v25 = s->hash_shift;
        s->match_length = 0;
        v26 = (unsigned __int8)*v24;
        s->ins_h = v26;
        s->ins_h = s->hash_mask & ((unsigned __int8)v24[1] ^ (v26 << v25));
        goto LABEL_24;
      }
      s->match_length = v14 - 1;
      do
      {
        v16 = s->window;
        v17 = s->ins_h;
        v18 = s->strstart + 1;
        s->strstart = v18;
        v19 = (unsigned __int8)v16[v18 + 2];
        v20 = s->head;
        v21 = s->hash_mask & ((v17 << s->hash_shift) ^ v19);
        s->ins_h = v21;
        v2 = v20[v21];
        s->prev[s->w_mask & v18] = v2;
        s->head[s->ins_h] = LOWORD(s->strstart);
        v22 = s->match_length - 1;
        hash_head = v2;
        s->match_length = v22;
      }
      while ( v22 );
    }
    ++s->strstart;
LABEL_24:
    if ( v13 )
    {
      v29 = s->block_start;
      if ( v29 < 0 )
        v30 = 0;
      else
        v30 = &s->window[v29];
      _tr_flush_block(s, v30, s->strstart - v29, 0);
      s->block_start = s->strstart;
      v31 = s->strm;
      v32 = s->strm->state;
      v33 = v32->pending;
      if ( v33 > s->strm->avail_out )
        v33 = s->strm->avail_out;
      if ( v33 )
      {
        memcpy(v31->next_out, v32->pending_out, v33);
        v34 = v31->state;
        v31->next_out += v33;
        v34->pending_out += v33;
        v35 = v31->total_out;
        v36 = v31->state;
        v31->avail_out -= v33;
        v2 = hash_head;
        v31->total_out = v33 + v35;
        v36->pending -= v33;
        v37 = v31->state;
        if ( !v37->pending )
          v37->pending_out = v37->pending_buf;
      }
      if ( !s->strm->avail_out )
        return 0;
    }
  }
  v39 = s->block_start;
  if ( v39 < 0 )
    v40 = 0;
  else
    v40 = &s->window[v39];
  _tr_flush_block(s, v40, s->strstart - v39, flush == 4);
  s->block_start = s->strstart;
  flush_pending(s->strm);
  if ( s->strm->avail_out )
    result = 2 * (flush == 4) + 1;
  else
    result = ((flush != 4) - 1) & 2;
  return result;
}

//----- (0042D190) --------------------------------------------------------
block_state __cdecl deflate_slow(internal_state *s, int flush)
{
  unsigned int v2; // ebp@1
  unsigned int v3; // eax@2
  unsigned int v4; // edx@7
  unsigned __int16 *v5; // ecx@7
  unsigned int v6; // eax@7
  unsigned int v7; // edx@8
  unsigned int v8; // eax@8
  unsigned int v9; // eax@13
  unsigned int v10; // eax@18
  unsigned int v11; // edx@20
  unsigned int v12; // edi@20
  char v13; // cl@20
  unsigned __int16 v14; // ax@20
  unsigned __int16 v15; // ax@20
  int v16; // eax@21
  unsigned int v17; // eax@23
  int v18; // ebx@23
  unsigned int v19; // edx@24
  unsigned __int16 *v20; // ecx@25
  unsigned int v21; // eax@25
  unsigned int v22; // ecx@27
  int v23; // edx@28
  char *v24; // eax@29
  z_stream_s *v25; // eax@31
  bool v26; // zf@31
  block_state result; // eax@33
  char v28; // al@35
  int v29; // ecx@36
  char *v30; // eax@37
  unsigned int v31; // edx@40
  z_stream_s *v32; // ecx@40
  unsigned int v33; // ecx@41
  unsigned int v34; // eax@41
  char v35; // al@43
  int v36; // ecx@44
  char *v37; // eax@45

  v2 = 0;
  while ( 1 )
  {
    v3 = s->lookahead;
    if ( v3 < 0x106 )
    {
      fill_window(s);
      v3 = s->lookahead;
      if ( v3 < 0x106 && !flush )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = s->strstart;
      v5 = s->head;
      v6 = s->hash_mask & (s->window[v4 + 2] ^ (s->ins_h << s->hash_shift));
      s->ins_h = v6;
      v2 = v5[v6];
      s->prev[v4 & s->w_mask] = v2;
      s->head[s->ins_h] = LOWORD(s->strstart);
    }
    v7 = s->match_length;
    v8 = s->match_start;
    s->prev_length = v7;
    s->prev_match = v8;
    s->match_length = 2;
    if ( v2 && v7 < s->max_lazy_match && s->strstart - v2 <= s->w_size - 262 )
    {
      if ( s->strategy != 2 )
        s->match_length = longest_match(s, v2);
      v9 = s->match_length;
      if ( v9 <= 5 && (s->strategy == 1 || v9 == 3 && s->strstart - s->match_start > 0x1000) )
        s->match_length = 2;
    }
    v10 = s->prev_length;
    if ( v10 < 3 || s->match_length > v10 )
    {
      if ( s->match_available )
      {
        v28 = s->window[s->strstart - 1];
        s->d_buf[s->last_lit] = 0;
        s->l_buf[s->last_lit++] = v28;
        ++s->dyn_ltree[(unsigned __int8)v28].fc.freq;
        if ( s->last_lit == s->lit_bufsize - 1 )
        {
          v29 = s->block_start;
          if ( v29 < 0 )
            v30 = 0;
          else
            v30 = &s->window[v29];
          _tr_flush_block(s, v30, s->strstart - v29, 0);
          s->block_start = s->strstart;
          flush_pending(s->strm);
        }
        v31 = s->strstart + 1;
        --s->lookahead;
        v32 = s->strm;
        s->strstart = v31;
        v26 = v32->avail_out == 0;
        goto LABEL_32;
      }
      v33 = s->strstart + 1;
      v34 = s->lookahead - 1;
      s->match_available = 1;
      s->strstart = v33;
      s->lookahead = v34;
    }
    else
    {
      v11 = s->strstart;
      v12 = v11 + s->lookahead - 3;
      v13 = LOBYTE(s->prev_length) - 3;
      v14 = v11 - LOWORD(s->prev_match) - 1;
      s->d_buf[s->last_lit] = v14;
      s->l_buf[s->last_lit++] = v13;
      v15 = v14 - 1;
      ++s->dyn_ltree[(unsigned __int8)_length_code[(unsigned __int8)v13] + 257].fc.freq;
      if ( v15 >= 0x100u )
        v16 = (unsigned __int8)byte_45D820[(unsigned int)v15 >> 7];
      else
        v16 = (unsigned __int8)_dist_code[v15];
      ++s->dyn_dtree[v16].fc.freq;
      v17 = s->prev_length;
      v18 = s->last_lit == s->lit_bufsize - 1;
      s->lookahead += 1 - v17;
      s->prev_length = v17 - 2;
      do
      {
        v19 = s->strstart + 1;
        s->strstart = v19;
        if ( v19 <= v12 )
        {
          v20 = s->head;
          v21 = s->hash_mask & (s->window[v19 + 2] ^ (s->ins_h << s->hash_shift));
          s->ins_h = v21;
          v2 = v20[v21];
          s->prev[v19 & s->w_mask] = v2;
          s->head[s->ins_h] = LOWORD(s->strstart);
        }
        v26 = s->prev_length-- == 1;
      }
      while ( !v26 );
      v22 = s->strstart + 1;
      s->match_available = 0;
      s->match_length = 2;
      s->strstart = v22;
      if ( v18 )
      {
        v23 = s->block_start;
        if ( v23 < 0 )
          v24 = 0;
        else
          v24 = &s->window[v23];
        _tr_flush_block(s, v24, v22 - v23, 0);
        v25 = s->strm;
        s->block_start = s->strstart;
        flush_pending(v25);
        v26 = s->strm->avail_out == 0;
LABEL_32:
        if ( v26 )
          return 0;
      }
    }
  }
  if ( s->match_available )
  {
    v35 = s->window[s->strstart - 1];
    s->d_buf[s->last_lit] = 0;
    s->l_buf[s->last_lit++] = v35;
    ++s->dyn_ltree[(unsigned __int8)v35].fc.freq;
    s->match_available = 0;
  }
  v36 = s->block_start;
  if ( v36 < 0 )
    v37 = 0;
  else
    v37 = &s->window[v36];
  _tr_flush_block(s, v37, s->strstart - v36, flush == 4);
  s->block_start = s->strstart;
  flush_pending(s->strm);
  if ( s->strm->avail_out )
    result = 2 * (flush == 4) + 1;
  else
    result = ((flush != 4) - 1) & 2;
  return result;
}

//----- (0042D580) --------------------------------------------------------
int __cdecl deflateReset(z_stream_s *strm)
{
  internal_state *v1; // esi@2
  bool v2; // sf@5
  int result; // eax@7

  if ( strm && (v1 = strm->state) != 0 && strm->zalloc && strm->zfree )
  {
    strm->total_out = 0;
    strm->total_in = 0;
    strm->msg = 0;
    strm->data_type = 2;
    v1->pending_out = v1->pending_buf;
    v2 = v1->noheader < 0;
    v1->pending = 0;
    if ( v2 )
      v1->noheader = 0;
    v1->status = v1->noheader != 0 ? 113 : 42;
    strm->adler = 1;
    v1->last_flush = 0;
    _tr_init(v1);
    lm_init(v1);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0042D600) --------------------------------------------------------
int __cdecl deflateInit2_(z_stream_s *strm, int level, int method, int windowBits, int memLevel, int strategy, const char *version, int stream_size)
{
  signed int v8; // ebp@1
  int result; // eax@5
  bool v10; // zf@6
  int v11; // ecx@10
  int v12; // ebx@12
  void *v13; // eax@23
  void *v14; // esi@23
  void *v15; // eax@24
  unsigned int v16; // edx@24
  void *v17; // eax@24
  unsigned int v18; // ecx@24
  unsigned int v19; // eax@24
  void *v20; // eax@24
  unsigned int v21; // ecx@24
  int v22; // edx@24

  v8 = 0;
  if ( version && *version == *my_version && stream_size == 56 )
  {
    if ( !strm )
      return -2;
    v10 = strm->zalloc == 0;
    strm->msg = 0;
    if ( v10 )
    {
      strm->zalloc = zcalloc;
      strm->opaque = 0;
    }
    if ( !strm->zfree )
      strm->zfree = zcfree;
    v11 = level;
    if ( level == -1 )
    {
      level = 6;
      v11 = 6;
    }
    v12 = windowBits;
    if ( windowBits < 0 )
    {
      v8 = 1;
      v12 = -windowBits;
    }
    if ( memLevel < 1
      || memLevel > 9
      || method != 8
      || v12 < 9
      || v12 > 15
      || v11 < 0
      || v11 > 9
      || strategy < 0
      || strategy > 2 )
      return -2;
    v13 = strm->zalloc(strm->opaque, 1u, 5816u);
    v14 = v13;
    if ( v13 )
    {
      strm->state = (internal_state *)v13;
      *((_DWORD *)v13 + 6) = v8;
      *((_DWORD *)v13 + 10) = v12;
      *((_DWORD *)v13 + 11) = (1 << v12) - 1;
      *((_DWORD *)v13 + 18) = memLevel + 7;
      *((_DWORD *)v13 + 17) = 1 << (memLevel + 7);
      *((_DWORD *)v13 + 19) = (1 << (memLevel + 7)) - 1;
      *(_DWORD *)v13 = strm;
      *((_DWORD *)v13 + 9) = 1 << v12;
      *((_DWORD *)v13 + 20) = (memLevel + 9) / 3u;
      v15 = strm->zalloc(strm->opaque, 1 << v12, 2u);
      v16 = *((_DWORD *)v14 + 9);
      *((_DWORD *)v14 + 12) = v15;
      v17 = strm->zalloc(strm->opaque, v16, 2u);
      v18 = *((_DWORD *)v14 + 17);
      *((_DWORD *)v14 + 14) = v17;
      *((_DWORD *)v14 + 15) = strm->zalloc(strm->opaque, v18, 2u);
      v19 = 1 << (memLevel + 6);
      *((_DWORD *)v14 + 1445) = v19;
      v20 = strm->zalloc(strm->opaque, v19, 4u);
      v21 = *((_DWORD *)v14 + 1445);
      *((_DWORD *)v14 + 3) = 4 * v21;
      v22 = *((_DWORD *)v14 + 12);
      *((_DWORD *)v14 + 2) = v20;
      if ( v22 && *((_DWORD *)v14 + 14) && *((_DWORD *)v14 + 15) && v20 )
      {
        *((_DWORD *)v14 + 1447) = (char *)v20 + 2 * (v21 >> 1);
        *((_DWORD *)v14 + 1444) = (char *)v20 + 2 * v21 + v21;
        *((_DWORD *)v14 + 31) = level;
        *((_DWORD *)v14 + 32) = strategy;
        *((_BYTE *)v14 + 29) = 8;
        return deflateReset(strm);
      }
      strm->msg = off_46D764[0];
      deflateEnd(strm);
    }
    result = -4;
  }
  else
  {
    result = -6;
  }
  return result;
}
// 46D764: using guessed type char *off_46D764[3];

//----- (0042D7F0) --------------------------------------------------------
int __cdecl inflateReset(z_stream_s *z)
{
  internal_state *v1; // ecx@2
  int result; // eax@3

  if ( z && (v1 = z->state) != 0 )
  {
    z->total_out = 0;
    z->total_in = 0;
    z->msg = 0;
    v1->strm = (z_stream_s *)(v1->pending_buf_size != 0 ? 7 : 0);
    inflate_blocks_reset((inflate_blocks_state *)z->state->pending, z, 0);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0042D840) --------------------------------------------------------
int __cdecl inflateEnd(z_stream_s *z)
{
  internal_state *v1; // eax@2
  inflate_blocks_state *v2; // eax@4
  int result; // eax@6

  if ( z && (v1 = z->state) != 0 && z->zfree )
  {
    v2 = (inflate_blocks_state *)v1->pending;
    if ( v2 )
      inflate_blocks_free(v2, z);
    z->zfree(z->opaque, z->state);
    z->state = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0042D890) --------------------------------------------------------
int __cdecl inflateInit2_(z_stream_s *z, int w, const char *version, int stream_size)
{
  bool v4; // zf@5
  void *v5; // eax@9
  int v6; // ecx@10

  if ( !version || *version != 49 || stream_size != 56 )
    return -6;
  if ( !z )
    return -2;
  v4 = z->zalloc == 0;
  z->msg = 0;
  if ( v4 )
  {
    z->zalloc = zcalloc;
    z->opaque = 0;
  }
  if ( !z->zfree )
    z->zfree = zcfree;
  v5 = z->zalloc(z->opaque, 1u, 24u);
  z->state = (internal_state *)v5;
  if ( !v5 )
    return -4;
  *((_DWORD *)v5 + 5) = 0;
  z->state->pending_buf_size = 0;
  v6 = w;
  if ( w < 0 )
  {
    v6 = -w;
    z->state->pending_buf_size = 1;
  }
  if ( v6 < 8 || v6 > 15 )
  {
    inflateEnd(z);
    return -2;
  }
  z->state->pending_out = (char *)v6;
  z->state->pending = (int)inflate_blocks_new(
                             z,
                             (unsigned int (__cdecl *)(unsigned int, const char *, unsigned int))((unsigned int)adler32 & ((z->state->pending_buf_size != 0) - 1)),
                             1 << v6);
  if ( !z->state->pending )
  {
    inflateEnd(z);
    return -4;
  }
  inflateReset(z);
  return 0;
}

//----- (0042D990) --------------------------------------------------------
unsigned int __cdecl crc32(unsigned int crc, const char *buf, unsigned int len)
{
  const char *v3; // ecx@1
  unsigned int result; // eax@2
  unsigned int v5; // edi@3
  unsigned int v6; // esi@3
  unsigned int v7; // ebp@4
  const char v8; // dl@5
  unsigned int v9; // eax@5
  int v10; // ecx@5
  const unsigned int v11; // esi@5
  char v12; // dl@5
  int v13; // eax@5
  const unsigned int v14; // esi@5
  char v15; // dl@5
  int v16; // eax@5
  const unsigned int v17; // esi@5
  char v18; // dl@5
  unsigned int v19; // eax@5
  char v20; // dl@5
  unsigned int v21; // eax@5
  char v22; // dl@5
  unsigned int v23; // eax@5
  const unsigned int v24; // eax@5

  v3 = buf;
  if ( buf )
  {
    v5 = len;
    v6 = ~crc;
    if ( len >= 8 )
    {
      v7 = len >> 3;
      do
      {
        v5 -= 8;
        v8 = v3[1];
        v9 = crc_table[(unsigned __int8)(v6 ^ *v3)] ^ (v6 >> 8);
        v10 = (int)(v3 + 1);
        v11 = crc_table[(unsigned __int8)(v9 ^ v8)];
        v12 = *(_BYTE *)(v10 + 1);
        v13 = v11 ^ (v9 >> 8);
        ++v10;
        v14 = crc_table[(unsigned __int8)(v13 ^ v12)];
        v15 = *(_BYTE *)(v10 + 1);
        v16 = v14 ^ ((unsigned int)v13 >> 8);
        ++v10;
        v17 = crc_table[(unsigned __int8)(v16 ^ v15)];
        v18 = *(_BYTE *)(v10++ + 1);
        v19 = crc_table[(unsigned __int8)(v17 ^ BYTE1(v16) ^ v18)] ^ ((v17 ^ ((unsigned int)v16 >> 8)) >> 8);
        v20 = *(_BYTE *)(v10++ + 1);
        v21 = crc_table[(unsigned __int8)(v19 ^ v20)] ^ (v19 >> 8);
        v22 = *(_BYTE *)(v10++ + 1);
        v23 = crc_table[(unsigned __int8)(v21 ^ v22)] ^ (v21 >> 8);
        v24 = crc_table[(unsigned __int8)(v23 ^ *(_BYTE *)(v10 + 1))] ^ (v23 >> 8);
        v3 = (const char *)(v10 + 2);
        --v7;
        v6 = v24;
      }
      while ( v7 );
    }
    for ( ; v5; --v5 )
      v6 = crc_table[(unsigned __int8)(v6 ^ *v3++)] ^ (v6 >> 8);
    result = ~v6;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042DAC0) --------------------------------------------------------
void *__cdecl zcalloc(void *opaque, unsigned int items, unsigned int size)
{
  return calloc(items, size);
}

//----- (0042DAE0) --------------------------------------------------------
void __cdecl zcfree(void *opaque, void *ptr)
{
  free(ptr);
}

//----- (0042DAF0) --------------------------------------------------------
void __thiscall Skill::ProtoType::Initialize(Skill::ProtoType *this)
{
  Skill::ProtoType *v1; // esi@1

  v1 = this;
  this->m_eSkillType = 0;
  this->m_eUseLimit = 0;
  this->m_eTargetType = 0;
  LODWORD(this->m_fEffectExtent) = 0;
  LODWORD(this->m_fMaxRange) = 0;
  LODWORD(this->m_fMinRange) = 0;
  this->m_bIsClassSkill = 0;
  this->m_bGauge = 0;
  this->m_bProtection = 0;
  this->m_bInterrupt = 0;
  this->m_bCounter = 0;
  this->m_cEndCoolDown = 0;
  this->m_cEndScript = 0;
  this->m_cStrikeNum = 0;
  this->m_usChildSkill = 0;
  this->m_usParentSkill = 0;
  this->m_LevelTick = 0;
  this->m_StartTick = 0;
  this->m_LockMP = 0;
  this->m_LevelMP = 0;
  this->m_StartMP = 0;
  this->m_usSkill_ID = 0;
  this->m_dwCoolDownTime = 0;
  Item::SpriteData::Initialize(&this->m_SpriteInfo);
  *(_WORD *)&v1->m_StatusLimitType[0] = 0;
  *(_WORD *)&v1->m_StatusLimitValue[0] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[0] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[4] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[8] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[12] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[16] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[20] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[24] = 0;
  *(_DWORD *)&v1->m_szEffectFileName[28] = 0;
  *(_DWORD *)&v1->m_szHitFileName[0] = 0;
  *(_DWORD *)&v1->m_szHitFileName[4] = 0;
  *(_DWORD *)&v1->m_szHitFileName[8] = 0;
  *(_DWORD *)&v1->m_szHitFileName[12] = 0;
  *(_DWORD *)&v1->m_szHitFileName[16] = 0;
  *(_DWORD *)&v1->m_szHitFileName[20] = 0;
  *(_DWORD *)&v1->m_szHitFileName[24] = 0;
  *(_DWORD *)&v1->m_szHitFileName[28] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[0] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[4] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[8] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[12] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[16] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[20] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[24] = 0;
  *(_DWORD *)&v1->m_szCastingFileName[28] = 0;
  memset(v1->m_szSkillDescribe, 0, sizeof(v1->m_szSkillDescribe));
}

//----- (0042DC00) --------------------------------------------------------
void __thiscall Skill::ProtoType::ProtoType(Skill::ProtoType *this)
{
  Skill::ProtoType *v1; // esi@1

  v1 = this;
  Item::SpriteData::SpriteData(&this->m_SpriteInfo);
  Skill::ProtoType::Initialize(v1);
}

//----- (0042DC20) --------------------------------------------------------
void __thiscall boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type(boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *this)
{
  _RTL_CRITICAL_SECTION *v1; // esi@1

  v1 = (_RTL_CRITICAL_SECTION *)this;
  boost::pool<boost::default_user_allocator_new_delete>::purge_memory(&this->p);
  DeleteCriticalSection(v1);
}

//----- (0042DC40) --------------------------------------------------------
boost::singleton_pool<boost::fast_pool_allocator_tag,24,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_24_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance()
{
  if ( !(__S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA & 1) )
  {
    __S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA |= 1u;
    InitializeCriticalSection(&obj.baseclass_0.mtx);
    obj.p.baseclass_0.first = 0;
    obj.p.list.ptr = 0;
    obj.p.list.sz = 0;
    obj.p.requested_size = 24;
    obj.p.next_size = 32;
    atexit(obj);
  }
  return &obj;
}
// 4C4A20: using guessed type int ?$S7_?1??instance_?$singleton_default_Upool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__boost___pool_details_boost__SAAAUpool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0BI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__5_XZ_4IA;

//----- (0042DCA0) --------------------------------------------------------
boost::singleton_pool<boost::fast_pool_allocator_tag,20,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_20_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance()
{
  if ( !(__S11__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA & 1) )
  {
    __S11__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA |= 1u;
    InitializeCriticalSection(&obj.baseclass_0.mtx);
    obj.p.baseclass_0.first = 0;
    obj.p.list.ptr = 0;
    obj.p.list.sz = 0;
    obj.p.requested_size = 20;
    obj.p.next_size = 32;
    atexit(obj);
  }
  return &obj;
}
// 4C4A50: using guessed type int ?$S11_?1??instance_?$singleton_default_Upool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__boost___pool_details_boost__SAAAUpool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0BE_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__5_XZ_4IA;

//----- (0042DD00) --------------------------------------------------------
boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_48_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance()
{
  if ( !(__S8__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA & 1) )
  {
    __S8__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA |= 1u;
    InitializeCriticalSection(&obj.baseclass_0.mtx);
    obj.p.baseclass_0.first = 0;
    obj.p.list.ptr = 0;
    obj.p.list.sz = 0;
    obj.p.requested_size = 48;
    obj.p.next_size = 32;
    atexit(obj);
  }
  return &obj;
}
// 4C4AA4: using guessed type int ?$S8_?1??instance_?$singleton_default_Upool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__boost___pool_details_boost__SAAAUpool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0DA_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__5_XZ_4IA;

//----- (0042DD60) --------------------------------------------------------
unsigned int __cdecl adler32(unsigned int adler, const char *buf, unsigned int len)
{
  const char *v3; // esi@1
  unsigned int v4; // ecx@1
  unsigned int v5; // edi@1
  unsigned int result; // eax@2
  unsigned int i; // ebx@3
  unsigned int v8; // eax@4
  unsigned int v9; // edx@7
  int v10; // ecx@8
  int v11; // edi@8
  int v12; // ecx@8
  int v13; // edi@8
  int v14; // ecx@8
  int v15; // edi@8
  int v16; // ecx@8
  int v17; // edi@8
  int v18; // ecx@8
  int v19; // edi@8
  int v20; // ecx@8
  int v21; // edi@8
  int v22; // ecx@8
  int v23; // edi@8
  int v24; // ecx@8
  int v25; // edi@8
  int v26; // ecx@8
  int v27; // edi@8
  int v28; // ecx@8
  int v29; // edi@8
  int v30; // ecx@8
  int v31; // edi@8
  int v32; // ecx@8
  int v33; // edi@8
  int v34; // ecx@8
  int v35; // edi@8
  int v36; // ecx@8
  int v37; // edi@8
  int v38; // ecx@8
  int v39; // edi@8

  v3 = buf;
  v4 = (unsigned __int16)adler;
  v5 = adler >> 16;
  if ( buf )
  {
    for ( i = len; i; v5 %= 0xFFF1u )
    {
      v8 = i;
      if ( i >= 0x15B0 )
        v8 = 5552;
      i -= v8;
      if ( (signed int)v8 >= 16 )
      {
        v9 = v8 >> 4;
        v8 += -16 * (v8 >> 4);
        do
        {
          v10 = (unsigned __int8)*v3 + v4;
          v11 = v10 + v5;
          v12 = (unsigned __int8)v3[1] + v10;
          v13 = v12 + v11;
          v14 = (unsigned __int8)v3[2] + v12;
          v15 = v14 + v13;
          v16 = (unsigned __int8)v3[3] + v14;
          v17 = v16 + v15;
          v18 = (unsigned __int8)v3[4] + v16;
          v19 = v18 + v17;
          v20 = (unsigned __int8)v3[5] + v18;
          v21 = v20 + v19;
          v22 = (unsigned __int8)v3[6] + v20;
          v23 = v22 + v21;
          v24 = (unsigned __int8)v3[7] + v22;
          v25 = v24 + v23;
          v26 = (unsigned __int8)v3[8] + v24;
          v27 = v26 + v25;
          v28 = (unsigned __int8)v3[9] + v26;
          v29 = v28 + v27;
          v30 = (unsigned __int8)v3[10] + v28;
          v31 = v30 + v29;
          v32 = (unsigned __int8)v3[11] + v30;
          v33 = v32 + v31;
          v34 = (unsigned __int8)v3[12] + v32;
          v35 = v34 + v33;
          v36 = (unsigned __int8)v3[13] + v34;
          v37 = v36 + v35;
          v38 = (unsigned __int8)v3[14] + v36;
          v39 = v38 + v37;
          v4 = (unsigned __int8)v3[15] + v38;
          v5 = v4 + v39;
          v3 += 16;
          --v9;
        }
        while ( v9 );
      }
      for ( ; v8; --v8 )
      {
        v4 += (unsigned __int8)*v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0042DE90) --------------------------------------------------------
void __usercall init_block(internal_state *s<edx>)
{
  char *v1; // eax@1
  signed int v2; // ecx@1
  char *v3; // eax@3
  signed int v4; // ecx@3
  char *v5; // eax@5
  signed int v6; // ecx@5

  v1 = (char *)s->dyn_ltree;
  v2 = 286;
  do
  {
    *(_WORD *)v1 = 0;
    v1 += 4;
    --v2;
  }
  while ( v2 );
  v3 = (char *)s->dyn_dtree;
  v4 = 30;
  do
  {
    *(_WORD *)v3 = 0;
    v3 += 4;
    --v4;
  }
  while ( v4 );
  v5 = (char *)s->bl_tree;
  v6 = 19;
  do
  {
    *(_WORD *)v5 = 0;
    v5 += 4;
    --v6;
  }
  while ( v6 );
  s->static_len = 0;
  s->opt_len = 0;
  s->matches = 0;
  s->last_lit = 0;
  s->dyn_ltree[256].fc.freq = 1;
}

//----- (0042DF00) --------------------------------------------------------
void __usercall pqdownheap(internal_state *s<eax>, ct_data_s *tree<edi>, int k)
{
  int v3; // edx@1
  int v4; // ebp@1
  int v5; // ecx@1
  bool v6; // sf@1
  unsigned __int8 v7; // of@1
  int v8; // esi@3
  int v9; // ebp@3
  unsigned __int16 v10; // dx@3
  unsigned __int16 v11; // bx@3
  int v12; // esi@8
  unsigned __int16 v13; // dx@8
  unsigned __int16 v14; // bx@8
  int v15; // edx@11
  int v; // [sp+8h] [bp-4h]@1

  v3 = s->heap_len;
  v4 = s->heap[k];
  v5 = 2 * k;
  v7 = __OFSUB__(2 * k, v3);
  v6 = 2 * k - v3 < 0;
  v = s->heap[k];
  if ( 2 * k > v3 )
  {
    s->heap[k] = v4;
  }
  else
  {
    while ( 1 )
    {
      if ( v6 ^ v7 )
      {
        v8 = s->heap[v5 + 1];
        v9 = s->heap[v5];
        v10 = tree[v8].fc.freq;
        v11 = tree[v9].fc.freq;
        if ( v10 < v11 || v10 == v11 && (unsigned __int8)s->depth[v8] <= s->depth[v9] )
          ++v5;
        v4 = v;
      }
      v12 = s->heap[v5];
      v13 = tree[v4].fc.freq;
      v14 = tree[v12].fc.freq;
      if ( v13 < v14 )
      {
LABEL_12:
        s->heap[k] = v4;
        return;
      }
      if ( v13 == v14 && (unsigned __int8)s->depth[v4] <= s->depth[v12] )
        break;
      s->heap[k] = v12;
      v15 = s->heap_len;
      k = v5;
      v5 *= 2;
      v7 = __OFSUB__(v5, v15);
      v6 = v5 - v15 < 0;
      if ( v5 > v15 )
        goto LABEL_12;
    }
    s->heap[k] = v4;
  }
}

//----- (0042DFD0) --------------------------------------------------------
void __usercall gen_bitlen(internal_state *s<eax>, tree_desc_s *desc<ecx>)
{
  ct_data_s *v2; // ebx@1
  static_tree_desc_s *v3; // ecx@1
  ct_data_s *v4; // ebp@1
  int v5; // esi@1
  int v6; // edi@1
  int v7; // ecx@2
  signed int v8; // edi@2
  int v9; // edx@4
  int v10; // ecx@4
  const int v11; // esi@7
  int v12; // edi@9
  bool v13; // zf@12
  int v14; // ebp@13
  char *v15; // esi@14
  int v16; // ecx@15
  char *i; // edx@15
  int v18; // edx@18
  int v19; // esi@20
  char *v20; // ebp@21
  int v21; // ecx@22
  int v22; // edi@23
  signed int h; // [sp+10h] [bp-20h]@2
  char *v24; // [sp+14h] [bp-1Ch]@2
  int overflow; // [sp+18h] [bp-18h]@1
  int n; // [sp+1Ch] [bp-14h]@1
  int na; // [sp+1Ch] [bp-14h]@20
  int v28; // [sp+20h] [bp-10h]@2
  char *v29; // [sp+20h] [bp-10h]@19
  int max_code; // [sp+24h] [bp-Ch]@1
  int base; // [sp+28h] [bp-8h]@1
  const int *extra; // [sp+2Ch] [bp-4h]@1
  int extraa; // [sp+2Ch] [bp-4h]@14

  max_code = desc->max_code;
  v2 = desc->dyn_tree;
  v3 = desc->stat_desc;
  extra = v3->extra_bits;
  base = v3->extra_base;
  v4 = v3->static_tree;
  v5 = v3->max_length;
  *(_DWORD *)&s->bl_count[0] = 0;
  *(_DWORD *)&s->bl_count[2] = 0;
  *(_DWORD *)&s->bl_count[4] = 0;
  *(_DWORD *)&s->bl_count[6] = 0;
  *(_DWORD *)&s->bl_count[8] = 0;
  *(_DWORD *)&s->bl_count[10] = 0;
  *(_DWORD *)&s->bl_count[12] = 0;
  *(_DWORD *)&s->bl_count[14] = 0;
  v2[s->heap[s->heap_max]].dl.dad = 0;
  v6 = s->heap_max + 1;
  n = v5;
  overflow = 0;
  if ( v6 < 573 )
  {
    v24 = (char *)&s->heap[v6];
    v7 = 573 - v6;
    v8 = 573;
    v28 = v7;
    h = 573;
    while ( 1 )
    {
      v9 = *(_DWORD *)v24;
      v10 = v2[v2[*(_DWORD *)v24].dl.dad].dl.dad + 1;
      if ( v10 > v5 )
      {
        v10 = v5;
        ++overflow;
      }
      v2[v9].dl.dad = v10;
      if ( v9 <= max_code )
      {
        ++s->bl_count[v10];
        v11 = 0;
        if ( v9 >= base )
          v11 = extra[v9 - base];
        v12 = v2[v9].fc.freq;
        s->opt_len += v12 * (v11 + v10);
        if ( v4 )
          s->static_len += v12 * (v11 + v4[v9].dl.dad);
        v8 = 573;
      }
      v13 = v28 == 1;
      v24 += 4;
      --v28;
      if ( v13 )
        break;
      v5 = n;
    }
    v14 = overflow;
    if ( overflow )
    {
      extraa = n - 1;
      v15 = (char *)&s->bl_count[n];
      do
      {
        v16 = n - 1;
        for ( i = (char *)&s->bl_count[extraa]; !*(_WORD *)i; --v16 )
          i -= 2;
        --s->bl_count[v16];
        s->bl_count[v16 + 1] += 2;
        --*(_WORD *)v15;
        v14 -= 2;
      }
      while ( v14 > 0 );
      v18 = n;
      if ( n )
      {
        v29 = (char *)&s->bl_count[n];
        do
        {
          v19 = *(_WORD *)v15;
          na = v19;
          if ( v19 )
          {
            v20 = (char *)&s->heap[v8];
            do
            {
              v21 = *((_DWORD *)v20 - 1);
              v20 -= 4;
              --h;
              if ( v21 <= max_code )
              {
                v22 = v2[v21].dl.dad;
                if ( v22 != v18 )
                {
                  s->opt_len += v2[v21].fc.freq * (v18 - v22);
                  v2[v21].dl.dad = v18;
                }
                --na;
                v19 = na;
              }
            }
            while ( v19 );
            v8 = h;
          }
          --v18;
          v15 = v29 - 2;
          v29 -= 2;
        }
        while ( v18 );
      }
    }
  }
}

//----- (0042E210) --------------------------------------------------------
void __usercall scan_tree(ct_data_s *tree<eax>, int max_code<ecx>, internal_state *s)
{
  signed int v3; // edi@1
  signed int v4; // ebp@1
  signed int v5; // esi@1
  int v6; // ebx@1
  signed int v7; // ecx@1
  signed int v8; // edx@1
  int v9; // ebx@4
  signed int v10; // eax@5
  char *v11; // [sp+10h] [bp-4h]@4

  v3 = tree->dl.dad;
  v4 = -1;
  v5 = 0;
  v6 = max_code;
  v7 = 7;
  v8 = 4;
  if ( !tree->dl.dad )
  {
    v7 = 138;
    v8 = 3;
  }
  tree[v6 + 1].dl.dad = -1;
  if ( v6 >= 0 )
  {
    v11 = (char *)&tree[1].dl;
    v9 = v6 + 1;
    do
    {
      v10 = v3;
      v3 = *(_WORD *)v11;
      ++v5;
      if ( v5 >= v7 || v10 != v3 )
      {
        if ( v5 >= v8 )
        {
          if ( v10 )
          {
            if ( v10 != v4 )
              ++s->bl_tree[v10].fc.freq;
            ++s->bl_tree[16].fc.freq;
          }
          else
          {
            if ( v5 > 10 )
              ++s->bl_tree[18].fc.freq;
            else
              ++s->bl_tree[17].fc.freq;
          }
        }
        else
        {
          s->bl_tree[v10].fc.freq += v5;
        }
        v5 = 0;
        v4 = v10;
        if ( v3 )
        {
          if ( v10 == v3 )
          {
            v7 = 6;
            v8 = 3;
          }
          else
          {
            v7 = 7;
            v8 = 4;
          }
        }
        else
        {
          v7 = 138;
          v8 = 3;
        }
      }
      --v9;
      v11 += 4;
    }
    while ( v9 );
  }
}

//----- (0042E2F0) --------------------------------------------------------
void __usercall send_tree(internal_state *s<eax>, ct_data_s *tree<ecx>, int max_code)
{
  ct_data_s *v3; // edi@1
  signed int v4; // esi@1
  signed int v5; // ebx@1
  signed int v6; // ecx@1
  signed int v7; // edx@1
  signed int v8; // ebp@5
  int v9; // edi@8
  int v10; // ecx@8
  unsigned __int16 v11; // si@9
  int v12; // edx@9
  char *v13; // ecx@9
  char v14; // bl@9
  int v15; // edx@9
  int v16; // edx@9
  int v17; // ecx@9
  int v18; // edi@15
  int v19; // ecx@15
  unsigned __int16 v20; // si@16
  int v21; // edx@16
  char *v22; // ecx@16
  char v23; // bl@16
  int v24; // edx@16
  int v25; // edx@16
  int v26; // ecx@16
  int v27; // edi@19
  int v28; // ecx@19
  unsigned __int16 v29; // si@20
  int v30; // edx@20
  char *v31; // ecx@20
  char v32; // bl@20
  int v33; // edx@20
  int v34; // edx@20
  int v35; // ecx@20
  int v36; // esi@22
  int v37; // edx@23
  char *v38; // ecx@23
  char v39; // bl@23
  int v40; // edx@23
  int v41; // edx@23
  int v42; // ecx@24
  int v43; // ecx@25
  int v44; // edi@26
  unsigned __int16 v45; // si@27
  int v46; // edx@27
  char *v47; // ecx@27
  char v48; // bl@27
  int v49; // edx@27
  int v50; // edx@27
  int v51; // ecx@27
  int v52; // esi@29
  int v53; // edx@30
  char *v54; // ecx@30
  char v55; // bl@30
  int v56; // edx@30
  int v57; // edx@30
  int v58; // edi@32
  unsigned __int16 v59; // si@33
  int v60; // edx@33
  char *v61; // ecx@33
  char v62; // bl@33
  int v63; // edx@33
  int v64; // edx@33
  int v65; // ecx@33
  int v66; // esi@35
  int v67; // edx@36
  char *v68; // ecx@36
  char v69; // bl@36
  int v70; // edx@36
  int v71; // edx@36
  bool v72; // zf@44
  signed int nextlen; // [sp+10h] [bp-Ch]@1
  int v74; // [sp+14h] [bp-8h]@4
  int v75; // [sp+18h] [bp-4h]@4
  signed int max_codea; // [sp+20h] [bp+4h]@5

  v3 = tree;
  nextlen = tree->dl.dad;
  v4 = 0;
  v5 = -1;
  v6 = 7;
  v7 = 4;
  if ( !nextlen )
  {
    v6 = 138;
    v7 = 3;
  }
  if ( max_code >= 0 )
  {
    v74 = (int)&v3[1].dl;
    v75 = max_code + 1;
    do
    {
      v8 = nextlen;
      ++v4;
      nextlen = *(_WORD *)v74;
      max_codea = v4;
      if ( v4 < v6 && v8 == *(_WORD *)v74 )
        goto LABEL_44;
      if ( v4 < v7 )
      {
        do
        {
          v9 = s->bl_tree[v8].dl.dad;
          v10 = s->bi_valid;
          if ( v10 <= 16 - v9 )
          {
            s->bi_buf |= s->bl_tree[v8].fc.freq << v10;
            v17 = v9 + v10;
          }
          else
          {
            v11 = s->bl_tree[v8].fc.freq;
            v12 = s->bl_tree[v8].fc.freq << v10;
            v13 = s->pending_buf;
            s->bi_buf |= v12;
            v13[s->pending] = LOBYTE(s->bi_buf);
            v14 = HIBYTE(s->bi_buf);
            v15 = s->pending + 1;
            s->pending = v15;
            s->pending_buf[v15] = v14;
            v16 = s->bi_valid;
            ++s->pending;
            v17 = v16 + v9 - 16;
            s->bi_buf = v11 >> (16 - v16);
            v4 = max_codea;
          }
          --v4;
          s->bi_valid = v17;
          max_codea = v4;
        }
        while ( v4 );
        goto LABEL_39;
      }
      if ( v8 )
      {
        if ( v8 != v5 )
        {
          v18 = s->bl_tree[v8].dl.dad;
          v19 = s->bi_valid;
          if ( v19 <= 16 - v18 )
          {
            s->bi_buf |= s->bl_tree[v8].fc.freq << v19;
            v26 = v18 + v19;
          }
          else
          {
            v20 = s->bl_tree[v8].fc.freq;
            v21 = s->bl_tree[v8].fc.freq << v19;
            v22 = s->pending_buf;
            s->bi_buf |= v21;
            v22[s->pending] = LOBYTE(s->bi_buf);
            v23 = HIBYTE(s->bi_buf);
            v24 = s->pending + 1;
            s->pending = v24;
            s->pending_buf[v24] = v23;
            v25 = s->bi_valid;
            ++s->pending;
            v26 = v25 + v18 - 16;
            s->bi_buf = v20 >> (16 - v25);
            v4 = max_codea;
          }
          --v4;
          s->bi_valid = v26;
          max_codea = v4;
        }
        v27 = s->bl_tree[16].dl.dad;
        v28 = s->bi_valid;
        if ( v28 <= 16 - v27 )
        {
          s->bi_buf |= s->bl_tree[16].fc.freq << v28;
          v35 = v27 + v28;
        }
        else
        {
          v29 = s->bl_tree[16].fc.freq;
          v30 = s->bl_tree[16].fc.freq << v28;
          v31 = s->pending_buf;
          s->bi_buf |= v30;
          v31[s->pending] = LOBYTE(s->bi_buf);
          v32 = HIBYTE(s->bi_buf);
          v33 = s->pending + 1;
          s->pending = v33;
          s->pending_buf[v33] = v32;
          v34 = s->bi_valid;
          ++s->pending;
          v35 = v34 + v27 - 16;
          s->bi_buf = v29 >> (16 - v34);
          v4 = max_codea;
        }
        v36 = v4 - 3;
        s->bi_valid = v35;
        if ( v35 > 14 )
        {
          v37 = v36 << v35;
          v38 = s->pending_buf;
          s->bi_buf |= v37;
          v38[s->pending] = LOBYTE(s->bi_buf);
          v39 = HIBYTE(s->bi_buf);
          v40 = s->pending + 1;
          s->pending = v40;
          s->pending_buf[v40] = v39;
          v41 = s->bi_valid;
          ++s->pending;
          s->bi_valid = v41 - 14;
          s->bi_buf = (unsigned __int16)v36 >> (16 - v41);
          goto LABEL_39;
        }
        s->bi_buf |= v36 << v35;
        v42 = v35 + 2;
      }
      else
      {
        v43 = s->bi_valid;
        if ( v4 > 10 )
        {
          v58 = s->bl_tree[18].dl.dad;
          if ( v43 <= 16 - v58 )
          {
            s->bi_buf |= s->bl_tree[18].fc.freq << v43;
            v65 = v58 + v43;
          }
          else
          {
            v59 = s->bl_tree[18].fc.freq;
            v60 = s->bl_tree[18].fc.freq << v43;
            v61 = s->pending_buf;
            s->bi_buf |= v60;
            v61[s->pending] = LOBYTE(s->bi_buf);
            v62 = HIBYTE(s->bi_buf);
            v63 = s->pending + 1;
            s->pending = v63;
            s->pending_buf[v63] = v62;
            v64 = s->bi_valid;
            ++s->pending;
            v65 = v64 + v58 - 16;
            s->bi_buf = v59 >> (16 - v64);
            v4 = max_codea;
          }
          v66 = v4 - 11;
          s->bi_valid = v65;
          if ( v65 > 9 )
          {
            v67 = v66 << v65;
            v68 = s->pending_buf;
            s->bi_buf |= v67;
            v68[s->pending] = LOBYTE(s->bi_buf);
            v69 = HIBYTE(s->bi_buf);
            v70 = s->pending + 1;
            s->pending = v70;
            s->pending_buf[v70] = v69;
            v71 = s->bi_valid;
            ++s->pending;
            s->bi_valid = v71 - 9;
            s->bi_buf = (unsigned __int16)v66 >> (16 - v71);
            goto LABEL_39;
          }
          s->bi_buf |= v66 << v65;
          v42 = v65 + 7;
        }
        else
        {
          v44 = s->bl_tree[17].dl.dad;
          if ( v43 <= 16 - v44 )
          {
            s->bi_buf |= s->bl_tree[17].fc.freq << v43;
            v51 = v44 + v43;
          }
          else
          {
            v45 = s->bl_tree[17].fc.freq;
            v46 = s->bl_tree[17].fc.freq << v43;
            v47 = s->pending_buf;
            s->bi_buf |= v46;
            v47[s->pending] = LOBYTE(s->bi_buf);
            v48 = HIBYTE(s->bi_buf);
            v49 = s->pending + 1;
            s->pending = v49;
            s->pending_buf[v49] = v48;
            v50 = s->bi_valid;
            ++s->pending;
            v51 = v50 + v44 - 16;
            s->bi_buf = v45 >> (16 - v50);
            v4 = max_codea;
          }
          v52 = v4 - 3;
          s->bi_valid = v51;
          if ( v51 > 13 )
          {
            v53 = v52 << v51;
            v54 = s->pending_buf;
            s->bi_buf |= v53;
            v54[s->pending] = LOBYTE(s->bi_buf);
            v55 = HIBYTE(s->bi_buf);
            v56 = s->pending + 1;
            s->pending = v56;
            s->pending_buf[v56] = v55;
            v57 = s->bi_valid;
            ++s->pending;
            s->bi_valid = v57 - 13;
            s->bi_buf = (unsigned __int16)v52 >> (16 - v57);
            goto LABEL_39;
          }
          s->bi_buf |= v52 << v51;
          v42 = v51 + 3;
        }
      }
      s->bi_valid = v42;
LABEL_39:
      v4 = 0;
      v5 = v8;
      if ( nextlen )
      {
        if ( v8 == nextlen )
        {
          v6 = 6;
          v7 = 3;
        }
        else
        {
          v6 = 7;
          v7 = 4;
        }
      }
      else
      {
        v6 = 138;
        v7 = 3;
      }
LABEL_44:
      v72 = v75 == 1;
      v74 += 4;
      --v75;
    }
    while ( !v72 );
  }
}

//----- (0042E800) --------------------------------------------------------
void __usercall send_all_trees(internal_state *s<eax>, int lcodes, int dcodes, int blcodes)
{
  int v4; // ecx@1
  int v5; // ebx@1
  int v6; // ebp@1
  int v7; // edx@2
  int v8; // ecx@2
  char v9; // bl@2
  int v10; // edx@2
  int v11; // edx@2
  int v12; // ecx@4
  unsigned __int16 v13; // si@5
  int v14; // edx@5
  int v15; // ecx@5
  char v16; // bl@5
  int v17; // edx@5
  int v18; // edx@5
  int v19; // ecx@7
  int v20; // edx@8
  int v21; // ecx@8
  char v22; // bl@8
  int v23; // edx@8
  int v24; // edx@8
  int v25; // edi@10
  int v26; // ecx@11
  int v27; // edx@11
  unsigned __int16 v28; // si@12
  int v29; // edx@12
  int v30; // ecx@12
  char v31; // bl@12
  int v32; // edx@12
  int v33; // edx@12
  internal_state *v34; // eax@16
  int blcodesa; // [sp+1Ch] [bp+Ch]@5
  int blcodesb; // [sp+1Ch] [bp+Ch]@8

  v4 = s->bi_valid;
  v5 = dcodes;
  v6 = blcodes;
  if ( v4 <= 11 )
  {
    s->bi_buf |= (lcodes - 257) << v4;
    s->bi_valid = v4 + 5;
  }
  else
  {
    v7 = (lcodes - 257) << v4;
    v8 = s->pending;
    s->bi_buf |= v7;
    s->pending_buf[v8] = LOBYTE(s->bi_buf);
    v9 = HIBYTE(s->bi_buf);
    v10 = s->pending + 1;
    s->pending = v10;
    s->pending_buf[v10] = v9;
    v11 = s->bi_valid;
    v5 = dcodes;
    ++s->pending;
    s->bi_valid = v11 - 11;
    s->bi_buf = (unsigned __int16)(lcodes - 257) >> (16 - v11);
  }
  v12 = s->bi_valid;
  if ( v12 <= 11 )
  {
    s->bi_buf |= (v5 - 1) << v12;
    s->bi_valid = v12 + 5;
  }
  else
  {
    v13 = v5 - 1;
    v14 = (v5 - 1) << v12;
    v15 = s->pending;
    blcodesa = v5;
    s->bi_buf |= v14;
    s->pending_buf[v15] = LOBYTE(s->bi_buf);
    v16 = HIBYTE(s->bi_buf);
    v17 = s->pending + 1;
    s->pending = v17;
    s->pending_buf[v17] = v16;
    v18 = s->bi_valid;
    v5 = blcodesa;
    ++s->pending;
    s->bi_valid = v18 - 11;
    s->bi_buf = v13 >> (16 - v18);
  }
  v19 = s->bi_valid;
  if ( v19 <= 12 )
  {
    s->bi_buf |= (v6 - 4) << v19;
    s->bi_valid = v19 + 4;
  }
  else
  {
    v20 = (v6 - 4) << v19;
    v21 = s->pending;
    blcodesb = v5;
    s->bi_buf |= v20;
    s->pending_buf[v21] = LOBYTE(s->bi_buf);
    v22 = HIBYTE(s->bi_buf);
    v23 = s->pending + 1;
    s->pending = v23;
    s->pending_buf[v23] = v22;
    v24 = s->bi_valid;
    v5 = blcodesb;
    ++s->pending;
    s->bi_valid = v24 - 12;
    s->bi_buf = (unsigned __int16)(v6 - 4) >> (16 - v24);
  }
  v25 = 0;
  if ( v6 > 0 )
  {
    do
    {
      v26 = s->bi_valid;
      v27 = (unsigned __int8)bl_order[v25];
      if ( v26 <= 13 )
      {
        s->bi_buf |= s->bl_tree[v27].dl.dad << v26;
        s->bi_valid = v26 + 3;
      }
      else
      {
        v28 = s->bl_tree[v27].dl.dad;
        v29 = s->bl_tree[v27].dl.dad << v26;
        v30 = s->pending;
        s->bi_buf |= v29;
        s->pending_buf[v30] = LOBYTE(s->bi_buf);
        v31 = HIBYTE(s->bi_buf);
        v32 = s->pending + 1;
        s->pending = v32;
        s->pending_buf[v32] = v31;
        v33 = s->bi_valid;
        ++s->pending;
        s->bi_valid = v33 - 13;
        s->bi_buf = v28 >> (16 - v33);
      }
      ++v25;
    }
    while ( v25 < v6 );
    v5 = dcodes;
  }
  send_tree(s, s->dyn_ltree, lcodes - 1);
  send_tree(v34, v34->dyn_dtree, v5 - 1);
}

//----- (0042EA70) --------------------------------------------------------
void __usercall compress_block(internal_state *s<eax>, ct_data_s *ltree, ct_data_s *dtree)
{
  ct_data_s *v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // ebp@2
  int v6; // esi@2
  int v7; // ecx@2
  int v8; // edi@3
  int v9; // esi@4
  int v10; // edx@4
  char *v11; // ecx@4
  ct_data_s *v12; // ST10_4@4
  char v13; // bl@4
  int v14; // edx@4
  int v15; // edx@4
  int v16; // ecx@4
  int v17; // edx@6
  int v18; // edi@7
  int v19; // edx@7
  char *v20; // ecx@7
  char v21; // bl@7
  int v22; // edx@7
  int v23; // edx@7
  const int v24; // edi@9
  int v25; // esi@10
  int v26; // ecx@10
  int v27; // edx@11
  char *v28; // ecx@11
  char v29; // bl@11
  int v30; // edx@11
  int v31; // edx@11
  int v32; // ecx@11
  unsigned int v33; // ebp@14
  int v34; // edi@15
  int v35; // edx@17
  int v36; // ecx@17
  unsigned __int16 v37; // si@18
  int v38; // edx@18
  char *v39; // ecx@18
  char v40; // bl@18
  int v41; // edx@18
  int v42; // edx@18
  const int v43; // esi@20
  int v44; // ebp@21
  int v45; // ecx@21
  int v46; // edx@22
  char *v47; // ecx@22
  ct_data_s *v48; // ST14_4@22
  char v49; // bl@22
  int v50; // edx@22
  int v51; // edx@22
  int v52; // edi@26
  int v53; // ecx@26
  unsigned __int16 v54; // si@27
  int v55; // edx@27
  char *v56; // ecx@27
  char *v57; // ecx@27
  int v58; // edx@27
  int v59; // edx@27
  int len; // [sp+10h] [bp-Ch]@6
  int code; // [sp+14h] [bp-8h]@6
  int codea; // [sp+14h] [bp-8h]@17
  unsigned int lx; // [sp+18h] [bp-4h]@2

  v3 = ltree;
  v4 = 0;
  if ( s->last_lit )
  {
    do
    {
      v5 = s->d_buf[v4];
      v6 = s->l_buf[v4];
      lx = v4 + 1;
      v7 = s->bi_valid;
      if ( v5 )
      {
        v17 = (unsigned __int8)_length_code[v6];
        len = v3[v17 + 257].dl.dad;
        code = (unsigned __int8)_length_code[v6];
        if ( v7 <= 16 - v3[v17 + 257].dl.dad )
        {
          s->bi_buf |= ltree[v17 + 257].fc.freq << v7;
          s->bi_valid = len + v7;
        }
        else
        {
          v18 = ltree[v17 + 257].fc.freq;
          v19 = v18 << v7;
          v20 = s->pending_buf;
          s->bi_buf |= v19;
          v20[s->pending] = LOBYTE(s->bi_buf);
          v21 = HIBYTE(s->bi_buf);
          v22 = s->pending + 1;
          s->pending = v22;
          s->pending_buf[v22] = v21;
          v23 = s->bi_valid;
          ++s->pending;
          LOWORD(v18) = (unsigned __int16)v18 >> (16 - v23);
          s->bi_valid = v23 + len - 16;
          v17 = code;
          s->bi_buf = v18;
        }
        v24 = extra_lbits[v17];
        v3 = ltree;
        if ( v24 )
        {
          v25 = v6 - base_length[v17];
          v26 = s->bi_valid;
          if ( v26 <= 16 - v24 )
          {
            s->bi_buf |= v25 << v26;
            v32 = v24 + v26;
          }
          else
          {
            v27 = v25 << v26;
            v28 = s->pending_buf;
            s->bi_buf |= v27;
            v28[s->pending] = LOBYTE(s->bi_buf);
            v29 = HIBYTE(s->bi_buf);
            v30 = s->pending + 1;
            s->pending = v30;
            s->pending_buf[v30] = v29;
            v31 = s->bi_valid;
            v3 = ltree;
            ++s->pending;
            v32 = v31 + v24 - 16;
            s->bi_buf = (unsigned __int16)v25 >> (16 - v31);
          }
          s->bi_valid = v32;
        }
        v33 = v5 - 1;
        if ( v33 >= 0x100 )
          v34 = (unsigned __int8)byte_45D820[v33 >> 7];
        else
          v34 = (unsigned __int8)_dist_code[v33];
        v35 = dtree[v34].dl.dad;
        v36 = s->bi_valid;
        codea = dtree[v34].dl.dad;
        if ( v36 <= 16 - v35 )
        {
          s->bi_buf |= dtree[v34].fc.freq << v36;
          s->bi_valid = v35 + v36;
        }
        else
        {
          v37 = dtree[v34].fc.freq;
          v38 = dtree[v34].fc.freq << v36;
          v39 = s->pending_buf;
          s->bi_buf |= v38;
          v39[s->pending] = LOBYTE(s->bi_buf);
          v40 = HIBYTE(s->bi_buf);
          v41 = s->pending + 1;
          s->pending = v41;
          s->pending_buf[v41] = v40;
          v42 = s->bi_valid;
          v3 = ltree;
          ++s->pending;
          s->bi_valid = v42 + codea - 16;
          s->bi_buf = v37 >> (16 - v42);
        }
        v43 = extra_dbits[v34];
        if ( !v43 )
          goto LABEL_25;
        v44 = v33 - base_dist[v34];
        v45 = s->bi_valid;
        if ( v45 <= 16 - v43 )
        {
          s->bi_buf |= v44 << v45;
          v16 = v43 + v45;
        }
        else
        {
          v46 = v44 << v45;
          v47 = s->pending_buf;
          v48 = v3;
          s->bi_buf |= v46;
          v47[s->pending] = LOBYTE(s->bi_buf);
          v49 = HIBYTE(s->bi_buf);
          v50 = s->pending + 1;
          s->pending = v50;
          s->pending_buf[v50] = v49;
          v51 = s->bi_valid;
          v3 = v48;
          ++s->pending;
          v16 = v51 + v43 - 16;
          s->bi_buf = (unsigned __int16)v44 >> (16 - v51);
        }
      }
      else
      {
        v8 = v3[v6].dl.dad;
        if ( v7 <= 16 - v8 )
        {
          s->bi_buf |= v3[v6].fc.freq << v7;
          v16 = v8 + v7;
        }
        else
        {
          v9 = v3[v6].fc.freq;
          v10 = v9 << v7;
          v11 = s->pending_buf;
          v12 = v3;
          s->bi_buf |= v10;
          v11[s->pending] = LOBYTE(s->bi_buf);
          v13 = HIBYTE(s->bi_buf);
          v14 = s->pending + 1;
          s->pending = v14;
          s->pending_buf[v14] = v13;
          v15 = s->bi_valid;
          v3 = v12;
          ++s->pending;
          v16 = v15 + v8 - 16;
          s->bi_buf = (unsigned __int16)v9 >> (16 - v15);
        }
      }
      s->bi_valid = v16;
LABEL_25:
      v4 = lx;
    }
    while ( lx < s->last_lit );
  }
  v52 = v3[256].dl.dad;
  v53 = s->bi_valid;
  if ( v53 <= 16 - v52 )
  {
    s->bi_buf |= v3[256].fc.freq << v53;
    s->bi_valid = v52 + v53;
    s->last_eob_len = v3[256].dl.dad;
  }
  else
  {
    v54 = v3[256].fc.freq;
    v55 = v3[256].fc.freq << v53;
    v56 = s->pending_buf;
    s->bi_buf |= v55;
    v56[s->pending] = LOBYTE(s->bi_buf);
    v57 = s->pending_buf;
    v58 = s->pending + 1;
    s->pending = v58;
    v57[v58] = HIBYTE(s->bi_buf);
    v59 = s->bi_valid;
    ++s->pending;
    s->bi_valid = v59 + v52 - 16;
    s->bi_buf = v54 >> (16 - v59);
    s->last_eob_len = v3[256].dl.dad;
  }
}

//----- (0042EE90) --------------------------------------------------------
void __usercall set_data_type(internal_state *s<ecx>)
{
  unsigned int v1; // esi@1
  int v2; // eax@1
  char *v3; // edx@1
  signed int v4; // edi@1
  char *v5; // edx@3
  signed int v6; // edi@3

  v1 = 0;
  v2 = s->dyn_ltree[0].fc.freq
     + s->dyn_ltree[1].fc.freq
     + s->dyn_ltree[2].fc.freq
     + s->dyn_ltree[3].fc.freq
     + s->dyn_ltree[4].fc.freq
     + s->dyn_ltree[5].fc.freq
     + s->dyn_ltree[6].fc.freq;
  v3 = (char *)&s->dyn_ltree[7];
  v4 = 121;
  do
  {
    v1 += *(_WORD *)v3;
    v3 += 4;
    --v4;
  }
  while ( v4 );
  v5 = (char *)&s->dyn_ltree[128];
  v6 = 128;
  do
  {
    v2 += *(_WORD *)v5;
    v5 += 4;
    --v6;
  }
  while ( v6 );
  s->data_type = v1 >> 2 >= v2;
}

//----- (0042EF20) --------------------------------------------------------
void __usercall bi_flush(internal_state *s<eax>)
{
  int v1; // ecx@1
  char v2; // bl@2
  int v3; // edx@2
  int v4; // edx@4
  int v5; // ecx@4

  v1 = s->bi_valid;
  if ( v1 == 16 )
  {
    s->pending_buf[s->pending] = LOBYTE(s->bi_buf);
    v2 = HIBYTE(s->bi_buf);
    v3 = s->pending + 1;
    s->pending = v3;
    s->pending_buf[v3] = v2;
    ++s->pending;
    s->bi_buf = 0;
    s->bi_valid = 0;
  }
  else
  {
    if ( v1 >= 8 )
    {
      s->pending_buf[s->pending] = LOBYTE(s->bi_buf);
      v4 = s->pending;
      s->bi_buf = HIBYTE(s->bi_buf);
      v5 = s->bi_valid;
      s->pending = v4 + 1;
      s->bi_valid = v5 - 8;
    }
  }
}

//----- (0042EFA0) --------------------------------------------------------
void __usercall bi_windup(internal_state *s<eax>)
{
  int v1; // edx@1
  char v2; // bl@2
  int v3; // edx@2

  v1 = s->bi_valid;
  if ( v1 <= 8 )
  {
    if ( v1 > 0 )
      s->pending_buf[s->pending++] = LOBYTE(s->bi_buf);
    s->bi_buf = 0;
    s->bi_valid = 0;
  }
  else
  {
    s->pending_buf[s->pending] = LOBYTE(s->bi_buf);
    v2 = HIBYTE(s->bi_buf);
    v3 = s->pending + 1;
    s->pending = v3;
    s->pending_buf[v3] = v2;
    ++s->pending;
    s->bi_buf = 0;
    s->bi_valid = 0;
  }
}

//----- (0042F010) --------------------------------------------------------
void __usercall copy_block(internal_state *s<eax>, char *buf<edx>, unsigned int len<ecx>, int header)
{
  unsigned int v4; // ebx@1
  char *v5; // edi@1
  int v6; // eax@1
  int v7; // edx@2
  int v8; // ecx@2
  int v9; // edx@2
  int v10; // esi@2
  int v11; // edx@2
  int v12; // esi@2
  unsigned int headera; // [sp+10h] [bp+4h]@4

  v4 = len;
  v5 = buf;
  bi_windup(s);
  *(_DWORD *)(v6 + 5804) = 8;
  if ( header )
  {
    *(_BYTE *)(*(_DWORD *)(v6 + 20) + *(_DWORD *)(v6 + 8)) = v4;
    v7 = *(_DWORD *)(v6 + 8);
    v8 = *(_DWORD *)(v6 + 20) + 1;
    *(_DWORD *)(v6 + 20) = v8;
    *(_BYTE *)(v8 + v7) = BYTE1(v4);
    v9 = *(_DWORD *)(v6 + 8);
    v10 = *(_DWORD *)(v6 + 20) + 1;
    *(_DWORD *)(v6 + 20) = v10;
    *(_BYTE *)(v10 + v9) = ~(_BYTE)v4;
    v11 = *(_DWORD *)(v6 + 8);
    v12 = *(_DWORD *)(v6 + 20) + 1;
    *(_DWORD *)(v6 + 20) = v12;
    *(_BYTE *)(v12 + v11) = ~BYTE1(v4);
    ++*(_DWORD *)(v6 + 20);
  }
  if ( v4 )
  {
    do
    {
      headera = v4;
      *(_BYTE *)(*(_DWORD *)(v6 + 20) + *(_DWORD *)(v6 + 8)) = *v5++;
      --v4;
      ++*(_DWORD *)(v6 + 20);
    }
    while ( headera != 1 );
  }
}

//----- (0042F0A0) --------------------------------------------------------
void __cdecl _tr_init(internal_state *s)
{
  internal_state *v1; // edx@1

  v1 = s;
  s->l_desc.dyn_tree = s->dyn_ltree;
  v1->bl_desc.dyn_tree = v1->bl_tree;
  s->l_desc.stat_desc = &static_l_desc;
  v1->d_desc.dyn_tree = v1->dyn_dtree;
  s->d_desc.stat_desc = &static_d_desc;
  s->bl_desc.stat_desc = &static_bl_desc;
  s->bi_buf = 0;
  s->bi_valid = 0;
  s->last_eob_len = 8;
  init_block(s);
}

//----- (0042F110) --------------------------------------------------------
void __usercall gen_codes(ct_data_s *tree<edi>, int max_code<ebx>, unsigned __int16 *bl_count<edx>)
{
  __int16 v3; // cx@1
  signed int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@3
  int v7; // edx@4
  __int16 v8; // ax@5
  unsigned int v9; // ecx@5
  unsigned int v10; // eax@5
  int v11; // ebp@6
  __int16 next_code[16]; // [sp+4h] [bp-24h]@1

  v3 = 0;
  v4 = 1;
  v5 = (char *)bl_count - (char *)&next_code[1];
  do
  {
    v3 = 2 * (v3 + *(__int16 *)((char *)&next_code[v4] + v5));
    next_code[v4++] = v3;
  }
  while ( v4 <= 15 );
  for ( i = 0; i <= max_code; ++i )
  {
    v7 = tree[i].dl.dad;
    if ( tree[i].dl.dad )
    {
      v8 = next_code[v7];
      v9 = (unsigned __int16)v8;
      next_code[v7] = v8 + 1;
      v10 = 0;
      do
      {
        v11 = v9 & 1;
        v9 >>= 1;
        v10 = 2 * (v11 | v10);
        --v7;
      }
      while ( v7 > 0 );
      tree[i].fc.freq = v10 >> 1;
    }
  }
}

//----- (0042F1A0) --------------------------------------------------------
void __usercall build_tree(internal_state *s<esi>, tree_desc_s *desc)
{
  ct_data_s *v2; // edi@1
  static_tree_desc_s *v3; // eax@1
  int v4; // ecx@1
  ct_data_s *v5; // ebx@1
  int v6; // ebp@1
  int v7; // eax@1
  int v8; // ecx@3
  int v9; // eax@8
  int v10; // ecx@10
  signed int i; // ebx@14
  int v12; // ebp@16
  int v13; // eax@17
  int v14; // edx@17
  int v15; // ebx@17
  int v16; // eax@17
  int v17; // edx@17
  int v18; // ecx@17
  unsigned __int8 v19; // cl@17
  int v20; // edx@20
  int v21; // eax@20
  int max_code; // [sp+Ch] [bp-8h]@1
  int elems; // [sp+10h] [bp-4h]@1

  v2 = desc->dyn_tree;
  v3 = desc->stat_desc;
  v4 = v3->elems;
  v5 = v3->static_tree;
  v6 = -1;
  v7 = 0;
  elems = v4;
  max_code = -1;
  s->heap_len = 0;
  for ( s->heap_max = 573; v7 < elems; ++v7 )
  {
    if ( v2[v7].fc.freq )
    {
      v8 = s->heap_len + 1;
      s->heap_len = v8;
      s->heap[v8] = v7;
      max_code = v7;
      s->depth[v7] = 0;
      v6 = v7;
    }
    else
    {
      v2[v7].dl.dad = 0;
    }
  }
  if ( s->heap_len < 2 )
  {
    do
    {
      if ( v6 >= 2 )
      {
        v9 = 0;
      }
      else
      {
        ++v6;
        v9 = v6;
      }
      v10 = s->heap_len + 1;
      s->heap_len = v10;
      s->heap[v10] = v9;
      v2[v9].fc.freq = 1;
      s->depth[v9] = 0;
      --s->opt_len;
      if ( v5 )
        s->static_len -= v5[v9].dl.dad;
    }
    while ( s->heap_len < 2 );
    max_code = v6;
  }
  desc->max_code = v6;
  for ( i = s->heap_len / 2; i >= 1; --i )
    pqdownheap(s, v2, i);
  v12 = elems;
  do
  {
    v13 = s->heap_len;
    v14 = s->heap[v13];
    v15 = s->heap[1];
    s->heap_len = v13 - 1;
    s->heap[1] = v14;
    pqdownheap(s, v2, 1);
    v16 = s->heap[1];
    v17 = s->heap_max - 1;
    s->heap_max = v17;
    s->heap[v17] = v15;
    v18 = s->heap_max - 1;
    s->heap_max = v18;
    s->heap[v18] = v16;
    v2[v12].fc.freq = v2[v15].fc.freq + v2[v16].fc.freq;
    v19 = s->depth[v16];
    if ( s->depth[v15] >= v19 )
      v19 = s->depth[v15];
    s->depth[v12] = v19 + 1;
    v2[v16].dl.dad = v12;
    v2[v15].dl.dad = v12;
    s->heap[1] = v12++;
    pqdownheap(s, v2, 1);
  }
  while ( s->heap_len >= 2 );
  v20 = s->heap[1];
  v21 = s->heap_max - 1;
  s->heap_max = v21;
  s->heap[v21] = v20;
  gen_bitlen(s, desc);
  gen_codes(v2, max_code, s->bl_count);
}

//----- (0042F3A0) --------------------------------------------------------
int __usercall build_bl_tree<eax>(internal_state *s<eax>)
{
  internal_state *v1; // esi@1
  int result; // eax@1

  v1 = s;
  scan_tree(s, s->dyn_ltree, s->l_desc.max_code);
  scan_tree(v1, v1->dyn_dtree, v1->d_desc.max_code);
  build_tree(v1, &v1->bl_desc);
  result = 18;
  do
  {
    if ( v1->bl_tree[(unsigned __int8)bl_order[result]].dl.dad )
      break;
    --result;
  }
  while ( result >= 3 );
  v1->opt_len += 3 * result + 17;
  return result;
}

//----- (0042F410) --------------------------------------------------------
void __cdecl _tr_stored_block(internal_state *s, char *buf, unsigned int stored_len, int eof)
{
  int v4; // ecx@1
  int v5; // edx@2
  char *v6; // ecx@2
  char v7; // bl@2
  char *v8; // edx@2
  int v9; // ecx@2
  int v10; // edx@2
  int v11; // ebx@2

  v4 = s->bi_valid;
  if ( v4 <= 13 )
  {
    s->bi_valid = v4 + 3;
    s->bi_buf |= eof << v4;
    copy_block(s, buf, stored_len, 1);
  }
  else
  {
    v5 = eof << v4;
    v6 = s->pending_buf;
    s->bi_buf |= v5;
    v6[s->pending] = LOBYTE(s->bi_buf);
    v7 = HIBYTE(s->bi_buf);
    v8 = s->pending_buf;
    v9 = s->pending + 1;
    s->pending = v9;
    v8[v9] = v7;
    v10 = s->bi_valid;
    v11 = s->pending + 1;
    s->bi_buf = (unsigned __int16)eof >> (16 - v10);
    s->pending = v11;
    s->bi_valid = v10 - 13;
    copy_block(s, buf, stored_len, 1);
  }
}

//----- (0042F4B0) --------------------------------------------------------
void __cdecl _tr_align(internal_state *s)
{
  int v1; // ecx@1
  char v2; // bl@2
  char *v3; // edx@2
  int v4; // ecx@2
  int v5; // edx@2
  int v6; // ecx@4
  char v7; // bl@5
  char *v8; // edx@5
  int v9; // ecx@5
  int v10; // edx@5
  int v11; // eax@7
  signed int v12; // ecx@7
  char v13; // bl@9
  int v14; // edx@9
  int v15; // ecx@9
  int v16; // edx@9
  signed int v17; // ecx@11
  char v18; // bl@12
  int v19; // edx@12
  int v20; // ecx@12
  int v21; // edx@12
  int v22; // eax@12

  v1 = s->bi_valid;
  s->bi_buf |= 2 << v1;
  if ( v1 <= 13 )
  {
    s->bi_valid = v1 + 3;
  }
  else
  {
    s->pending_buf[s->pending] = LOBYTE(s->bi_buf);
    v2 = HIBYTE(s->bi_buf);
    v3 = s->pending_buf;
    v4 = s->pending + 1;
    s->pending = v4;
    v3[v4] = v2;
    v5 = s->bi_valid;
    ++s->pending;
    s->bi_buf = 2u >> (16 - v5);
    s->bi_valid = v5 - 13;
  }
  v6 = s->bi_valid;
  s->bi_buf = s->bi_buf;
  if ( v6 <= 9 )
  {
    s->bi_valid = v6 + 7;
  }
  else
  {
    s->pending_buf[s->pending] = LOBYTE(s->bi_buf);
    v7 = HIBYTE(s->bi_buf);
    v8 = s->pending_buf;
    v9 = s->pending + 1;
    s->pending = v9;
    v8[v9] = v7;
    v10 = s->bi_valid;
    ++s->pending;
    s->bi_buf = 0;
    s->bi_valid = v10 - 9;
  }
  bi_flush(s);
  v12 = *(_DWORD *)(v11 + 5812);
  if ( *(_DWORD *)(v11 + 5804) - v12 + 11 < 9 )
  {
    *(_WORD *)(v11 + 5808) |= 2 << v12;
    if ( v12 <= 13 )
    {
      *(_DWORD *)(v11 + 5812) = v12 + 3;
    }
    else
    {
      *(_BYTE *)(*(_DWORD *)(v11 + 8) + *(_DWORD *)(v11 + 20)) = *(_BYTE *)(v11 + 5808);
      v13 = *(_BYTE *)(v11 + 5809);
      v14 = *(_DWORD *)(v11 + 8);
      v15 = *(_DWORD *)(v11 + 20) + 1;
      *(_DWORD *)(v11 + 20) = v15;
      *(_BYTE *)(v15 + v14) = v13;
      v16 = *(_DWORD *)(v11 + 5812);
      ++*(_DWORD *)(v11 + 20);
      *(_WORD *)(v11 + 5808) = 2u >> (16 - v16);
      *(_DWORD *)(v11 + 5812) = v16 - 13;
    }
    v17 = *(_DWORD *)(v11 + 5812);
    *(_WORD *)(v11 + 5808) = *(_WORD *)(v11 + 5808);
    if ( v17 > 9 )
    {
      *(_BYTE *)(*(_DWORD *)(v11 + 8) + *(_DWORD *)(v11 + 20)) = *(_BYTE *)(v11 + 5808);
      v18 = *(_BYTE *)(v11 + 5809);
      v19 = *(_DWORD *)(v11 + 8);
      v20 = *(_DWORD *)(v11 + 20) + 1;
      *(_DWORD *)(v11 + 20) = v20;
      *(_BYTE *)(v20 + v19) = v18;
      v21 = *(_DWORD *)(v11 + 5812) - 9;
      ++*(_DWORD *)(v11 + 20);
      *(_WORD *)(v11 + 5808) = 0;
      *(_DWORD *)(v11 + 5812) = v21;
      bi_flush((internal_state *)v11);
      *(_DWORD *)(v22 + 5804) = 7;
      return;
    }
    *(_DWORD *)(v11 + 5812) = v17 + 7;
    bi_flush((internal_state *)v11);
  }
  *(_DWORD *)(v11 + 5804) = 7;
}

//----- (0042F6B0) --------------------------------------------------------
void __cdecl _tr_flush_block(internal_state *s, char *buf, unsigned int stored_len, int eof)
{
  int v4; // eax@1
  unsigned int v5; // edx@4
  unsigned int v6; // ecx@4
  int v7; // edi@10
  bool v8; // zf@11
  int v9; // ecx@11
  int v10; // eax@12
  int v11; // edx@13
  char *v12; // ecx@13
  char v13; // bl@13
  int v14; // edx@13
  int v15; // edx@13
  int v16; // edx@16
  int v17; // ebx@17
  char *v18; // ecx@17
  char v19; // al@17
  char *v20; // ebx@17
  int v21; // ecx@17
  int v22; // ebx@17
  int eofa; // [sp+20h] [bp+10h]@17

  v4 = 0;
  if ( s->level <= 0 )
  {
    v6 = stored_len + 5;
LABEL_7:
    v5 = v6;
    goto LABEL_8;
  }
  if ( s->data_type == 2 )
    set_data_type(s);
  build_tree(s, &s->l_desc);
  build_tree(s, &s->d_desc);
  v4 = build_bl_tree(s);
  v5 = (s->opt_len + 10) >> 3;
  v6 = (s->static_len + 10) >> 3;
  if ( v6 <= v5 )
    goto LABEL_7;
LABEL_8:
  if ( stored_len + 4 <= v5 && buf )
  {
    v7 = eof;
    _tr_stored_block(s, buf, stored_len, eof);
  }
  else
  {
    v7 = eof;
    v8 = v6 == v5;
    v9 = s->bi_valid;
    if ( v8 )
    {
      v10 = eof + 2;
      if ( v9 <= 13 )
      {
        s->bi_buf |= v10 << v9;
        s->bi_valid = v9 + 3;
      }
      else
      {
        v11 = v10 << v9;
        v12 = s->pending_buf;
        s->bi_buf |= v11;
        v12[s->pending] = LOBYTE(s->bi_buf);
        v13 = HIBYTE(s->bi_buf);
        v14 = s->pending + 1;
        s->pending = v14;
        s->pending_buf[v14] = v13;
        v15 = s->bi_valid;
        ++s->pending;
        s->bi_valid = v15 - 13;
        s->bi_buf = (unsigned __int16)v10 >> (16 - v15);
      }
      compress_block(s, &static_ltree, &static_dtree);
    }
    else
    {
      v16 = eof + 4;
      if ( v9 <= 13 )
      {
        s->bi_buf |= v16 << v9;
        s->bi_valid = v9 + 3;
      }
      else
      {
        v17 = v16 << v9;
        v18 = s->pending_buf;
        eofa = v4;
        s->bi_buf |= v17;
        v18[s->pending] = LOBYTE(s->bi_buf);
        v19 = HIBYTE(s->bi_buf);
        v20 = s->pending_buf;
        v21 = s->pending + 1;
        s->pending = v21;
        v20[v21] = v19;
        v22 = s->bi_valid;
        ++s->pending;
        v4 = eofa;
        s->bi_buf = (unsigned __int16)v16 >> (16 - v22);
        s->bi_valid = v22 - 13;
      }
      send_all_trees(s, s->l_desc.max_code + 1, s->d_desc.max_code + 1, v4 + 1);
      compress_block(s, s->dyn_ltree, s->dyn_dtree);
    }
  }
  init_block(s);
  if ( v7 )
    bi_windup(s);
}

//----- (0042F8A0) --------------------------------------------------------
void __cdecl inflate_blocks_reset(inflate_blocks_state *s, z_stream_s *z, unsigned int *c)
{
  char *v3; // eax@8
  unsigned int (__cdecl *v4)(unsigned int, const char *, unsigned int); // eax@8
  unsigned int v5; // eax@9

  if ( c )
    *c = s->check;
  if ( s->mode == 4 || s->mode == 5 )
    z->zfree(z->opaque, s->sub.trees.blens);
  if ( s->mode == 6 )
    inflate_codes_free((inflate_codes_state *)s->sub.left, z);
  v3 = s->window;
  s->write = v3;
  s->read = v3;
  v4 = s->checkfn;
  s->mode = 0;
  s->bitk = 0;
  s->bitb = 0;
  if ( v4 )
  {
    v5 = v4(0, 0, 0);
    s->check = v5;
    z->adler = v5;
  }
}

//----- (0042F920) --------------------------------------------------------
inflate_blocks_state *__cdecl inflate_blocks_new(z_stream_s *z, unsigned int (__cdecl *c)(unsigned int, const char *, unsigned int), unsigned int w)
{
  void *v3; // esi@1
  void *v4; // eax@2
  inflate_blocks_state *result; // eax@4
  void *v6; // eax@5

  v3 = z->zalloc(z->opaque, 1u, 64u);
  if ( !v3 )
    return 0;
  v4 = z->zalloc(z->opaque, 8u, 1440u);
  *((_DWORD *)v3 + 9) = v4;
  if ( !v4 )
  {
    z->zfree(z->opaque, v3);
    return 0;
  }
  v6 = z->zalloc(z->opaque, 1u, w);
  *((_DWORD *)v3 + 10) = v6;
  if ( v6 )
  {
    *((_DWORD *)v3 + 11) = (char *)v6 + w;
    *((_DWORD *)v3 + 14) = c;
    *(_DWORD *)v3 = 0;
    inflate_blocks_reset((inflate_blocks_state *)v3, z, 0);
    result = (inflate_blocks_state *)v3;
  }
  else
  {
    z->zfree(z->opaque, (void *)*((_DWORD *)v3 + 9));
    z->zfree(z->opaque, v3);
    result = 0;
  }
  return result;
}

//----- (0042F9C0) --------------------------------------------------------
int __cdecl inflate_blocks_free(inflate_blocks_state *s, z_stream_s *z)
{
  char *v2; // eax@6
  unsigned int (__cdecl *v3)(unsigned int, const char *, unsigned int); // eax@6
  unsigned int v4; // eax@7

  if ( s->mode == 4 || s->mode == 5 )
    z->zfree(z->opaque, s->sub.trees.blens);
  if ( s->mode == 6 )
    inflate_codes_free((inflate_codes_state *)s->sub.left, z);
  v2 = s->window;
  s->write = v2;
  s->read = v2;
  v3 = s->checkfn;
  s->mode = 0;
  s->bitk = 0;
  s->bitb = 0;
  if ( v3 )
  {
    v4 = v3(0, 0, 0);
    s->check = v4;
    z->adler = v4;
  }
  z->zfree(z->opaque, s->window);
  z->zfree(z->opaque, s->hufts);
  z->zfree(z->opaque, s);
  return 0;
}

//----- (0042FA50) --------------------------------------------------------
void __thiscall CMonsterMgr::CMonsterMgr(CMonsterMgr *this)
{
  CSingleton<CMonsterMgr>::ms_pSingleton = (int)this;
  *(_DWORD *)&this->___u0.baseclass_0.dummy[0] = 0;
  this->m_nMonsterNum = 0;
}
// 4C49F0: using guessed type int CSingleton_CMonsterMgr___ms_pSingleton;

//----- (0042FA70) --------------------------------------------------------
void __thiscall CMonsterMgr::_CMonsterMgr(CMonsterMgr *this)
{
  if ( *(_DWORD *)&this->___u0.baseclass_0.dummy[0] )
    operator delete__(*(void **)&this->___u0.baseclass_0.dummy[0]);
  CSingleton<CMonsterMgr>::ms_pSingleton = 0;
}
// 4C49F0: using guessed type int CSingleton_CMonsterMgr___ms_pSingleton;

//----- (0042FA90) --------------------------------------------------------
boost::singleton_pool<boost::fast_pool_allocator_tag,40,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *__cdecl boost::details::pool::singleton_default<boost::singleton_pool<boost::fast_pool_allocator_tag_40_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type>::instance()
{
  if ( !(__S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA & 1) )
  {
    __S7__1__instance___singleton_default_Upool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__boost___pool_details_boost__SAAAUpool_type___singleton_pool_Ufast_pool_allocator_tag_boost___0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2__0CA__5_XZ_4IA |= 1u;
    InitializeCriticalSection(&obj.baseclass_0.mtx);
    obj.p.baseclass_0.first = 0;
    obj.p.list.ptr = 0;
    obj.p.list.sz = 0;
    obj.p.requested_size = 40;
    obj.p.next_size = 32;
    atexit(obj);
  }
  return &obj;
}
// 4C4CCC: using guessed type int ?$S7_?1??instance_?$singleton_default_Upool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__boost___pool_details_boost__SAAAUpool_type_?$singleton_pool_Ufast_pool_allocator_tag_boost__$0CI_Udefault_user_allocator_new_delete_2_Vwin32_mutex_pool_details_2_$0CA__5_XZ_4IA;

//----- (0042FAF0) --------------------------------------------------------
void __thiscall Skill::CProcessTable::CProcessTable(Skill::CProcessTable *this)
{
  CSingleton<Skill::CProcessTable>::ms_pSingleton = (int)this;
  *(_WORD *)&this->___u0.baseclass_0.dummy[0] = 0;
  this->m_fnProcessTable = 0;
}
// 4C4C7C: using guessed type int CSingleton_Skill__CProcessTable___ms_pSingleton;

//----- (0042FB10) --------------------------------------------------------
void __thiscall Skill::CProcessTable::_CProcessTable(Skill::CProcessTable *this)
{
  Skill::CProcessTable *v1; // esi@1

  v1 = this;
  if ( this->m_fnProcessTable )
  {
    operator delete__(this->m_fnProcessTable);
    v1->m_fnProcessTable = 0;
  }
  CSingleton<Skill::CProcessTable>::ms_pSingleton = 0;
}
// 4C4C7C: using guessed type int CSingleton_Skill__CProcessTable___ms_pSingleton;

//----- (0042FB40) --------------------------------------------------------
void __cdecl inflate_codes_free(inflate_codes_state *c, z_stream_s *z)
{
  z->zfree(z->opaque, c);
}

//----- (0042FB60) --------------------------------------------------------
std::basic_ostream<char,std::char_traits<char> > *__thiscall std::basic_ostream<char_std::char_traits<char>>::put(std::basic_ostream<char,std::char_traits<char> > *this, char _Ch)
{
  std::basic_ostream<char,std::char_traits<char> > *v2; // esi@1
  signed int v3; // edi@1
  int v4; // ecx@3
  int v5; // edx@3
  bool v6; // zf@3
  int v7; // ecx@5
  int v8; // eax@5
  int v9; // eax@5
  int v10; // ecx@9
  int v11; // eax@10
  int v13; // [sp-Ch] [bp-2Ch]@1
  std::basic_ostream<char,std::char_traits<char> >::sentry _Ok; // [sp+0h] [bp-20h]@1
  int _State; // [sp+8h] [bp-18h]@1
  std::basic_ostream<char,std::char_traits<char> > *v16; // [sp+Ch] [bp-14h]@1
  int *v17; // [sp+10h] [bp-10h]@1
  int v18; // [sp+1Ch] [bp-4h]@1

  v2 = this;
  v17 = &v13;
  v3 = 0;
  v16 = this;
  _State = 0;
  std::basic_ostream<char_std::char_traits<char>>::sentry::sentry(&_Ok, this);
  v18 = 0;
  if ( _Ok._Ok )
  {
    v4 = *(_DWORD *)&v2->dummy[*(_DWORD *)(*(_DWORD *)&v2->dummy[0] + 4) + 40];
    v5 = *(_DWORD *)(v4 + 36);
    v6 = *(_DWORD *)v5 == 0;
    LOBYTE(v18) = 1;
    if ( v6 || *(_DWORD *)v5 >= (unsigned int)(*(_DWORD *)v5 + **(_DWORD **)(v4 + 52)) )
    {
      v9 = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 4))((unsigned __int8)_Ch);
    }
    else
    {
      --**(_DWORD **)(v4 + 52);
      v7 = *(_DWORD *)(v4 + 36);
      v8 = (*(_DWORD *)v7)++;
      *(_BYTE *)v8 = _Ch;
      v9 = (unsigned __int8)_Ch;
    }
    if ( v9 == -1 )
      v3 = 4;
  }
  else
  {
    v3 = 4;
  }
  v10 = (int)((char *)v2 + *(_DWORD *)(*(_DWORD *)&v2->dummy[0] + 4));
  v18 = 0;
  if ( v3 )
  {
    v11 = v3 | *(_DWORD *)(v10 + 8);
    if ( !*(_DWORD *)(v10 + 40) )
      v11 |= 4u;
    std::ios_base::clear((std::ios_base *)v10, v11, 0);
  }
  v18 = -1;
  std::basic_ostream<char_std::char_traits<char>>::sentry::_sentry(&_Ok);
  return v2;
}

//----- (0042FC80) --------------------------------------------------------
void __thiscall EnemyCheck::CCheckTable::CCheckTable(EnemyCheck::CCheckTable *this)
{
  CSingleton<EnemyCheck::CCheckTable>::ms_pSingleton = (int)this;
  this->___u0.baseclass_0.dummy[0] = 0;
  this->m_eRule = 4;
}
// 4C4BD4: using guessed type int CSingleton_EnemyCheck__CCheckTable___ms_pSingleton;

//----- (0042FCA0) --------------------------------------------------------
void __thiscall EnemyCheck::CCheckTable::_CCheckTable(EnemyCheck::CCheckTable *this)
{
  CSingleton<EnemyCheck::CCheckTable>::ms_pSingleton = 0;
}
// 4C4BD4: using guessed type int CSingleton_EnemyCheck__CCheckTable___ms_pSingleton;

//----- (0042FCB0) --------------------------------------------------------
void __thiscall CSingleton<CDuelCellManager>::_CSingleton<CDuelCellManager>(CSingleton<CDuelCellManager> *this)
{
  CSingleton<CDuelCellManager>::ms_pSingleton = 0;
}
// 4C4C38: using guessed type int CSingleton_CDuelCellManager___ms_pSingleton;

//----- (0042FCC0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v3; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v4; // ecx@5

  v2 = _Wherenode->_Right;
  _Wherenode->_Right = v2->_Left;
  if ( !v2->_Left->_Isnil )
    v2->_Left->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v3 = this->_Myhead;
  if ( _Wherenode == v3->_Parent )
  {
    v3->_Parent = v2;
    v2->_Left = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v4 = _Wherenode->_Parent;
    if ( _Wherenode == v4->_Left )
    {
      v4->_Left = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v4->_Right = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (0042FD20) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v3; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v4; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v5; // ecx@5

  v2 = _Wherenode->_Left;
  _Wherenode->_Left = _Wherenode->_Left->_Right;
  v3 = v2->_Right;
  if ( !v3->_Isnil )
    v3->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v4 = this->_Myhead;
  if ( _Wherenode == v4->_Parent )
  {
    v4->_Parent = v2;
    v2->_Right = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v5 = _Wherenode->_Parent;
    if ( _Wherenode == v5->_Right )
    {
      v5->_Right = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v5->_Left = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (0042FD80) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (0042FDC0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 21) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>_0>>::const_iterator::_Inc(&_Where.baseclass_0);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 21) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
      v9->_Left = v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 21) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7;
      else
        v11->_Right = std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 21) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 20);
  *(_BYTE *)(*(_DWORD *)&v6 + 20) = *(_BYTE *)(*(_DWORD *)&v4 + 20);
  *(_BYTE *)(*(_DWORD *)&v4 + 20) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 20) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 20) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 20) )
          {
            *(_BYTE *)(v15 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 0;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 21) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 20) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 20) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 20) = 1;
              *(_BYTE *)(v15 + 20) = 0;
              std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 20) = *(_BYTE *)(*(_DWORD *)&v7 + 20);
            *(_BYTE *)(*(_DWORD *)&v7 + 20) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 20) = 1;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 20) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 20) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (00430080) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator _Last)
{
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 21) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 21) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 21);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 21);
                  j = (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (00430140) --------------------------------------------------------
void __thiscall CDuelCellManager::_CDuelCellManager(CDuelCellManager *this)
{
  CDuelCellManager *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v2; // eax@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator v3; // ST04_4@1
  std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator result; // [sp+Ch] [bp-10h]@1
  int v5; // [sp+18h] [bp-4h]@1

  v1 = this;
  v2 = (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator)this->___u0.m_CellData.baseclass_0._Myhead;
  v3 = (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::iterator)**(_DWORD **)&v2;
  v5 = 0;
  std::_Tree<std::_Tmap_traits<unsigned_long_CCell___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CCell__>>_0>>::erase(
    (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)this,
    &result,
    v3,
    v2);
  operator delete(v1->___u0.m_CellData.baseclass_0._Myhead);
  v1->___u0.m_CellData.baseclass_0._Myhead = 0;
  v1->___u0.m_CellData.baseclass_0._Mysize = 0;
  CSingleton<CDuelCellManager>::ms_pSingleton = 0;
}
// 4C4C38: using guessed type int CSingleton_CDuelCellManager___ms_pSingleton;

//----- (004301B0) --------------------------------------------------------
void __thiscall CDuelCellManager::CDuelCellManager(CDuelCellManager *this)
{
  CDuelCellManager *v1; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v2; // eax@1

  v1 = this;
  CSingleton<CDuelCellManager>::ms_pSingleton = (int)this;
  v2 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode((std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)this);
  v1->___u0.m_CellData.baseclass_0._Myhead = v2;
  v2->_Isnil = 1;
  v1->___u0.m_CellData.baseclass_0._Myhead->_Parent = v1->___u0.m_CellData.baseclass_0._Myhead;
  v1->___u0.m_CellData.baseclass_0._Myhead->_Left = v1->___u0.m_CellData.baseclass_0._Myhead;
  v1->___u0.m_CellData.baseclass_0._Myhead->_Right = v1->___u0.m_CellData.baseclass_0._Myhead;
  v1->___u0.m_CellData.baseclass_0._Mysize = 0;
}
// 4C4C38: using guessed type int CSingleton_CDuelCellManager___ms_pSingleton;

//----- (00430220) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Lrotate(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v3; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v4; // ecx@5

  v2 = _Wherenode->_Right;
  _Wherenode->_Right = v2->_Left;
  if ( !v2->_Left->_Isnil )
    v2->_Left->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v3 = this->_Myhead;
  if ( _Wherenode == v3->_Parent )
  {
    v3->_Parent = v2;
    v2->_Left = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v4 = _Wherenode->_Parent;
    if ( _Wherenode == v4->_Left )
    {
      v4->_Left = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v4->_Right = v2;
      v2->_Left = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (00430280) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Max(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *i; // ecx@1

  result = _Pnode;
  for ( i = _Pnode->_Right; !i->_Isnil; i = i->_Right )
    result = i;
  return result;
}

//----- (004302A0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Min(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Pnode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *result; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v2; // ecx@1

  result = _Pnode;
  v2 = _Pnode->_Left;
  if ( !_Pnode->_Left->_Isnil )
  {
    do
    {
      result = v2;
      v2 = v2->_Left;
    }
    while ( !v2->_Isnil );
  }
  return result;
}

//----- (004302C0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Rrotate(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Wherenode)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v2; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v3; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v4; // ecx@3
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v5; // ecx@5

  v2 = _Wherenode->_Left;
  _Wherenode->_Left = _Wherenode->_Left->_Right;
  v3 = v2->_Right;
  if ( !v3->_Isnil )
    v3->_Parent = _Wherenode;
  v2->_Parent = _Wherenode->_Parent;
  v4 = this->_Myhead;
  if ( _Wherenode == v4->_Parent )
  {
    v4->_Parent = v2;
    v2->_Right = _Wherenode;
    _Wherenode->_Parent = v2;
  }
  else
  {
    v5 = _Wherenode->_Parent;
    if ( _Wherenode == v5->_Right )
    {
      v5->_Right = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
    else
    {
      v5->_Left = v2;
      v2->_Right = _Wherenode;
      _Wherenode->_Parent = v2;
    }
  }
}

//----- (00430320) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::const_iterator *this)
{
  int v1; // eax@1
  int v2; // edx@2
  int j; // eax@3
  int i; // eax@6

  v1 = *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0];
  if ( !*(_BYTE *)(*(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] + 17) )
  {
    v2 = *(_DWORD *)(v1 + 8);
    if ( *(_BYTE *)(v2 + 17) )
    {
      for ( i = *(_DWORD *)(v1 + 4); !*(_BYTE *)(i + 17); i = *(_DWORD *)(i + 4) )
      {
        if ( *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] != *(_DWORD *)(i + 8) )
          break;
        *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
      }
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = i;
    }
    else
    {
      for ( j = *(_DWORD *)v2; !*(_BYTE *)(j + 17); j = *(_DWORD *)j )
        v2 = j;
      *(_DWORD *)&this->___u0.baseclass_0.baseclass_0.dummy[0] = v2;
    }
  }
}

//----- (00430380) --------------------------------------------------------
void __thiscall CSingleton<CQuestMgr>::_CSingleton<CQuestMgr>(CSingleton<CQuestMgr> *this)
{
  CSingleton<CQuestMgr>::ms_pSingleton = 0;
}
// 4C4CF4: using guessed type int CSingleton_CQuestMgr___ms_pSingleton;

//----- (00430390) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)operator new(0x14u);
  if ( result )
    result->_Left = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)-4 )
    result->_Parent = 0;
  if ( result != (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)-8 )
    result->_Right = 0;
  result->_Color = 1;
  result->_Isnil = 0;
  return result;
}

//----- (004303D0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Erase(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *_Rootnode)
{
  void *v2; // edi@1
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *v3; // ebx@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *i; // esi@1

  v2 = _Rootnode;
  v3 = this;
  for ( i = _Rootnode; !i->_Isnil; v2 = i )
  {
    std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Erase(
      v3,
      i->_Right);
    i = i->_Left;
    operator delete(v2);
  }
}

//----- (00430410) --------------------------------------------------------
void __cdecl std::_Uninit_fill_n<Quest::TriggerMsg___unsigned_int_Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>(Quest::TriggerMsg *_First, unsigned int _Count, Quest::TriggerMsg *_Val, std::allocator<Quest::TriggerMsg> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  unsigned int v5; // edi@1
  Quest::TriggerMsg *v6; // esi@2
  char *v7; // eax@2

  v5 = _Count;
  if ( _Count )
  {
    v6 = _First;
    v7 = (char *)&_First->m_Pos.m_fPointZ;
    do
    {
      if ( v6 )
      {
        v6->m_dwCID = _Val->m_dwCID;
        *((_WORD *)v7 - 8) = _Val->m_wQuestID;
        *(v7 - 14) = _Val->m_cPhase;
        *(v7 - 13) = _Val->m_cTrigger;
        *(v7 - 12) = _Val->m_cCount;
        *((_DWORD *)v7 - 2) = LODWORD(_Val->m_Pos.m_fPointX);
        *((_DWORD *)v7 - 1) = LODWORD(_Val->m_Pos.m_fPointY);
        *(_DWORD *)v7 = LODWORD(_Val->m_Pos.m_fPointZ);
      }
      ++v6;
      v7 += 24;
      --v5;
    }
    while ( v5 );
  }
}

//----- (00430470) --------------------------------------------------------
void __thiscall Quest::TriggerNode::_TriggerNode(Quest::TriggerNode *this)
{
  Quest::TriggerNode *v1; // esi@1

  v1 = this;
  if ( this->m_lstFalseEvent._Myfirst )
    operator delete(this->m_lstFalseEvent._Myfirst);
  v1->m_lstFalseEvent._Myfirst = 0;
  v1->m_lstFalseEvent._Mylast = 0;
  v1->m_lstFalseEvent._Myend = 0;
  if ( v1->m_lstEvent._Myfirst )
    operator delete(v1->m_lstEvent._Myfirst);
  v1->m_lstEvent._Myfirst = 0;
  v1->m_lstEvent._Mylast = 0;
  v1->m_lstEvent._Myend = 0;
}

//----- (004304B0) --------------------------------------------------------
void __thiscall Quest::QuestNode::_QuestNode(Quest::QuestNode *this)
{
  Quest::QuestNode *v1; // esi@1

  v1 = this;
  if ( this->m_lstPhase._Myfirst )
    operator delete(this->m_lstPhase._Myfirst);
  v1->m_lstPhase._Myfirst = 0;
  v1->m_lstPhase._Mylast = 0;
  v1->m_lstPhase._Myend = 0;
}

//----- (004304E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _Where)
{
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *v3; // ebp@1
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v4; // ebx@4
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v5; // edi@5
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v6; // ecx@8
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v7; // esi@9
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v8; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v9; // ebx@16
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v10; // eax@18
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v11; // ebx@21
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v12; // eax@30
  int v13; // eax@32
  char v14; // al@35
  int v15; // eax@39
  bool v16; // zf@54
  unsigned int v17; // eax@60
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *v18; // eax@62
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _Erasednode; // [sp+0h] [bp-54h]@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v22; // [sp+50h] [bp-4h]@2

  v3 = this;
  if ( *(_BYTE *)(*(_DWORD *)&_Where + 17) )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(
      &thisa,
      "invalid map/set<T> iterator",
      0x1Bu);
    v22 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::out_of_range::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
  }
  v4 = _Where;
  _Erasednode = _Where;
  std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::const_iterator::_Inc(&_Where.baseclass_0);
  if ( *(_BYTE *)(**(_DWORD **)&v4 + 17) )
  {
    v5 = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v4 + 8);
LABEL_9:
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v4 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 17) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    v8 = v3->_Myhead;
    if ( v8->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v4 )
    {
      v8->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v5;
    }
    else
    {
      if ( **(_DWORD **)&v7 == v4 )
        **(_DWORD **)&v7 = v5;
      else
        *(_DWORD *)(*(_DWORD *)&v7 + 8) = v5;
    }
    v9 = v3->_Myhead;
    if ( v9->_Left == (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 17) )
        v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v7;
      else
        v10 = std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Min(*(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node **)&v5);
      v9->_Left = v10;
    }
    v11 = v3->_Myhead;
    if ( v11->_Right == (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)_Erasednode )
    {
      if ( *(_BYTE *)(*(_DWORD *)&v5 + 17) )
        v11->_Right = (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v7;
      else
        v11->_Right = std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Max(*(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node **)&v5);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 17) )
  {
    v5 = (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)**(_DWORD **)&v4;
    goto LABEL_9;
  }
  v6 = _Where;
  v5 = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&_Where + 8);
  if ( _Where == v4 )
    goto LABEL_9;
  *(_DWORD *)(**(_DWORD **)&v4 + 4) = _Where;
  **(_DWORD **)&v6 = **(_DWORD **)&v4;
  if ( v6 == *(_DWORD *)(*(_DWORD *)&v4 + 8) )
  {
    v7 = v6;
  }
  else
  {
    v7 = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v6 + 4);
    if ( !*(_BYTE *)(*(_DWORD *)&v5 + 17) )
      *(_DWORD *)(*(_DWORD *)&v5 + 4) = v7;
    **(_DWORD **)&v7 = v5;
    *(_DWORD *)(*(_DWORD *)&v6 + 8) = *(_DWORD *)(*(_DWORD *)&v4 + 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&v4 + 8) + 4) = v6;
  }
  v12 = v3->_Myhead;
  if ( v12->_Parent == (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v4 )
  {
    v12->_Parent = (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v6;
  }
  else
  {
    v13 = *(_DWORD *)(*(_DWORD *)&v4 + 4);
    if ( *(_DWORD *)v13 == v4 )
      *(_DWORD *)v13 = v6;
    else
      *(_DWORD *)(v13 + 8) = v6;
  }
  *(_DWORD *)(*(_DWORD *)&v6 + 4) = *(_DWORD *)(*(_DWORD *)&v4 + 4);
  v14 = *(_BYTE *)(*(_DWORD *)&v6 + 16);
  *(_BYTE *)(*(_DWORD *)&v6 + 16) = *(_BYTE *)(*(_DWORD *)&v4 + 16);
  *(_BYTE *)(*(_DWORD *)&v4 + 16) = v14;
LABEL_36:
  if ( *(_BYTE *)(*(_DWORD *)&_Erasednode + 16) == 1 )
  {
    if ( (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v5 != v3->_Myhead->_Parent )
    {
      do
      {
        if ( *(_BYTE *)(*(_DWORD *)&v5 + 16) != 1 )
          break;
        v15 = **(_DWORD **)&v7;
        if ( v5 == **(_DWORD **)&v7 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          if ( !*(_BYTE *)(v15 + 16) )
          {
            *(_BYTE *)(v15 + 16) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 16) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node **)&v7);
            v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
          }
          if ( *(_BYTE *)(v15 + 17) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)v15 + 16) != 1 || *(_BYTE *)(*(_DWORD *)(v15 + 8) + 16) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 16) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)v15 + 16) = 1;
              *(_BYTE *)(v15 + 16) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Rrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v15);
              v15 = *(_DWORD *)(*(_DWORD *)&v7 + 8);
            }
            *(_BYTE *)(v15 + 16) = *(_BYTE *)(*(_DWORD *)&v7 + 16);
            *(_BYTE *)(*(_DWORD *)&v7 + 16) = 1;
            *(_BYTE *)(*(_DWORD *)(v15 + 8) + 16) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Lrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node **)&v7);
            break;
          }
        }
        else
        {
          if ( !*(_BYTE *)(v15 + 16) )
          {
            *(_BYTE *)(v15 + 16) = 1;
            *(_BYTE *)(*(_DWORD *)&v7 + 16) = 0;
            std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node **)&v7);
            v15 = **(_DWORD **)&v7;
          }
          if ( *(_BYTE *)(v15 + 17) )
            goto LABEL_54;
          if ( *(_BYTE *)(*(_DWORD *)(v15 + 8) + 16) != 1 || *(_BYTE *)(*(_DWORD *)v15 + 16) != 1 )
          {
            if ( *(_BYTE *)(*(_DWORD *)v15 + 16) == 1 )
            {
              *(_BYTE *)(*(_DWORD *)(v15 + 8) + 16) = 1;
              *(_BYTE *)(v15 + 16) = 0;
              std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Lrotate(
                v3,
                (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v15);
              v15 = **(_DWORD **)&v7;
            }
            *(_BYTE *)(v15 + 16) = *(_BYTE *)(*(_DWORD *)&v7 + 16);
            *(_BYTE *)(*(_DWORD *)&v7 + 16) = 1;
            *(_BYTE *)(*(_DWORD *)v15 + 16) = 1;
            std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Rrotate(
              v3,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node **)&v7);
            break;
          }
        }
        *(_BYTE *)(v15 + 16) = 0;
LABEL_54:
        v5 = v7;
        v16 = (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)v7 == v3->_Myhead->_Parent;
        v7 = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v7 + 4);
      }
      while ( !v16 );
    }
    *(_BYTE *)(*(_DWORD *)&v5 + 16) = 1;
  }
  operator delete(*(void **)&_Erasednode);
  v17 = v3->_Mysize;
  if ( v17 )
    v3->_Mysize = v17 - 1;
  v18 = result;
  *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = _Where;
  return v18;
}
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (004307A0) --------------------------------------------------------
void __thiscall std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Xlen(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00430810) --------------------------------------------------------
void __thiscall Quest::PhaseNode::_PhaseNode(Quest::PhaseNode *this)
{
  Quest::PhaseNode *v1; // esi@1

  v1 = this;
  if ( this->m_lstTrigger._Myfirst )
    operator delete(this->m_lstTrigger._Myfirst);
  v1->m_lstTrigger._Myfirst = 0;
  v1->m_lstTrigger._Mylast = 0;
  v1->m_lstTrigger._Myend = 0;
  if ( v1->m_lstDeletedItem._Myfirst )
    operator delete(v1->m_lstDeletedItem._Myfirst);
  v1->m_lstDeletedItem._Myfirst = 0;
  v1->m_lstDeletedItem._Mylast = 0;
  v1->m_lstDeletedItem._Myend = 0;
}

//----- (00430850) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *result, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _First, std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator _Last)
{
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v4; // ebx@1
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v5; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> > *v6; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v7; // eax@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v8; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *v9; // eax@3
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator v10; // ecx@5
  int v11; // eax@6
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator j; // eax@7
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator i; // eax@10

  v4 = _Last;
  v5 = _First;
  v6 = this;
  v7 = this->_Myhead;
  if ( (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)_First != v7->_Left
    || (std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *)_Last != v7 )
  {
    if ( _First != _Last )
    {
      do
      {
        v10 = v5;
        if ( !*(_BYTE *)(*(_DWORD *)&v5 + 17) )
        {
          v11 = *(_DWORD *)(*(_DWORD *)&v5 + 8);
          if ( *(_BYTE *)(v11 + 17) )
          {
            for ( i = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v5 + 4);
                  !*(_BYTE *)(*(_DWORD *)&i + 17);
                  i = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&i + 4) )
            {
              if ( v5 != *(_DWORD *)(*(_DWORD *)&i + 8) )
                break;
              v5 = i;
            }
            v5 = i;
          }
          else
          {
            v5 = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)(*(_DWORD *)&v5 + 8);
            for ( j = *(std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator *)v11;
                  !*(_BYTE *)(*(_DWORD *)&j + 17);
                  j = (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)**(_DWORD **)&j )
              v5 = j;
          }
        }
        std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(
          v6,
          &_First,
          v10);
      }
      while ( v5 != v4 );
    }
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v5;
  }
  else
  {
    std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Erase(
      this,
      v7->_Parent);
    v6->_Myhead->_Parent = v6->_Myhead;
    v8 = v6->_Myhead;
    v6->_Mysize = 0;
    v8->_Left = v8;
    v6->_Myhead->_Right = v6->_Myhead;
    v9 = result;
    *(_DWORD *)&result->baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0] = v6->_Myhead->_Left;
  }
  return v9;
}

//----- (00430910) --------------------------------------------------------
void __thiscall std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Construct_n(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *this, unsigned int _Count, Quest::TriggerMsg *_Val)
{
  std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *v3; // esi@1
  void *v4; // ebx@4
  int v5; // [sp-Ch] [bp-20h]@1
  std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *thisa; // [sp+0h] [bp-14h]@1
  int *v7; // [sp+4h] [bp-10h]@1
  int v8; // [sp+10h] [bp-4h]@4

  v3 = this;
  v7 = &v5;
  thisa = this;
  this->_Myfirst = 0;
  this->_Mylast = 0;
  this->_Myend = 0;
  if ( _Count )
  {
    if ( _Count > 0xAAAAAAA )
      std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Xlen(this);
    v4 = operator new(24 * _Count);
    v3->_Myend = (Quest::TriggerMsg *)((char *)v4 + 24 * _Count);
    v3->_Myfirst = (Quest::TriggerMsg *)v4;
    v3->_Mylast = (Quest::TriggerMsg *)v4;
    v8 = 0;
    std::_Uninit_fill_n<Quest::TriggerMsg___unsigned_int_Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>(
      (Quest::TriggerMsg *)v4,
      _Count,
      _Val,
      &v3->baseclass_0._Alval,
      (std::_Nonscalar_ptr_iterator_tag)_Count);
    v3->_Mylast = (Quest::TriggerMsg *)((char *)v4 + 24 * _Count);
  }
}

//----- (004309C0) --------------------------------------------------------
void __thiscall CQuestMgr::ClearQuest(CQuestMgr *this)
{
  CQuestMgr *v1; // ebx@1
  Quest::QuestNode **v2; // ebp@1
  Quest::QuestNode *v3; // esi@2
  Quest::PhaseNode **v4; // edi@2
  Quest::PhaseNode *v5; // ebx@3
  Quest::TriggerNode **v6; // ebp@3
  Quest::TriggerNode *v7; // esi@4
  Quest::EventNode **v8; // edi@4
  void *v9; // ST20_4@5
  Quest::EventNode **v10; // edi@9
  void *v11; // ST20_4@10
  Quest::TriggerNode **itTrigger; // [sp+10h] [bp-14h]@3
  Quest::PhaseNode **itPhase; // [sp+14h] [bp-10h]@2
  Quest::QuestNode *lpQuest; // [sp+18h] [bp-Ch]@2
  CQuestMgr *v15; // [sp+1Ch] [bp-8h]@1
  Quest::QuestNode **itQuest; // [sp+20h] [bp-4h]@1

  v1 = this;
  v2 = this->___u0.m_lstQuest._Myfirst;
  v15 = this;
  itQuest = v2;
  if ( v2 != this->___u0.m_lstQuest._Mylast )
  {
    do
    {
      v3 = *v2;
      lpQuest = *v2;
      memmove((char *)v2, (char *)v2 + 4, 4 * (v1->___u0.m_lstQuest._Mylast - (v2 + 1)));
      --v1->___u0.m_lstQuest._Mylast;
      v4 = v3->m_lstPhase._Myfirst;
      itPhase = v3->m_lstPhase._Myfirst;
      if ( v4 != v3->m_lstPhase._Mylast )
      {
        do
        {
          v5 = *v4;
          memmove((char *)v4, (char *)v4 + 4, 4 * (v3->m_lstPhase._Mylast - (v4 + 1)));
          --v3->m_lstPhase._Mylast;
          v6 = v5->m_lstTrigger._Myfirst;
          itTrigger = v5->m_lstTrigger._Myfirst;
          if ( v6 != v5->m_lstTrigger._Mylast )
          {
            do
            {
              v7 = *v6;
              memmove((char *)v6, (char *)v6 + 4, 4 * (v5->m_lstTrigger._Mylast - (v6 + 1)));
              --v5->m_lstTrigger._Mylast;
              v8 = v7->m_lstEvent._Myfirst;
              if ( v8 != v7->m_lstEvent._Mylast )
              {
                do
                {
                  v9 = *v8;
                  memmove((char *)v8, (char *)v8 + 4, 4 * (v7->m_lstEvent._Mylast - (v8 + 1)));
                  --v7->m_lstEvent._Mylast;
                  operator delete(v9);
                }
                while ( v8 != v7->m_lstEvent._Mylast );
                v6 = itTrigger;
              }
              if ( v7->m_lstEvent._Myfirst )
                operator delete(v7->m_lstEvent._Myfirst);
              v7->m_lstEvent._Myfirst = 0;
              v7->m_lstEvent._Mylast = 0;
              v7->m_lstEvent._Myend = 0;
              v10 = v7->m_lstFalseEvent._Myfirst;
              if ( v10 != v7->m_lstFalseEvent._Mylast )
              {
                do
                {
                  v11 = *v10;
                  memmove((char *)v10, (char *)v10 + 4, 4 * (v7->m_lstFalseEvent._Mylast - (v10 + 1)));
                  --v7->m_lstFalseEvent._Mylast;
                  operator delete(v11);
                }
                while ( v10 != v7->m_lstFalseEvent._Mylast );
                v6 = itTrigger;
              }
              if ( v7->m_lstFalseEvent._Myfirst )
                operator delete(v7->m_lstFalseEvent._Myfirst);
              v7->m_lstFalseEvent._Myfirst = 0;
              v7->m_lstFalseEvent._Mylast = 0;
              v7->m_lstFalseEvent._Myend = 0;
              Quest::TriggerNode::_TriggerNode(v7);
              operator delete(v7);
            }
            while ( v6 != v5->m_lstTrigger._Mylast );
            v4 = itPhase;
            v3 = lpQuest;
          }
          if ( v5->m_lstTrigger._Myfirst )
            operator delete(v5->m_lstTrigger._Myfirst);
          v5->m_lstTrigger._Myfirst = 0;
          v5->m_lstTrigger._Mylast = 0;
          v5->m_lstTrigger._Myend = 0;
          Quest::PhaseNode::_PhaseNode(v5);
          operator delete(v5);
        }
        while ( v4 != v3->m_lstPhase._Mylast );
        v1 = v15;
        v2 = itQuest;
      }
      if ( v3->m_lstPhase._Myfirst )
        operator delete(v3->m_lstPhase._Myfirst);
      v3->m_lstPhase._Myfirst = 0;
      v3->m_lstPhase._Mylast = 0;
      v3->m_lstPhase._Myend = 0;
      Quest::QuestNode::_QuestNode(v3);
      operator delete(v3);
    }
    while ( v2 != v1->___u0.m_lstQuest._Mylast );
  }
  if ( v1->___u0.m_lstQuest._Myfirst )
    operator delete(v1->___u0.m_lstQuest._Myfirst);
  v1->___u0.m_lstQuest._Myfirst = 0;
  v1->___u0.m_lstQuest._Mylast = 0;
  v1->___u0.m_lstQuest._Myend = 0;
}

//----- (00430BF0) --------------------------------------------------------
void __thiscall std::map<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>>::_map<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>>(std::map<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> > > *this)
{
  std::map<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> > > *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator result; // [sp+0h] [bp-4h]@1

  result = (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)this;
  v1 = this;
  std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(
    &this->baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)this->baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)this->baseclass_0._Myhead);
  operator delete(v1->baseclass_0._Myhead);
  v1->baseclass_0._Myhead = 0;
  v1->baseclass_0._Mysize = 0;
}

//----- (00430C20) --------------------------------------------------------
void __thiscall CQuestMgr::_CQuestMgr(CQuestMgr *this)
{
  CQuestMgr *v1; // esi@1
  std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator result; // [sp+Ch] [bp-10h]@5
  int v3; // [sp+18h] [bp-4h]@1

  v1 = this;
  v3 = 1;
  CQuestMgr::ClearQuest(this);
  if ( v1->m_vecSubPendingQuest._Myfirst )
    operator delete(v1->m_vecSubPendingQuest._Myfirst);
  v1->m_vecSubPendingQuest._Myfirst = 0;
  v1->m_vecSubPendingQuest._Mylast = 0;
  v1->m_vecSubPendingQuest._Myend = 0;
  if ( v1->m_vecPendingQuest._Myfirst )
    operator delete(v1->m_vecPendingQuest._Myfirst);
  v1->m_vecPendingQuest._Myfirst = 0;
  v1->m_vecPendingQuest._Mylast = 0;
  v1->m_vecPendingQuest._Myend = 0;
  std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::erase(
    &v1->m_mapSkillPointBonus.baseclass_0,
    &result,
    (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)v1->m_mapSkillPointBonus.baseclass_0._Myhead->_Left,
    (std::_Tree<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::iterator)v1->m_mapSkillPointBonus.baseclass_0._Myhead);
  operator delete(v1->m_mapSkillPointBonus.baseclass_0._Myhead);
  v1->m_mapSkillPointBonus.baseclass_0._Myhead = 0;
  v1->m_mapSkillPointBonus.baseclass_0._Mysize = 0;
  if ( v1->___u0.m_lstQuest._Myfirst )
    operator delete(v1->___u0.m_lstQuest._Myfirst);
  v1->___u0.m_lstQuest._Myfirst = 0;
  v1->___u0.m_lstQuest._Mylast = 0;
  v1->___u0.m_lstQuest._Myend = 0;
  CSingleton<CQuestMgr>::ms_pSingleton = 0;
}
// 4C4CF4: using guessed type int CSingleton_CQuestMgr___ms_pSingleton;

//----- (00430CE0) --------------------------------------------------------
void __thiscall CQuestMgr::CQuestMgr(CQuestMgr *this)
{
  CQuestMgr *v1; // esi@1
  char *v2; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> >,0> >::_Node *v3; // eax@1
  Quest::TriggerMsg _Val; // [sp+10h] [bp-24h]@1
  int v5; // [sp+30h] [bp-4h]@1

  v1 = this;
  CSingleton<CQuestMgr>::ms_pSingleton = (int)this;
  v5 = 0;
  *(_QWORD *)&this->___u0.m_lstQuest._Myfirst = 0i64;
  this->___u0.m_lstQuest._Myend = 0;
  v2 = (char *)&this->m_mapSkillPointBonus;
  LOBYTE(v5) = 1;
  v3 = std::_Tree<std::_Tmap_traits<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>_0>>::_Buynode(&this->m_mapSkillPointBonus.baseclass_0);
  *((_DWORD *)v2 + 1) = v3;
  v3->_Isnil = 1;
  *(_DWORD *)(*((_DWORD *)v2 + 1) + 4) = *((_DWORD *)v2 + 1);
  **((_DWORD **)v2 + 1) = *((_DWORD *)v2 + 1);
  *(_DWORD *)(*((_DWORD *)v2 + 1) + 8) = *((_DWORD *)v2 + 1);
  *((_DWORD *)v2 + 2) = 0;
  LOBYTE(v5) = 2;
  LODWORD(_Val.m_Pos.m_fPointX) = 0;
  LODWORD(_Val.m_Pos.m_fPointY) = 0;
  LODWORD(_Val.m_Pos.m_fPointZ) = 0;
  _Val.m_dwCID = 0;
  _Val.m_wQuestID = 0;
  _Val.m_cPhase = 0;
  _Val.m_cTrigger = 0;
  _Val.m_cCount = 0;
  std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Construct_n(&v1->m_vecPendingQuest, 0, &_Val);
  LOBYTE(v5) = 3;
  LODWORD(_Val.m_Pos.m_fPointX) = 0;
  LODWORD(_Val.m_Pos.m_fPointY) = 0;
  LODWORD(_Val.m_Pos.m_fPointZ) = 0;
  _Val.m_dwCID = 0;
  _Val.m_wQuestID = 0;
  _Val.m_cPhase = 0;
  _Val.m_cTrigger = 0;
  _Val.m_cCount = 0;
  std::vector<Quest::TriggerMsg_std::allocator<Quest::TriggerMsg>>::_Construct_n(&v1->m_vecSubPendingQuest, 0, &_Val);
  v1->m_lpQuestNode = 0;
  v1->m_lpPhaseNode = 0;
  v1->m_lpTriggerNode = 0;
  v1->m_bFalseEvent = 0;
  v1->m_bDangerousEvent = 0;
  v1->m_bPendingQuest = 0;
}
// 4C4CF4: using guessed type int CSingleton_CQuestMgr___ms_pSingleton;

//----- (00430DD0) --------------------------------------------------------
int *__cdecl std::copy_backward<char_____char____>(int *_First, int *_Last, int *_Dest)
{
  int *result; // eax@1

  memmove((char *)&_Dest[-(_Last - _First)], (char *)_First, 4 * (_Last - _First));
  return result;
}

//----- (00430E00) --------------------------------------------------------
int __stdcall std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(char *src, int a2, char *dst)
{
  int v3; // eax@1

  memmove(dst, src, 4 * ((a2 - (signed int)src) >> 2));
  return 4 * ((a2 - (signed int)src) >> 2) + v3;
}

//----- (00430E30) --------------------------------------------------------
void __thiscall std::vector<int_std::allocator<int>>::_Xlen(std::vector<int,std::allocator<int> > *this)
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  thisa._Myres = 15;
  thisa._Mysize = 0;
  thisa._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "vector<T> too long", 0x12u);
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00430EA0) --------------------------------------------------------
void __thiscall std::vector<int_std::allocator<int>>::_Insert_n(std::vector<int,std::allocator<int> > *this, std::vector<int,std::allocator<int> >::iterator _Where, unsigned int _Count, const int *_Val)
{
  std::vector<int,std::allocator<int> > *v4; // esi@1
  int *v5; // edx@1
  signed int v6; // eax@2
  unsigned int v7; // edi@4
  signed int v8; // ecx@6
  int v9; // ecx@11
  int v10; // eax@15
  int v11; // ecx@18
  int v12; // eax@22
  void *v13; // eax@25
  unsigned int v14; // ebp@25
  int v15; // eax@25
  int *v16; // eax@25
  int *v17; // eax@25
  int v18; // ecx@26
  int v19; // edi@28
  int v20; // ebp@31
  std::vector<int,std::allocator<int> >::iterator v21; // ebx@31
  int v22; // edx@31
  unsigned int v23; // eax@31
  int v24; // ecx@32
  int *v25; // edi@33
  void *_Newvec; // [sp+0h] [bp-4h]@25
  unsigned int _Wherea; // [sp+8h] [bp+4h]@31
  int _Counta; // [sp+Ch] [bp+8h]@25

  v4 = this;
  v5 = this->_Myfirst;
  _Val = (const int *)*_Val;
  if ( v5 )
    v6 = this->_Myend - v5;
  else
    v6 = 0;
  v7 = _Count;
  if ( _Count )
  {
    if ( v5 )
      v8 = this->_Mylast - v5;
    else
      v8 = 0;
    if ( 1073741823 - v8 < _Count )
      std::vector<int_std::allocator<int>>::_Xlen(v4);
    if ( v5 )
      v9 = v4->_Mylast - v5;
    else
      v9 = 0;
    if ( v6 >= _Count + v9 )
    {
      v20 = (int)v4->_Mylast;
      v21 = _Where;
      v22 = (signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2;
      v23 = 4 * _Count;
      _Wherea = 4 * _Count;
      if ( v22 >= _Count )
      {
        v25 = (int *)(v20 - v23);
        v4->_Mylast = (int *)std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
                               (char *)(v20 - v23),
                               v20,
                               (char *)v20);
        std::copy_backward<char_____char____>(*(int **)&v21, v25, (int *)v20);
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(*(_DWORD *)&v21 + _Wherea),
          (const int *)&_Val);
      }
      else
      {
        std::vector<unsigned_long_std::allocator<unsigned_long>>::_Ucopy<unsigned_long__>(
          *(char **)&v21,
          v20,
          (char *)(*(_DWORD *)&v21 + v23));
        std::vector<char___std::allocator<char__>>::_Ufill(
          v4,
          v4->_Mylast,
          _Count - ((signed int)((char *)v4->_Mylast - *(_DWORD *)&v21) >> 2),
          (const int *)&_Val);
        v24 = (int)&v4->_Mylast[_Wherea / 4];
        v4->_Mylast = (int *)v24;
        std::fill<enum__Item::ItemType::Type___enum__Item::ItemType::Type>(
          *(int **)&v21,
          (int *)(v24 - _Wherea),
          (const int *)&_Val);
      }
    }
    else
    {
      if ( 1073741823 - ((unsigned int)v6 >> 1) >= v6 )
        v10 = ((unsigned int)v6 >> 1) + v6;
      else
        v10 = 0;
      if ( v5 )
        v11 = v4->_Mylast - v5;
      else
        v11 = 0;
      if ( v10 < _Count + v11 )
      {
        if ( v5 )
          v12 = v4->_Mylast - v5;
        else
          v12 = 0;
        v10 = _Count + v12;
      }
      _Counta = 4 * v10;
      v13 = operator new(4 * v10);
      v14 = 4 * ((signed int)(*(_DWORD *)&_Where - (unsigned int)v4->_Myfirst) >> 2);
      _Newvec = v13;
      memmove((char *)v13, (char *)v4->_Myfirst, v14);
      v16 = std::vector<char___std::allocator<char__>>::_Ufill(v4, (int *)(v14 + v15), v7, (const int *)&_Val);
      memmove((char *)v16, *(char **)&_Where, 4 * ((signed int)((char *)v4->_Mylast - *(_DWORD *)&_Where) >> 2));
      v17 = v4->_Myfirst;
      if ( v17 )
        v18 = v4->_Mylast - v17;
      else
        v18 = 0;
      v19 = v18 + v7;
      if ( v17 )
        operator delete(v4->_Myfirst);
      v4->_Myend = (int *)((char *)_Newvec + _Counta);
      v4->_Mylast = (int *)((char *)_Newvec + 4 * v19);
      v4->_Myfirst = (int *)_Newvec;
    }
  }
}

//----- (00431080) --------------------------------------------------------
void __thiscall CSingleton<CFSM>::_CSingleton<CFSM>(CSingleton<CFSM> *this)
{
  CSingleton<CFSM>::ms_pSingleton = 0;
}
// 4C4D38: using guessed type int CSingleton_CFSM___ms_pSingleton;

//----- (00431090) --------------------------------------------------------
void __thiscall CFSM::CFSM(CFSM *this)
{
  CSingleton<CFSM>::ms_pSingleton = (int)this;
  *(_DWORD *)&this->___u0.baseclass_0.dummy[0] = 0;
  this->m_lpFSMState[0] = 0;
  this->m_lpFSMState[1] = 0;
  this->m_lpFSMState[2] = 0;
  this->m_lpFSMState[3] = 0;
  this->m_lpFSMState[4] = 0;
  this->m_lpFSMState[5] = 0;
  this->m_lpFSMState[6] = 0;
  this->m_lpFSMState[7] = 0;
}
// 4C4D38: using guessed type int CSingleton_CFSM___ms_pSingleton;

//----- (004310C0) --------------------------------------------------------
void __thiscall CFSM::_CFSM(CFSM *this)
{
  CFSM *v1; // ebx@1
  CFSMState **i; // esi@1
  void *v3; // edi@2

  v1 = this + 1;
  for ( i = this->m_lpFSMState; (CFSM *)i != v1; ++i )
  {
    v3 = *i;
    if ( *i )
    {
      CFSMState::_CFSMState(*i);
      operator delete(v3);
    }
    *i = 0;
  }
  CSingleton<CFSM>::ms_pSingleton = 0;
}
// 4C4D38: using guessed type int CSingleton_CFSM___ms_pSingleton;

//----- (00431130) --------------------------------------------------------
void __thiscall AwardTable::CAward::CAward(AwardTable::CAward *this)
{
  CSingleton<AwardTable::CAward>::ms_pSingleton = (int)this;
}
// 4C4FFC: using guessed type int CSingleton_AwardTable__CAward___ms_pSingleton;

//----- (00431140) --------------------------------------------------------
void __thiscall AwardTable::CAward::_CAward(AwardTable::CAward *this)
{
  CSingleton<AwardTable::CAward>::ms_pSingleton = 0;
}
// 4C4FFC: using guessed type int CSingleton_AwardTable__CAward___ms_pSingleton;

//----- (00431150) --------------------------------------------------------
void __thiscall CFSMState::_CFSMState(CFSMState *this)
{
  CFSMState *v1; // esi@1

  v1 = this;
  if ( this->m_pdwInputs )
  {
    operator delete(this->m_pdwInputs);
    v1->m_pdwInputs = 0;
  }
  if ( v1->m_pdwOutputState )
  {
    operator delete(v1->m_pdwOutputState);
    v1->m_pdwOutputState = 0;
  }
}

//----- (00431190) --------------------------------------------------------
void __cdecl sub_431190()
{
  unknown_libname_1();
  atexit(func);
}
// 4311A0: using guessed type int unknown_libname_1(void);

//----- (004311D0) --------------------------------------------------------
void CompilerMessage2(const char *format, ...)
{
  char _Val; // [sp+0h] [bp-1000h]@1
  va_list va; // [sp+1008h] [bp+8h]@1

  va_start(va, format);
  vsprintf(&_Val, format, va);
  g_pfuncCompilerMessage(&_Val);
}
// 4709E8: using guessed type void (__cdecl *g_pfuncCompilerMessage)(const char *);

//----- (00431210) --------------------------------------------------------
void __cdecl ErrorMessage(int ap, int a2)
{
  CompilerMessage2("Error (line %d) : %s", ap, a2);
  exit(0);
}

//----- (00431230) --------------------------------------------------------
void WarningMessage2(int a1, const char *format, ...)
{
  char string; // [sp+0h] [bp-1000h]@1
  va_list va; // [sp+100Ch] [bp+Ch]@1

  va_start(va, format);
  vsprintf(&string, format, va);
  CompilerMessage2("Warning (line %d) : %s", a1, &string);
}

//----- (00431280) --------------------------------------------------------
void __cdecl ScriptSystemError(int ap)
{
  CompilerMessage2("Script System Error : %s", ap);
}

//----- (004312A0) --------------------------------------------------------
std::basic_ostream<char,std::char_traits<char> > *__cdecl DefaultMessageFunction(const char *_Val)
{
  std::basic_ostream<char,std::char_traits<char> > *v1; // esi@1

  v1 = std::operator<<<std::char_traits<char>>(&std::cout, _Val);
  std::basic_ostream<char_std::char_traits<char>>::put(v1, 10);
  return std::basic_ostream<char_std::char_traits<char>>::flush(v1);
}

//----- (004312D0) --------------------------------------------------------
void *__thiscall CCrc32::CCrc32(void *this)
{
  void *result; // eax@1
  signed int v2; // esi@1
  void *v3; // edi@1
  int v4; // edx@2
  signed int v5; // ebx@2

  result = this;
  v2 = 0;
  v3 = this;
  do
  {
    v4 = v2;
    v5 = 8;
    do
    {
      if ( v4 & 1 )
        v4 = ((unsigned int)v4 >> 1) ^ 0xEDB88320;
      else
        v4 = (unsigned int)v4 >> 1;
      --v5;
    }
    while ( v5 );
    *(_DWORD *)v3 = v4;
    ++v2;
    v3 = (char *)v3 + 4;
  }
  while ( v2 < 256 );
  return result;
}

//----- (00431320) --------------------------------------------------------
ItemDataParser::ParseData *__cdecl std::copy_backward<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>__>(ItemDataParser::ParseData *_First, ItemDataParser::ParseData *_Last, ItemDataParser::ParseData *_Dest)
{
  ItemDataParser::ParseData *v3; // ecx@1
  ItemDataParser::ParseData *result; // eax@1
  const char *v5; // esi@2

  v3 = _Last;
  for ( result = _Dest; v3 != _First; result->m_fnParseFunc = v3->m_fnParseFunc )
  {
    v5 = v3[-1].m_szColumnName;
    --v3;
    --result;
    result->m_szColumnName = v5;
  }
  return result;
}

//----- (00431350) --------------------------------------------------------
void __cdecl std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(ItemDataParser::ParseData *_First, unsigned int _Count, ItemDataParser::ParseData *_Val, std::allocator<ItemDataParser::ParseData> *_Al, std::_Nonscalar_ptr_iterator_tag __formal)
{
  unsigned int v5; // edx@2
  ItemDataParser::ParseData *v6; // eax@2

  if ( _Count )
  {
    v5 = _Count;
    v6 = _First;
    do
    {
      if ( v6 )
      {
        v6->m_szColumnName = _Val->m_szColumnName;
        v6->m_fnParseFunc = _Val->m_fnParseFunc;
      }
      ++v6;
      --v5;
    }
    while ( v5 );
  }
}

//----- (00431380) --------------------------------------------------------
void __cdecl std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Xlen()
{
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > this; // [sp+0h] [bp-50h]@1
  int (__thiscall **pExceptionObject)(void *, char); // [sp+1Ch] [bp-34h]@1
  int v2; // [sp+4Ch] [bp-4h]@1

  this._Myres = 15;
  this._Mysize = 0;
  this._Bx._Buf[0] = 0;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&this, "vector<T> too long", 0x12u);
  v2 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &this);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (004313F0) --------------------------------------------------------
void __thiscall std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Insert_n(void *this, std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator _Last, int _Count, ItemDataParser::ParseData *_Dest)
{
  bool (__cdecl *v4)(Item::ItemInfo *, const char *); // edx@1
  void *v5; // esi@1
  ItemDataParser::ParseData *v6; // ecx@1
  int v7; // eax@2
  unsigned int v8; // ebx@4
  int v9; // edx@6
  int v10; // edx@11
  int v11; // eax@15
  int v12; // edx@18
  int v13; // eax@22
  void *v14; // edi@25
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v15; // ST14_4@25
  int v16; // ecx@25
  int v17; // eax@26
  int v18; // ebx@28
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v19; // eax@31
  std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator v20; // edi@31
  bool v21; // cf@31
  unsigned int v22; // ecx@31
  unsigned int v23; // ST24_4@32
  ItemDataParser::ParseData *v24; // ST20_4@32
  int v25; // ebx@32
  ItemDataParser::ParseData *v26; // ebx@33
  std::_Nonscalar_ptr_iterator_tag v27; // [sp-4h] [bp-2Ch]@31
  int v28; // [sp+0h] [bp-28h]@1
  ItemDataParser::ParseData _Val; // [sp+Ch] [bp-1Ch]@1
  void *p; // [sp+14h] [bp-14h]@25
  int *v31; // [sp+18h] [bp-10h]@1
  int v32; // [sp+24h] [bp-4h]@25
  unsigned int _Lasta; // [sp+30h] [bp+8h]@31
  int _Counta; // [sp+34h] [bp+Ch]@25
  ItemDataParser::ParseData *_Destb; // [sp+38h] [bp+10h]@25
  ItemDataParser::ParseData *_Desta; // [sp+38h] [bp+10h]@31

  v4 = _Dest->m_fnParseFunc;
  v5 = this;
  _Val.m_szColumnName = _Dest->m_szColumnName;
  v6 = (ItemDataParser::ParseData *)*((_DWORD *)this + 1);
  v31 = &v28;
  _Val.m_fnParseFunc = v4;
  if ( v6 )
    v7 = (*((_DWORD *)v5 + 3) - (signed int)v6) >> 3;
  else
    v7 = 0;
  v8 = _Count;
  if ( _Count )
  {
    if ( v6 )
      v9 = (*((_DWORD *)v5 + 2) - (signed int)v6) >> 3;
    else
      v9 = 0;
    if ( 536870911 - v9 < (unsigned int)_Count )
      std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Xlen();
    if ( v6 )
      v10 = (*((_DWORD *)v5 + 2) - (signed int)v6) >> 3;
    else
      v10 = 0;
    if ( v7 >= (unsigned int)(_Count + v10) )
    {
      v19 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)*((_DWORD *)v5 + 2);
      v20 = _Last;
      v21 = (*((_DWORD *)v5 + 2) - *(_DWORD *)&_Last) >> 3 < (unsigned int)_Count;
      v22 = 8 * _Count;
      _Lasta = 8 * _Count;
      v27.dummy[0] = 8 * _Count;
      _Desta = (ItemDataParser::ParseData *)*((_DWORD *)v5 + 2);
      if ( v21 )
      {
        std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
          v20,
          v19,
          (ItemDataParser::ParseData *)(*(_DWORD *)&v20 + v22),
          (std::allocator<ItemDataParser::ParseData> *)v5,
          v27);
        v23 = _Count - ((*((_DWORD *)v5 + 2) - *(_DWORD *)&v20) >> 3);
        v24 = (ItemDataParser::ParseData *)*((_DWORD *)v5 + 2);
        v32 = 2;
        std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Ufill(
          (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> > *)v5,
          v24,
          v23,
          &_Val);
        v25 = _Lasta + *((_DWORD *)v5 + 2);
        *((_DWORD *)v5 + 2) = v25;
        std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(
          *(ItemDataParser::ParseData **)&v20,
          (ItemDataParser::ParseData *)(v25 - _Lasta),
          &_Val);
      }
      else
      {
        v26 = (ItemDataParser::ParseData *)(*(_DWORD *)&v19 - v22);
        *((_DWORD *)v5 + 2) = std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
                                (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)(*(_DWORD *)&v19 - v22),
                                v19,
                                *(ItemDataParser::ParseData **)&v19,
                                (std::allocator<ItemDataParser::ParseData> *)v5,
                                v27);
        std::copy_backward<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>__>(
          *(ItemDataParser::ParseData **)&v20,
          v26,
          _Desta);
        std::fill<std::pair<enum__eStdFunc_int>___std::pair<enum__eStdFunc_int>>(
          *(ItemDataParser::ParseData **)&v20,
          (ItemDataParser::ParseData *)(*(_DWORD *)&v20 + _Lasta),
          &_Val);
      }
    }
    else
    {
      if ( 536870911 - ((unsigned int)v7 >> 1) >= v7 )
        v11 = ((unsigned int)v7 >> 1) + v7;
      else
        v11 = 0;
      if ( v6 )
        v12 = (*((_DWORD *)v5 + 2) - (signed int)v6) >> 3;
      else
        v12 = 0;
      if ( v11 < (unsigned int)(_Count + v12) )
      {
        if ( v6 )
          v13 = (*((_DWORD *)v5 + 2) - (signed int)v6) >> 3;
        else
          v13 = 0;
        v11 = _Count + v13;
      }
      _Counta = 8 * v11;
      v14 = operator new(8 * v11);
      v15 = (std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator)*((_DWORD *)v5 + 1);
      p = v14;
      v32 = 0;
      _Destb = std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
                 v15,
                 _Last,
                 (ItemDataParser::ParseData *)v14,
                 (std::allocator<ItemDataParser::ParseData> *)v5,
                 (std::_Nonscalar_ptr_iterator_tag)_Last.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
        _Destb,
        v8,
        &_Val,
        (std::allocator<ItemDataParser::ParseData> *)v5,
        (std::_Nonscalar_ptr_iterator_tag)_Last.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      std::_Uninit_copy<std::vector<ItemDataParser::ParseData_std::allocator<ItemDataParser::ParseData>>::iterator_ItemDataParser::ParseData___std::allocator<ItemDataParser::ParseData>>(
        _Last,
        *((std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator *)v5 + 2),
        &_Destb[v8],
        (std::allocator<ItemDataParser::ParseData> *)v5,
        (std::_Nonscalar_ptr_iterator_tag)_Last.baseclass_0.___u0.baseclass_0.baseclass_0.dummy[0]);
      v16 = *((_DWORD *)v5 + 1);
      if ( v16 )
        v17 = (*((_DWORD *)v5 + 2) - v16) >> 3;
      else
        v17 = 0;
      v18 = v17 + v8;
      if ( v16 )
        operator delete(*((void **)v5 + 1));
      *((_DWORD *)v5 + 3) = (char *)v14 + _Counta;
      *((_DWORD *)v5 + 2) = (char *)v14 + 8 * v18;
      *((_DWORD *)v5 + 1) = v14;
    }
  }
}

//----- (00431640) --------------------------------------------------------
void __thiscall std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::push_back(void *this, ItemDataParser::ParseData *__formal)
{
  void *v2; // esi@1
  ItemDataParser::ParseData *v3; // edx@1
  signed int v4; // ecx@2
  int v5; // edi@6

  v2 = this;
  v3 = (ItemDataParser::ParseData *)*((_DWORD *)this + 1);
  if ( v3 )
    v4 = (*((_DWORD *)this + 2) - (signed int)v3) >> 3;
  else
    v4 = 0;
  if ( v3 && v4 < (unsigned int)((*((_DWORD *)v2 + 3) - (signed int)v3) >> 3) )
  {
    v5 = *((_DWORD *)v2 + 2);
    std::_Uninit_fill_n<std::pair<enum__eStdFunc_int>___unsigned_int_std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>(
      *((ItemDataParser::ParseData **)v2 + 2),
      1u,
      __formal,
      (std::allocator<ItemDataParser::ParseData> *)v2,
      (std::_Nonscalar_ptr_iterator_tag)__formal);
    *((_DWORD *)v2 + 2) = v5 + 8;
  }
  else
  {
    std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::_Insert_n(
      v2,
      *((std::vector<ItemDataParser::ParseData,std::allocator<ItemDataParser::ParseData> >::iterator *)v2 + 2),
      1,
      __formal);
  }
}

//----- (004316B0) --------------------------------------------------------
void __thiscall CRelocTable::AddGlobalVar(void *this, int _Val)
{
  int v2; // ecx@1
  int v3; // esi@1
  int v4; // edx@2
  int v5; // eax@6

  v2 = *(_DWORD *)this;
  v3 = *(_DWORD *)(v2 + 4);
  if ( v3 )
    v4 = (*(_DWORD *)(v2 + 8) - v3) >> 2;
  else
    v4 = 0;
  if ( v3 && v4 < (unsigned int)((*(_DWORD *)(v2 + 12) - v3) >> 2) )
  {
    v5 = *(_DWORD *)(v2 + 8);
    *(_DWORD *)v5 = _Val;
    *(_DWORD *)(v2 + 8) = v5 + 4;
  }
  else
  {
    std::vector<int_std::allocator<int>>::_Insert_n(
      (std::vector<int,std::allocator<int> > *)v2,
      *(std::vector<int,std::allocator<int> >::iterator *)(v2 + 8),
      1u,
      &_Val);
  }
}

//----- (00431700) --------------------------------------------------------
void __thiscall CRelocTable::AddConstString(int this, int _Val)
{
  int v2; // ecx@1
  int v3; // esi@1
  int v4; // edx@2
  int v5; // eax@6

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(v2 + 4);
  if ( v3 )
    v4 = (*(_DWORD *)(v2 + 8) - v3) >> 2;
  else
    v4 = 0;
  if ( v3 && v4 < (unsigned int)((*(_DWORD *)(v2 + 12) - v3) >> 2) )
  {
    v5 = *(_DWORD *)(v2 + 8);
    *(_DWORD *)v5 = _Val;
    *(_DWORD *)(v2 + 8) = v5 + 4;
  }
  else
  {
    std::vector<int_std::allocator<int>>::_Insert_n(
      (std::vector<int,std::allocator<int> > *)v2,
      *(std::vector<int,std::allocator<int> >::iterator *)(v2 + 8),
      1u,
      &_Val);
  }
}

//----- (00431750) --------------------------------------------------------
void __thiscall CRelocTable::AddFuncBind(int this, int a2, int a3)
{
  void *v3; // ecx@1
  int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@1

  v3 = *(void **)(this + 8);
  v4 = a2;
  v5 = a3;
  std::vector<std::pair<enum__eStdFunc_int>_std::allocator<std::pair<enum__eStdFunc_int>>>::push_back(
    v3,
    (ItemDataParser::ParseData *)&v4);
}

//----- (00431780) --------------------------------------------------------
int __stdcall CSymbolTable::GetTypeOfVar(int a1)
{
  return *(_DWORD *)(a1 + 28);
}

//----- (00431790) --------------------------------------------------------
int __stdcall CSymbolTable::GetOffsetOfConst(int a1)
{
  return *(_DWORD *)(a1 + 32);
}

//----- (004317A0) --------------------------------------------------------
int __stdcall CSymbolTable::GetOffsetOfVar(int a1)
{
  return *(_DWORD *)(a1 + 36);
}

//----- (004317B0) --------------------------------------------------------
int __stdcall CSymbolTable::GetTypeOfFunc(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = *(_DWORD *)(a2 + 28);
  return result;
}

//----- (004317C0) --------------------------------------------------------
int __thiscall SFuncType::GetArgCount(void *this)
{
  unsigned int v1; // esi@1
  int result; // eax@1
  signed int v3; // ecx@1

  v1 = *(_DWORD *)this;
  result = 0;
  v3 = 0;
  do
  {
    if ( !((v1 >> v3) & 0xF) )
      break;
    v3 += 4;
    ++result;
  }
  while ( v3 < 28 );
  return result;
}

//----- (004317E0) --------------------------------------------------------
int __thiscall SFuncType::ToString(void *this, int a2)
{
  void *v2; // ebx@1
  char *v3; // esi@1
  int v4; // esi@2
  signed int v5; // edi@2
  int result; // eax@5

  v2 = this;
  v3 = &byte_4C7D00[sprintf(byte_4C7D00, "%s %s(")];
  if ( *(_DWORD *)v2 & 0xF )
  {
    v4 = (int)&v3[sprintf(v3, " %s")];
    v5 = 4;
    do
    {
      if ( !((*(_DWORD *)v2 >> v5) & 0xF) )
        break;
      v5 += 4;
      v4 += sprintf((char *)v4, ", %s");
    }
    while ( v5 < 28 );
    *(_WORD *)v4 = 32;
    *(_WORD *)(v4 + 1) = 41;
    result = (int)byte_4C7D00;
  }
  else
  {
    *(_WORD *)v3 = 41;
    result = (int)byte_4C7D00;
  }
  return result;
}

//----- (00431890) --------------------------------------------------------
int __stdcall CSymbolTable::GetNameOfVar(int a1)
{
  int result; // eax@2

  if ( *(_DWORD *)(a1 + 24) < 0x10u )
    result = a1 + 4;
  else
    result = *(_DWORD *)(a1 + 4);
  return result;
}

//----- (004318B0) --------------------------------------------------------
int __stdcall CSymbolTable::GetTypeStringOfFunc(int a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = a1;
  a1 = *(_DWORD *)(a1 + 28);
  if ( *(_DWORD *)(v1 + 24) < 0x10u )
    result = SFuncType::ToString(&a1, v1 + 4);
  else
    result = SFuncType::ToString(&a1, *(_DWORD *)(v1 + 4));
  return result;
}

//----- (004318F0) --------------------------------------------------------
int __thiscall CSymbolTable::GetLocalVarSize(int this, int a2)
{
  int v2; // edx@1
  int v3; // ecx@1
  int result; // eax@1
  int v5; // ecx@5
  int v6; // esi@7
  int v7; // edx@7
  int v8; // ecx@9
  int j; // ecx@10
  int i; // ecx@13

  v2 = *(_DWORD *)(*(_DWORD *)(this + 8) + 4);
  v3 = *(_DWORD *)v2;
  result = 0;
  if ( *(_DWORD *)v2 == v2 )
    goto LABEL_20;
  while ( *(_DWORD *)(v3 + 8) != a2 )
  {
    v3 = *(_DWORD *)v3;
    if ( v3 == v2 )
    {
      ScriptSystemError((int)&"");
      return 0;
    }
  }
  v5 = v3 + 24;
  if ( v5 )
  {
    v6 = *(_DWORD *)(v5 + 4);
    v7 = *(_DWORD *)v6;
    while ( v7 != v6 )
    {
      result += 4 * *(_DWORD *)(v7 + 44);
      if ( !*(_BYTE *)(v7 + 53) )
      {
        v8 = *(_DWORD *)(v7 + 8);
        if ( *(_BYTE *)(v8 + 53) )
        {
          for ( i = *(_DWORD *)(v7 + 4); !*(_BYTE *)(i + 53); i = *(_DWORD *)(i + 4) )
          {
            if ( v7 != *(_DWORD *)(i + 8) )
              break;
            v7 = i;
          }
          v7 = i;
        }
        else
        {
          v7 = *(_DWORD *)(v7 + 8);
          for ( j = *(_DWORD *)v8; !*(_BYTE *)(j + 53); j = *(_DWORD *)j )
            v7 = j;
        }
      }
    }
  }
  else
  {
LABEL_20:
    ScriptSystemError((int)&"");
    result = 0;
  }
  return result;
}
// 4613A0: using guessed type char asc_4613A0;

//----- (004319A0) --------------------------------------------------------
void __cdecl GenCode_Error_Statement(int ap)
{
  ErrorMessage(*(_DWORD *)ap, (int)"Error Statement");
}

//----- (004319C0) --------------------------------------------------------
void *__thiscall IOPCode::_vector_deleting_destructor_(void *p, char a2)
{
  void *v2; // esi@1

  v2 = p;
  *(_DWORD *)p = &IOPCode::_vftable_;
  if ( a2 & 1 )
    operator delete(p);
  return v2;
}
// 463BC4: using guessed type int (__thiscall *IOPCode___vftable_)(void *p, char);

//----- (004319E0) --------------------------------------------------------
void __cdecl GenCode_FirstChild_Generate(int a1)
{
  JUMPOUT(__CS__, *(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)));
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00431A00) --------------------------------------------------------
void __cdecl GenCode_SecondChild_Generate(int a1)
{
  JUMPOUT(__CS__, *(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 12) + 4)));
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00431A20) --------------------------------------------------------
void __cdecl GenCode_TwoChild_Generate(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_431A39);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00431A50) --------------------------------------------------------
int std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(...)
{
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *result; // eax@1

  result = (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)operator new(0x18u);
  if ( result )
  {
    result->_Left = _Larg;
    result->_Right = _Rarg;
    result->_Parent = _Parg;
    result->_Myval.first = _Val->first;
    *(_DWORD *)&result->_Myval.second = *(_DWORD *)&_Val->second;
    result->_Color = _Carg;
    result->_Isnil = 0;
  }
  return result;
}

//----- (00431A90) --------------------------------------------------------
int __cdecl HandleMARK(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int i; // esi@1
  int v6; // eax@3

  result = a2;
  for ( i = a1; i != a2; i = *(_DWORD *)i )
  {
    if ( *(_DWORD *)(i + 8) == a4 )
    {
      v6 = (int)operator new(0xCu);
      if ( v6 )
        result = COP_jmp::COP_jmp(v6, a3);
      else
        result = 0;
      *(_DWORD *)(i + 8) = result;
    }
  }
  return result;
}

//----- (00431B10) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::_Insert(std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *this, int a2, char a3, std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Parg, std::pair<enum Item::ItemType::Type const ,unsigned char> *_Val)
{
  std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *v5; // edi@1
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v6; // ecx@4
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v7; // eax@4
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v8; // eax@7
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *v9; // eax@9
  int v10; // eax@11
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v11; // esi@11
  int v12; // ecx@12
  int v13; // ebp@12
  int v14; // edx@12
  int result; // eax@24
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+8h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+24h] [bp-34h]@2
  int v18; // [sp+54h] [bp-4h]@2
  std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *_Vala; // [sp+68h] [bp+10h]@4

  v5 = this;
  if ( this->_Mysize >= 0x1FFFFFFE )
  {
    thisa._Myres = 15;
    thisa._Mysize = 0;
    thisa._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&thisa, "map/set<T> too long", 0x13u);
    v18 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  v6 = std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Buynode(
         this,
         this->_Myhead,
         _Parg,
         this->_Myhead,
         _Val,
         0);
  v7 = v5->_Myhead;
  _Vala = v6;
  ++v5->_Mysize;
  if ( _Parg == v7 )
  {
    v7->_Parent = v6;
    v5->_Myhead->_Left = v6;
    v5->_Myhead->_Right = v6;
  }
  else
  {
    if ( a3 )
    {
      _Parg->_Left = v6;
      v8 = v5->_Myhead;
      if ( _Parg == v8->_Left )
        v8->_Left = v6;
    }
    else
    {
      _Parg->_Right = v6;
      v9 = v5->_Myhead;
      if ( _Parg == v9->_Right )
        v9->_Right = v6;
    }
  }
  v10 = (int)&v6->_Parent;
  v11 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)v6;
  if ( !v6->_Parent->_Color )
  {
    while ( 1 )
    {
      v12 = *(_DWORD *)v10;
      v13 = *(_DWORD *)(*(_DWORD *)v10 + 4);
      v14 = *(_DWORD *)v13;
      if ( *(_DWORD *)v10 == *(_DWORD *)v13 )
      {
        v14 = *(_DWORD *)(v13 + 8);
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(v12 + 8) )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      else
      {
        if ( *(_BYTE *)(v14 + 20) )
        {
          if ( v11 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v12 )
          {
            v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10;
            std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
              *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)v10);
          }
          v11->_Parent->_Color = 1;
          v11->_Parent->_Parent->_Color = 0;
          std::_Tree<std::_Tmap_traits<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>_0>>::_Lrotate(
            (std::_Tree<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> > *)v5,
            v11->_Parent->_Parent);
          goto LABEL_22;
        }
      }
      *(_BYTE *)(*(_DWORD *)v10 + 20) = 1;
      *(_BYTE *)(v14 + 20) = 1;
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)v10 + 4) + 20) = 0;
      v11 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node **)(*(_DWORD *)v10 + 4);
LABEL_22:
      v10 = (int)&v11->_Parent;
      if ( v11->_Parent->_Color )
      {
        v6 = _Vala;
        break;
      }
    }
  }
  result = a2;
  v5->_Myhead->_Parent->_Color = 1;
  *(_DWORD *)a2 = v6;
  return result;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00431CC0) --------------------------------------------------------
int __thiscall std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(int ecx0, unsigned int a2)
{
  int v2; // eax@1
  int result; // eax@4
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > this; // [sp+4h] [bp-50h]@2
  int (__thiscall **pExceptionObject)(void *, char); // [sp+20h] [bp-34h]@2
  int v6; // [sp+50h] [bp-4h]@2

  v2 = *(_DWORD *)(ecx0 + 8);
  if ( 1073741823 - v2 < a2 )
  {
    this._Myres = 15;
    this._Mysize = 0;
    this._Bx._Buf[0] = 0;
    std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&this, "list<T> too long", 0x10u);
    v6 = 0;
    std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &this);
    pExceptionObject = &std::length_error::_vftable_;
    _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
  }
  result = a2 + v2;
  *(_DWORD *)(ecx0 + 8) = result;
  return result;
}
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (00431D60) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::insert(void *this, int a2, std::pair<enum Item::ItemType::Type const ,unsigned char> *_Val)
{
  std::pair<enum Item::ItemType::Type const ,unsigned char> *v3; // ebp@1
  void *v4; // edi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v5; // esi@1
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v6; // eax@1
  bool v7; // cl@1
  Item::ItemType::Type v8; // edx@2
  std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *v9; // edx@7
  int v10; // edx@9
  int result; // eax@9
  int v12; // ecx@12
  bool v13; // [sp+Ch] [bp-4h]@1

  v3 = _Val;
  v4 = this;
  v5 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)*((_DWORD *)this + 1);
  v6 = v5->_Parent;
  v7 = 1;
  v13 = 1;
  if ( !v6->_Isnil )
  {
    v8 = _Val->first;
    do
    {
      v7 = v8 < (const signed int)v6->_Myval.first;
      v5 = v6;
      v13 = v8 < (const signed int)v6->_Myval.first;
      if ( v8 >= (const signed int)v6->_Myval.first )
        v6 = v6->_Right;
      else
        v6 = v6->_Left;
    }
    while ( !v6->_Isnil );
  }
  v9 = v5;
  _Val = (std::pair<enum Item::ItemType::Type const ,unsigned char> *)v5;
  if ( v7 )
  {
    if ( v5 == **((std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node ***)v4
                + 1) )
    {
      v10 = *(_DWORD *)std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::_Insert(
                         (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *)v4,
                         (int)&_Val,
                         1,
                         (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v5,
                         v3);
      result = a2;
      *(_BYTE *)(a2 + 4) = 1;
      *(_DWORD *)a2 = v10;
      return result;
    }
    std::_Tree<std::_Tmap_traits<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>_0>>::const_iterator::_Dec((std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::const_iterator *)&_Val);
    v9 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,CCell *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CCell *> >,0> >::_Node *)_Val;
  }
  if ( (const signed int)v9->_Myval.first >= v3->first )
  {
    result = a2;
    *(_BYTE *)(a2 + 4) = 0;
    *(_DWORD *)a2 = v9;
  }
  else
  {
    v12 = *(_DWORD *)std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::_Insert(
                       (std::_Tree<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> > *)v4,
                       (int)&_Val,
                       v13,
                       (std::_Tree_nod<std::_Tmap_traits<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> >,0> >::_Node *)v5,
                       v3);
    result = a2;
    *(_DWORD *)a2 = v12;
    *(_BYTE *)(a2 + 4) = 1;
  }
  return result;
}

//----- (00431E20) --------------------------------------------------------
int __thiscall std::list<IOPCode___std::allocator<IOPCode__>>::push_back(int this, LogBuffer **_Val)
{
  int v2; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // edi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ebx@1
  int result; // eax@1

  v2 = this;
  v3 = *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(this + 4);
  v4 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
         (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)this,
         *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(this + 4),
         v3->_Prev,
         _Val);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
  v3->_Prev = v4;
  v4->_Prev->_Next = v4;
  return result;
}

//----- (00431E60) --------------------------------------------------------
int __cdecl GenCode_DataTypeToString(int _Val, int a2)
{
  int result; // eax@3
  void *v3; // eax@4
  int v4; // eax@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // esi@7
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // edx@7
  signed int v7; // ebx@7
  int v8; // ebp@7
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v9; // edi@7
  void *v10; // eax@7
  int v11; // eax@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v12; // esi@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v13; // ST04_4@10
  int v14; // ebp@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v15; // edi@10
  void *v16; // eax@10
  int v17; // eax@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // esi@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v19; // ST04_4@13
  int v20; // ebp@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // edi@13
  void *v22; // eax@13
  int v23; // eax@14
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v24; // esi@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v25; // ST04_4@16
  int v26; // ebp@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v27; // edi@16
  void *v28; // eax@16
  int v29; // eax@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v30; // esi@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // edx@19
  int v32; // ebx@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v33; // edi@19
  void *v34; // eax@20
  int v35; // eax@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v36; // esi@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v37; // edx@23
  int v38; // ebp@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v39; // edi@23
  void *v40; // eax@23
  void *v41; // eax@25
  int v42; // eax@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v43; // esi@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v44; // ST04_4@28
  int v45; // ebp@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v46; // edi@28
  void *v47; // eax@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v48; // esi@31
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v49; // ST04_4@31
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v50; // ST00_4@31
  int v51; // ebp@31
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v52; // edi@31
  int v53; // eax@31
  int v54; // eax@32
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v55; // esi@34
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v56; // edx@34
  int v57; // ebp@34
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v58; // edi@34
  int v59; // eax@34
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v60; // esi@37
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v61; // ST04_4@37
  int v62; // ebp@37
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v63; // edi@37
  int v64; // eax@37
  int v65; // eax@38
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v66; // esi@40
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v67; // ST04_4@40
  int v68; // ebp@40
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v69; // edi@40
  void *v70; // eax@40
  int v71; // eax@41
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v72; // esi@43
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v73; // edx@43
  int v74; // ebp@43
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v75; // edi@43
  void *v76; // eax@43
  int v77; // eax@44
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v78; // esi@46
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v79; // ST04_4@46
  int v80; // ebx@46
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v81; // edi@46
  int v82; // [sp+10h] [bp-14h]@31
  int v83; // [sp+14h] [bp-10h]@31
  int v84; // [sp+20h] [bp-4h]@4

  if ( _Val != 1 )
  {
    if ( _Val == 2 )
    {
      v34 = operator new(0x14u);
      _Val = (int)v34;
      v84 = 0;
      if ( v34 )
        v35 = COP_itoa::COP_itoa((int)v34, a2, CONVERSIONBUFFER);
      else
        v35 = 0;
      v36 = dword_4C8DD4->_Myhead;
      v37 = v36->_Prev;
      _Val = v35;
      v7 = -1;
      v84 = -1;
      v38 = (int)dword_4C8DD4;
      v39 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v36, v37, (LogBuffer *const *)&_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v38, 1u);
      v36->_Prev = v39;
      v39->_Prev->_Next = v39;
      v40 = operator new(0x1Cu);
      _Val = (int)v40;
      v84 = 1;
      if ( v40 )
      {
        v29 = COP_mov::COP_mov((int)v40, a2, 0, CONVERSIONBUFFER);
        goto LABEL_19;
      }
    }
    else
    {
      result = _Val - 3;
      if ( _Val != 3 )
        return result;
      v3 = operator new(0x1Cu);
      _Val = (int)v3;
      v84 = 2;
      if ( v3 )
        v4 = COP_mov::COP_mov((int)v3, 0, FLOATTEMP, a2);
      else
        v4 = 0;
      v5 = dword_4C8DD4->_Myhead;
      v6 = v5->_Prev;
      _Val = v4;
      v7 = -1;
      v84 = -1;
      v8 = (int)dword_4C8DD4;
      v9 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v6, (LogBuffer *const *)&_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v8, 1u);
      v5->_Prev = v9;
      v9->_Prev->_Next = v9;
      v10 = operator new(0x10u);
      _Val = (int)v10;
      v84 = 3;
      if ( v10 )
        v11 = COP_fld::COP_fld((int)v10, 0, FLOATTEMP);
      else
        v11 = 0;
      v12 = dword_4C8DD4->_Myhead;
      _Val = v11;
      v13 = v12->_Prev;
      v84 = -1;
      v14 = (int)dword_4C8DD4;
      v15 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v12, v13, (LogBuffer *const *)&_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v14, 1u);
      v12->_Prev = v15;
      v15->_Prev->_Next = v15;
      v16 = operator new(0x14u);
      _Val = (int)v16;
      v84 = 4;
      if ( v16 )
        v17 = COP_fstp::COP_fstp((int)v16, 0, FLOATTEMP, 1);
      else
        v17 = 0;
      v18 = dword_4C8DD4->_Myhead;
      _Val = v17;
      v19 = v18->_Prev;
      v84 = -1;
      v20 = (int)dword_4C8DD4;
      v21 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v18, v19, (LogBuffer *const *)&_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v20, 1u);
      v18->_Prev = v21;
      v21->_Prev->_Next = v21;
      v22 = operator new(0x14u);
      _Val = (int)v22;
      v84 = 5;
      if ( v22 )
        v23 = COP_ftoa::COP_ftoa((int)v22, a2, FLOATTEMP, CONVERSIONBUFFER);
      else
        v23 = 0;
      v24 = dword_4C8DD4->_Myhead;
      _Val = v23;
      v25 = v24->_Prev;
      v84 = -1;
      v26 = (int)dword_4C8DD4;
      v27 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v24, v25, (LogBuffer *const *)&_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v26, 1u);
      v24->_Prev = v27;
      v27->_Prev->_Next = v27;
      v28 = operator new(0x1Cu);
      _Val = (int)v28;
      v84 = 6;
      if ( v28 )
      {
        v29 = COP_mov::COP_mov((int)v28, a2, 0, CONVERSIONBUFFER);
LABEL_19:
        v30 = dword_4C8DD4->_Myhead;
        v31 = v30->_Prev;
        _Val = v29;
        v84 = v7;
        v32 = (int)dword_4C8DD4;
        v33 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
                dword_4C8DD4,
                v30,
                v31,
                (LogBuffer *const *)&_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v32, 1u);
        v30->_Prev = v33;
        result = (int)v33->_Prev;
        *(_DWORD *)result = v33;
        return result;
      }
    }
    v29 = 0;
    goto LABEL_19;
  }
  v41 = operator new(0x18u);
  _Val = (int)v41;
  v84 = 7;
  if ( v41 )
    v42 = COP_cmp::COP_cmp((int)v41, a2, 0);
  else
    v42 = 0;
  v43 = dword_4C8DD4->_Myhead;
  _Val = v42;
  v44 = v43->_Prev;
  v84 = -1;
  v45 = (int)dword_4C8DD4;
  v46 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v43, v44, (LogBuffer *const *)&_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v45, 1u);
  v43->_Prev = v46;
  v46->_Prev->_Next = v46;
  v47 = operator new(0x10u);
  _Val = (int)v47;
  v84 = 8;
  if ( v47 )
    _Val = COP_jcc::COP_jcc((int)v47, 4);
  else
    _Val = 0;
  v82 = _Val;
  v48 = dword_4C8DD4->_Myhead;
  v49 = v48->_Prev;
  v50 = dword_4C8DD4->_Myhead;
  v84 = -1;
  v51 = (int)dword_4C8DD4;
  v52 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v50, v49, (LogBuffer *const *)&v82);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v51, 1u);
  v48->_Prev = v52;
  v52->_Prev->_Next = v52;
  v53 = (int)operator new(0x1Cu);
  v83 = v53;
  v84 = 9;
  if ( v53 )
    v54 = COP_mov::COP_mov(v53, a2, 0, STRINGTRUE);
  else
    v54 = 0;
  v55 = dword_4C8DD4->_Myhead;
  v56 = v55->_Prev;
  v82 = v54;
  v84 = -1;
  v57 = (int)dword_4C8DD4;
  v58 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v55, v56, (LogBuffer *const *)&v82);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v57, 1u);
  v55->_Prev = v58;
  v58->_Prev->_Next = v58;
  v59 = (int)operator new(0xCu);
  v83 = v59;
  v84 = 10;
  if ( v59 )
    v82 = COP_jmp::COP_jmp(v59);
  else
    v82 = 0;
  v60 = dword_4C8DD4->_Myhead;
  v83 = v82;
  v61 = v60->_Prev;
  v84 = -1;
  v62 = (int)dword_4C8DD4;
  v63 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v60, v61, (LogBuffer *const *)&v83);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v62, 1u);
  v60->_Prev = v63;
  v63->_Prev->_Next = v63;
  v64 = (int)operator new(0xCu);
  v83 = v64;
  v84 = 11;
  if ( v64 )
    v65 = COP_jmpmark::COP_jmpmark(v64, _Val);
  else
    v65 = 0;
  v66 = dword_4C8DD4->_Myhead;
  _Val = v65;
  v67 = v66->_Prev;
  v84 = -1;
  v68 = (int)dword_4C8DD4;
  v69 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v66, v67, (LogBuffer *const *)&_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v68, 1u);
  v66->_Prev = v69;
  v69->_Prev->_Next = v69;
  v70 = operator new(0x1Cu);
  _Val = (int)v70;
  v84 = 12;
  if ( v70 )
    v71 = COP_mov::COP_mov((int)v70, a2, 0, STRINGFALSE);
  else
    v71 = 0;
  v72 = dword_4C8DD4->_Myhead;
  v73 = v72->_Prev;
  _Val = v71;
  v84 = -1;
  v74 = (int)dword_4C8DD4;
  v75 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v72, v73, (LogBuffer *const *)&_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v74, 1u);
  v72->_Prev = v75;
  v75->_Prev->_Next = v75;
  v76 = operator new(0xCu);
  _Val = (int)v76;
  v84 = 13;
  if ( v76 )
    v77 = COP_jmpmark::COP_jmpmark((int)v76, v82);
  else
    v77 = 0;
  v78 = dword_4C8DD4->_Myhead;
  _Val = v77;
  v79 = v78->_Prev;
  v84 = -1;
  v80 = (int)dword_4C8DD4;
  v81 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v78, v79, (LogBuffer *const *)&_Val);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v80, 1u);
  v78->_Prev = v81;
  v81->_Prev->_Next = v81;
  return result;
}
// 4C8DF0: using guessed type int FLOATTEMP;
// 4C8DF4: using guessed type int STRINGTRUE;
// 4C8DF8: using guessed type int STRINGFALSE;
// 4C8DFC: using guessed type int CONVERSIONBUFFER;

//----- (00432430) --------------------------------------------------------
void __cdecl GenCode_If_Statement(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43245E);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (004325B0) --------------------------------------------------------
void __cdecl GenCode_If_Else_Statement(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_4325DC);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00432810) --------------------------------------------------------
void __cdecl GenCode_Switch_Statement(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_432840);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00432BF0) --------------------------------------------------------
void __cdecl GenCode_For_Statement(int a1)
{
  int v1; // ecx@1
  int v2; // eax@1
  int v3; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // esi@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // ST04_4@6
  int v6; // ebp@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@6
  int v8; // eax@6
  int v9; // eax@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v10; // esi@12
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // ST04_4@12
  int v12; // ebp@12
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v13; // edi@12
  int v14; // eax@12
  int v15; // eax@14
  int v16; // eax@15
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v17; // esi@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // edx@17
  int v19; // ebp@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v20; // edi@17
  int v21; // ecx@17
  int v22; // eax@17
  int v23; // eax@18
  int v24; // eax@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v25; // esi@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v26; // edx@21
  int v27; // ebp@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v28; // edi@21
  int v29; // eax@21
  int v30; // eax@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // esi@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v32; // edx@24
  int v33; // ebp@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v34; // edi@24
  int v35; // [sp+10h] [bp-1Ch]@4
  int v36; // [sp+14h] [bp-18h]@7
  LogBuffer *_Val; // [sp+18h] [bp-14h]@6
  LogBuffer *v38; // [sp+1Ch] [bp-10h]@3
  int v39; // [sp+28h] [bp-4h]@3

  v1 = *(_DWORD *)(a1 + 8);
  v2 = *(_DWORD *)(v1 + 8);
  if ( v2 )
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(v2 + 4)))((CBuffer *)v1);
  v3 = (int)operator new(0xCu);
  v38 = (LogBuffer *)v3;
  v39 = 0;
  if ( v3 )
    v35 = COP_jmp::COP_jmp(v3);
  else
    v35 = 0;
  v4 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v35;
  v5 = v4->_Prev;
  v39 = -1;
  v6 = (int)dword_4C8DD4;
  v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v4, v5, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v6, 1u);
  v4->_Prev = v7;
  v7->_Prev->_Next = v7;
  v8 = (int)operator new(0xCu);
  v38 = (LogBuffer *)v8;
  v39 = 1;
  if ( v8 )
    v36 = COP_jmp::COP_jmp(v8);
  else
    v36 = 0;
  v39 = -1;
  v9 = (int)operator new(0xCu);
  v38 = (LogBuffer *)v9;
  v39 = 2;
  if ( v9 )
    _Val = (LogBuffer *)COP_jmpmark::COP_jmpmark(v9, v36);
  else
    _Val = 0;
  v10 = dword_4C8DD4->_Myhead;
  v38 = _Val;
  v11 = v10->_Prev;
  v39 = -1;
  v12 = (int)dword_4C8DD4;
  v13 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v10, v11, &v38);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v12, 1u);
  v10->_Prev = v13;
  v13->_Prev->_Next = v13;
  v14 = *(_DWORD *)(a1 + 8);
  if ( v14 )
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(v14 + 16) + 4)))(*(CBuffer **)(*(_DWORD *)(v14 + 16) + 4));
  v15 = (int)operator new(0xCu);
  v38 = (LogBuffer *)v15;
  v39 = 3;
  if ( v15 )
    v16 = COP_jmpmark::COP_jmpmark(v15, v35);
  else
    v16 = 0;
  v17 = dword_4C8DD4->_Myhead;
  v18 = v17->_Prev;
  v38 = (LogBuffer *)v16;
  v39 = -1;
  v19 = (int)dword_4C8DD4;
  v20 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v17, v18, &v38);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v19, 1u);
  v17->_Prev = v20;
  v20->_Prev->_Next = v20;
  v21 = *(_DWORD *)(a1 + 8);
  v22 = *(_DWORD *)(v21 + 12);
  if ( v22 )
  {
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(v22 + 4)))((CBuffer *)v21);
    v23 = (int)operator new(0x18u);
    v38 = (LogBuffer *)v23;
    v39 = 4;
    if ( v23 )
      v24 = COP_cmp::COP_cmp(v23, 1, 0);
    else
      v24 = 0;
    v25 = dword_4C8DD4->_Myhead;
    v26 = v25->_Prev;
    v38 = (LogBuffer *)v24;
    v39 = -1;
    v27 = (int)dword_4C8DD4;
    v28 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v25, v26, &v38);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v27, 1u);
    v25->_Prev = v28;
    v28->_Prev->_Next = v28;
    v29 = (int)operator new(0x10u);
    v38 = (LogBuffer *)v29;
    v39 = 5;
    if ( v29 )
      v30 = COP_jcc::COP_jcc(v29, 4);
    else
      v30 = 0;
    v31 = dword_4C8DD4->_Myhead;
    v32 = v31->_Prev;
    v38 = (LogBuffer *)v30;
    v39 = -1;
    v33 = (int)dword_4C8DD4;
    v34 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v31, v32, &v38);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v33, 1u);
    v31->_Prev = v34;
    v34->_Prev->_Next = v34;
  }
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 12) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 12) + 4));
  JUMPOUT(loc_432EA2);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00432FC0) --------------------------------------------------------
void __cdecl GenCode_While_Statement(int a1)
{
  void *v1; // eax@1
  void *v2; // eax@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // esi@7
  int v4; // ebx@7
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // edi@7
  int v6; // [sp+10h] [bp-18h]@2
  int v7; // [sp+14h] [bp-14h]@5
  LogBuffer *_Val; // [sp+18h] [bp-10h]@1
  int v9; // [sp+24h] [bp-4h]@1

  v1 = operator new(0xCu);
  _Val = (LogBuffer *)v1;
  v9 = 0;
  if ( v1 )
    v6 = COP_jmp::COP_jmp((int)v1);
  else
    v6 = 0;
  v2 = operator new(0xCu);
  _Val = (LogBuffer *)v2;
  v9 = 1;
  if ( v2 )
    v7 = COP_jmpmark::COP_jmpmark((int)v2, v6);
  else
    v7 = 0;
  v9 = -1;
  v3 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v7;
  v4 = (int)dword_4C8DD4;
  v5 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v3, v3->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v4, 1u);
  v3->_Prev = v5;
  v5->_Prev->_Next = v5;
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_433089);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00433260) --------------------------------------------------------
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall GenCode_Break_Statement(LogBuffer *this)
{
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v1; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v2; // ST04_4@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // ST00_4@1
  int v4; // ebx@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // edi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *result; // eax@1
  LogBuffer *_Val; // [sp+0h] [bp-4h]@1

  _Val = this;
  v1 = dword_4C8DD4->_Myhead;
  v2 = v1->_Prev;
  v3 = dword_4C8DD4->_Myhead;
  _Val = 0;
  v4 = (int)dword_4C8DD4;
  v5 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v3, v2, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v4, 1u);
  v1->_Prev = v5;
  result = v5->_Prev;
  result->_Next = v5;
  return result;
}

//----- (004332A0) --------------------------------------------------------
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__thiscall GenCode_Continue_Statement(LogBuffer *this)
{
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v1; // esi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v2; // ST04_4@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // ST00_4@1
  int v4; // ebx@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // edi@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *result; // eax@1
  LogBuffer *_Val; // [sp+0h] [bp-4h]@1

  _Val = this;
  v1 = dword_4C8DD4->_Myhead;
  v2 = v1->_Prev;
  v3 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)1;
  v4 = (int)dword_4C8DD4;
  v5 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v3, v2, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v4, 1u);
  v1->_Prev = v5;
  result = v5->_Prev;
  result->_Next = v5;
  return result;
}

//----- (004332E0) --------------------------------------------------------
int __cdecl GenCode_Return_Statement(signed int _Val)
{
  int v1; // eax@1
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v2; // esi@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // ST04_4@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // ST00_4@3
  int v5; // ebx@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // edi@3
  int result; // eax@3

  v1 = *(_DWORD *)(_Val + 8);
  if ( v1 )
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(v1 + 4)))(*(CBuffer **)(v1 + 4));
  v2 = dword_4C8DD4->_Myhead;
  v3 = v2->_Prev;
  v4 = dword_4C8DD4->_Myhead;
  _Val = 2;
  v5 = (int)dword_4C8DD4;
  v6 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v4, v3, (LogBuffer *const *)&_Val);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v5, 1u);
  v2->_Prev = v6;
  v6->_Prev->_Next = v6;
  return result;
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00433340) --------------------------------------------------------
void __cdecl GenCode_Variable(int a1, LogBuffer *_Val)
{
  int v2; // esi@1
  void *v3; // eax@2
  int v4; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // esi@5
  int v6; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@5

  v2 = (int)_Val;
  if ( _Val != (LogBuffer *)8 )
  {
    v3 = operator new(0x1Cu);
    _Val = (LogBuffer *)v3;
    if ( v3 )
      v4 = COP_mov::COP_mov((int)v3, v2, dword_4C8DE4, *(_DWORD *)(a1 + 20));
    else
      v4 = 0;
    v5 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v4;
    v6 = (int)dword_4C8DD4;
    v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v5->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v6, 1u);
    v5->_Prev = v7;
    v7->_Prev->_Next = v7;
  }
}
// 4C8DE4: using guessed type int dword_4C8DE4;

//----- (004333F0) --------------------------------------------------------
void __cdecl GenCode_Init_Declaration(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43341D);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00433750) --------------------------------------------------------
void __cdecl GenCode_Normal_Declaration(LogBuffer *_Val)
{
  LogBuffer *v1; // esi@1
  void *v2; // eax@2
  int v3; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // esi@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // edx@5
  int v6; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@5

  v1 = _Val;
  if ( *(_DWORD *)&_Val->m_Buffer[20] == 4 )
  {
    v2 = operator new(0x1Cu);
    _Val = (LogBuffer *)v2;
    if ( v2 )
      v3 = COP_mov::COP_mov((int)v2, dword_4C8DE4, *(_DWORD *)&v1->m_Buffer[16], 0);
    else
      v3 = 0;
    v4 = dword_4C8DD4->_Myhead;
    v5 = v4->_Prev;
    _Val = (LogBuffer *)v3;
    v6 = (int)dword_4C8DD4;
    v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v4, v5, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v6, 1u);
    v4->_Prev = v7;
    v7->_Prev->_Next = v7;
  }
}
// 4C8DE4: using guessed type int dword_4C8DE4;

//----- (004337F0) --------------------------------------------------------
int __cdecl GenCode_Array_Init(struct SNode *a1, int a2)
{
  struct SNode *v2; // edi@1
  int v3; // esi@1
  int result; // eax@1
  CBuffer *v5; // ecx@1
  void *v6; // eax@7
  LogBuffer *v7; // eax@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // esi@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v9; // ST08_4@10
  int v10; // ebx@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // edi@10
  void *v12; // eax@10
  LogBuffer *v13; // eax@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v14; // esi@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v15; // ST08_4@13
  int v16; // ebx@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v17; // edi@13
  void *v18; // eax@13
  LogBuffer *v19; // eax@14
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v20; // esi@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // ST08_4@16
  int v22; // ebx@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v23; // edi@16
  void *v24; // eax@16
  LogBuffer *v25; // eax@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v26; // esi@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v27; // ST08_4@19
  int v28; // ebx@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v29; // edi@19
  void *v30; // eax@19
  LogBuffer *v31; // eax@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v32; // esi@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v33; // edx@22
  int v34; // ebx@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v35; // edi@22
  void *v36; // eax@22
  LogBuffer *v37; // eax@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v38; // esi@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v39; // edx@25
  int v40; // ebx@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v41; // edi@25
  void *v42; // eax@25
  LogBuffer *v43; // eax@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v44; // esi@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v45; // edx@28
  int v46; // ebx@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v47; // edi@28
  void *v48; // eax@29
  LogBuffer *v49; // eax@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v50; // esi@32
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v51; // ST08_4@32
  int v52; // ebx@32
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v53; // edi@32
  int v54; // [sp+8h] [bp-18h]@1
  LogBuffer *_Val; // [sp+Ch] [bp-14h]@7
  int v56; // [sp+10h] [bp-10h]@1
  int v57; // [sp+1Ch] [bp-4h]@7
  int v58; // [sp+28h] [bp+8h]@1

  v2 = a1;
  v3 = *((_DWORD *)a1 + a2 + 2);
  v54 = *((_DWORD *)a1 + a2 + 2);
  v58 = 0;
  result = CSymbolTable::GetOffsetOfConst(*((_DWORD *)a1 + 5));
  v56 = result;
  if ( v3 )
  {
    while ( 1 )
    {
      if ( *(_DWORD *)(v3 + 4) == 30 )
        v3 = *(_DWORD *)(v3 + 8);
      ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(v3 + 4)))(v5);
      if ( *((_DWORD *)v2 + 6) == 4 )
      {
        GenCode_DataTypeToString(*(_DWORD *)(v3 + 24), 1);
        v6 = operator new(0x14u);
        _Val = (LogBuffer *)v6;
        v57 = 0;
        v7 = (LogBuffer *)(v6 ? COP_strlen::COP_strlen((int)v6, 1) : 0);
        v8 = dword_4C8DD4->_Myhead;
        _Val = v7;
        v9 = v8->_Prev;
        v57 = -1;
        v10 = (int)dword_4C8DD4;
        v11 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v8, v9, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v10, 1u);
        v8->_Prev = v11;
        v11->_Prev->_Next = v11;
        v12 = operator new(0xCu);
        _Val = (LogBuffer *)v12;
        v57 = 1;
        v13 = (LogBuffer *)(v12 ? COP_push::COP_push((int)v12, 1) : 0);
        v14 = dword_4C8DD4->_Myhead;
        _Val = v13;
        v15 = v14->_Prev;
        v57 = -1;
        v16 = (int)dword_4C8DD4;
        v17 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v14, v15, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v16, 1u);
        v14->_Prev = v17;
        v17->_Prev->_Next = v17;
        v18 = operator new(0x14u);
        _Val = (LogBuffer *)v18;
        v57 = 2;
        v19 = (LogBuffer *)(v18 ? COP_add::COP_add((int)v18, 0, 1) : 0);
        v20 = dword_4C8DD4->_Myhead;
        _Val = v19;
        v21 = v20->_Prev;
        v57 = -1;
        v22 = (int)dword_4C8DD4;
        v23 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v20, v21, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v22, 1u);
        v20->_Prev = v23;
        v23->_Prev->_Next = v23;
        v24 = operator new(0xCu);
        _Val = (LogBuffer *)v24;
        v57 = 3;
        v25 = (LogBuffer *)(v24 ? COP_malloc::COP_malloc((int)v24, 0) : 0);
        v26 = dword_4C8DD4->_Myhead;
        _Val = v25;
        v27 = v26->_Prev;
        v57 = -1;
        v28 = (int)dword_4C8DD4;
        v29 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v26, v27, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v28, 1u);
        v26->_Prev = v29;
        v29->_Prev->_Next = v29;
        v30 = operator new(0x1Cu);
        _Val = (LogBuffer *)v30;
        v57 = 4;
        v31 = (LogBuffer *)(v30 ? COP_mov::COP_mov((int)v30, dword_4C8DE4, *((_DWORD *)a1 + 5), v58, 0) : 0);
        v32 = dword_4C8DD4->_Myhead;
        v33 = v32->_Prev;
        _Val = v31;
        v57 = -1;
        v34 = (int)dword_4C8DD4;
        v35 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v32, v33, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v34, 1u);
        v32->_Prev = v35;
        v35->_Prev->_Next = v35;
        v36 = operator new(0xCu);
        _Val = (LogBuffer *)v36;
        v57 = 5;
        v37 = (LogBuffer *)(v36 ? COP_pop::COP_pop((int)v36, 1) : 0);
        v38 = dword_4C8DD4->_Myhead;
        v39 = v38->_Prev;
        _Val = v37;
        v57 = -1;
        v40 = (int)dword_4C8DD4;
        v41 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v38, v39, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v40, 1u);
        v38->_Prev = v41;
        v41->_Prev->_Next = v41;
        v42 = operator new(0x18u);
        _Val = (LogBuffer *)v42;
        v57 = 6;
        v43 = (LogBuffer *)(v42 ? COP_strcpy::COP_strcpy((int)v42, 0, 1) : 0);
        v44 = dword_4C8DD4->_Myhead;
        v45 = v44->_Prev;
        _Val = v43;
        v57 = -1;
        v46 = (int)dword_4C8DD4;
        v47 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v44, v45, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v46, 1u);
        v44->_Prev = v47;
        v47->_Prev->_Next = v47;
      }
      else
      {
        v48 = operator new(0x1Cu);
        _Val = (LogBuffer *)v48;
        v57 = 7;
        v49 = (LogBuffer *)(v48 ? COP_mov::COP_mov((int)v48, dword_4C8DE4, *((_DWORD *)v2 + 5), v58, 1) : 0);
        v50 = dword_4C8DD4->_Myhead;
        _Val = v49;
        v51 = v50->_Prev;
        v57 = -1;
        v52 = (int)dword_4C8DD4;
        v53 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v50, v51, &_Val);
        std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v52, 1u);
        v50->_Prev = v53;
        v53->_Prev->_Next = v53;
      }
      result = v54;
      if ( *(_DWORD *)(v54 + 4) != 30 )
        break;
      v5 = (CBuffer *)(v58++ + 1);
      if ( v58 >= v56 )
        break;
      v54 = *(_DWORD *)(v54 + 12);
      result = v54;
      if ( !v54 )
        break;
      v3 = v54;
      v2 = a1;
    }
  }
  return result;
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);
// 4C8DE4: using guessed type int dword_4C8DE4;

//----- (00433BD0) --------------------------------------------------------
int __cdecl GenCode_Array_Initialize(struct SNode *a1)
{
  return GenCode_Array_Init(a1, 0);
}

//----- (00433BE0) --------------------------------------------------------
int __cdecl GenCode_Array_Initialize2(struct SNode *a1)
{
  return GenCode_Array_Init(a1, 1);
}

//----- (00433BF0) --------------------------------------------------------
int __cdecl GenCode_Function_Declaration(LogBuffer *_Val)
{
  void *v1; // eax@1
  int v2; // esi@1
  LogBuffer *v3; // edi@4
  int v4; // eax@4
  int v5; // ebx@6
  void *v6; // eax@6
  int v7; // eax@7
  int v8; // edi@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v9; // ecx@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v10; // ebp@9
  void *v11; // eax@9
  int v12; // eax@10
  int v13; // edi@12
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v14; // ST04_4@12
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v15; // ebp@12
  void *v16; // eax@13
  int v17; // edi@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // ebp@16
  void *v19; // eax@17
  int v20; // eax@18
  int v21; // edi@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v22; // ecx@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v23; // ebp@20
  void *v24; // eax@20
  int v25; // eax@21
  int v26; // edi@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v27; // ST04_4@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v28; // ebp@23
  void *v29; // eax@23
  int v30; // edi@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // ebx@26
  int result; // eax@26
  char v33; // [sp+10h] [bp-20h]@6
  void *v34; // [sp+14h] [bp-1Ch]@1
  int v35; // [sp+18h] [bp-18h]@4
  int v36; // [sp+1Ch] [bp-14h]@4
  int v37; // [sp+2Ch] [bp-4h]@1

  v1 = operator new(0xCu);
  v2 = (int)v1;
  v34 = v1;
  v37 = 0;
  if ( v1 )
  {
    *((_DWORD *)v1 + 1) = std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v1);
    *(_DWORD *)(v2 + 8) = 0;
  }
  else
  {
    v2 = 0;
  }
  v3 = _Val;
  v4 = *(_DWORD *)&_Val->m_Buffer[16];
  v37 = -1;
  v34 = (void *)v4;
  v35 = v2;
  if ( !*(_BYTE *)(std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::insert(
                     dword_4C8DE0,
                     (int)&v36,
                     (std::pair<enum Item::ItemType::Type const ,unsigned char> *)&v34)
                 + 4) )
    ErrorMessage(v3->m_nUsage, (int)" ");
  CSymbolTable::GetTypeOfFunc((int)&v33, *(_DWORD *)&v3->m_Buffer[16]);
  v5 = 3 * SFuncType::GetArgCount(&v33) + 5;
  v6 = operator new(0xCu);
  _Val = (LogBuffer *)v6;
  v37 = 1;
  if ( v6 )
    v7 = COP_push::COP_push((int)v6, 5);
  else
    v7 = 0;
  v8 = *(_DWORD *)(v2 + 4);
  v9 = *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v8 + 4);
  _Val = (LogBuffer *)v7;
  v37 = -1;
  v10 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
          (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2,
          (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v8,
          v9,
          &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
  *(_DWORD *)(v8 + 4) = v10;
  v10->_Prev->_Next = v10;
  v11 = operator new(0x1Cu);
  _Val = (LogBuffer *)v11;
  v37 = 2;
  if ( v11 )
    v12 = COP_mov::COP_mov((int)v11, 5, 4);
  else
    v12 = 0;
  v13 = *(_DWORD *)(v2 + 4);
  _Val = (LogBuffer *)v12;
  v14 = *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v13 + 4);
  v37 = -1;
  v15 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
          (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2,
          (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v13,
          v14,
          &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
  *(_DWORD *)(v13 + 4) = v15;
  v15->_Prev->_Next = v15;
  if ( v5 > 0 )
  {
    do
    {
      v16 = operator new(8u);
      if ( v16 )
      {
        *(_DWORD *)v16 = &COP_nop::_vftable_;
        _Val = (LogBuffer *)v16;
      }
      else
      {
        _Val = 0;
      }
      v17 = *(_DWORD *)(v2 + 4);
      v18 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
              (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2,
              *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v2 + 4),
              *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v17 + 4),
              &_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
      --v5;
      *(_DWORD *)(v17 + 4) = v18;
      v18->_Prev->_Next = v18;
    }
    while ( v5 );
  }
  v19 = operator new(0x1Cu);
  _Val = (LogBuffer *)v19;
  v37 = 3;
  if ( v19 )
    v20 = COP_mov::COP_mov((int)v19, 4, 5);
  else
    v20 = 0;
  v21 = *(_DWORD *)(v2 + 4);
  v22 = *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v21 + 4);
  _Val = (LogBuffer *)v20;
  v37 = -1;
  v23 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
          (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2,
          (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v21,
          v22,
          &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
  *(_DWORD *)(v21 + 4) = v23;
  v23->_Prev->_Next = v23;
  v24 = operator new(0xCu);
  _Val = (LogBuffer *)v24;
  v37 = 4;
  if ( v24 )
    v25 = COP_pop::COP_pop((int)v24, 5);
  else
    v25 = 0;
  v26 = *(_DWORD *)(v2 + 4);
  _Val = (LogBuffer *)v25;
  v27 = *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v26 + 4);
  v37 = -1;
  v28 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
          (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2,
          (std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *)v26,
          v27,
          &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
  *(_DWORD *)(v26 + 4) = v28;
  v28->_Prev->_Next = v28;
  v29 = operator new(8u);
  if ( v29 )
  {
    *(_DWORD *)v29 = &COP_ret::_vftable_;
    _Val = (LogBuffer *)v29;
  }
  else
  {
    _Val = 0;
  }
  v30 = *(_DWORD *)(v2 + 4);
  v31 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(
          (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2,
          *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v2 + 4),
          *(std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node **)(v30 + 4),
          &_Val);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v2, 1u);
  *(_DWORD *)(v30 + 4) = v31;
  v31->_Prev->_Next = v31;
  return result;
}
// 463BD4: using guessed type int (__thiscall *COP_nop___vftable_)(void *p, char);
// 463BE4: using guessed type int (__thiscall *COP_ret___vftable_)(void *p, char);

//----- (00433EB0) --------------------------------------------------------
void __cdecl GenCode_Function_Definition(LogBuffer *_Val)
{
  void *v1; // eax@1
  int v2; // esi@1
  LogBuffer *v3; // ebx@4
  int v4; // eax@4
  std::list<LogBuffer *,std::allocator<LogBuffer *> > *v5; // ecx@6
  int v6; // edx@6
  void *v7; // eax@6
  int v8; // eax@7
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v9; // esi@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v10; // edx@9
  int v11; // ebp@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v12; // edi@9
  void *v13; // eax@9
  int v14; // eax@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v15; // esi@12
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v16; // edx@12
  int v17; // ebp@12
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // edi@12
  int v19; // ecx@12
  int v20; // esi@12
  void *v21; // eax@13
  int v22; // eax@14
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v23; // esi@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v24; // ST04_4@16
  int v25; // ebp@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v26; // edi@16
  CBuffer *v27; // ecx@17
  int v28; // eax@17
  int v29; // [sp+14h] [bp-1Ch]@4
  void *v30; // [sp+1Ch] [bp-14h]@1
  int v31; // [sp+20h] [bp-10h]@4
  int v32; // [sp+2Ch] [bp-4h]@1

  v1 = operator new(0xCu);
  v2 = (int)v1;
  v30 = v1;
  v32 = 0;
  if ( v1 )
  {
    *((_DWORD *)v1 + 1) = std::list<CCommand___std::allocator<CCommand__>>::_Buynode((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v1);
    *(_DWORD *)(v2 + 8) = 0;
  }
  else
  {
    v2 = 0;
  }
  v3 = _Val;
  v4 = *(_DWORD *)&_Val->m_Buffer[16];
  v32 = -1;
  v30 = (void *)v4;
  v31 = v2;
  if ( !*(_BYTE *)(std::_Tree<std::_Tmap_traits<int_std::list<IOPCode___std::allocator<IOPCode__>>___std::less<int>_std::allocator<std::pair<int_const_std::list<IOPCode___std::allocator<IOPCode__>>__>>_0>>::insert(
                     dword_4C8DE0,
                     (int)&v29,
                     (std::pair<enum Item::ItemType::Type const ,unsigned char> *)&v30)
                 + 4) )
    ErrorMessage(v3->m_nUsage, (int)" ");
  v5 = dword_4C8DD4;
  dword_4C8DD4 = (std::list<LogBuffer *,std::allocator<LogBuffer *> > *)v2;
  v6 = *(_DWORD *)&v3->m_Buffer[16];
  v30 = v5;
  dword_4C8DE4 = v6;
  v7 = operator new(0xCu);
  _Val = (LogBuffer *)v7;
  v32 = 1;
  if ( v7 )
    v8 = COP_push::COP_push((int)v7, 5);
  else
    v8 = 0;
  v9 = dword_4C8DD4->_Myhead;
  v10 = v9->_Prev;
  _Val = (LogBuffer *)v8;
  v32 = -1;
  v11 = (int)dword_4C8DD4;
  v12 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v9, v10, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v11, 1u);
  v9->_Prev = v12;
  v12->_Prev->_Next = v12;
  v13 = operator new(0x1Cu);
  _Val = (LogBuffer *)v13;
  v32 = 2;
  if ( v13 )
    v14 = COP_mov::COP_mov((int)v13, 5, 4);
  else
    v14 = 0;
  v15 = dword_4C8DD4->_Myhead;
  v16 = v15->_Prev;
  _Val = (LogBuffer *)v14;
  v32 = -1;
  v17 = (int)dword_4C8DD4;
  v18 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v15, v16, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v17, 1u);
  v19 = dword_4C8DDC;
  v15->_Prev = v18;
  v18->_Prev->_Next = v18;
  v20 = CSymbolTable::GetLocalVarSize(v19, *(_DWORD *)&v3->m_Buffer[16]);
  if ( v20 )
  {
    v21 = operator new(0x14u);
    _Val = (LogBuffer *)v21;
    v32 = 3;
    if ( v21 )
      v22 = COP_sub::COP_sub((int)v21, 4, v20);
    else
      v22 = 0;
    v23 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v22;
    v24 = v23->_Prev;
    v32 = -1;
    v25 = (int)dword_4C8DD4;
    v26 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v23, v24, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v25, 1u);
    v23->_Prev = v26;
    v26->_Prev->_Next = v26;
  }
  v27 = (CBuffer *)dword_4C8DD4;
  v29 = (int)dword_4C8DD4->_Myhead->_Prev;
  v28 = *(_DWORD *)&v3->m_Buffer[4];
  if ( v28 )
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(v28 + 4)))(*(CBuffer **)(v28 + 4));
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)&v3->m_Buffer[8] + 4)))(v27);
  JUMPOUT(loc_4340BD);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);
// 4C8DDC: using guessed type int dword_4C8DDC;
// 4C8DE4: using guessed type int dword_4C8DE4;

//----- (00434280) --------------------------------------------------------
int __cdecl GenCode_Constant_Expression(int a1, int a2)
{
  void *v2; // eax@1
  int v3; // eax@2
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // esi@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // ST04_4@4
  int v6; // ebx@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@4
  int result; // eax@4
  LogBuffer *_Val; // [sp+0h] [bp-10h]@1
  int v10; // [sp+Ch] [bp-4h]@1

  v2 = operator new(0x1Cu);
  _Val = (LogBuffer *)v2;
  v10 = 0;
  if ( v2 )
    v3 = COP_mov::COP_mov((int)v2, a2, *(_DWORD *)(a1 + 20));
  else
    v3 = 0;
  v4 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v3;
  v5 = v4->_Prev;
  v10 = -1;
  v6 = (int)dword_4C8DD4;
  v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v4, v5, &_Val);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v6, 1u);
  v4->_Prev = v7;
  v7->_Prev->_Next = v7;
  return result;
}

//----- (00434320) --------------------------------------------------------
void __cdecl GenCode_Assignment_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43434E);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (004347E0) --------------------------------------------------------
void __cdecl GenCode_OR_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43480C);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00434C20) --------------------------------------------------------
void __cdecl GenCode_AND_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_434C4C);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00435060) --------------------------------------------------------
void __cdecl GenCode_NOT_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43508C);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00435170) --------------------------------------------------------
void __cdecl GenCode_Equality_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43519D);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00435390) --------------------------------------------------------
void __cdecl GenCode_NotEqual_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_4353BD);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (004355B0) --------------------------------------------------------
void __cdecl GenCode_LessThan_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_4355DD);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00435950) --------------------------------------------------------
void __cdecl GenCode_MoreThan_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43597D);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00435CF0) --------------------------------------------------------
void __cdecl GenCode_LessThanEqual_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_435D1D);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00436090) --------------------------------------------------------
void __cdecl GenCode_MoreThanEqual_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_4360BD);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00436430) --------------------------------------------------------
int __cdecl GenCode_Addition_Expression(LogBuffer *_Val, int a2)
{
  LogBuffer *v2; // esi@1
  int v3; // eax@1
  CBuffer *v4; // ecx@2
  void *v5; // eax@2
  int v6; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // esi@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // edx@5
  int v9; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v10; // edi@5
  int v11; // esi@5
  bool v12; // zf@5
  int result; // eax@5
  void *v14; // eax@7
  int v15; // eax@8
  CBuffer *v16; // ecx@12
  void *v17; // eax@12
  int v18; // eax@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v19; // esi@15
  int v20; // ebx@15
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // edi@15
  void *v22; // eax@15
  int v23; // eax@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v24; // esi@18
  int v25; // ebx@18
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v26; // edi@18
  void *v27; // eax@18
  int v28; // eax@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v29; // esi@21
  int v30; // ebx@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // edi@21
  void *v32; // eax@21
  int v33; // eax@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v34; // esi@24
  int v35; // ebx@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v36; // edi@24
  void *v37; // eax@24
  int v38; // eax@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v39; // esi@27
  int v40; // ebx@27
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v41; // edi@27
  int v42; // esi@27
  void *v43; // eax@28
  int v44; // eax@29
  void *v45; // eax@32
  int v46; // eax@33
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v47; // edi@35
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v48; // edx@35
  int v49; // ST24_4@35
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v50; // ebx@35

  v2 = _Val;
  v3 = *(_DWORD *)&_Val->m_Buffer[20];
  if ( v3 == 2 )
  {
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)&_Val->m_Buffer[4] + 4)))(*(CBuffer **)(*(_DWORD *)&_Val->m_Buffer[4] + 4));
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)&v2->m_Buffer[8] + 4)))(v4);
    v5 = operator new(0x14u);
    _Val = (LogBuffer *)v5;
    if ( v5 )
      v6 = COP_add::COP_add((int)v5, 1, 2);
    else
      v6 = 0;
    v7 = dword_4C8DD4->_Myhead;
    v8 = v7->_Prev;
    _Val = (LogBuffer *)v6;
    v9 = (int)dword_4C8DD4;
    v10 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v7, v8, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v9, 1u);
    v7->_Prev = v10;
    v11 = a2;
    v12 = a2 == 8;
    result = (int)v10->_Prev;
    *(_DWORD *)result = v10;
    if ( !v12 && v11 != 1 )
    {
      v14 = operator new(0x1Cu);
      _Val = (LogBuffer *)v14;
      if ( v14 )
        v15 = COP_mov::COP_mov((int)v14, v11, 1);
      else
        v15 = 0;
      _Val = (LogBuffer *)v15;
      result = std::list<IOPCode___std::allocator<IOPCode__>>::push_back((int)dword_4C8DD4, &_Val);
    }
  }
  else
  {
    if ( v3 != 3 )
    {
      v45 = operator new(0xCu);
      _Val = (LogBuffer *)v45;
      if ( v45 )
        v46 = COP_push::COP_push((int)v45, 6);
      else
        v46 = 0;
      v47 = dword_4C8DD4->_Myhead;
      v48 = v47->_Prev;
      _Val = (LogBuffer *)v46;
      v49 = (int)dword_4C8DD4;
      v50 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v47, v48, &_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v49, 1u);
      v47->_Prev = v50;
      v50->_Prev->_Next = v50;
      ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)&v2->m_Buffer[4] + 4)))(*(CBuffer **)(*(_DWORD *)&v2->m_Buffer[4] + 4));
      JUMPOUT(loc_43683F);
    }
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)&_Val->m_Buffer[4] + 4)))(*(CBuffer **)(*(_DWORD *)&_Val->m_Buffer[4] + 4));
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)&v2->m_Buffer[8] + 4)))(v16);
    v17 = operator new(0x1Cu);
    _Val = (LogBuffer *)v17;
    if ( v17 )
      v18 = COP_mov::COP_mov((int)v17, 0, FLOATTEMP, 1);
    else
      v18 = 0;
    v19 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v18;
    v20 = (int)dword_4C8DD4;
    v21 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v19, v19->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v20, 1u);
    v19->_Prev = v21;
    v21->_Prev->_Next = v21;
    v22 = operator new(0x10u);
    _Val = (LogBuffer *)v22;
    if ( v22 )
      v23 = COP_fld::COP_fld((int)v22, 0, FLOATTEMP);
    else
      v23 = 0;
    v24 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v23;
    v25 = (int)dword_4C8DD4;
    v26 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v24, v24->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v25, 1u);
    v24->_Prev = v26;
    v26->_Prev->_Next = v26;
    v27 = operator new(0x1Cu);
    _Val = (LogBuffer *)v27;
    if ( v27 )
      v28 = COP_mov::COP_mov((int)v27, 0, FLOATTEMP, 2);
    else
      v28 = 0;
    v29 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v28;
    v30 = (int)dword_4C8DD4;
    v31 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v29, v29->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v30, 1u);
    v29->_Prev = v31;
    v31->_Prev->_Next = v31;
    v32 = operator new(0x10u);
    _Val = (LogBuffer *)v32;
    if ( v32 )
      v33 = COP_fadd::COP_fadd((int)v32, 0, FLOATTEMP);
    else
      v33 = 0;
    v34 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v33;
    v35 = (int)dword_4C8DD4;
    v36 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v34, v34->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v35, 1u);
    v34->_Prev = v36;
    v36->_Prev->_Next = v36;
    v37 = operator new(0x14u);
    _Val = (LogBuffer *)v37;
    if ( v37 )
      v38 = COP_fstp::COP_fstp((int)v37, 0, FLOATTEMP, 0);
    else
      v38 = 0;
    v39 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v38;
    v40 = (int)dword_4C8DD4;
    v41 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v39, v39->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v40, 1u);
    v39->_Prev = v41;
    v42 = a2;
    v12 = a2 == 8;
    result = (int)v41->_Prev;
    *(_DWORD *)result = v41;
    if ( !v12 )
    {
      v43 = operator new(0x1Cu);
      _Val = (LogBuffer *)v43;
      if ( v43 )
        v44 = COP_mov::COP_mov((int)v43, v42, 0, FLOATTEMP);
      else
        v44 = 0;
      _Val = (LogBuffer *)v44;
      result = std::list<IOPCode___std::allocator<IOPCode__>>::push_back((int)dword_4C8DD4, &_Val);
    }
  }
  return result;
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);
// 4C8DF0: using guessed type int FLOATTEMP;

//----- (00436D90) --------------------------------------------------------
void __cdecl GenCode_Subtraction_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_436DBD);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00437120) --------------------------------------------------------
void __cdecl GenCode_Multiplication_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43714D);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (004374B0) --------------------------------------------------------
void __cdecl GenCode_Division_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_4374DD);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00437840) --------------------------------------------------------
void __cdecl GenCode_Reminder_Expression(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43786C);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00437960) --------------------------------------------------------
int __thiscall GenCode_Compound_Addition(CBuffer *this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  void *v5; // eax@2
  int v6; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // ST04_4@5
  signed int v9; // esi@5
  int v10; // ebp@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // ebx@5
  void *v12; // eax@5
  int v13; // eax@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v14; // edi@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v15; // ST04_4@8
  int v16; // ebp@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v17; // ebx@8
  void *v18; // eax@8
  int v19; // eax@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v20; // edi@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // ST04_4@11
  int v22; // ebp@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v23; // ebx@11
  int v24; // edi@11
  bool v25; // zf@11
  int result; // eax@11
  int v27; // eax@13
  int v28; // eax@14
  void *v29; // eax@16
  int v30; // eax@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // edi@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v32; // edx@19
  int v33; // ebp@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v34; // ebx@19
  void *v35; // eax@19
  int v36; // eax@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v37; // edi@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v38; // ST04_4@22
  int v39; // ebp@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v40; // ebx@22
  void *v41; // eax@22
  int v42; // eax@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v43; // edi@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v44; // ST04_4@25
  int v45; // ebp@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v46; // ebx@25
  void *v47; // eax@25
  int v48; // eax@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v49; // edi@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v50; // ST04_4@28
  int v51; // ebp@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v52; // ebx@28
  int v53; // edi@28
  void *v54; // eax@29
  void *v55; // eax@32
  int v56; // eax@33
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v57; // edi@35
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v58; // edx@35
  int v59; // ebp@35
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v60; // ebx@35
  void *v61; // eax@35
  int v62; // eax@36
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v63; // edi@38
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v64; // edx@38
  int v65; // ebp@38
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v66; // ebx@38
  int v67; // edi@38
  LogBuffer **v68; // [sp-Ch] [bp-2Ch]@28
  LogBuffer *_Val; // [sp+10h] [bp-10h]@2
  int v70; // [sp+14h] [bp-Ch]@42
  int v71; // [sp+1Ch] [bp-4h]@2

  v3 = a2;
  v4 = *(_DWORD *)(a2 + 24);
  if ( v4 == 2 )
  {
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a2 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a2 + 8) + 4));
    v5 = operator new(0x1Cu);
    _Val = (LogBuffer *)v5;
    v71 = 0;
    if ( v5 )
      v6 = COP_mov::COP_mov((int)v5, 2, dword_4C8DE4, *(_DWORD *)(v3 + 20));
    else
      v6 = 0;
    v7 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v6;
    v8 = v7->_Prev;
    v9 = -1;
    v71 = -1;
    v10 = (int)dword_4C8DD4;
    v11 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v7, v8, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v10, 1u);
    v7->_Prev = v11;
    v11->_Prev->_Next = v11;
    v12 = operator new(0x14u);
    _Val = (LogBuffer *)v12;
    v71 = 1;
    if ( v12 )
      v13 = COP_add::COP_add((int)v12, 2, 1);
    else
      v13 = 0;
    v14 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v13;
    v15 = v14->_Prev;
    v71 = -1;
    v16 = (int)dword_4C8DD4;
    v17 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v14, v15, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v16, 1u);
    v14->_Prev = v17;
    v17->_Prev->_Next = v17;
    v18 = operator new(0x1Cu);
    _Val = (LogBuffer *)v18;
    v71 = 2;
    if ( v18 )
      v19 = COP_mov::COP_mov((int)v18, dword_4C8DE4, *(_DWORD *)(a2 + 20), 2);
    else
      v19 = 0;
    v20 = dword_4C8DD4->_Myhead;
    a2 = v19;
    v21 = v20->_Prev;
    v71 = -1;
    v22 = (int)dword_4C8DD4;
    v23 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v20, v21, (LogBuffer *const *)&a2);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v22, 1u);
    v20->_Prev = v23;
    v24 = a3;
    v25 = a3 == 8;
    result = (int)v23->_Prev;
    *(_DWORD *)result = v23;
    if ( !v25 && v24 != 2 )
    {
      v27 = (int)operator new(0x1Cu);
      a2 = v27;
      v71 = 3;
      if ( v27 )
        v28 = COP_mov::COP_mov(v27, v24, 2);
      else
        v28 = 0;
      v68 = (LogBuffer **)&v71;
      goto LABEL_42;
    }
  }
  else
  {
    if ( v4 != 3 )
    {
      v55 = operator new(0x14u);
      _Val = (LogBuffer *)v55;
      v71 = 9;
      if ( v55 )
        v56 = COP_strlen::COP_strlen((int)v55, dword_4C8DE4, *(_DWORD *)(v3 + 20));
      else
        v56 = 0;
      v57 = dword_4C8DD4->_Myhead;
      v58 = v57->_Prev;
      _Val = (LogBuffer *)v56;
      v71 = -1;
      v59 = (int)dword_4C8DD4;
      v60 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v57, v58, &_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v59, 1u);
      v57->_Prev = v60;
      v60->_Prev->_Next = v60;
      v61 = operator new(0x1Cu);
      _Val = (LogBuffer *)v61;
      v71 = 10;
      if ( v61 )
        v62 = COP_mov::COP_mov((int)v61, 3, 0);
      else
        v62 = 0;
      v63 = dword_4C8DD4->_Myhead;
      v64 = v63->_Prev;
      _Val = (LogBuffer *)v62;
      v71 = -1;
      v65 = (int)dword_4C8DD4;
      v66 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v63, v64, &_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v65, 1u);
      v63->_Prev = v66;
      v67 = a2;
      v66->_Prev->_Next = v66;
      ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(v67 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(v67 + 8) + 4));
      JUMPOUT(loc_437DF2);
    }
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a2 + 8) + 4)))(this);
    v29 = operator new(0x10u);
    _Val = (LogBuffer *)v29;
    v71 = 4;
    if ( v29 )
      v30 = COP_fld::COP_fld((int)v29, dword_4C8DE4, *(_DWORD *)(v3 + 20));
    else
      v30 = 0;
    v31 = dword_4C8DD4->_Myhead;
    v32 = v31->_Prev;
    _Val = (LogBuffer *)v30;
    v9 = -1;
    v71 = -1;
    v33 = (int)dword_4C8DD4;
    v34 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v31, v32, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v33, 1u);
    v31->_Prev = v34;
    v34->_Prev->_Next = v34;
    v35 = operator new(0x1Cu);
    _Val = (LogBuffer *)v35;
    v71 = 5;
    if ( v35 )
      v36 = COP_mov::COP_mov((int)v35, 0, FLOATTEMP, 1);
    else
      v36 = 0;
    v37 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v36;
    v38 = v37->_Prev;
    v71 = -1;
    v39 = (int)dword_4C8DD4;
    v40 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v37, v38, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v39, 1u);
    v37->_Prev = v40;
    v40->_Prev->_Next = v40;
    v41 = operator new(0x10u);
    _Val = (LogBuffer *)v41;
    v71 = 6;
    if ( v41 )
      v42 = COP_fadd::COP_fadd((int)v41, 0, FLOATTEMP);
    else
      v42 = 0;
    v43 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v42;
    v44 = v43->_Prev;
    v71 = -1;
    v45 = (int)dword_4C8DD4;
    v46 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v43, v44, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v45, 1u);
    v43->_Prev = v46;
    v46->_Prev->_Next = v46;
    v47 = operator new(0x14u);
    _Val = (LogBuffer *)v47;
    v71 = 7;
    if ( v47 )
      v48 = COP_fstp::COP_fstp((int)v47, dword_4C8DE4, *(_DWORD *)(a2 + 20), 0);
    else
      v48 = 0;
    v49 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v48;
    v50 = v49->_Prev;
    v71 = -1;
    v51 = (int)dword_4C8DD4;
    v52 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v49, v50, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v51, 1u);
    v49->_Prev = v52;
    v53 = a3;
    v25 = a3 == 8;
    result = (int)v52->_Prev;
    *(_DWORD *)result = v52;
    if ( !v25 )
    {
      v54 = operator new(0x1Cu);
      _Val = (LogBuffer *)v54;
      v71 = 8;
      if ( v54 )
        v28 = COP_mov::COP_mov((int)v54, v53, dword_4C8DE4, *(_DWORD *)(a2 + 20));
      else
        v28 = 0;
LABEL_42:
      v71 = v28;
      v70 = v9;
      return std::list<IOPCode___std::allocator<IOPCode__>>::push_back((int)dword_4C8DD4, v68);
    }
  }
  return result;
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);
// 4C8DE4: using guessed type int dword_4C8DE4;
// 4C8DF0: using guessed type int FLOATTEMP;

//----- (00438340) --------------------------------------------------------
void __cdecl GenCode_Compound_Subtraction(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43836E);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00438740) --------------------------------------------------------
void __cdecl GenCode_Compound_Multiplication(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_43876E);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00438B40) --------------------------------------------------------
void __cdecl GenCode_Compound_Division(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_438B6E);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00438F40) --------------------------------------------------------
void __cdecl GenCode_Compound_Reminder(int a1)
{
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_438F6E);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00439120) --------------------------------------------------------
int __cdecl GenCode_PrefixIncrement(int a1, int a2)
{
  int v2; // esi@1
  void *v3; // eax@2
  int v4; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // esi@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // edx@5
  int v7; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // edi@5
  void *v9; // eax@5
  int v10; // eax@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // esi@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v12; // edx@8
  int v13; // ebx@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v14; // edi@8
  void *v15; // eax@8
  int v16; // eax@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v17; // esi@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // ST04_4@11
  int v19; // ebx@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v20; // edi@11
  int v21; // esi@11
  bool v22; // zf@11
  int result; // eax@11
  int v24; // eax@13
  int v25; // eax@14
  void *v26; // eax@17
  int v27; // eax@18
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v28; // esi@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v29; // edx@20
  int v30; // ebx@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // edi@20
  void *v32; // eax@20
  int v33; // eax@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v34; // esi@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v35; // ST04_4@23
  int v36; // ebx@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v37; // edi@23
  void *v38; // eax@23
  int v39; // eax@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v40; // esi@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v41; // ST04_4@26
  int v42; // ebx@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v43; // edi@26
  int v44; // esi@26
  void *v45; // eax@27
  int v46; // eax@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v47; // esi@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v48; // ST04_4@30
  int v49; // ebx@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v50; // edi@30
  LogBuffer *_Val; // [sp+10h] [bp-10h]@2
  int v52; // [sp+1Ch] [bp-4h]@2

  v2 = a1;
  if ( *(_DWORD *)(a1 + 24) == 2 )
  {
    v3 = operator new(0x1Cu);
    _Val = (LogBuffer *)v3;
    v52 = 0;
    if ( v3 )
      v4 = COP_mov::COP_mov((int)v3, 1, dword_4C8DE4, *(_DWORD *)(v2 + 20));
    else
      v4 = 0;
    v5 = dword_4C8DD4->_Myhead;
    v6 = v5->_Prev;
    _Val = (LogBuffer *)v4;
    v52 = -1;
    v7 = (int)dword_4C8DD4;
    v8 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v6, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v7, 1u);
    v5->_Prev = v8;
    v8->_Prev->_Next = v8;
    v9 = operator new(0x14u);
    _Val = (LogBuffer *)v9;
    v52 = 1;
    if ( v9 )
      v10 = COP_add::COP_add((int)v9, 1, 1);
    else
      v10 = 0;
    v11 = dword_4C8DD4->_Myhead;
    v12 = v11->_Prev;
    _Val = (LogBuffer *)v10;
    v52 = -1;
    v13 = (int)dword_4C8DD4;
    v14 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v11, v12, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v13, 1u);
    v11->_Prev = v14;
    v14->_Prev->_Next = v14;
    v15 = operator new(0x1Cu);
    _Val = (LogBuffer *)v15;
    v52 = 2;
    if ( v15 )
      v16 = COP_mov::COP_mov((int)v15, dword_4C8DE4, *(_DWORD *)(a1 + 20), 1);
    else
      v16 = 0;
    v17 = dword_4C8DD4->_Myhead;
    a1 = v16;
    v18 = v17->_Prev;
    v52 = -1;
    v19 = (int)dword_4C8DD4;
    v20 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v17, v18, (LogBuffer *const *)&a1);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v19, 1u);
    v17->_Prev = v20;
    v21 = a2;
    v22 = a2 == 8;
    result = (int)v20->_Prev;
    *(_DWORD *)result = v20;
    if ( !v22 && v21 != 1 )
    {
      v24 = (int)operator new(0x1Cu);
      a1 = v24;
      v52 = 3;
      if ( v24 )
        v25 = COP_mov::COP_mov(v24, v21, 1);
      else
        v25 = 0;
      v52 = -1;
      a1 = v25;
      result = std::list<IOPCode___std::allocator<IOPCode__>>::push_back((int)dword_4C8DD4, (LogBuffer **)&a1);
    }
  }
  else
  {
    CSymbolTable::GetNameOfVar(*(_DWORD *)(a1 + 20));
    v26 = operator new(0x10u);
    _Val = (LogBuffer *)v26;
    v52 = 4;
    if ( v26 )
      v27 = COP_fld::COP_fld((int)v26, dword_4C8DE4, *(_DWORD *)(v2 + 20));
    else
      v27 = 0;
    v28 = dword_4C8DD4->_Myhead;
    v29 = v28->_Prev;
    _Val = (LogBuffer *)v27;
    v52 = -1;
    v30 = (int)dword_4C8DD4;
    v31 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v28, v29, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v30, 1u);
    v28->_Prev = v31;
    v31->_Prev->_Next = v31;
    v32 = operator new(0x10u);
    _Val = (LogBuffer *)v32;
    v52 = 5;
    if ( v32 )
      v33 = COP_fadd::COP_fadd((int)v32, 0, FLOATUNIT);
    else
      v33 = 0;
    v34 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v33;
    v35 = v34->_Prev;
    v52 = -1;
    v36 = (int)dword_4C8DD4;
    v37 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v34, v35, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v36, 1u);
    v34->_Prev = v37;
    v37->_Prev->_Next = v37;
    v38 = operator new(0x14u);
    _Val = (LogBuffer *)v38;
    v52 = 6;
    if ( v38 )
      v39 = COP_fstp::COP_fstp((int)v38, dword_4C8DE4, *(_DWORD *)(a1 + 20), 0);
    else
      v39 = 0;
    v40 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v39;
    v41 = v40->_Prev;
    v52 = -1;
    v42 = (int)dword_4C8DD4;
    v43 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v40, v41, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v42, 1u);
    v40->_Prev = v43;
    v44 = a2;
    v22 = a2 == 8;
    result = (int)v43->_Prev;
    *(_DWORD *)result = v43;
    if ( !v22 )
    {
      v45 = operator new(0x1Cu);
      _Val = (LogBuffer *)v45;
      v52 = 7;
      if ( v45 )
        v46 = COP_mov::COP_mov((int)v45, v44, dword_4C8DE4, *(_DWORD *)(a1 + 20));
      else
        v46 = 0;
      v47 = dword_4C8DD4->_Myhead;
      a1 = v46;
      v48 = v47->_Prev;
      v52 = -1;
      v49 = (int)dword_4C8DD4;
      v50 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v47, v48, (LogBuffer *const *)&a1);
      result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v49, 1u);
      v47->_Prev = v50;
      v50->_Prev->_Next = v50;
    }
  }
  return result;
}
// 4C8DE4: using guessed type int dword_4C8DE4;
// 4C8DEC: using guessed type int FLOATUNIT;

//----- (004394B0) --------------------------------------------------------
int __cdecl GenCode_PrefixDecrement(int a1, int a2)
{
  int v2; // esi@1
  void *v3; // eax@2
  int v4; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // esi@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // edx@5
  int v7; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // edi@5
  void *v9; // eax@5
  int v10; // eax@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // esi@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v12; // edx@8
  int v13; // ebx@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v14; // edi@8
  void *v15; // eax@8
  int v16; // eax@9
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v17; // esi@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // ST04_4@11
  int v19; // ebx@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v20; // edi@11
  int v21; // esi@11
  bool v22; // zf@11
  int result; // eax@11
  int v24; // eax@13
  int v25; // eax@14
  void *v26; // eax@17
  int v27; // eax@18
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v28; // esi@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v29; // ST04_4@20
  int v30; // ebx@20
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v31; // edi@20
  void *v32; // eax@20
  int v33; // eax@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v34; // esi@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v35; // ST04_4@23
  int v36; // ebx@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v37; // edi@23
  void *v38; // eax@23
  int v39; // eax@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v40; // esi@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v41; // ST04_4@26
  int v42; // ebx@26
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v43; // edi@26
  int v44; // esi@26
  void *v45; // eax@27
  int v46; // eax@28
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v47; // esi@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v48; // ST04_4@30
  int v49; // ebx@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v50; // edi@30
  LogBuffer *_Val; // [sp+10h] [bp-10h]@2
  int v52; // [sp+1Ch] [bp-4h]@2

  v2 = a1;
  if ( *(_DWORD *)(a1 + 24) == 2 )
  {
    v3 = operator new(0x1Cu);
    _Val = (LogBuffer *)v3;
    v52 = 0;
    if ( v3 )
      v4 = COP_mov::COP_mov((int)v3, 1, dword_4C8DE4, *(_DWORD *)(v2 + 20));
    else
      v4 = 0;
    v5 = dword_4C8DD4->_Myhead;
    v6 = v5->_Prev;
    _Val = (LogBuffer *)v4;
    v52 = -1;
    v7 = (int)dword_4C8DD4;
    v8 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v6, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v7, 1u);
    v5->_Prev = v8;
    v8->_Prev->_Next = v8;
    v9 = operator new(0x14u);
    _Val = (LogBuffer *)v9;
    v52 = 1;
    if ( v9 )
      v10 = COP_sub::COP_sub((int)v9, 1, 1);
    else
      v10 = 0;
    v11 = dword_4C8DD4->_Myhead;
    v12 = v11->_Prev;
    _Val = (LogBuffer *)v10;
    v52 = -1;
    v13 = (int)dword_4C8DD4;
    v14 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v11, v12, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v13, 1u);
    v11->_Prev = v14;
    v14->_Prev->_Next = v14;
    v15 = operator new(0x1Cu);
    _Val = (LogBuffer *)v15;
    v52 = 2;
    if ( v15 )
      v16 = COP_mov::COP_mov((int)v15, dword_4C8DE4, *(_DWORD *)(a1 + 20), 1);
    else
      v16 = 0;
    v17 = dword_4C8DD4->_Myhead;
    a1 = v16;
    v18 = v17->_Prev;
    v52 = -1;
    v19 = (int)dword_4C8DD4;
    v20 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v17, v18, (LogBuffer *const *)&a1);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v19, 1u);
    v17->_Prev = v20;
    v21 = a2;
    v22 = a2 == 8;
    result = (int)v20->_Prev;
    *(_DWORD *)result = v20;
    if ( !v22 && v21 != 1 )
    {
      v24 = (int)operator new(0x1Cu);
      a1 = v24;
      v52 = 3;
      if ( v24 )
        v25 = COP_mov::COP_mov(v24, v21, 1);
      else
        v25 = 0;
      v52 = -1;
      a1 = v25;
      result = std::list<IOPCode___std::allocator<IOPCode__>>::push_back((int)dword_4C8DD4, (LogBuffer **)&a1);
    }
  }
  else
  {
    v26 = operator new(0x10u);
    _Val = (LogBuffer *)v26;
    v52 = 4;
    if ( v26 )
      v27 = COP_fld::COP_fld((int)v26, dword_4C8DE4, *(_DWORD *)(v2 + 20));
    else
      v27 = 0;
    v28 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v27;
    v29 = v28->_Prev;
    v52 = -1;
    v30 = (int)dword_4C8DD4;
    v31 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v28, v29, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v30, 1u);
    v28->_Prev = v31;
    v31->_Prev->_Next = v31;
    v32 = operator new(0x10u);
    _Val = (LogBuffer *)v32;
    v52 = 5;
    if ( v32 )
      v33 = COP_fsub::COP_fsub((int)v32, 0, FLOATUNIT);
    else
      v33 = 0;
    v34 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v33;
    v35 = v34->_Prev;
    v52 = -1;
    v36 = (int)dword_4C8DD4;
    v37 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v34, v35, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v36, 1u);
    v34->_Prev = v37;
    v37->_Prev->_Next = v37;
    v38 = operator new(0x14u);
    _Val = (LogBuffer *)v38;
    v52 = 6;
    if ( v38 )
      v39 = COP_fstp::COP_fstp((int)v38, dword_4C8DE4, *(_DWORD *)(a1 + 20), 0);
    else
      v39 = 0;
    v40 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v39;
    v41 = v40->_Prev;
    v52 = -1;
    v42 = (int)dword_4C8DD4;
    v43 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v40, v41, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v42, 1u);
    v40->_Prev = v43;
    v44 = a2;
    v22 = a2 == 8;
    result = (int)v43->_Prev;
    *(_DWORD *)result = v43;
    if ( !v22 )
    {
      v45 = operator new(0x1Cu);
      _Val = (LogBuffer *)v45;
      v52 = 7;
      if ( v45 )
        v46 = COP_mov::COP_mov((int)v45, v44, dword_4C8DE4, *(_DWORD *)(a1 + 20));
      else
        v46 = 0;
      v47 = dword_4C8DD4->_Myhead;
      a1 = v46;
      v48 = v47->_Prev;
      v52 = -1;
      v49 = (int)dword_4C8DD4;
      v50 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v47, v48, (LogBuffer *const *)&a1);
      result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v49, 1u);
      v47->_Prev = v50;
      v50->_Prev->_Next = v50;
    }
  }
  return result;
}
// 4C8DE4: using guessed type int dword_4C8DE4;
// 4C8DEC: using guessed type int FLOATUNIT;

//----- (00439830) --------------------------------------------------------
void __cdecl GenCode_Array_Indexing(int a1)
{
  void *v1; // eax@1
  int v2; // eax@2
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v3; // esi@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v4; // edx@4
  int v5; // ebx@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // edi@4
  LogBuffer *_Val; // [sp+0h] [bp-10h]@1
  int v8; // [sp+Ch] [bp-4h]@1

  v1 = operator new(0xCu);
  _Val = (LogBuffer *)v1;
  v8 = 0;
  if ( v1 )
    v2 = COP_push::COP_push((int)v1, 6);
  else
    v2 = 0;
  v3 = dword_4C8DD4->_Myhead;
  v4 = v3->_Prev;
  _Val = (LogBuffer *)v2;
  v8 = -1;
  v5 = (int)dword_4C8DD4;
  v6 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v3, v4, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v5, 1u);
  v3->_Prev = v6;
  v6->_Prev->_Next = v6;
  ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(a1 + 8) + 4));
  JUMPOUT(loc_4398CA);
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (004399B0) --------------------------------------------------------
std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *__cdecl GenCode_Function_Call(int a1, int a2)
{
  int v2; // esi@1
  void *v3; // eax@3
  int v4; // eax@4
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // edi@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v6; // ST04_4@6
  int v7; // ebp@6
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v8; // ebx@6
  signed int v9; // ebp@7
  void *v10; // eax@8
  int v11; // eax@9
  void *v12; // eax@10
  int v13; // eax@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v14; // esi@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v15; // ST04_4@13
  int v16; // ebx@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v17; // edi@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // esi@15
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v19; // ST04_4@15
  int v20; // ebx@15
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // edi@15
  int v22; // eax@15
  int v23; // eax@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v24; // esi@18
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v25; // edx@18
  int v26; // ebx@18
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v27; // edi@18
  int v28; // esi@18
  bool v29; // zf@18
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *result; // eax@18
  int v31; // eax@20
  int v32; // eax@21
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v33; // esi@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v34; // edx@23
  int v35; // ebx@23
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v36; // edi@23
  int v37; // [sp+10h] [bp-14h]@1
  LogBuffer *_Val; // [sp+14h] [bp-10h]@3
  int v39; // [sp+20h] [bp-4h]@3

  v2 = *(_DWORD *)(a1 + 8);
  v37 = 0;
  if ( v2 )
  {
    while ( *(_DWORD *)(v2 + 4) == 35 )
    {
      ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(*(_DWORD *)(v2 + 8) + 4)))(*(CBuffer **)(*(_DWORD *)(v2 + 8) + 4));
      v3 = operator new(0xCu);
      _Val = (LogBuffer *)v3;
      v39 = 0;
      if ( v3 )
        v4 = COP_push::COP_push((int)v3, 1);
      else
        v4 = 0;
      v5 = dword_4C8DD4->_Myhead;
      _Val = (LogBuffer *)v4;
      v6 = v5->_Prev;
      v39 = -1;
      v7 = (int)dword_4C8DD4;
      v8 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v6, &_Val);
      std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v7, 1u);
      v5->_Prev = v8;
      v8->_Prev->_Next = v8;
      v2 = *(_DWORD *)(v2 + 12);
      ++v37;
      if ( !v2 )
        goto LABEL_7;
    }
    ((void (__thiscall *)(CBuffer *))*(&g_GenCodeFunctions + *(_DWORD *)(v2 + 4)))(*(CBuffer **)(v2 + 4));
    v12 = operator new(0xCu);
    _Val = (LogBuffer *)v12;
    v39 = 1;
    if ( v12 )
      v13 = COP_push::COP_push((int)v12, 1);
    else
      v13 = 0;
    v14 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v13;
    v15 = v14->_Prev;
    v9 = -1;
    v39 = -1;
    v16 = (int)dword_4C8DD4;
    v17 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v14, v15, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v16, 1u);
    v14->_Prev = v17;
    v17->_Prev->_Next = v17;
    ++v37;
  }
  else
  {
LABEL_7:
    v9 = -1;
  }
  v10 = operator new(0x10u);
  _Val = (LogBuffer *)v10;
  v39 = 2;
  if ( v10 )
    v11 = COP_call::COP_call((int)v10, *(_DWORD *)(a1 + 20), *(_DWORD *)a1);
  else
    v11 = 0;
  v18 = dword_4C8DD4->_Myhead;
  a1 = v11;
  v19 = v18->_Prev;
  v39 = v9;
  v20 = (int)dword_4C8DD4;
  v21 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v18, v19, (LogBuffer *const *)&a1);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v20, 1u);
  v18->_Prev = v21;
  v21->_Prev->_Next = v21;
  v22 = (int)operator new(0x14u);
  a1 = v22;
  v39 = 3;
  if ( v22 )
    v23 = COP_add::COP_add(v22, 4, 4 * v37);
  else
    v23 = 0;
  v24 = dword_4C8DD4->_Myhead;
  v25 = v24->_Prev;
  a1 = v23;
  v39 = v9;
  v26 = (int)dword_4C8DD4;
  v27 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v24, v25, (LogBuffer *const *)&a1);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v26, 1u);
  v24->_Prev = v27;
  v28 = a2;
  v29 = a2 == 8;
  result = v27->_Prev;
  result->_Next = v27;
  if ( !v29 && v28 )
  {
    v31 = (int)operator new(0x1Cu);
    a1 = v31;
    v39 = 4;
    if ( v31 )
      v32 = COP_mov::COP_mov(v31, v28, 0);
    else
      v32 = 0;
    v33 = dword_4C8DD4->_Myhead;
    v34 = v33->_Prev;
    a1 = v32;
    v39 = v9;
    v35 = (int)dword_4C8DD4;
    v36 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v33, v34, (LogBuffer *const *)&a1);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v35, 1u);
    v33->_Prev = v36;
    result = v36->_Prev;
    result->_Next = v36;
  }
  return result;
}
// 470B40: using guessed type int (__cdecl *g_GenCodeFunctions)(int, LogBuffer *_Val);

//----- (00439C40) --------------------------------------------------------
int __cdecl GenCode_PostfixIncrement(int a1, LogBuffer *_Val)
{
  int v2; // esi@1
  void *v3; // eax@2
  int v4; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // esi@5
  int v6; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@5
  int v8; // esi@6
  void *v9; // eax@7
  int v10; // eax@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // esi@10
  int v12; // ebx@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v13; // edi@10
  void *v14; // eax@10
  int v15; // eax@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v16; // esi@13
  int v17; // ebx@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // edi@13
  void *v19; // eax@13
  int v20; // eax@14
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // esi@16
  int v22; // ebx@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v23; // edi@16
  void *v24; // eax@16
  int v25; // eax@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v26; // esi@19
  int v27; // ebx@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v28; // edi@19
  int v29; // eax@19
  int v30; // eax@20
  void *v31; // eax@21
  int v32; // eax@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v33; // esi@24
  int v34; // ebx@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v35; // edi@24
  void *v36; // eax@24
  int v37; // eax@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v38; // esi@27
  int v39; // ebx@27
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v40; // edi@27
  void *v41; // eax@27
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v42; // esi@30
  int v43; // ebx@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v44; // edi@30
  int result; // eax@30

  v2 = (int)_Val;
  if ( _Val != (LogBuffer *)8 )
  {
    v3 = operator new(0x1Cu);
    _Val = (LogBuffer *)v3;
    if ( v3 )
      v4 = COP_mov::COP_mov((int)v3, v2, dword_4C8DE4, *(_DWORD *)(a1 + 20));
    else
      v4 = 0;
    v5 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v4;
    v6 = (int)dword_4C8DD4;
    v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v5->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v6, 1u);
    v5->_Prev = v7;
    v7->_Prev->_Next = v7;
  }
  v8 = a1;
  if ( *(_DWORD *)(a1 + 24) != 2 )
  {
    v31 = operator new(0x10u);
    _Val = (LogBuffer *)v31;
    if ( v31 )
      v32 = COP_fld::COP_fld((int)v31, dword_4C8DE4, *(_DWORD *)(v8 + 20));
    else
      v32 = 0;
    v33 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v32;
    v34 = (int)dword_4C8DD4;
    v35 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v33, v33->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v34, 1u);
    v33->_Prev = v35;
    v35->_Prev->_Next = v35;
    v36 = operator new(0x10u);
    _Val = (LogBuffer *)v36;
    if ( v36 )
      v37 = COP_fadd::COP_fadd((int)v36, 0, FLOATUNIT);
    else
      v37 = 0;
    v38 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v37;
    v39 = (int)dword_4C8DD4;
    v40 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v38, v38->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v39, 1u);
    v38->_Prev = v40;
    v40->_Prev->_Next = v40;
    v41 = operator new(0x14u);
    _Val = (LogBuffer *)v41;
    if ( v41 )
    {
      v30 = COP_fstp::COP_fstp((int)v41, dword_4C8DE4, *(_DWORD *)(a1 + 20), 0);
      goto LABEL_30;
    }
LABEL_29:
    v30 = 0;
    goto LABEL_30;
  }
  v9 = operator new(0xCu);
  _Val = (LogBuffer *)v9;
  if ( v9 )
    v10 = COP_push::COP_push((int)v9, 6);
  else
    v10 = 0;
  v11 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v10;
  v12 = (int)dword_4C8DD4;
  v13 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v11, v11->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v12, 1u);
  v11->_Prev = v13;
  v13->_Prev->_Next = v13;
  v14 = operator new(0x1Cu);
  _Val = (LogBuffer *)v14;
  if ( v14 )
    v15 = COP_mov::COP_mov((int)v14, 6, dword_4C8DE4, *(_DWORD *)(a1 + 20));
  else
    v15 = 0;
  v16 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v15;
  v17 = (int)dword_4C8DD4;
  v18 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v16, v16->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v17, 1u);
  v16->_Prev = v18;
  v18->_Prev->_Next = v18;
  v19 = operator new(0x14u);
  _Val = (LogBuffer *)v19;
  if ( v19 )
    v20 = COP_add::COP_add((int)v19, 6, 1);
  else
    v20 = 0;
  v21 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v20;
  v22 = (int)dword_4C8DD4;
  v23 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v21, v21->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v22, 1u);
  v21->_Prev = v23;
  v23->_Prev->_Next = v23;
  v24 = operator new(0x1Cu);
  _Val = (LogBuffer *)v24;
  if ( v24 )
    v25 = COP_mov::COP_mov((int)v24, dword_4C8DE4, *(_DWORD *)(a1 + 20), 6);
  else
    v25 = 0;
  v26 = dword_4C8DD4->_Myhead;
  a1 = v25;
  v27 = (int)dword_4C8DD4;
  v28 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v26, v26->_Prev, (LogBuffer *const *)&a1);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v27, 1u);
  v26->_Prev = v28;
  v28->_Prev->_Next = v28;
  v29 = (int)operator new(0xCu);
  a1 = v29;
  if ( !v29 )
    goto LABEL_29;
  v30 = COP_pop::COP_pop(v29, 6);
LABEL_30:
  v42 = dword_4C8DD4->_Myhead;
  a1 = v30;
  v43 = (int)dword_4C8DD4;
  v44 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v42, v42->_Prev, (LogBuffer *const *)&a1);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v43, 1u);
  v42->_Prev = v44;
  v44->_Prev->_Next = v44;
  return result;
}
// 4C8DE4: using guessed type int dword_4C8DE4;
// 4C8DEC: using guessed type int FLOATUNIT;

//----- (00439FE0) --------------------------------------------------------
int __cdecl GenCode_PostfixDecrement(int a1, LogBuffer *_Val)
{
  int v2; // esi@1
  void *v3; // eax@2
  int v4; // eax@3
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v5; // esi@5
  int v6; // ebx@5
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v7; // edi@5
  int v8; // esi@6
  void *v9; // eax@7
  int v10; // eax@8
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v11; // esi@10
  int v12; // ebx@10
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v13; // edi@10
  void *v14; // eax@10
  int v15; // eax@11
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v16; // esi@13
  int v17; // ebx@13
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v18; // edi@13
  void *v19; // eax@13
  int v20; // eax@14
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v21; // esi@16
  int v22; // ebx@16
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v23; // edi@16
  void *v24; // eax@16
  int v25; // eax@17
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v26; // esi@19
  int v27; // ebx@19
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v28; // edi@19
  int v29; // eax@19
  int v30; // eax@20
  void *v31; // eax@21
  int v32; // eax@22
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v33; // esi@24
  int v34; // ebx@24
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v35; // edi@24
  void *v36; // eax@24
  int v37; // eax@25
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v38; // esi@27
  int v39; // ebx@27
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v40; // edi@27
  void *v41; // eax@27
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v42; // esi@30
  int v43; // ebx@30
  std::_List_nod<LogBuffer *,std::allocator<LogBuffer *> >::_Node *v44; // edi@30
  int result; // eax@30

  v2 = (int)_Val;
  if ( _Val != (LogBuffer *)8 )
  {
    v3 = operator new(0x1Cu);
    _Val = (LogBuffer *)v3;
    if ( v3 )
      v4 = COP_mov::COP_mov((int)v3, v2, dword_4C8DE4, *(_DWORD *)(a1 + 20));
    else
      v4 = 0;
    v5 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v4;
    v6 = (int)dword_4C8DD4;
    v7 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v5, v5->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v6, 1u);
    v5->_Prev = v7;
    v7->_Prev->_Next = v7;
  }
  v8 = a1;
  if ( *(_DWORD *)(a1 + 24) != 2 )
  {
    v31 = operator new(0x10u);
    _Val = (LogBuffer *)v31;
    if ( v31 )
      v32 = COP_fld::COP_fld((int)v31, dword_4C8DE4, *(_DWORD *)(v8 + 20));
    else
      v32 = 0;
    v33 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v32;
    v34 = (int)dword_4C8DD4;
    v35 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v33, v33->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v34, 1u);
    v33->_Prev = v35;
    v35->_Prev->_Next = v35;
    v36 = operator new(0x10u);
    _Val = (LogBuffer *)v36;
    if ( v36 )
      v37 = COP_fsub::COP_fsub((int)v36, 0, FLOATUNIT);
    else
      v37 = 0;
    v38 = dword_4C8DD4->_Myhead;
    _Val = (LogBuffer *)v37;
    v39 = (int)dword_4C8DD4;
    v40 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v38, v38->_Prev, &_Val);
    std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v39, 1u);
    v38->_Prev = v40;
    v40->_Prev->_Next = v40;
    v41 = operator new(0x14u);
    _Val = (LogBuffer *)v41;
    if ( v41 )
    {
      v30 = COP_fstp::COP_fstp((int)v41, dword_4C8DE4, *(_DWORD *)(a1 + 20), 0);
      goto LABEL_30;
    }
LABEL_29:
    v30 = 0;
    goto LABEL_30;
  }
  v9 = operator new(0xCu);
  _Val = (LogBuffer *)v9;
  if ( v9 )
    v10 = COP_push::COP_push((int)v9, 6);
  else
    v10 = 0;
  v11 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v10;
  v12 = (int)dword_4C8DD4;
  v13 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v11, v11->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v12, 1u);
  v11->_Prev = v13;
  v13->_Prev->_Next = v13;
  v14 = operator new(0x1Cu);
  _Val = (LogBuffer *)v14;
  if ( v14 )
    v15 = COP_mov::COP_mov((int)v14, 6, dword_4C8DE4, *(_DWORD *)(a1 + 20));
  else
    v15 = 0;
  v16 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v15;
  v17 = (int)dword_4C8DD4;
  v18 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v16, v16->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v17, 1u);
  v16->_Prev = v18;
  v18->_Prev->_Next = v18;
  v19 = operator new(0x14u);
  _Val = (LogBuffer *)v19;
  if ( v19 )
    v20 = COP_sub::COP_sub((int)v19, 6, 1);
  else
    v20 = 0;
  v21 = dword_4C8DD4->_Myhead;
  _Val = (LogBuffer *)v20;
  v22 = (int)dword_4C8DD4;
  v23 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v21, v21->_Prev, &_Val);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v22, 1u);
  v21->_Prev = v23;
  v23->_Prev->_Next = v23;
  v24 = operator new(0x1Cu);
  _Val = (LogBuffer *)v24;
  if ( v24 )
    v25 = COP_mov::COP_mov((int)v24, dword_4C8DE4, *(_DWORD *)(a1 + 20), 6);
  else
    v25 = 0;
  v26 = dword_4C8DD4->_Myhead;
  a1 = v25;
  v27 = (int)dword_4C8DD4;
  v28 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v26, v26->_Prev, (LogBuffer *const *)&a1);
  std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v27, 1u);
  v26->_Prev = v28;
  v28->_Prev->_Next = v28;
  v29 = (int)operator new(0xCu);
  a1 = v29;
  if ( !v29 )
    goto LABEL_29;
  v30 = COP_pop::COP_pop(v29, 6);
LABEL_30:
  v42 = dword_4C8DD4->_Myhead;
  a1 = v30;
  v43 = (int)dword_4C8DD4;
  v44 = std::list<IOPCode___std::allocator<IOPCode__>>::_Buynode(dword_4C8DD4, v42, v42->_Prev, (LogBuffer *const *)&a1);
  result = std::list<IOPCode___std::allocator<IOPCode__>>::_Incsize(v43, 1u);
  v42->_Prev = v44;
  v44->_Prev->_Next = v44;
  return result;
}
// 4C8DE4: using guessed type int dword_4C8DE4;
// 4C8DEC: using guessed type int FLOATUNIT;

//----- (0043A380) --------------------------------------------------------
void *__thiscall Conversion::Conversion(void *this, int a2, int _Val)
{
  void *v3; // ebx@1
  int v4; // esi@1
  int v5; // eax@1
  int v6; // esi@2
  bool v7; // zf@2
  int v8; // edi@2
  signed int v9; // ecx@2
  void *result; // eax@5

  v3 = this;
  v4 = CSymbolTable::GetTypeOfVar(a2);
  v5 = CSymbolTable::GetNameOfVar(a2);
  switch ( v4 )
  {
    case 1:
      v6 = v5;
      v7 = 1;
      v8 = (int)"true";
      v9 = 5;
      do
      {
        if ( !v9 )
          break;
        v7 = *(_BYTE *)v6++ == *(_BYTE *)v8++;
        --v9;
      }
      while ( v7 );
      result = v3;
      *(_DWORD *)v3 = v7;
      break;
    case 2:
      *(_DWORD *)v3 = strtol((const char *)v5, 0, 0);
      result = v3;
      break;
    case 3:
      *(float *)v3 = atof((const char *)v5);
      result = v3;
      break;
    case 4:
      CRelocTable::AddConstString(dword_4C8E08, _Val);
      *(_DWORD *)v3 = CSymbolTable::GetOffsetOfConst(a2);
      goto LABEL_9;
    default:
LABEL_9:
      result = v3;
      break;
  }
  return result;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043A440) --------------------------------------------------------
signed int __cdecl Code_RM32_Offset(unsigned __int8 *a1, unsigned __int8 a2, int a3, int a4, __int32 a5, unsigned int a6)
{
  signed int result; // eax@2

  *a1 = a2;
  if ( a4 )
  {
    if ( a6 & 0xFFFFFF00 )
    {
      a1[1] = LOBYTE((&arrReg3)[a3]) + 5;
      a1[2] = a6;
      a1[3] = BYTE1(a6);
      a1[4] = BYTE2(a6);
      a1[5] = BYTE3(a6);
      result = 6;
    }
    else
    {
      a1[1] = LOBYTE((&arrReg2)[a3]) + 5;
      a1[2] = a6;
      result = 3;
    }
  }
  else
  {
    a1[1] = LOBYTE((&arrReg1)[a3]) + 5;
    a1[4] = a6 >> 16;
    a1[2] = a6;
    a1[3] = BYTE1(a6);
    a1[5] = BYTE3(a6);
    CRelocTable::AddGlobalVar((void *)dword_4C8E08, a5 + 2);
    result = 6;
  }
  return result;
}
// 470C74: using guessed type unsigned __int8 *arrReg1;
// 470C7C: using guessed type unsigned __int8 *arrReg2;
// 470C84: using guessed type unsigned __int8 *arrReg3;
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043A4E0) --------------------------------------------------------
signed int __cdecl Code_RM32(unsigned __int8 *a1, unsigned __int8 a2, int a3, int a4, int a5, __int32 a6)
{
  int v6; // eax@1

  v6 = CSymbolTable::GetOffsetOfVar(a5);
  return Code_RM32_Offset(a1, a2, a3, a4, a6, v6);
}

//----- (0043A520) --------------------------------------------------------
signed int __cdecl Code_RM32_CodeSize_Offset(int a1, int a2)
{
  signed int result; // eax@2

  if ( !a1 || (result = 3, a2 & 0xFFFFFF00) )
    result = 6;
  return result;
}

//----- (0043A540) --------------------------------------------------------
int __thiscall COP_call::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 8));
  return a2("CALL\t\t%s\n", v2);
}

//----- (0043A560) --------------------------------------------------------
signed int __thiscall COP_mov::ToMachineCode(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  signed int result; // eax@2
  unsigned __int8 *v5; // edi@4
  unsigned __int8 v6; // ah@4
  unsigned __int8 v7; // ah@4
  unsigned __int8 *v8; // edi@5
  int v9; // eax@5
  unsigned int v10; // ecx@5
  unsigned __int8 *v11; // eax@6
  unsigned __int8 *v12; // eax@7
  unsigned int v13; // ecx@7
  unsigned __int8 *v14; // edi@8
  int v15; // eax@8
  int v16; // ecx@8
  unsigned __int8 v17; // ch@2@9
  void *v18; // ecx@9
  char v19; // dl@10
  unsigned __int8 v20; // cl@10

  v2 = this;
  switch ( *(_BYTE *)(this + 8) )
  {
    case 0:
    case 6:
      v3 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16));
      result = Code_RM32_Offset(
                 (unsigned __int8 *)a2,
                 0x89u,
                 *(_DWORD *)(v2 + 24),
                 *(_DWORD *)(v2 + 12),
                 *(_DWORD *)(v2 + 4),
                 v3 + 4 * *(_DWORD *)(v2 + 20));
      break;
    case 1:
      result = Code_RM32(
                 (unsigned __int8 *)a2,
                 0x8Bu,
                 *(_DWORD *)(this + 16),
                 *(_DWORD *)(this + 12),
                 *(_DWORD *)(this + 24),
                 *(_DWORD *)(this + 4));
      break;
    case 2:
      v5 = (unsigned __int8 *)a2;
      *(_BYTE *)a2 = *(_BYTE *)(this + 16) - 72;
      Conversion::Conversion(&a2, *(_DWORD *)(this + 24), *(_DWORD *)(this + 4) + 1);
      v6 = BYTE1(a2);
      v5[1] = a2;
      v5[2] = v6;
      v7 = BYTE3(a2);
      v5[3] = BYTE2(a2);
      v5[4] = v7;
      result = 5;
      break;
    case 3:
      v8 = (unsigned __int8 *)a2;
      v9 = Code_RM32(
             (unsigned __int8 *)a2,
             0xC7u,
             0,
             *(_DWORD *)(this + 12),
             *(_DWORD *)(this + 16),
             *(_DWORD *)(this + 4));
      v10 = *(_DWORD *)(v2 + 24);
      v8[v9] = v10;
      v8[v9 + 1] = BYTE1(v10);
      v10 >>= 16;
      v8[v9 + 2] = v10;
      v8[v9 + 3] = BYTE1(v10);
      result = v9 + 4;
      break;
    case 4:
      v11 = (unsigned __int8 *)a2;
      *(_BYTE *)a2 = -119;
      v11[1] = *(_BYTE *)(this + 16) + LOBYTE((&arrReg4)[*(_DWORD *)(this + 24)]);
      result = 2;
      break;
    case 5:
      v12 = (unsigned __int8 *)a2;
      *(_BYTE *)a2 = -57;
      v12[1] = *(_BYTE *)(this + 16) - 64;
      v13 = *(_DWORD *)(this + 24);
      v12[2] = v13;
      v12[3] = BYTE1(v13);
      v13 >>= 16;
      v12[4] = v13;
      v12[5] = BYTE1(v13);
      result = 6;
      break;
    case 7:
      v14 = (unsigned __int8 *)a2;
      *(_BYTE *)a2 = 107;
      v14[1] = 9 * *(_BYTE *)(this + 20) - 64;
      v14[2] = 4;
      v15 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 24));
      v16 = *(_DWORD *)(v2 + 12);
      a2 = v15;
      if ( v16 )
      {
        v14[3] = 3;
        v19 = LOBYTE((&arrReg4)[*(_DWORD *)(v2 + 20)]);
        v14[5] = -117;
        v14[4] = v19 + 5;
        v20 = BYTE3(a2);
        v14[6] = *(_BYTE *)(v2 + 20) + LOBYTE((&arrReg3)[*(_DWORD *)(v2 + 16)]);
        v14[7] = v15;
        LOBYTE(v15) = BYTE2(a2);
        v14[8] = BYTE1(v15);
        v14[9] = v15;
        v14[10] = v20;
        result = 11;
      }
      else
      {
        v14[3] = -117;
        v17 = BYTE3(a2);
        v14[4] = *(_BYTE *)(v2 + 20) + LOBYTE((&arrReg3)[*(_DWORD *)(v2 + 16)]);
        v14[5] = v15;
        v14[6] = BYTE1(v15);
        v14[8] = v17;
        v18 = (void *)dword_4C8E08;
        v14[7] = (unsigned int)v15 >> 16;
        CRelocTable::AddGlobalVar(v18, *(_DWORD *)(v2 + 4) + 5);
        result = 9;
      }
      break;
    default:
      result = 0;
      break;
  }
  return result;
}
// 470C84: using guessed type unsigned __int8 *arrReg3;
// 470C8C: using guessed type unsigned __int8 *arrReg4;
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043A7B0) --------------------------------------------------------
int __thiscall COP_mov::Addressing(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // eax@2
  bool v5; // zf@3
  signed int v6; // eax@3
  int result; // eax@5
  int v8; // eax@6
  int v9; // eax@8

  v2 = this;
  v3 = *(_BYTE *)(this + 8);
  *(_DWORD *)(this + 4) = a2;
  switch ( v3 )
  {
    case 0:
    case 6:
      v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16)) + 4 * *(_DWORD *)(this + 20);
      if ( !*(_DWORD *)(v2 + 12) || (v5 = (v4 & 0xFFFFFF00) == 0, v6 = 3, !v5) )
        v6 = 6;
      result = a2 + v6;
      break;
    case 1:
      v8 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 24));
      result = a2 + Code_RM32_CodeSize_Offset(*(_DWORD *)(v2 + 12), v8 + 4 * *(_DWORD *)(v2 + 20));
      break;
    case 2:
      result = a2 + 5;
      break;
    case 3:
      v9 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16));
      result = Code_RM32_CodeSize_Offset(*(_DWORD *)(v2 + 12), v9 + 4 * *(_DWORD *)(v2 + 20)) + a2 + 4;
      break;
    case 4:
      result = a2 + 2;
      break;
    case 5:
      result = a2 + 6;
      break;
    case 7:
      result = a2 + 2 * (*(_DWORD *)(this + 12) != 0) + 9;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (0043A8B0) --------------------------------------------------------
int __thiscall COP_mov::Show(void *this, int (*a2)(const char *, ...))
{
  void *v2; // esi@1
  int result; // eax@1
  char *v4; // ST0C_4@2
  int v5; // eax@2
  int v6; // eax@3
  double v7; // ST08_8@6
  int v8; // eax@6
  char *v9; // ST0C_4@9
  int v10; // ST08_4@9
  int v11; // eax@9
  char *v12; // ST0C_4@10
  int v13; // eax@10

  v2 = this;
  ((void (__cdecl *)(_DWORD))a2)("MOV\t\t");
  result = *((_BYTE *)v2 + 8);
  switch ( result )
  {
    case 0:
      v4 = off_470C38[*((_DWORD *)v2 + 6)];
      v5 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 4));
      result = a2("%s, %s\n", v5, v4);
      break;
    case 1:
      v6 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 6));
      goto LABEL_5;
    case 2:
      v6 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 6));
LABEL_5:
      result = a2("%s, %s\n", off_470C38[*((_DWORD *)v2 + 4)], v6);
      break;
    case 3:
      v7 = *((float *)v2 + 6);
      v8 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 4));
      result = a2("%s, %f\n", v8, *(_QWORD *)&v7);
      break;
    case 4:
      result = a2("%s, %s\n", off_470C38[*((_DWORD *)v2 + 4)], off_470C38[*((_DWORD *)v2 + 6)]);
      break;
    case 5:
      result = a2("%s, %d\n", off_470C38[*((_DWORD *)v2 + 4)], *((_DWORD *)v2 + 6));
      break;
    case 6:
      v9 = off_470C38[*((_DWORD *)v2 + 6)];
      v10 = *((_DWORD *)v2 + 5);
      v11 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 4));
      result = a2("%s[%d], %s\n", v11, v10, v9);
      break;
    case 7:
      v12 = off_470C38[*((_DWORD *)v2 + 5)];
      v13 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 6));
      result = a2("%s, %s[%s]\n", off_470C38[*((_DWORD *)v2 + 4)], v13, v12);
      break;
    default:
      return result;
  }
  return result;
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043AA30) --------------------------------------------------------
signed int __stdcall COP_nop::ToMachineCode(int a1)
{
  *(_BYTE *)a1 = -112;
  return 1;
}

//----- (0043AA40) --------------------------------------------------------
int __stdcall COP_nop::Show(int (__cdecl *a1)(_DWORD))
{
  return a1("NOP\n");
}

//----- (0043AA50) --------------------------------------------------------
signed int __thiscall COP_add::ToMachineCode(int this, int a2)
{
  signed int result; // eax@3
  unsigned int v3; // ecx@5

  if ( *(_BYTE *)(this + 8) )
  {
    if ( *(_BYTE *)(this + 8) == 1 )
    {
      *(_BYTE *)a2 = 3;
      *(_BYTE *)(a2 + 1) = *(_BYTE *)(this + 16) + LOBYTE((&arrReg4)[*(_DWORD *)(this + 12)]);
      result = 2;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    *(_BYTE *)a2 = -127;
    *(_BYTE *)(a2 + 1) = *(_BYTE *)(this + 12) - 64;
    v3 = *(_DWORD *)(this + 16);
    *(_BYTE *)(a2 + 2) = v3;
    *(_BYTE *)(a2 + 3) = BYTE1(v3);
    v3 >>= 16;
    *(_BYTE *)(a2 + 4) = v3;
    *(_BYTE *)(a2 + 5) = BYTE1(v3);
    result = 6;
  }
  return result;
}
// 470C8C: using guessed type unsigned __int8 *arrReg4;

//----- (0043AAC0) --------------------------------------------------------
int __thiscall COP_add::Show(void *this, int (*a2)(const char *, ...))
{
  void *v2; // esi@1
  int result; // eax@2

  v2 = this;
  ((void (__cdecl *)(_DWORD))a2)("ADD\t\t");
  if ( *((_BYTE *)v2 + 8) )
  {
    result = *((_BYTE *)v2 + 8) - 1;
    if ( *((_BYTE *)v2 + 8) == 1 )
      result = a2("%s, %s\n", off_470C38[*((_DWORD *)v2 + 3)], off_470C38[*((_DWORD *)v2 + 4)]);
  }
  else
  {
    result = a2("%s, %d\n", off_470C38[*((_DWORD *)v2 + 3)], *((_DWORD *)v2 + 4));
  }
  return result;
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043AB30) --------------------------------------------------------
signed int __thiscall COP_sub::ToMachineCode(int this, int a2)
{
  signed int result; // eax@3
  unsigned int v3; // ecx@5

  if ( *(_BYTE *)(this + 8) )
  {
    if ( *(_BYTE *)(this + 8) == 1 )
    {
      *(_BYTE *)a2 = 43;
      *(_BYTE *)(a2 + 1) = *(_BYTE *)(this + 16) + LOBYTE((&arrReg4)[*(_DWORD *)(this + 12)]);
      result = 2;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    *(_BYTE *)a2 = -127;
    *(_BYTE *)(a2 + 1) = *(_BYTE *)(this + 12) - 24;
    v3 = *(_DWORD *)(this + 16);
    *(_BYTE *)(a2 + 2) = v3;
    *(_BYTE *)(a2 + 3) = BYTE1(v3);
    v3 >>= 16;
    *(_BYTE *)(a2 + 4) = v3;
    *(_BYTE *)(a2 + 5) = BYTE1(v3);
    result = 6;
  }
  return result;
}
// 470C8C: using guessed type unsigned __int8 *arrReg4;

//----- (0043ABA0) --------------------------------------------------------
int __thiscall COP_add::Addressing(int this, int a2)
{
  int v2; // eax@1
  int result; // eax@3

  v2 = *(_BYTE *)(this + 8);
  *(_DWORD *)(this + 4) = a2;
  if ( v2 )
  {
    if ( v2 == 1 )
      result = a2 + 2;
    else
      result = 0;
  }
  else
  {
    result = a2 + 6;
  }
  return result;
}

//----- (0043ABD0) --------------------------------------------------------
int __thiscall COP_sub::Show(void *this, int (*a2)(const char *, ...))
{
  void *v2; // esi@1
  int result; // eax@2

  v2 = this;
  ((void (__cdecl *)(_DWORD))a2)("SUB\t\t");
  if ( *((_BYTE *)v2 + 8) )
  {
    result = *((_BYTE *)v2 + 8) - 1;
    if ( *((_BYTE *)v2 + 8) == 1 )
      result = a2("%s, %s\n", off_470C38[*((_DWORD *)v2 + 3)], off_470C38[*((_DWORD *)v2 + 4)]);
  }
  else
  {
    result = a2("%s, %d\n", off_470C38[*((_DWORD *)v2 + 3)], *((_DWORD *)v2 + 4));
  }
  return result;
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043AC40) --------------------------------------------------------
signed int __thiscall COP_imul::ToMachineCode(int this, int a2)
{
  *(_BYTE *)a2 = 15;
  *(_BYTE *)(a2 + 1) = -81;
  *(_BYTE *)(a2 + 2) = *(_BYTE *)(this + 12) + LOBYTE((&arrReg4)[*(_DWORD *)(this + 8)]);
  return 3;
}
// 470C8C: using guessed type unsigned __int8 *arrReg4;

//----- (0043AC70) --------------------------------------------------------
int __thiscall COP_imul::Show(void *this, int (*a2)(const char *, ...))
{
  void *v2; // esi@1

  v2 = this;
  ((void (__cdecl *)(_DWORD))a2)("IMUL\t\t");
  return a2("%s, %s\n", off_470C38[*((_DWORD *)v2 + 2)], off_470C38[*((_DWORD *)v2 + 3)]);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043ACB0) --------------------------------------------------------
signed int __thiscall COP_idiv::ToMachineCode(int this, int a2)
{
  *(_BYTE *)a2 = -103;
  *(_BYTE *)(a2 + 1) = -9;
  *(_BYTE *)(a2 + 2) = *(_BYTE *)(this + 8) - 8;
  return 3;
}

//----- (0043ACD0) --------------------------------------------------------
int __thiscall COP_idiv::Show(void *this, int (*a2)(const char *, ...))
{
  void *v2; // esi@1

  v2 = this;
  ((void (__cdecl *)(_DWORD))a2)("IDIV\t\t");
  return a2("%s\n", off_470C38[*((_DWORD *)v2 + 2)]);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043AD00) --------------------------------------------------------
signed int __thiscall COP_push::ToMachineCode(int this, int a2)
{
  *(_BYTE *)a2 = *(_BYTE *)(this + 8) + 80;
  return 1;
}

//----- (0043AD20) --------------------------------------------------------
int __thiscall COP_push::Show(int this, int (*a2)(const char *, ...))
{
  return a2("PUSH\t\t%s\n", off_470C38[*(_DWORD *)(this + 8)]);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043AD40) --------------------------------------------------------
signed int __thiscall COP_pop::ToMachineCode(int this, int a2)
{
  *(_BYTE *)a2 = *(_BYTE *)(this + 8) + 88;
  return 1;
}

//----- (0043AD60) --------------------------------------------------------
int __thiscall COP_pop::Show(int this, int (*a2)(const char *, ...))
{
  return a2("POP\t\t%s\n", off_470C38[*(_DWORD *)(this + 8)]);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043AD80) --------------------------------------------------------
signed int __thiscall COP_jmp::ToMachineCode(int this, int a2)
{
  unsigned int v2; // eax@1

  *(_BYTE *)a2 = -23;
  v2 = *(_DWORD *)(*(_DWORD *)(this + 8) + 4) - *(_DWORD *)(this + 4) - 5;
  *(_BYTE *)(a2 + 1) = v2;
  *(_BYTE *)(a2 + 2) = BYTE1(v2);
  v2 >>= 16;
  *(_BYTE *)(a2 + 3) = v2;
  *(_BYTE *)(a2 + 4) = BYTE1(v2);
  return 5;
}

//----- (0043ADC0) --------------------------------------------------------
int __thiscall COP_jmp::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 5;
}

//----- (0043ADD0) --------------------------------------------------------
int __thiscall COP_jmp::Show(int this, int (*a2)(const char *, ...))
{
  return a2("JMP\t\t%X\n", *(_DWORD *)(*(_DWORD *)(this + 8) + 4));
}

//----- (0043ADF0) --------------------------------------------------------
signed int __thiscall COP_jcc::ToMachineCode(int this, int a2)
{
  unsigned int v2; // eax@1
  signed int result; // eax@2

  *(_BYTE *)a2 = 15;
  v2 = *(_DWORD *)(*(_DWORD *)(this + 8) + 4) - *(_DWORD *)(this + 4) - 6;
  *(_BYTE *)(a2 + 2) = v2;
  *(_BYTE *)(a2 + 3) = BYTE1(v2);
  v2 >>= 16;
  *(_BYTE *)(a2 + 4) = v2;
  *(_BYTE *)(a2 + 5) = BYTE1(v2);
  switch ( *(_DWORD *)(this + 12) )
  {
    case 0:
      *(_BYTE *)(a2 + 1) = -113;
      result = 6;
      break;
    case 1:
      *(_BYTE *)(a2 + 1) = -115;
      result = 6;
      break;
    case 2:
      *(_BYTE *)(a2 + 1) = -116;
      result = 6;
      break;
    case 3:
      *(_BYTE *)(a2 + 1) = -114;
      result = 6;
      break;
    case 4:
      *(_BYTE *)(a2 + 1) = -124;
      result = 6;
      break;
    case 5:
      *(_BYTE *)(a2 + 1) = -123;
      goto LABEL_8;
    default:
LABEL_8:
      result = 6;
      break;
  }
  return result;
}

//----- (0043AEA0) --------------------------------------------------------
int __thiscall COP_jcc::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 6;
}

//----- (0043AEB0) --------------------------------------------------------
int __thiscall COP_jcc::Show(int this, int (*a2)(const char *, ...))
{
  return a2("J%s\t\t%X\n", off_470C5C[*(_DWORD *)(this + 12)], *(_DWORD *)(*(_DWORD *)(this + 8) + 4));
}
// 470C5C: using guessed type char *off_470C5C[6];

//----- (0043AEE0) --------------------------------------------------------
int __stdcall COP_jmpmark::ToMachineCode(int a1)
{
  return 0;
}

//----- (0043AEF0) --------------------------------------------------------
int __thiscall COP_jmpmark::Addressing(int this, int a2)
{
  int result; // eax@1

  result = a2;
  *(_DWORD *)(this + 4) = a2;
  return result;
}

//----- (0043AF00) --------------------------------------------------------
int __thiscall COP_jmpmark::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1
  int result; // eax@2

  v2 = *(_DWORD *)(this + 8);
  if ( v2 )
    result = a2("JMPMARK\t\t%X\n", *(_DWORD *)(v2 + 4));
  else
    result = ((int (__cdecl *)(_DWORD))a2)("JMPMARK\t\t\n");
  return result;
}

//----- (0043AF30) --------------------------------------------------------
signed int __thiscall COP_cmp::ToMachineCode(int this, int a2)
{
  int v2; // edi@1
  signed int result; // eax@4
  int v4; // eax@5
  int v5; // eax@6
  int v6; // esi@7
  int v7; // eax@7
  int v8; // ecx@7
  void *v9; // ecx@8
  char v10; // ah@9
  char v11; // ah@9
  char v12; // cl@11
  char v13; // ah@12
  char v14; // ah@12
  int v15; // [sp-Ch] [bp-10h]@8
  int v16; // [sp-8h] [bp-Ch]@8

  v2 = this;
  if ( !*(_BYTE *)(this + 8) )
  {
    v6 = a2;
    *(_BYTE *)a2 = -127;
    v7 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16));
    v8 = *(_DWORD *)(v2 + 12);
    a2 = v7;
    if ( v8 )
    {
      if ( !(v7 & 0xFFFFFF00) )
      {
        *(_BYTE *)(v6 + 1) = 125;
        *(_BYTE *)(v6 + 2) = v7;
        Conversion::Conversion(&a2, *(_DWORD *)(v2 + 20), *(_DWORD *)(v2 + 4) + 3);
        v13 = BYTE1(a2);
        *(_BYTE *)(v6 + 3) = a2;
        *(_BYTE *)(v6 + 4) = v13;
        v14 = BYTE3(a2);
        *(_BYTE *)(v6 + 5) = BYTE2(a2);
        *(_BYTE *)(v6 + 6) = v14;
        return 7;
      }
      v12 = BYTE3(a2);
      *(_BYTE *)(v6 + 1) = -67;
      *(_BYTE *)(v6 + 2) = v7;
      LOBYTE(v7) = BYTE2(a2);
      *(_BYTE *)(v6 + 3) = BYTE1(v7);
      *(_BYTE *)(v6 + 4) = v7;
      *(_BYTE *)(v6 + 5) = v12;
      v16 = *(_DWORD *)(v2 + 4) + 6;
      v15 = *(_DWORD *)(v2 + 20);
    }
    else
    {
      *(_BYTE *)(v6 + 1) = 61;
      *(_BYTE *)(v6 + 2) = v7;
      *(_BYTE *)(v6 + 3) = BYTE1(v7);
      *(_BYTE *)(v6 + 4) = (unsigned int)v7 >> 16;
      v9 = (void *)dword_4C8E08;
      *(_BYTE *)(v6 + 5) = BYTE3(v7);
      CRelocTable::AddGlobalVar(v9, *(_DWORD *)(v2 + 4) + 2);
      v16 = *(_DWORD *)(v2 + 4) + 6;
      v15 = *(_DWORD *)(v2 + 20);
    }
    Conversion::Conversion(&a2, v15, v16);
    v10 = BYTE1(a2);
    *(_BYTE *)(v6 + 6) = a2;
    *(_BYTE *)(v6 + 7) = v10;
    v11 = BYTE3(a2);
    *(_BYTE *)(v6 + 8) = BYTE2(a2);
    *(_BYTE *)(v6 + 9) = v11;
    return 10;
  }
  if ( *(_BYTE *)(this + 8) == 1 )
  {
    v5 = a2;
    *(_BYTE *)a2 = -125;
    *(_BYTE *)(v5 + 1) = *(_BYTE *)(this + 16) - 8;
    *(_BYTE *)(v5 + 2) = *(_BYTE *)(this + 20);
    result = 3;
  }
  else
  {
    if ( *(_BYTE *)(this + 8) == 2 )
    {
      v4 = a2;
      *(_BYTE *)a2 = 59;
      *(_BYTE *)(v4 + 1) = *(_BYTE *)(this + 20) + LOBYTE((&arrReg4)[*(_DWORD *)(this + 16)]);
      result = 2;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// 470C8C: using guessed type unsigned __int8 *arrReg4;
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043B070) --------------------------------------------------------
int __thiscall COP_cmp::Addressing(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // eax@2
  int result; // eax@4
  int v6; // eax@7
  bool v7; // zf@8

  v2 = this;
  v3 = *(_BYTE *)(this + 8);
  *(_DWORD *)(this + 4) = a2;
  if ( v3 )
  {
    v4 = v3 - 1;
    if ( v4 )
    {
      if ( v4 == 1 )
        result = a2 + 2;
      else
        result = 0;
    }
    else
    {
      result = a2 + 3;
    }
  }
  else
  {
    v6 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16));
    if ( !*(_DWORD *)(v2 + 12) || (v7 = (v6 & 0xFFFFFF00) == 0, result = a2 + 7, !v7) )
      result = a2 + 10;
  }
  return result;
}

//----- (0043B0D0) --------------------------------------------------------
int __thiscall COP_cmp::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // esi@1
  int result; // eax@3
  int v4; // ST08_4@6
  int v5; // eax@6

  v2 = this;
  if ( *(_BYTE *)(this + 8) )
  {
    if ( *(_BYTE *)(this + 8) == 1 )
    {
      result = a2("CMP\t\t%s, %d\n", off_470C38[*(_DWORD *)(this + 16)], *(_BYTE *)(this + 20));
    }
    else
    {
      result = *(_BYTE *)(this + 8) - 2;
      if ( *(_BYTE *)(this + 8) == 2 )
        result = a2("CMP\t\t%s, %s\n", off_470C38[*(_DWORD *)(this + 16)], off_470C38[*(_DWORD *)(this + 20)]);
    }
  }
  else
  {
    v4 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 20));
    v5 = CSymbolTable::GetNameOfVar(*(_DWORD *)(v2 + 16));
    result = a2("CMP\t\t%s, %s\n", v5, v4);
  }
  return result;
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043B160) --------------------------------------------------------
signed int __stdcall COP_ret::ToMachineCode(int a1)
{
  *(_BYTE *)a1 = -61;
  return 1;
}

//----- (0043B170) --------------------------------------------------------
int __thiscall COP_nop::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 1;
}

//----- (0043B180) --------------------------------------------------------
int __stdcall COP_ret::Show(int (__cdecl *a1)(_DWORD))
{
  return a1("RET\n");
}

//----- (0043B190) --------------------------------------------------------
signed int __thiscall COP_setcc::ToMachineCode(int this, int a2)
{
  signed int result; // eax@2

  *(_BYTE *)a2 = *(_BYTE *)(this + 12) - 72;
  *(_BYTE *)(a2 + 1) = 0;
  *(_BYTE *)(a2 + 2) = 0;
  *(_BYTE *)(a2 + 3) = 0;
  *(_BYTE *)(a2 + 4) = 0;
  *(_BYTE *)(a2 + 5) = 15;
  switch ( *(_DWORD *)(this + 8) )
  {
    case 0:
      *(_BYTE *)(a2 + 6) = -97;
      *(_BYTE *)(a2 + 7) = *(_BYTE *)(this + 12) - 64;
      result = 8;
      break;
    case 1:
      *(_BYTE *)(a2 + 6) = -99;
      *(_BYTE *)(a2 + 7) = *(_BYTE *)(this + 12) - 64;
      result = 8;
      break;
    case 2:
      *(_BYTE *)(a2 + 6) = -100;
      *(_BYTE *)(a2 + 7) = *(_BYTE *)(this + 12) - 64;
      result = 8;
      break;
    case 3:
      *(_BYTE *)(a2 + 6) = -98;
      *(_BYTE *)(a2 + 7) = *(_BYTE *)(this + 12) - 64;
      result = 8;
      break;
    case 4:
      *(_BYTE *)(a2 + 6) = -108;
      *(_BYTE *)(a2 + 7) = *(_BYTE *)(this + 12) - 64;
      result = 8;
      break;
    case 5:
      *(_BYTE *)(a2 + 6) = -107;
      goto LABEL_8;
    default:
LABEL_8:
      *(_BYTE *)(a2 + 7) = *(_BYTE *)(this + 12) - 64;
      result = 8;
      break;
  }
  return result;
}

//----- (0043B260) --------------------------------------------------------
int __thiscall COP_setcc::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 8;
}

//----- (0043B270) --------------------------------------------------------
int __thiscall COP_setcc::Show(int this, int (*a2)(const char *, ...))
{
  return a2("SET%s\t\t%s\n", off_470C5C[*(_DWORD *)(this + 8)], off_470C38[*(_DWORD *)(this + 12)]);
}
// 470C38: using guessed type char *off_470C38[15];
// 470C5C: using guessed type char *off_470C5C[6];

//----- (0043B2A0) --------------------------------------------------------
signed int __thiscall COP_fld::ToMachineCode(int this, unsigned __int8 *a2)
{
  __int32 v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  return Code_RM32_Offset(a2, 0xD9u, 0, v3, v2, v4);
}

//----- (0043B2E0) --------------------------------------------------------
int __thiscall COP_fld::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FLD\t\t%s\n", v2);
}

//----- (0043B300) --------------------------------------------------------
signed int __thiscall COP_fadd::ToMachineCode(int this, unsigned __int8 *a2)
{
  __int32 v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  return Code_RM32_Offset(a2, 0xD8u, 0, v3, v2, v4);
}

//----- (0043B340) --------------------------------------------------------
int __thiscall COP_fadd::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FADD\t\t%s\n", v2);
}

//----- (0043B360) --------------------------------------------------------
signed int __thiscall COP_fsub::ToMachineCode(int this, unsigned __int8 *a2)
{
  __int32 v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  return Code_RM32_Offset(a2, 0xD8u, 4, v3, v2, v4);
}

//----- (0043B3A0) --------------------------------------------------------
int __thiscall COP_fcomp::Addressing(int this, int a2)
{
  int v2; // eax@1
  int v3; // esi@1
  int v4; // eax@1
  bool v5; // zf@2
  signed int v6; // eax@2

  v2 = *(_DWORD *)(this + 12);
  v3 = *(_DWORD *)(this + 8);
  *(_DWORD *)(this + 4) = a2;
  v4 = CSymbolTable::GetOffsetOfVar(v2);
  if ( !v3 || (v5 = (v4 & 0xFFFFFF00) == 0, v6 = 3, !v5) )
    v6 = 6;
  return a2 + v6;
}

//----- (0043B3E0) --------------------------------------------------------
int __thiscall COP_fsub::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FSUB\t\t%s\n", v2);
}

//----- (0043B400) --------------------------------------------------------
signed int __thiscall COP_fmul::ToMachineCode(int this, unsigned __int8 *a2)
{
  __int32 v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  return Code_RM32_Offset(a2, 0xD8u, 1, v3, v2, v4);
}

//----- (0043B440) --------------------------------------------------------
int __thiscall COP_fmul::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FMUL\t\t%s\n", v2);
}

//----- (0043B460) --------------------------------------------------------
signed int __thiscall COP_fdiv::ToMachineCode(int this, unsigned __int8 *a2)
{
  __int32 v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  return Code_RM32_Offset(a2, 0xD8u, 6, v3, v2, v4);
}

//----- (0043B4A0) --------------------------------------------------------
int __thiscall COP_fdiv::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FDIV\t\t%s\n", v2);
}

//----- (0043B4C0) --------------------------------------------------------
signed int __thiscall COP_fstp::ToMachineCode(int this, unsigned __int8 *a2)
{
  int v2; // esi@1
  int v3; // eax@2
  signed int result; // eax@2
  __int32 v5; // edi@3
  int v6; // esi@3
  int v7; // eax@3

  v2 = this;
  if ( *(_BYTE *)(this + 16) )
  {
    v3 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
    result = Code_RM32_Offset(a2, 0xDDu, 3, *(_DWORD *)(v2 + 8), *(_DWORD *)(v2 + 4), v3 - 4);
  }
  else
  {
    v5 = *(_DWORD *)(this + 4);
    v6 = *(_DWORD *)(this + 8);
    v7 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
    result = Code_RM32_Offset(a2, 0xD9u, 3, v6, v5, v7);
  }
  return result;
}

//----- (0043B530) --------------------------------------------------------
int __thiscall COP_fstp::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FSTP\t\t%s\n", v2);
}

//----- (0043B550) --------------------------------------------------------
signed int __thiscall COP_fcomp::ToMachineCode(int this, unsigned __int8 *a2)
{
  __int32 v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1

  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  return Code_RM32_Offset(a2, 0xD8u, 3, v3, v2, v4);
}

//----- (0043B590) --------------------------------------------------------
int __thiscall COP_fcomp::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FCOMP\t\t%s\n", v2);
}

//----- (0043B5B0) --------------------------------------------------------
signed int __stdcall COP_fnstsw_ax::ToMachineCode(int a1)
{
  *(_BYTE *)a1 = -33;
  *(_BYTE *)(a1 + 1) = -32;
  return 2;
}

//----- (0043B5D0) --------------------------------------------------------
int __thiscall COP_fnstsw_ax::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 2;
}

//----- (0043B5E0) --------------------------------------------------------
int __stdcall COP_fnstsw_ax::Show(int (__cdecl *a1)(_DWORD))
{
  return a1("FNSTSW\t\tAX\n");
}

//----- (0043B5F0) --------------------------------------------------------
signed int __thiscall COP_test_ah::ToMachineCode(int this, int a2)
{
  *(_BYTE *)a2 = -10;
  *(_BYTE *)(a2 + 1) = -60;
  *(_BYTE *)(a2 + 2) = *(_BYTE *)(this + 8);
  return 3;
}

//----- (0043B610) --------------------------------------------------------
int __thiscall COP_idiv::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 3;
}

//----- (0043B620) --------------------------------------------------------
int __thiscall COP_test_ah::Show(int this, int (*a2)(const char *, ...))
{
  return a2("TEST\t\tAH, %d\n", *(_BYTE *)(this + 8));
}

//----- (0043B640) --------------------------------------------------------
signed int __thiscall COP_itoa::ToMachineCode(int this, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // eax@3
  __int16 v5; // bx@3
  int v7; // [sp+10h] [bp+4h]@3

  v2 = a2;
  v3 = this;
  *(_BYTE *)a2 = 106;
  *(_BYTE *)(a2 + 1) = 10;
  *(_BYTE *)(a2 + 2) = -1;
  *(_BYTE *)(a2 + 3) = 53;
  if ( CSymbolTable::GetTypeOfVar(*(_DWORD *)(this + 16)) != 4 )
    ScriptSystemError((int)" String Buffer |! ( COP_itoa::ToMachineCode() )");
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(v3 + 16));
  v5 = v4;
  v7 = v4;
  CRelocTable::AddGlobalVar((void *)dword_4C8E08, *(_DWORD *)(v3 + 4) + 4);
  *(_BYTE *)(v2 + 6) = BYTE2(v7);
  *(_BYTE *)(v2 + 4) = v5;
  *(_BYTE *)(v2 + 5) = HIBYTE(v5);
  *(_BYTE *)(v2 + 7) = BYTE3(v7);
  *(_BYTE *)(v2 + 8) = *(_BYTE *)(v3 + 8) + 80;
  *(_BYTE *)(v2 + 9) = *(_BYTE *)(v3 + 8) - 72;
  CRelocTable::AddFuncBind(dword_4C8E08, 0, *(_DWORD *)(v3 + 4) + 10);
  *(_BYTE *)(v2 + 12) = BYTE2(v7);
  *(_BYTE *)(v2 + 10) = v5;
  *(_BYTE *)(v2 + 11) = HIBYTE(v5);
  *(_BYTE *)(v2 + 13) = BYTE3(v7);
  *(_BYTE *)(v2 + 14) = -1;
  *(_BYTE *)(v2 + 15) = *(_BYTE *)(v3 + 8) - 48;
  *(_BYTE *)(v2 + 16) = -125;
  *(_BYTE *)(v2 + 17) = -60;
  *(_BYTE *)(v2 + 18) = 12;
  return 19;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043B710) --------------------------------------------------------
int __thiscall COP_itoa::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 19;
}

//----- (0043B720) --------------------------------------------------------
int __thiscall COP_itoa::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // esi@1
  int v3; // eax@1

  v2 = this;
  v3 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 16));
  return a2("ITOA\t\t%s, %s\n", off_470C38[*(_DWORD *)(v2 + 8)], v3);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043B750) --------------------------------------------------------
signed int __thiscall COP_ftoa::ToMachineCode(int this, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // eax@3
  __int16 v5; // bx@3
  int v6; // ebp@3
  int v7; // eax@3
  void *v8; // ecx@3
  int v9; // eax@3
  int v10; // ecx@3
  int v11; // ST04_4@3
  void *v12; // ecx@3
  int v14; // [sp+14h] [bp+4h]@3
  int v15; // [sp+14h] [bp+4h]@3

  v2 = a2;
  v3 = this;
  *(_BYTE *)a2 = -1;
  *(_BYTE *)(a2 + 1) = 53;
  if ( CSymbolTable::GetTypeOfVar(*(_DWORD *)(this + 16)) != 4 )
    ScriptSystemError((int)" String Buffer |! ( COP_ftoa::ToMachineCode() )");
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(v3 + 16));
  v5 = v4;
  v14 = v4;
  CRelocTable::AddGlobalVar((void *)dword_4C8E08, *(_DWORD *)(v3 + 4) + 2);
  *(_BYTE *)(v2 + 2) = v5;
  *(_BYTE *)(v2 + 3) = HIBYTE(v5);
  *(_BYTE *)(v2 + 4) = BYTE2(v14);
  *(_BYTE *)(v2 + 5) = BYTE3(v14);
  *(_BYTE *)(v2 + 6) = 106;
  *(_BYTE *)(v2 + 7) = 8;
  v6 = *(_DWORD *)(v3 + 4) + 8;
  v7 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(v3 + 12));
  *(_BYTE *)(v2 + 8) = -1;
  *(_BYTE *)(v2 + 9) = byte_470C7A + 5;
  v8 = (void *)dword_4C8E08;
  *(_BYTE *)(v2 + 10) = v7;
  *(_BYTE *)(v2 + 11) = BYTE1(v7);
  *(_BYTE *)(v2 + 12) = (unsigned int)v7 >> 16;
  *(_BYTE *)(v2 + 13) = BYTE3(v7);
  CRelocTable::AddGlobalVar(v8, v6 + 2);
  v9 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(v3 + 12));
  v10 = *(_DWORD *)(v3 + 4);
  *(_BYTE *)(v2 + 14) = -1;
  *(_BYTE *)(v2 + 15) = byte_470C7A + 5;
  v15 = v9 - 4;
  *(_BYTE *)(v2 + 16) = v9 - 4;
  *(_BYTE *)(v2 + 17) = BYTE1(v15);
  v11 = v10 + 16;
  v12 = (void *)dword_4C8E08;
  *(_BYTE *)(v2 + 18) = (unsigned int)(v9 - 4) >> 16;
  *(_BYTE *)(v2 + 19) = (unsigned int)(v9 - 4) >> 24;
  CRelocTable::AddGlobalVar(v12, v11);
  *(_BYTE *)(v2 + 20) = *(_BYTE *)(v3 + 8) - 72;
  CRelocTable::AddFuncBind(dword_4C8E08, 1, *(_DWORD *)(v3 + 4) + 21);
  *(_BYTE *)(v2 + 21) = 0;
  *(_BYTE *)(v2 + 22) = 0;
  *(_BYTE *)(v2 + 23) = 0;
  *(_BYTE *)(v2 + 24) = 0;
  *(_BYTE *)(v2 + 25) = -1;
  *(_BYTE *)(v2 + 26) = *(_BYTE *)(v3 + 8) - 48;
  *(_BYTE *)(v2 + 27) = -125;
  *(_BYTE *)(v2 + 28) = -60;
  *(_BYTE *)(v2 + 29) = 16;
  return 30;
}
// 470C7A: using guessed type char byte_470C7A;
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043B8B0) --------------------------------------------------------
int __thiscall COP_ftoa::Addressing(int this, int a2)
{
  int v2; // eax@1

  v2 = *(_DWORD *)(this + 12);
  *(_DWORD *)(this + 4) = a2;
  CSymbolTable::GetOffsetOfVar(v2);
  return a2 + 30;
}

//----- (0043B8D0) --------------------------------------------------------
int __thiscall COP_ftoa::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // esi@1
  int v3; // ST08_4@1
  int v4; // eax@1

  v2 = this;
  v3 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 16));
  v4 = CSymbolTable::GetNameOfVar(*(_DWORD *)(v2 + 12));
  return a2("FTOA\t\t%s, %s\n", v4, v3);
}

//----- (0043B910) --------------------------------------------------------
signed int __thiscall COP_malloc::ToMachineCode(int this, int a2)
{
  int v2; // edi@1
  int v3; // ecx@1

  v2 = this;
  *(_DWORD *)a2 = -1869574000;
  *(_DWORD *)(a2 + 4) = -1869574000;
  *(_DWORD *)(a2 + 8) = -1869574000;
  *(_DWORD *)(a2 + 12) = -1869574000;
  *(_DWORD *)(a2 + 16) = -1869574000;
  *(_DWORD *)(a2 + 20) = -1869574000;
  *(_BYTE *)a2 = *(_BYTE *)(this + 8) + 80;
  *(_BYTE *)(a2 + 1) = *(_BYTE *)(this + 8) - 72;
  CRelocTable::AddFuncBind(dword_4C8E08, 2, *(_DWORD *)(this + 4) + 2);
  v3 = dword_4C8E08;
  *(_BYTE *)(a2 + 2) = 0;
  *(_BYTE *)(a2 + 3) = 0;
  *(_BYTE *)(a2 + 4) = 0;
  *(_BYTE *)(a2 + 5) = 0;
  *(_BYTE *)(a2 + 6) = -1;
  *(_BYTE *)(a2 + 7) = *(_BYTE *)(v2 + 8) - 48;
  *(_BYTE *)(a2 + 8) = -125;
  *(_BYTE *)(a2 + 9) = -60;
  *(_BYTE *)(a2 + 10) = 4;
  *(_BYTE *)(a2 + 11) = 80;
  *(_BYTE *)(a2 + 12) = 86;
  *(_BYTE *)(a2 + 13) = 80;
  *(_BYTE *)(a2 + 14) = -66;
  CRelocTable::AddFuncBind(v3, 7, *(_DWORD *)(v2 + 4) + 15);
  *(_BYTE *)(a2 + 19) = -1;
  *(_BYTE *)(a2 + 20) = -42;
  *(_BYTE *)(a2 + 21) = -125;
  *(_BYTE *)(a2 + 22) = -60;
  *(_BYTE *)(a2 + 23) = 4;
  *(_BYTE *)(a2 + 24) = 94;
  *(_BYTE *)(a2 + 25) = 88;
  return 26;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043B9D0) --------------------------------------------------------
int __thiscall COP_malloc::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 26;
}

//----- (0043B9E0) --------------------------------------------------------
int __thiscall COP_malloc::Show(int this, int (*a2)(const char *, ...))
{
  return a2("MALLOC\t\t%s\n", off_470C38[*(_DWORD *)(this + 8)]);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043BA00) --------------------------------------------------------
int __thiscall COP_free::ToMachineCode(int this, unsigned __int8 *a2)
{
  int v2; // ebx@1
  __int32 v3; // esi@1
  int v4; // edi@1
  int v5; // eax@1
  int v6; // ST0C_4@1
  unsigned __int8 *v7; // edi@1
  signed int v8; // eax@1
  int v9; // ecx@1
  int v10; // esi@1
  __int32 v11; // ebp@1
  int v12; // eax@1
  int v13; // esi@1
  int v15; // [sp+14h] [bp+4h]@1

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  v4 = *(_DWORD *)(this + 8);
  v5 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  v6 = v4;
  v7 = a2;
  v8 = Code_RM32_Offset(a2, 0xFFu, 6, v6, v3, v5);
  v9 = dword_4C8E08;
  a2[v8] = -71;
  v10 = v8 + 1;
  CRelocTable::AddFuncBind(v9, 3, v8 + 1 + *(_DWORD *)(v2 + 4));
  a2[v10] = 0;
  a2[v10 + 1] = 0;
  a2[v10 + 2] = 0;
  a2[v10 + 3] = 0;
  a2[v10 + 4] = -1;
  v10 += 4;
  a2[v10++ + 1] = -47;
  a2[v10++ + 1] = -125;
  a2[v10++ + 1] = -60;
  a2[v10 + 1] = 4;
  v15 = *(_DWORD *)(v2 + 8);
  v10 += 2;
  v11 = v10 + *(_DWORD *)(v2 + 4);
  v12 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(v2 + 12));
  v13 = Code_RM32_Offset(&v7[v10], 0xFFu, 6, v15, v11, v12) + v10;
  v7[v13++] = -71;
  CRelocTable::AddFuncBind(dword_4C8E08, 8, v13 + *(_DWORD *)(v2 + 4));
  v13 += 4;
  v7[v13++] = -1;
  v7[v13++] = -47;
  v7[v13++] = -125;
  v7[v13++] = -60;
  v7[v13] = 4;
  return v13 + 1;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043BB00) --------------------------------------------------------
int __thiscall COP_free::Addressing(int this, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1
  signed int v5; // ecx@2

  v2 = this;
  v3 = *(_DWORD *)(this + 8);
  v4 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 12));
  if ( !v3 || (v5 = 3, v4 & 0xFFFFFF00) )
    v5 = 6;
  *(_DWORD *)(v2 + 4) = a2;
  return a2 + 2 * v5 + 20;
}

//----- (0043BB40) --------------------------------------------------------
int __thiscall COP_free::Show(int this, int (*a2)(const char *, ...))
{
  int v2; // eax@1

  v2 = CSymbolTable::GetNameOfVar(*(_DWORD *)(this + 12));
  return a2("FREE\t\t%s\n", v2);
}

//----- (0043BB60) --------------------------------------------------------
int __thiscall COP_strcpy::ToMachineCode(int this, unsigned __int8 *a2)
{
  int v2; // ebp@1
  unsigned __int8 *v3; // edi@2
  signed int v4; // esi@2
  __int32 v5; // esi@3
  int v6; // edi@3
  int v7; // eax@3
  int v8; // ST0C_4@3
  int v9; // ecx@4
  int v10; // esi@4

  v2 = this;
  if ( *(_DWORD *)(this + 8) )
  {
    v5 = *(_DWORD *)(this + 4);
    v6 = *(_DWORD *)(this + 16);
    v7 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 20));
    v8 = v6;
    v3 = a2;
    v4 = Code_RM32_Offset(a2, 0xFFu, 6, v8, v5, v7);
  }
  else
  {
    v3 = a2;
    *a2 = *(_BYTE *)(this + 20) + 80;
    v4 = 1;
  }
  v3[v4] = *(_BYTE *)(v2 + 12) + 80;
  v9 = dword_4C8E08;
  v10 = v4 + 1;
  v3[v10++] = *(_BYTE *)(v2 + 12) - 72;
  CRelocTable::AddFuncBind(v9, 4, v10 + *(_DWORD *)(v2 + 4));
  v3[v10] = 0;
  v3[v10 + 1] = 0;
  v3[v10 + 2] = 0;
  v3[v10 + 3] = 0;
  v3[v10 + 4] = -1;
  v10 += 5;
  v3[v10++] = *(_BYTE *)(v2 + 12) - 48;
  v3[v10++] = -125;
  v3[v10++] = -60;
  v3[v10] = 8;
  return v10 + 1;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043BC10) --------------------------------------------------------
int __thiscall COP_strcpy::Addressing(int this, int a2)
{
  int v2; // eax@1
  int result; // eax@2
  int v4; // esi@3
  int v5; // eax@3
  bool v6; // zf@4
  signed int v7; // eax@4

  v2 = *(_DWORD *)(this + 8);
  *(_DWORD *)(this + 4) = a2;
  if ( v2 )
  {
    v4 = *(_DWORD *)(this + 16);
    v5 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 20));
    if ( !v4 || (v6 = (v5 & 0xFFFFFF00) == 0, v7 = 3, !v6) )
      v7 = 6;
    result = v7 + a2 + 11;
  }
  else
  {
    result = a2 + 12;
  }
  return result;
}

//----- (0043BC60) --------------------------------------------------------
int __thiscall COP_strcpy::Show(int this, void (*a2)(const char *, ...))
{
  int v2; // esi@1
  int result; // eax@2
  int v4; // eax@3

  v2 = this;
  a2("STRCPY\t\t%s,", off_470C38[*(_DWORD *)(this + 12)]);
  if ( *(_DWORD *)(v2 + 8) )
  {
    v4 = CSymbolTable::GetNameOfVar(*(_DWORD *)(v2 + 20));
    result = ((int (*)(const char *, ...))a2)(" %s\n", v4);
  }
  else
  {
    result = ((int (*)(const char *, ...))a2)(" %s\n", off_470C38[*(_DWORD *)(v2 + 20)]);
  }
  return result;
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043BCC0) --------------------------------------------------------
signed int __thiscall COP_strcmp::ToMachineCode(int this, int a2)
{
  int v2; // edi@1
  char v3; // dl@1
  int v4; // ecx@1

  v2 = this;
  *(_BYTE *)a2 = *(_BYTE *)(this + 12) + 80;
  *(_BYTE *)(a2 + 1) = *(_BYTE *)(this + 8) + 80;
  v3 = *(_BYTE *)(this + 8);
  v4 = dword_4C8E08;
  *(_BYTE *)(a2 + 2) = v3 - 72;
  CRelocTable::AddFuncBind(v4, 5, *(_DWORD *)(v2 + 4) + 3);
  *(_BYTE *)(a2 + 3) = 0;
  *(_BYTE *)(a2 + 4) = 0;
  *(_BYTE *)(a2 + 5) = 0;
  *(_BYTE *)(a2 + 6) = 0;
  *(_BYTE *)(a2 + 7) = -1;
  *(_BYTE *)(a2 + 8) = *(_BYTE *)(v2 + 8) - 48;
  *(_BYTE *)(a2 + 9) = -125;
  *(_BYTE *)(a2 + 10) = -60;
  *(_BYTE *)(a2 + 11) = 8;
  return 12;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043BD30) --------------------------------------------------------
int __thiscall COP_strcmp::Addressing(int this, int a2)
{
  *(_DWORD *)(this + 4) = a2;
  return a2 + 12;
}

//----- (0043BD40) --------------------------------------------------------
int __thiscall COP_strcmp::Show(int this, int (*a2)(const char *, ...))
{
  return a2("STRCMP\t\t%s, %s\n", off_470C38[*(_DWORD *)(this + 8)], off_470C38[*(_DWORD *)(this + 12)]);
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043BD70) --------------------------------------------------------
int __thiscall COP_strlen::ToMachineCode(int this, unsigned __int8 *a2)
{
  int v2; // ebp@1
  unsigned __int8 *v3; // edi@2
  signed int v4; // esi@2
  __int32 v5; // esi@3
  int v6; // edi@3
  int v7; // eax@3
  int v8; // ST0C_4@3
  int v9; // esi@4

  v2 = this;
  if ( *(_DWORD *)(this + 8) )
  {
    v5 = *(_DWORD *)(this + 4);
    v6 = *(_DWORD *)(this + 12);
    v7 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16));
    v8 = v6;
    v3 = a2;
    v4 = Code_RM32_Offset(a2, 0xFFu, 6, v8, v5, v7);
  }
  else
  {
    v3 = a2;
    *a2 = *(_BYTE *)(this + 16) + 80;
    v4 = 1;
  }
  v3[v4] = -72;
  v9 = v4 + 1;
  CRelocTable::AddFuncBind(dword_4C8E08, 6, v9 + *(_DWORD *)(v2 + 4));
  v3[v9] = 0;
  v3[v9 + 1] = 0;
  v3[v9 + 2] = 0;
  v3[v9 + 3] = 0;
  v3[v9 + 4] = -1;
  v9 += 4;
  v3[v9 + 1] = -48;
  v9 += 2;
  v3[v9++] = -125;
  v3[v9++] = -60;
  v3[v9] = 4;
  return v9 + 1;
}
// 4C8E08: using guessed type int dword_4C8E08;

//----- (0043BE10) --------------------------------------------------------
int __thiscall COP_strlen::Addressing(int this, int a2)
{
  int v2; // eax@1
  int result; // eax@2
  int v4; // esi@3
  int v5; // eax@3
  bool v6; // zf@4
  signed int v7; // eax@4

  v2 = *(_DWORD *)(this + 8);
  *(_DWORD *)(this + 4) = a2;
  if ( v2 )
  {
    v4 = *(_DWORD *)(this + 12);
    v5 = CSymbolTable::GetOffsetOfVar(*(_DWORD *)(this + 16));
    if ( !v4 || (v6 = (v5 & 0xFFFFFF00) == 0, v7 = 3, !v6) )
      v7 = 6;
    result = v7 + a2 + 10;
  }
  else
  {
    result = a2 + 11;
  }
  return result;
}

//----- (0043BE60) --------------------------------------------------------
int __thiscall COP_strlen::Show(void *this, int (*a2)(const char *, ...))
{
  void *v2; // esi@1
  int result; // eax@2
  int v4; // eax@3

  v2 = this;
  ((void (__cdecl *)(_DWORD))a2)("STRLEN\t\t");
  if ( *((_DWORD *)v2 + 2) )
  {
    v4 = CSymbolTable::GetNameOfVar(*((_DWORD *)v2 + 4));
    result = a2("%s\n", v4);
  }
  else
  {
    result = a2("%s\n", off_470C38[*((_DWORD *)v2 + 4)]);
  }
  return result;
}
// 470C38: using guessed type char *off_470C38[15];

//----- (0043BEC0) --------------------------------------------------------
int __thiscall COP_call::COP_call(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_call::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463EA8: using guessed type int (__thiscall *COP_call___vftable_)(void *p, char);

//----- (0043BEE0) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_BYTE *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_DWORD *)(this + 16) = a3;
  *(_DWORD *)(this + 24) = a4;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043BF10) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = a3;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)(this + 16) = a2;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = a4;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043BF40) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 2;
  *(_DWORD *)(this + 16) = a2;
  *(_DWORD *)(this + 24) = a3;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043BF70) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 3;
  *(_DWORD *)(this + 16) = a3;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = a4;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043BFA0) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 4;
  *(_DWORD *)(this + 16) = a2;
  *(_DWORD *)(this + 24) = a3;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043BFD0) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 5;
  *(_DWORD *)(this + 16) = a2;
  *(_DWORD *)(this + 24) = a3;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043C000) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 16) = a3;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 6;
  *(_DWORD *)(this + 20) = a4;
  *(_DWORD *)(this + 24) = a5;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043C030) --------------------------------------------------------
int __thiscall COP_mov::COP_mov(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = a3;
  *(_DWORD *)(this + 16) = a2;
  *(_DWORD *)this = &COP_mov::_vftable_;
  *(_BYTE *)(this + 8) = 7;
  *(_DWORD *)(this + 20) = a5;
  *(_DWORD *)(this + 24) = a4;
  return result;
}
// 463EB8: using guessed type int (__thiscall *COP_mov___vftable_)(void *p, char);

//----- (0043C060) --------------------------------------------------------
int __thiscall COP_add::COP_add(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_add::_vftable_;
  *(_BYTE *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 16) = a3;
  return result;
}
// 463EC8: using guessed type int (__thiscall *COP_add___vftable_)(void *p, char);

//----- (0043C080) --------------------------------------------------------
int __thiscall COP_add::COP_add(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_add::_vftable_;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 16) = a3;
  return result;
}
// 463EC8: using guessed type int (__thiscall *COP_add___vftable_)(void *p, char);

//----- (0043C0A0) --------------------------------------------------------
int __thiscall COP_sub::COP_sub(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_sub::_vftable_;
  *(_BYTE *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 16) = a3;
  return result;
}
// 463ED8: using guessed type int (__thiscall *COP_sub___vftable_)(void *p, char);

//----- (0043C0C0) --------------------------------------------------------
int __thiscall COP_sub::COP_sub(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_sub::_vftable_;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 16) = a3;
  return result;
}
// 463ED8: using guessed type int (__thiscall *COP_sub___vftable_)(void *p, char);

//----- (0043C0E0) --------------------------------------------------------
int __thiscall COP_imul::COP_imul(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_imul::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463EE8: using guessed type int (__thiscall *COP_imul___vftable_)(void *p, char);

//----- (0043C100) --------------------------------------------------------
int __thiscall COP_idiv::COP_idiv(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_idiv::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  return result;
}
// 463EF8: using guessed type int (__thiscall *COP_idiv___vftable_)(void *p, char);

//----- (0043C120) --------------------------------------------------------
int __thiscall COP_push::COP_push(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_push::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  return result;
}
// 463F08: using guessed type int (__thiscall *COP_push___vftable_)(void *p, char);

//----- (0043C140) --------------------------------------------------------
int __thiscall COP_pop::COP_pop(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_pop::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  return result;
}
// 463F18: using guessed type int (__thiscall *COP_pop___vftable_)(void *p, char);

//----- (0043C160) --------------------------------------------------------
int __thiscall COP_jmp::COP_jmp(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_jmp::_vftable_;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 463F28: using guessed type int (__thiscall *COP_jmp___vftable_)(void *p, char);

//----- (0043C170) --------------------------------------------------------
int __thiscall COP_jmp::COP_jmp(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_jmp::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  return result;
}
// 463F28: using guessed type int (__thiscall *COP_jmp___vftable_)(void *p, char);

//----- (0043C190) --------------------------------------------------------
int __thiscall COP_jcc::COP_jcc(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)this = &COP_jcc::_vftable_;
  *(_DWORD *)(this + 12) = a2;
  return result;
}
// 463F38: using guessed type int (__thiscall *COP_jcc___vftable_)(void *p, char);

//----- (0043C1B0) --------------------------------------------------------
int __thiscall COP_jmpmark::COP_jmpmark(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_jmpmark::_vftable_;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 463F48: using guessed type int (__thiscall *COP_jmpmark___vftable_)(void *p, char);

//----- (0043C1C0) --------------------------------------------------------
int __thiscall COP_jmpmark::COP_jmpmark(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_jmpmark::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(a2 + 8) = this;
  return result;
}
// 463F48: using guessed type int (__thiscall *COP_jmpmark___vftable_)(void *p, char);

//----- (0043C1E0) --------------------------------------------------------
int __thiscall COP_cmp::COP_cmp(int this, int a2, int a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)this = &COP_cmp::_vftable_;
  *(_BYTE *)(this + 8) = 0;
  *(_DWORD *)(this + 16) = a3;
  *(_DWORD *)(this + 20) = a4;
  return result;
}
// 463F58: using guessed type int (__thiscall *COP_cmp___vftable_)(void *p, char);

//----- (0043C210) --------------------------------------------------------
int __thiscall COP_cmp::COP_cmp(int this, int a2, char a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_cmp::_vftable_;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = a2;
  *(_BYTE *)(this + 20) = a3;
  return result;
}
// 463F58: using guessed type int (__thiscall *COP_cmp___vftable_)(void *p, char);

//----- (0043C240) --------------------------------------------------------
int __thiscall COP_cmp::COP_cmp(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_cmp::_vftable_;
  *(_BYTE *)(this + 8) = 2;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = a2;
  *(_DWORD *)(this + 20) = a3;
  return result;
}
// 463F58: using guessed type int (__thiscall *COP_cmp___vftable_)(void *p, char);

//----- (0043C270) --------------------------------------------------------
int __thiscall COP_setcc::COP_setcc(int this, int a2, signed int a3)
{
  int v3; // esi@1

  v3 = this;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)this = &COP_setcc::_vftable_;
  *(_DWORD *)(this + 12) = a3;
  if ( a3 > 3 )
    ScriptSystemError((int)"setcc  EAX, ECX, EDX, EBX ");
  return v3;
}
// 463FA8: using guessed type int (__thiscall *COP_setcc___vftable_)(void *p, char);

//----- (0043C2D0) --------------------------------------------------------
int __thiscall COP_fld::COP_fld(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_fld::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463FB8: using guessed type int (__thiscall *COP_fld___vftable_)(void *p, char);

//----- (0043C2F0) --------------------------------------------------------
int __thiscall COP_fadd::COP_fadd(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_fadd::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463FC8: using guessed type int (__thiscall *COP_fadd___vftable_)(void *p, char);

//----- (0043C310) --------------------------------------------------------
int __thiscall COP_fsub::COP_fsub(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_fsub::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463FD8: using guessed type int (__thiscall *COP_fsub___vftable_)(void *p, char);

//----- (0043C330) --------------------------------------------------------
int __thiscall COP_fmul::COP_fmul(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_fmul::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463FE8: using guessed type int (__thiscall *COP_fmul___vftable_)(void *p, char);

//----- (0043C350) --------------------------------------------------------
int __thiscall COP_fdiv::COP_fdiv(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_fdiv::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 463FF8: using guessed type int (__thiscall *COP_fdiv___vftable_)(void *p, char);

//----- (0043C370) --------------------------------------------------------
int __thiscall COP_fstp::COP_fstp(int this, int a2, int a3, char a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)this = &COP_fstp::_vftable_;
  *(_DWORD *)(this + 12) = a3;
  *(_BYTE *)(this + 16) = a4;
  return result;
}
// 464008: using guessed type int (__thiscall *COP_fstp___vftable_)(void *p, char);

//----- (0043C390) --------------------------------------------------------
int __thiscall COP_fcomp::COP_fcomp(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_fcomp::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 464018: using guessed type int (__thiscall *COP_fcomp___vftable_)(void *p, char);

//----- (0043C3B0) --------------------------------------------------------
int __thiscall COP_test_ah::COP_test_ah(int this, char a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_test_ah::_vftable_;
  *(_BYTE *)(this + 8) = a2;
  return result;
}
// 464028: using guessed type int (__thiscall *COP_test_ah___vftable_)(void *p, char);

//----- (0043C3D0) --------------------------------------------------------
int __thiscall COP_itoa::COP_itoa(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_itoa::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 16) = a3;
  return result;
}
// 464038: using guessed type int (__thiscall *COP_itoa___vftable_)(void *p, char);

//----- (0043C3F0) --------------------------------------------------------
int __thiscall COP_ftoa::COP_ftoa(int this, int a2, int a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)this = &COP_ftoa::_vftable_;
  *(_DWORD *)(this + 12) = a3;
  *(_DWORD *)(this + 16) = a4;
  return result;
}
// 464048: using guessed type int (__thiscall *COP_ftoa___vftable_)(void *p, char);

//----- (0043C410) --------------------------------------------------------
int __thiscall COP_malloc::COP_malloc(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_malloc::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  return result;
}
// 464058: using guessed type int (__thiscall *COP_malloc___vftable_)(void *p, char);

//----- (0043C430) --------------------------------------------------------
int __thiscall COP_free::COP_free(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_free::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 464068: using guessed type int (__thiscall *COP_free___vftable_)(void *p, char);

//----- (0043C450) --------------------------------------------------------
int __thiscall COP_strcpy::COP_strcpy(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_strcpy::_vftable_;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 20) = a3;
  return result;
}
// 464078: using guessed type int (__thiscall *COP_strcpy___vftable_)(void *p, char);

//----- (0043C470) --------------------------------------------------------
int __thiscall COP_strcpy::COP_strcpy(int this, int a2, int a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)this = &COP_strcpy::_vftable_;
  *(_DWORD *)(this + 8) = 1;
  *(_DWORD *)(this + 16) = a3;
  *(_DWORD *)(this + 20) = a4;
  return result;
}
// 464078: using guessed type int (__thiscall *COP_strcpy___vftable_)(void *p, char);

//----- (0043C4A0) --------------------------------------------------------
int __thiscall COP_strcmp::COP_strcmp(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_strcmp::_vftable_;
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 464088: using guessed type int (__thiscall *COP_strcmp___vftable_)(void *p, char);

//----- (0043C4C0) --------------------------------------------------------
int __thiscall COP_strlen::COP_strlen(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_strlen::_vftable_;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 16) = a2;
  return result;
}
// 464098: using guessed type int (__thiscall *COP_strlen___vftable_)(void *p, char);

//----- (0043C4E0) --------------------------------------------------------
int __thiscall COP_strlen::COP_strlen(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &COP_strlen::_vftable_;
  *(_DWORD *)(this + 8) = 1;
  *(_DWORD *)(this + 12) = a2;
  *(_DWORD *)(this + 16) = a3;
  return result;
}
// 464098: using guessed type int (__thiscall *COP_strlen___vftable_)(void *p, char);

//----- (0043C500) --------------------------------------------------------
void *__thiscall COP_test_ah::_scalar_deleting_destructor_(void *p, char a2)
{
  void *v2; // esi@1

  v2 = p;
  COP_itoa::_COP_itoa(p);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0043C520) --------------------------------------------------------
void __thiscall COP_itoa::_COP_itoa(void *this)
{
  *(_DWORD *)this = &IOPCode::_vftable_;
}
// 463BC4: using guessed type int (__thiscall *IOPCode___vftable_)(void *p, char);

//----- (0043C530) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<int_long_std::less<int>_std::allocator<std::pair<int_const_long>>_0>>::find(int this, int a2, int a3)
{
  int v3; // edx@1
  int v4; // eax@1
  int result; // eax@8

  v3 = *(_DWORD *)(this + 4);
  v4 = *(_DWORD *)(v3 + 4);
  while ( !*(_BYTE *)(v4 + 21) )
  {
    if ( *(_DWORD *)(v4 + 12) >= *(_DWORD *)a3 )
    {
      v3 = v4;
      v4 = *(_DWORD *)v4;
    }
    else
    {
      v4 = *(_DWORD *)(v4 + 8);
    }
  }
  if ( v3 == *(_DWORD *)(this + 4) || *(_DWORD *)a3 < *(_DWORD *)(v3 + 12) )
  {
    result = a2;
    *(_DWORD *)a2 = *(_DWORD *)(this + 4);
  }
  else
  {
    result = a2;
    *(_DWORD *)a2 = v3;
  }
  return result;
}

//----- (0043C5A0) --------------------------------------------------------
signed int __thiscall COP_call::ToMachineCode(int this, int a2)
{
  int v2; // ebp@1
  int v3; // esi@1
  int v4; // edi@1
  int v5; // ebx@1
  int v6; // eax@2
  unsigned int v7; // eax@3
  int v9; // [sp+10h] [bp-Ch]@1
  int v10; // [sp+14h] [bp-8h]@1

  v2 = dword_4C8E04;
  v3 = this;
  v4 = *(_DWORD *)(this + 8);
  v9 = *(_DWORD *)(this + 8);
  std::_Tree<std::_Tmap_traits<int_long_std::less<int>_std::allocator<std::pair<int_const_long>>_0>>::find(
    dword_4C8E04,
    (int)&v10,
    (int)&v9);
  v5 = v10;
  if ( v10 == *(_DWORD *)(v2 + 4) )
  {
    v6 = CSymbolTable::GetTypeStringOfFunc(v4);
    WarningMessage2(*(_DWORD *)(v3 + 12), "", v6);
  }
  *(_BYTE *)a2 = -24;
  v7 = *(_DWORD *)(v5 + 16) - *(_DWORD *)(v3 + 4) - 5;
  *(_BYTE *)(a2 + 1) = v7;
  *(_BYTE *)(a2 + 2) = BYTE1(v7);
  v7 >>= 16;
  *(_BYTE *)(a2 + 3) = v7;
  *(_BYTE *)(a2 + 4) = BYTE1(v7);
  return 5;
}
// 4C8E04: using guessed type int dword_4C8E04;

//----- (0043C622) --------------------------------------------------------
void *__cdecl operator new(unsigned int size)
{
  void *result; // eax@4

  while ( 1 )
  {
    result = malloc(size);
    if ( result )
      break;
    if ( !_callnewh(size) )
      std::_Nomemory();
  }
  return result;
}

//----- (0043C646) --------------------------------------------------------
void __thiscall std::_String_base::_Xran(std::_String_base *this)
{
  int (__thiscall **pExceptionObject)(void *, char); // [sp+0h] [bp-50h]@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+28h] [bp-28h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
    &thisa,
    "invalid string position");
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::out_of_range::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
}
// 43C646: inconsistent function type and number of purged bytes
// 4640F8: using guessed type int (__thiscall *std__out_of_range___vftable_)(void *p, char);

//----- (0043C686) --------------------------------------------------------
void __thiscall std::_String_base::_Xlen(std::_String_base *this)
{
  int (__thiscall **pExceptionObject)(void *, char); // [sp+0h] [bp-50h]@1
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+28h] [bp-28h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
    &thisa,
    "string too long");
  v3 = 0;
  std::logic_error::logic_error((std::logic_error *)&pExceptionObject, &thisa);
  pExceptionObject = &std::length_error::_vftable_;
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 43C686: inconsistent function type and number of purged bytes
// 4640EC: using guessed type int (__thiscall *std__length_error___vftable_)(void *p, char);

//----- (0043C6C6) --------------------------------------------------------
void __thiscall std::ios_base::_Callfns(std::ios_base *this, std::ios_base::event ev)
{
  std::ios_base *v2; // edi@1
  std::ios_base::_Fnarray *i; // esi@1

  v2 = this;
  for ( i = this->_Calls; i; i = i->_Next )
    i->_Pfn(ev, v2, i->_Index);
}

//----- (0043C6E8) --------------------------------------------------------
void __thiscall std::ios_base::_Addstd(std::ios_base *this)
{
  std::ios_base *v1; // esi@1
  std::ios_base *v2; // eax@2
  std::_Lockit lock; // [sp+4h] [bp-4h]@1

  v1 = this;
  std::_Lockit::_Lockit(&lock, 2);
  *(_DWORD *)&v1->___u1.baseclass_4.dummy[0] = 1;
  do
  {
    v2 = stdstr[*(_DWORD *)&v1->___u1.baseclass_4.dummy[0]];
    if ( !v2 )
      break;
    if ( v2 == v1 )
      break;
    ++*(_DWORD *)&v1->___u1.baseclass_4.dummy[0];
  }
  while ( *(_DWORD *)&v1->___u1.baseclass_4.dummy[0] < 8u );
  stdstr[*(_DWORD *)&v1->___u1.baseclass_4.dummy[0]] = v1;
  ++stdopens[*(_DWORD *)&v1->___u1.baseclass_4.dummy[0]];
  std::_Lockit::__Lockit(&lock);
}

//----- (0043C739) --------------------------------------------------------
void __thiscall std::ios_base::_Tidy(std::ios_base *this)
{
  std::ios_base *v1; // esi@1
  void *v2; // eax@1
  void *v3; // edi@2
  void *v4; // eax@3
  void *v5; // edi@4

  v1 = this;
  std::ios_base::_Callfns(this, 0);
  v2 = v1->_Arr;
  if ( v2 )
  {
    do
    {
      v3 = *(void **)v2;
      operator delete(v2);
      v2 = v3;
    }
    while ( v3 );
  }
  v4 = v1->_Calls;
  v1->_Arr = 0;
  if ( v4 )
  {
    do
    {
      v5 = *(void **)v4;
      operator delete(v4);
      v4 = v5;
    }
    while ( v5 );
  }
  v1->_Calls = 0;
}

//----- (0043C77B) --------------------------------------------------------
void __thiscall std::ios_base::_ios_base(std::ios_base *this)
{
  std::ios_base *v1; // esi@1
  int v2; // eax@1
  std::locale *v3; // esi@3

  v1 = this;
  v2 = *(_DWORD *)&this->___u1.baseclass_4.dummy[0];
  this->vfptr = (std::ios_baseVtbl *)&std::ios_base::_vftable_;
  if ( !v2 || (--stdopens[v2], stdopens[*(_DWORD *)&this->___u1.baseclass_4.dummy[0]] <= 0) )
  {
    std::ios_base::_Tidy(this);
    v3 = v1->_Ploc;
    if ( v3 )
    {
      std::locale::_locale(v3);
      operator delete(v3);
    }
  }
}
// 464130: using guessed type int (__thiscall *std__ios_base___vftable_)(void *p, char);

//----- (0043C7BB) --------------------------------------------------------
void __thiscall std::runtime_error::_runtime_error(std::runtime_error *this)
{
  exception *v1; // esi@1

  v1 = (exception *)this;
  this->baseclass_0.vfptr = (exceptionVtbl *)&std::runtime_error::_vftable_;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(&this->_Str, 1, 0);
  exception::_exception(v1);
}
// 464138: using guessed type int (__thiscall *std__runtime_error___vftable_)(void *p, char);

//----- (0043C7D8) --------------------------------------------------------
const char *__thiscall std::runtime_error::what(std::runtime_error *this)
{
  const char *result; // eax@2

  if ( this->_Str._Myres < 0x10 )
    result = (const char *)&this->_Str._Bx;
  else
    result = *(const char **)&this->_Str._Bx._Buf[0];
  return result;
}

//----- (0043C7E6) --------------------------------------------------------
void *__thiscall std::runtime_error::_vector_deleting_destructor_(std::runtime_error *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::runtime_error::_runtime_error(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0043C802) --------------------------------------------------------
void __thiscall std::runtime_error::runtime_error(std::runtime_error *this, std::basic_string<char,std::char_traits<char>,std::allocator<char> > *_Message)
{
  std::runtime_error *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&std::runtime_error::_vftable_;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
    &v2->_Str,
    _Message);
}
// 464138: using guessed type int (__thiscall *std__runtime_error___vftable_)(void *p, char);

//----- (0043C83E) --------------------------------------------------------
void *__thiscall std::ios_base::failure::_scalar_deleting_destructor_(std::ios_base::failure *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::ios_base::failure::_failure(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0043C85A) --------------------------------------------------------
void __thiscall std::ios_base::failure::_failure(std::ios_base::failure *this)
{
  this->baseclass_0.baseclass_0.vfptr = (exceptionVtbl *)&std::ios_base::failure::_vftable_;
  std::runtime_error::_runtime_error(&this->baseclass_0);
}
// 464144: using guessed type int (__thiscall *std__ios_base__failure___vftable_)(void *p, char);

//----- (0043C865) --------------------------------------------------------
void __thiscall std::ios_base::clear(std::ios_base *this, int state, bool reraise)
{
  int v3; // eax@1
  int v4; // ecx@1
  int *v5; // eax@6
  void *v6; // [sp-8h] [bp-9Ch]@3
  _s__ThrowInfo *v7; // [sp-4h] [bp-98h]@3
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > _Message; // [sp+0h] [bp-94h]@9
  int (__thiscall **v9)(void *, char); // [sp+1Ch] [bp-78h]@9
  std::basic_string<char,std::char_traits<char>,std::allocator<char> > thisa; // [sp+44h] [bp-50h]@5
  int (__thiscall **pExceptionObject)(void *, char); // [sp+60h] [bp-34h]@6
  int v12; // [sp+90h] [bp-4h]@5

  v3 = state & 0x17;
  this->_Mystate = v3;
  v4 = v3 & this->_Except;
  if ( v4 )
  {
    if ( reraise )
    {
      v7 = 0;
      v6 = 0;
      goto LABEL_11;
    }
    if ( v4 & 4 )
    {
      std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
        &thisa,
        "ios_base::badbit set");
      v12 = 0;
    }
    else
    {
      if ( !(v4 & 2) )
      {
        std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
          &_Message,
          "ios_base::eofbit set");
        v12 = 2;
        std::runtime_error::runtime_error((std::runtime_error *)&v9, &_Message);
        v9 = &std::ios_base::failure::_vftable_;
        v7 = &_TI3_AVfailure_ios_base_std__;
        v5 = (int *)&v9;
        goto LABEL_10;
      }
      std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
        &thisa,
        "ios_base::failbit set");
      v12 = 1;
    }
    std::runtime_error::runtime_error((std::runtime_error *)&pExceptionObject, &thisa);
    pExceptionObject = &std::ios_base::failure::_vftable_;
    v7 = &_TI3_AVfailure_ios_base_std__;
    v5 = (int *)&pExceptionObject;
LABEL_10:
    v6 = v5;
LABEL_11:
    _CxxThrowException(v6, v7);
  }
}
// 464144: using guessed type int (__thiscall *std__ios_base__failure___vftable_)(void *p, char);

//----- (0043C92B) --------------------------------------------------------
void __thiscall std::runtime_error::runtime_error(std::runtime_error *this, std::runtime_error *__that)
{
  std::runtime_error *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0, &__that->baseclass_0);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&std::runtime_error::_vftable_;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
    &v2->_Str,
    &__that->_Str);
}
// 464138: using guessed type int (__thiscall *std__runtime_error___vftable_)(void *p, char);

//----- (0043C96E) --------------------------------------------------------
void __thiscall std::ios_base::failure::failure(std::ios_base::failure *this, std::ios_base::failure *__that)
{
  std::ios_base::failure *v2; // esi@1

  v2 = this;
  std::runtime_error::runtime_error(&this->baseclass_0, &__that->baseclass_0);
  v2->baseclass_0.baseclass_0.vfptr = (exceptionVtbl *)&std::ios_base::failure::_vftable_;
}
// 464144: using guessed type int (__thiscall *std__ios_base__failure___vftable_)(void *p, char);

//----- (0043C986) --------------------------------------------------------
void __thiscall std::ios_base::_Init(std::ios_base *this)
{
  std::ios_base *v1; // esi@1
  void *v2; // eax@1
  std::locale *v3; // eax@2

  v1 = this;
  v2 = operator new(4u);
  if ( v2 )
    std::locale::locale((std::locale *)v2);
  else
    v3 = 0;
  v1->_Ploc = v3;
  v1->_Except = 0;
  v1->_Fmtfl = 513;
  v1->_Prec = 6;
  v1->_Wide = 0;
  v1->_Arr = 0;
  v1->_Calls = 0;
  std::ios_base::clear(v1, 0, 0);
}

//----- (0043C9CC) --------------------------------------------------------
void __thiscall std::_Mutex::_Mutex(std::_Mutex *this)
{
  std::_Mutex *v1; // esi@1
  void *v2; // eax@1

  v1 = this;
  v2 = operator new(0x18u);
  v1->_Mtx = v2;
  _Mtxinit((_RTL_CRITICAL_SECTION *)v2);
}

//----- (0043C9E4) --------------------------------------------------------
void __thiscall std::_Mutex::__Mutex(std::_Mutex *this)
{
  void **v1; // esi@1

  v1 = (void **)this;
  _Mtxdst((_RTL_CRITICAL_SECTION *)this->_Mtx);
  operator delete(*v1);
}

//----- (0043C9F9) --------------------------------------------------------
void __thiscall std::_Mutex::_Lock(std::_Mutex *this)
{
  _Mtxlock((_RTL_CRITICAL_SECTION *)this->_Mtx);
}

//----- (0043CA02) --------------------------------------------------------
void __thiscall std::_Mutex::_Unlock(std::_Mutex *this)
{
  _Mtxunlock((_RTL_CRITICAL_SECTION *)this->_Mtx);
}

//----- (0043CA15) --------------------------------------------------------
int __cdecl _Tolower_lk(int c, _Ctypevec *ploc)
{
  _Ctypevec *v2; // esi@1
  unsigned int v3; // eax@2
  int result; // eax@5
  int v5; // eax@14
  int v6; // eax@16
  int v7; // eax@20
  int codepage; // [sp+4h] [bp-10h]@4
  unsigned int handle; // [sp+8h] [bp-Ch]@2
  char outbuffer[3]; // [sp+10h] [bp-4h]@16

  v2 = ploc;
  if ( ploc )
  {
    handle = ploc->_Hand;
    v3 = ploc->_Page;
  }
  else
  {
    handle = ___lc_handle_func()[2];
    v3 = ___lc_codepage_func();
  }
  codepage = v3;
  if ( handle )
  {
    if ( (unsigned int)c < 0x100 )
    {
      if ( v2 )
      {
        if ( !(v2->_Table[c] & 1) )
          return c;
      }
      else
      {
        if ( !isupper(c) )
          return c;
      }
    }
    if ( HIBYTE(__pctype_func()[BYTE1(c)]) & 0x80 )
    {
      LOBYTE(ploc) = BYTE1(c);
      *(_WORD *)((char *)&ploc + 1) = (unsigned __int8)c;
      v5 = 2;
    }
    else
    {
      LOWORD(ploc) = (unsigned __int8)c;
      v5 = 1;
    }
    v6 = __crtLCMapStringA(handle, 0x100u, (const char *)&ploc, v5, outbuffer, 3, codepage, 1);
    if ( v6 )
    {
      if ( v6 == 1 )
      {
        result = (unsigned __int8)outbuffer[0];
      }
      else
      {
        v7 = 0;
        BYTE1(v7) = outbuffer[0];
        result = (unsigned __int8)outbuffer[1] | v7;
      }
      return result;
    }
    return c;
  }
  result = c;
  if ( c >= 65 )
  {
    if ( c <= 90 )
      result = c + 32;
  }
  return result;
}

//----- (0043CAFE) --------------------------------------------------------
_Ctypevec *__cdecl _Getctype(_Ctypevec *result)
{
  int *v1; // eax@1
  int *v2; // eax@2
  unsigned int v3; // ST18_4@4
  char *v4; // eax@5
  _Ctypevec *v5; // eax@8
  int *v6; // eax@9
  void *ctype_8; // [sp+14h] [bp-24h]@4
  signed int local_lock_flag; // [sp+1Ch] [bp-1Ch]@2

  v1 = ___unguarded_readlc_active_add_func();
  InterlockedIncrement(v1);
  if ( ___setlc_active_func() )
  {
    v2 = ___unguarded_readlc_active_add_func();
    InterlockedDecrement(v2);
    _lock(12);
    local_lock_flag = 1;
  }
  else
  {
    local_lock_flag = 0;
  }
  v3 = ___lc_handle_func()[1];
  ___lc_codepage_func();
  ctype_8 = malloc(0x200u);
  if ( ctype_8 )
  {
    v4 = (char *)__pctype_func();
    memcpy((char *)ctype_8, v4, 0x200u);
  }
  else
  {
    __pctype_func();
  }
  if ( local_lock_flag )
  {
    _unlock(12);
  }
  else
  {
    v6 = ___unguarded_readlc_active_add_func();
    v5 = (_Ctypevec *)InterlockedDecrement(v6);
  }
  return v5;
}

//----- (0043CBC9) --------------------------------------------------------
int __cdecl _Tolower(int c, _Ctypevec *ploc)
{
  unsigned int v2; // eax@2
  int result; // eax@5
  int *v4; // eax@8
  int *v5; // eax@9
  int *v6; // eax@15
  signed int local_lock_flag; // [sp+Ch] [bp-1Ch]@9

  if ( ploc )
    v2 = ploc->_Hand;
  else
    v2 = ___lc_handle_func()[2];
  if ( v2 )
  {
    v4 = ___unguarded_readlc_active_add_func();
    InterlockedIncrement(v4);
    if ( ___setlc_active_func() )
    {
      v5 = ___unguarded_readlc_active_add_func();
      InterlockedDecrement(v5);
      _lock(12);
      local_lock_flag = 1;
    }
    else
    {
      local_lock_flag = 0;
    }
    _Tolower_lk(c, ploc);
    if ( local_lock_flag )
    {
      _unlock(12);
    }
    else
    {
      v6 = ___unguarded_readlc_active_add_func();
      result = InterlockedDecrement(v6);
    }
  }
  else
  {
    result = c;
    if ( c >= 65 )
    {
      if ( c <= 90 )
        result = c + 32;
    }
  }
  return result;
}

//----- (0043CC75) --------------------------------------------------------
void __thiscall std::_Init_locks::_Init_locks(std::_Init_locks *this)
{
  _RTL_CRITICAL_SECTION *v1; // esi@2

  if ( !InterlockedIncrement(&init) )
  {
    v1 = &mtx;
    do
    {
      _Mtxinit(v1);
      ++v1;
    }
    while ( (signed int)v1 < (signed int)&initlocks );
  }
}

//----- (0043CCA4) --------------------------------------------------------
void __thiscall std::_Init_locks::__Init_locks(std::_Init_locks *this)
{
  _RTL_CRITICAL_SECTION *v1; // esi@2

  if ( InterlockedDecrement(&init) < 0 )
  {
    v1 = &mtx;
    do
    {
      _Mtxdst(v1);
      ++v1;
    }
    while ( (signed int)v1 < (signed int)&initlocks );
  }
}

//----- (0043CCCD) --------------------------------------------------------
void __thiscall std::_Lockit::_Lockit(std::_Lockit *this, int kind)
{
  int v2; // eax@1

  v2 = kind & 3;
  this->_Locktype = v2;
  _Mtxlock((_RTL_CRITICAL_SECTION *)(24 * v2 + 5017168));
}

//----- (0043CCF0) --------------------------------------------------------
void __thiscall std::_Lockit::__Lockit(std::_Lockit *this)
{
  _Mtxunlock((_RTL_CRITICAL_SECTION *)(24 * this->_Locktype + 5017168));
}

//----- (0043CD04) --------------------------------------------------------
void __thiscall std::_Fac_node::__Fac_node(std::_Fac_node *this)
{
  std::locale::facet *v1; // eax@1

  v1 = std::locale::facet::_Decref(this->_Facptr);
  if ( v1 )
    v1->vfptr->__vecDelDtor(v1, 1u);
}

//----- (0043CD19) --------------------------------------------------------
void __cdecl _Deletegloballocale(void *ptr)
{
  std::locale::facet *v1; // eax@2

  if ( *(_DWORD *)ptr )
  {
    v1 = std::locale::facet::_Decref(*(std::locale::facet **)ptr);
    if ( v1 )
      v1->vfptr->__vecDelDtor(v1, 1u);
  }
}

//----- (0043CD35) --------------------------------------------------------
void __thiscall tidy_global(int this)
{
  std::_Lockit lock; // [sp+0h] [bp-4h]@1

  lock._Locktype = this;
  std::_Lockit::_Lockit(&lock, 0);
  _Deletegloballocale(&global_locale);
  std::_Lockit::__Lockit(&lock);
}

//----- (0043CD58) --------------------------------------------------------
void __cdecl _Setgloballocale(void *ptr)
{
  if ( !registered )
  {
    registered = 1;
    _Atexit((void (__cdecl *)())tidy_global);
  }
  global_locale = (std::locale::_Locimp *)ptr;
}

//----- (0043CD7D) --------------------------------------------------------
std::locale::facet *__thiscall std::locale::_Getfacet(std::locale *this, unsigned int id)
{
  int v2; // ecx@1
  std::locale::facet *result; // eax@2

  v2 = *(_DWORD *)&this->___u0.baseclass_0.dummy[0];
  if ( id >= *(_DWORD *)(v2 + 12) )
    result = 0;
  else
    result = *(std::locale::facet **)(*(_DWORD *)(v2 + 8) + 4 * id);
  if ( !result && *(_BYTE *)(v2 + 20) )
  {
    if ( id >= global_locale->_Facetcount )
      result = 0;
    else
      result = global_locale->_Facetvec[id];
  }
  return result;
}

//----- (0043CDB2) --------------------------------------------------------
void __thiscall _Fac_tidy(int this)
{
  std::_Fac_node **i; // eax@1
  void *v2; // esi@2
  std::_Lockit lock; // [sp+0h] [bp-4h]@1

  lock._Locktype = this;
  std::_Lockit::_Lockit(&lock, 0);
  for ( i = (std::_Fac_node **)Fac_head; Fac_head; i = (std::_Fac_node **)Fac_head )
  {
    v2 = i;
    Fac_head = *i;
    std::_Fac_node::__Fac_node((std::_Fac_node *)i);
    operator delete(v2);
  }
  std::_Lockit::__Lockit(&lock);
}

//----- (0043CDF5) --------------------------------------------------------
void __thiscall std::locale::facet::_Register(std::locale::facet *this)
{
  std::locale::facet *v1; // esi@1
  void *v2; // eax@3

  v1 = this;
  if ( !Fac_head )
    _Atexit((void (__cdecl *)())_Fac_tidy);
  v2 = operator new(8u);
  if ( v2 )
  {
    *(_DWORD *)v2 = Fac_head;
    *((_DWORD *)v2 + 1) = v1;
  }
  else
  {
    v2 = 0;
  }
  Fac_head = (std::_Fac_node *)v2;
}

//----- (0043CE2E) --------------------------------------------------------
void __thiscall std::locale::_Locimp::__Locimp(std::locale::_Locimp *this)
{
  std::locale::_Locimp *v1; // esi@1
  unsigned int v2; // edi@1
  std::locale::facet *v3; // ecx@2
  std::locale::facet *v4; // eax@3
  std::_Lockit thisa; // [sp+4h] [bp-10h]@1
  int v6; // [sp+10h] [bp-4h]@1

  thisa._Locktype = (int)this;
  v1 = this;
  this->baseclass_0.vfptr = (std::locale::facetVtbl *)&std::locale::_Locimp::_vftable_;
  v6 = 1;
  std::_Lockit::_Lockit(&thisa, 0);
  v2 = v1->_Facetcount;
  LOBYTE(v6) = 2;
  while ( v2 )
  {
    --v2;
    v3 = v1->_Facetvec[v2];
    if ( v3 )
    {
      v4 = std::locale::facet::_Decref(v3);
      if ( v4 )
        v4->vfptr->__vecDelDtor(v4, 1u);
    }
  }
  free(v1->_Facetvec);
  LOBYTE(v6) = 1;
  std::_Lockit::__Lockit(&thisa);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(&v1->_Name, 1, 0);
  v1->baseclass_0.vfptr = (std::locale::facetVtbl *)&std::locale::facet::_vftable_;
}
// 4641BC: using guessed type int (__thiscall *std__locale__facet___vftable_)(void *p, char);
// 4641C4: using guessed type int (__thiscall *std__locale___Locimp___vftable_)(void *p, char);

//----- (0043CEB6) --------------------------------------------------------
void __thiscall std::_Locinfo::__Locinfo(std::_Locinfo *this)
{
  std::_Locinfo *v1; // esi@1
  const char *v2; // eax@3

  v1 = this;
  if ( this->_Oldlocname._Mysize )
  {
    if ( this->_Oldlocname._Myres < 0x10 )
      v2 = (const char *)&this->_Oldlocname._Bx;
    else
      v2 = *(const char **)&this->_Oldlocname._Bx._Buf[0];
    setlocale(0, v2);
  }
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(&v1->_Newlocname, 1, 0);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(&v1->_Oldlocname, 1, 0);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(&v1->_Months, 1, 0);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_Tidy(&v1->_Days, 1, 0);
  std::_Lockit::__Lockit(&v1->_Lock);
}

//----- (0043CF0D) --------------------------------------------------------
void *__thiscall std::locale::_Locimp::_scalar_deleting_destructor_(std::locale::_Locimp *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  std::locale::_Locimp::__Locimp(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0043CF29) --------------------------------------------------------
void __thiscall std::locale::_Locimp::_Locimp(std::locale::_Locimp *this, bool transparent)
{
  this->baseclass_0._Refs = 1;
  this->_Facetvec = 0;
  this->_Facetcount = 0;
  this->_Catmask = 0;
  this->baseclass_0.vfptr = (std::locale::facetVtbl *)&std::locale::_Locimp::_vftable_;
  this->_Xparent = transparent;
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(
    &this->_Name,
    "*");
}
// 4641C4: using guessed type int (__thiscall *std__locale___Locimp___vftable_)(void *p, char);

//----- (0043CF79) --------------------------------------------------------
void __thiscall std::_Locinfo::_Locinfo(std::_Locinfo *this, const char *locname)
{
  std::_Locinfo *v2; // esi@1
  char *v3; // eax@1
  char *v4; // eax@2

  v2 = this;
  std::_Lockit::_Lockit(&this->_Lock, 0);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(&v2->_Days);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(&v2->_Months);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(&v2->_Oldlocname);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::basic_string<char_std::char_traits<char>_std::allocator<char>>(&v2->_Newlocname);
  v3 = setlocale(0, 0);
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&v2->_Oldlocname, v3);
  if ( !locname || (v4 = setlocale(0, locname)) == 0 )
    v4 = "*";
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&v2->_Newlocname, v4);
}

//----- (0043D003) --------------------------------------------------------
std::locale::_Locimp *__cdecl std::locale::_Init()
{
  int v0; // ecx@0
  std::locale::_Locimp *v1; // esi@1
  void *v2; // ecx@3
  std::locale::_Locimp *v3; // eax@4
  std::_Lockit this; // [sp+Ch] [bp-10h]@1
  int v6; // [sp+18h] [bp-4h]@2

  this._Locktype = v0;
  v1 = global_locale;
  if ( !global_locale )
  {
    std::_Lockit::_Lockit(&this, (int)global_locale);
    v6 &= (unsigned int)v1;
    v1 = global_locale;
    if ( !global_locale )
    {
      v2 = operator new(0x34u);
      LOBYTE(v6) = 1;
      if ( v2 )
      {
        std::locale::_Locimp::_Locimp((std::locale::_Locimp *)v2, (bool)v1);
        v1 = v3;
      }
      else
      {
        v1 = 0;
      }
      LOBYTE(v6) = 0;
      _Setgloballocale(v1);
      v1->_Catmask = 63;
      std::basic_string<char_std::char_traits<char>_std::allocator<char>>::assign(&v1->_Name, "C");
      std::locale::_Locimp::_Clocptr = (int)v1;
      std::locale::facet::_Incref(&v1->baseclass_0);
      classic_locale = (std::locale)std::locale::_Locimp::_Clocptr;
    }
    v6 = -1;
    std::_Lockit::__Lockit(&this);
  }
  return v1;
}
// 4C8EBC: using guessed type int std__locale___Locimp___Clocptr;

//----- (0043D0A5) --------------------------------------------------------
void __thiscall std::locale::locale(std::locale *this)
{
  *(_DWORD *)&this->___u0.baseclass_0.dummy[0] = std::locale::_Init();
  std::locale::facet::_Incref(&global_locale->baseclass_0);
}

//----- (0043D0BE) --------------------------------------------------------
int __cdecl _Toupper_lk(int c, _Ctypevec *ploc)
{
  _Ctypevec *v2; // esi@1
  unsigned int v3; // edi@2
  unsigned int v4; // eax@2
  int result; // eax@5
  bool v6; // zf@10
  int v7; // eax@15
  int v8; // eax@17
  int v9; // eax@20
  int codepage; // [sp+8h] [bp-Ch]@4
  char outbuffer[3]; // [sp+10h] [bp-4h]@17

  v2 = ploc;
  if ( ploc )
  {
    v3 = ploc->_Hand;
    v4 = ploc->_Page;
  }
  else
  {
    v3 = ___lc_handle_func()[2];
    v4 = ___lc_codepage_func();
  }
  codepage = v4;
  if ( v3 )
  {
    if ( (unsigned int)c < 0x100 && (v2 ? (v6 = (v2->_Table[c] & 2) == 0) : (v6 = islower(c) == 0), v6)
      || (!(HIBYTE(__pctype_func()[BYTE1(c)]) & 0x80) ? (LOWORD(ploc) = (unsigned __int8)c, v7 = 1) : (LOBYTE(ploc) = BYTE1(c), *(_WORD *)((char *)&ploc + 1) = (unsigned __int8)c, v7 = 2),
          (v8 = __crtLCMapStringA(v3, 0x200u, (const char *)&ploc, v7, outbuffer, 3, codepage, 1)) == 0) )
    {
      result = c;
    }
    else
    {
      if ( v8 == 1 )
      {
        result = (unsigned __int8)outbuffer[0];
      }
      else
      {
        v9 = 0;
        BYTE1(v9) = outbuffer[0];
        result = (unsigned __int8)outbuffer[1] | v9;
      }
    }
  }
  else
  {
    result = c;
    if ( c >= 97 )
    {
      if ( c <= 122 )
        result = c - 32;
    }
  }
  return result;
}

//----- (0043D19E) --------------------------------------------------------
int __cdecl _Toupper(int c, _Ctypevec *ploc)
{
  unsigned int v2; // eax@2
  int result; // eax@5
  int *v4; // eax@8
  int *v5; // eax@9
  int *v6; // eax@15
  signed int local_lock_flag; // [sp+Ch] [bp-1Ch]@9

  if ( ploc )
    v2 = ploc->_Hand;
  else
    v2 = ___lc_handle_func()[2];
  if ( v2 )
  {
    v4 = ___unguarded_readlc_active_add_func();
    InterlockedIncrement(v4);
    if ( ___setlc_active_func() )
    {
      v5 = ___unguarded_readlc_active_add_func();
      InterlockedDecrement(v5);
      _lock(12);
      local_lock_flag = 1;
    }
    else
    {
      local_lock_flag = 0;
    }
    _Toupper_lk(c, ploc);
    if ( local_lock_flag )
    {
      _unlock(12);
    }
    else
    {
      v6 = ___unguarded_readlc_active_add_func();
      result = InterlockedDecrement(v6);
    }
  }
  else
  {
    result = c;
    if ( c >= 97 )
    {
      if ( c <= 122 )
        result = c - 32;
    }
  }
  return result;
}

//----- (0043D24A) --------------------------------------------------------
void __thiscall std::_Init_cout::_Init_cout(std::_Init_cout *this)
{
  std::_Ptr_cout = (int)&std::cout;
  if ( std::_Ptr_cin )
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)std::_Ptr_cin + 4) + std::_Ptr_cin + 44) = &std::cout;
  if ( std::_Ptr_cerr )
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)std::_Ptr_cerr + 4) + std::_Ptr_cerr + 44) = std::_Ptr_cout;
  if ( std::_Ptr_clog )
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)std::_Ptr_clog + 4) + std::_Ptr_clog + 44) = std::_Ptr_cout;
}
// 4C8F88: using guessed type int std___Ptr_cin;
// 4C8F8C: using guessed type int std___Ptr_cout;
// 4C8F90: using guessed type int std___Ptr_cerr;
// 4C8F94: using guessed type int std___Ptr_clog;

//----- (0043D29F) --------------------------------------------------------
void __cdecl std::_Nomemory()
{
  exception this; // [sp+4h] [bp-10h]@4
  char *what; // [sp+10h] [bp-4h]@2

  if ( !(_S1_13 & 1) )
  {
    _S1_13 |= 1u;
    what = "bad allocation";
    exception::exception(&nomem.baseclass_0, (const char *const *)&what);
    nomem.baseclass_0.vfptr = (exceptionVtbl *)&std::bad_alloc::_vftable_;
    atexit(_E2_17);
  }
  exception::exception(&this, &nomem.baseclass_0);
  this.vfptr = (exceptionVtbl *)&std::bad_alloc::_vftable_;
  _CxxThrowException(&this, &_TI2_AVbad_alloc_std__);
}
// 4642AC: using guessed type int (__thiscall *std__bad_alloc___vftable_)(void *p, char);

//----- (0043D300) --------------------------------------------------------
void __cdecl _Mtxinit(_RTL_CRITICAL_SECTION *_Mtx)
{
  InitializeCriticalSection(_Mtx);
}

//----- (0043D30B) --------------------------------------------------------
void __cdecl _Mtxdst(_RTL_CRITICAL_SECTION *_Mtx)
{
  DeleteCriticalSection(_Mtx);
}

//----- (0043D316) --------------------------------------------------------
void __cdecl _Mtxlock(_RTL_CRITICAL_SECTION *_Mtx)
{
  EnterCriticalSection(_Mtx);
}

//----- (0043D321) --------------------------------------------------------
void __cdecl _Mtxunlock(_RTL_CRITICAL_SECTION *_Mtx)
{
  LeaveCriticalSection(_Mtx);
}

//----- (0043D32C) --------------------------------------------------------
void __cdecl _Atexit(void (__cdecl *pf)())
{
  if ( !atcount )
    abort();
  --atcount;
  atfuns[atcount] = pf;
}

//----- (0043D34C) --------------------------------------------------------
void __thiscall _Init_atexit::__Init_atexit(_Init_atexit *this)
{
  void (*v1)(void); // eax@2

  while ( atcount < 0xA )
  {
    v1 = atfuns[atcount++];
    v1();
  }
}

//----- (0043D36C) --------------------------------------------------------
void __stdcall _JumpToContinuation(void *target, EHRegistrationNode *pRN)
{
  ((void (__stdcall *)(_DWORD, _DWORD))target)(target, pRN);
}

//----- (0043D39C) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (0043D3A3) --------------------------------------------------------
void __stdcall _UnwindNestedFrames(EHRegistrationNode *pRN, EHExceptionRecord *pExcept)
{
  int v2; // edi@0
  int v3; // esi@0

  RtlUnwind(pRN, ReturnPoint, (PEXCEPTION_RECORD)pExcept, 0);
  pExcept->ExceptionFlags &= 0xFFFFFFFDu;
  *(_DWORD *)v3 = v2;
}
// 43D3CC: using guessed type int __stdcall ReturnPoint(int pRN, int pExcept);

//----- (0043D3F5) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl __CxxFrameHandler(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  _s_FuncInfo *v4; // eax@0

  return __InternalCxxFrameHandler(pExcept, pRN, (_CONTEXT *)pContext, pDC, v4, 0, 0, 0);
}

//----- (0043D42B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl CatchGuardHandler(EHExceptionRecord *pExcept, CatchGuardRN *pRN, void *pContext, void *__formal)
{
  _EXCEPTION_DISPOSITION result; // eax@2

  if ( pRN->RandomCookie == __security_cookie )
  {
    result = __InternalCxxFrameHandler(
               pExcept,
               pRN->pRN,
               (_CONTEXT *)pContext,
               0,
               pRN->pFuncInfo,
               pRN->CatchDepth,
               (EHRegistrationNode *)&pRN->pNext,
               0);
  }
  else
  {
    pExcept->ExceptionFlags |= 8u;
    result = 1;
  }
  return result;
}
// 470F40: using guessed type int __security_cookie;

//----- (0043D466) --------------------------------------------------------
int __cdecl _CallSETranslator(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int CatchDepth, EHRegistrationNode *pMarkerRN)
{
  EHRegistrationNode **v7; // ebx@0
  int result; // eax@2
  unsigned int v9; // ST00_4@3
  _tiddata *v10; // eax@3
  int v11; // [sp+0h] [bp-38h]@3
  int DidTranslate; // [sp+4h] [bp-34h]@3
  _EXCEPTION_POINTERS pointers; // [sp+8h] [bp-30h]@3
  TranslatorGuardRN TGRN; // [sp+10h] [bp-28h]@3
  int v15; // [sp+38h] [bp+0h]@3

  if ( pExcept == (EHExceptionRecord *)291 )
  {
    pRN->pNext = (EHRegistrationNode *)ExceptionContinuation;
    result = 1;
  }
  else
  {
    TGRN.pFrameHandler = TranslatorGuardHandler;
    TGRN.pFuncInfo = pFuncInfo;
    TGRN.pRN = pRN;
    TGRN.CatchDepth = CatchDepth;
    TGRN.pMarkerRN = pMarkerRN;
    TGRN.DidUnwind = 0;
    TGRN.ESP = &v11;
    TGRN.EBP = &v15;
    TGRN.pNext = pMarkerRN;
    DidTranslate = 1;
    pointers.ExceptionRecord = (_EXCEPTION_RECORD *)pExcept;
    pointers.ContextRecord = (_CONTEXT *)pContext;
    v9 = pExcept->ExceptionCode;
    v10 = _getptd();
    ((void (__cdecl *)(unsigned int, _EXCEPTION_POINTERS *))v10->_translator)(v9, &pointers);
    DidTranslate = 0;
    if ( TGRN.DidUnwind )
      TGRN.pNext->pNext = *v7;
    result = DidTranslate;
  }
  return result;
}
// 43D501: using guessed type int __cdecl ExceptionContinuation(int pExcept, int pRN, int pContext, int pDC, int pFuncInfo, int CatchDepth, int pMarkerRN);

//----- (0043D52D) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl TranslatorGuardHandler(EHExceptionRecord *pExcept, TranslatorGuardRN *pRN, void *pContext, void *__formal)
{
  int v4; // ebp@0
  _EXCEPTION_DISPOSITION result; // eax@2

  if ( *(_DWORD *)(*(_DWORD *)(v4 + 12) + 8) == __security_cookie )
  {
    if ( *(_DWORD *)(*(_DWORD *)(v4 + 8) + 4) & 0x66 )
    {
      *(_DWORD *)(*(_DWORD *)(v4 + 12) + 36) = 1;
      result = 1;
    }
    else
    {
      __InternalCxxFrameHandler(
        *(EHExceptionRecord **)(v4 + 8),
        *(EHRegistrationNode **)(*(_DWORD *)(v4 + 12) + 16),
        *(_CONTEXT **)(v4 + 16),
        0,
        *(_s_FuncInfo **)(*(_DWORD *)(v4 + 12) + 12),
        *(_DWORD *)(*(_DWORD *)(v4 + 12) + 20),
        *(EHRegistrationNode **)(*(_DWORD *)(v4 + 12) + 24),
        1);
      if ( !*(_DWORD *)(*(_DWORD *)(v4 + 12) + 36) )
        _UnwindNestedFrames(*(EHRegistrationNode **)(v4 + 12), *(EHExceptionRecord **)(v4 + 8));
      _CallSETranslator((EHExceptionRecord *)0x123, (EHRegistrationNode *)(v4 - 4), 0, 0, 0, 0, 0);
      result = (*(int (**)(void))(v4 - 4))();
    }
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(v4 + 8) + 4) |= 8u;
    result = 1;
  }
  return result;
}
// 470F40: using guessed type int __security_cookie;

//----- (0043D5DF) --------------------------------------------------------
_s_TryBlockMapEntry *__cdecl _GetRangeOfTrysToCheck(_s_FuncInfo *pFuncInfo, int CatchDepth, int curState, unsigned int *pStart, unsigned int *pEnd)
{
  _s_FuncInfo *v5; // edi@1
  unsigned int v6; // esi@1
  _s_TryBlockMapEntry *v7; // ebx@1
  unsigned int v8; // eax@1
  int v9; // eax@4
  unsigned int v10; // esi@10
  unsigned int end; // [sp+Ch] [bp-4h]@1
  unsigned int end1; // [sp+18h] [bp+8h]@1

  v5 = pFuncInfo;
  v6 = pFuncInfo->nTryBlocks;
  v7 = pFuncInfo->pTryBlockMap;
  v8 = pFuncInfo->nTryBlocks;
  end = pFuncInfo->nTryBlocks;
  end1 = pFuncInfo->nTryBlocks;
  if ( CatchDepth >= 0 )
  {
    do
    {
      if ( v6 == -1 )
        _inconsistency();
      --v6;
      v9 = (int)&v7[v6];
      if ( *(_DWORD *)(v9 + 4) < curState && curState <= *(_DWORD *)(v9 + 8) || v6 == -1 )
      {
        --CatchDepth;
        end = end1;
        end1 = v6;
      }
    }
    while ( CatchDepth >= 0 );
    v8 = end;
  }
  v10 = v6 + 1;
  *pStart = v10;
  *pEnd = v8;
  if ( v8 > v5->nTryBlocks || v10 > v8 )
    _inconsistency();
  return &v7[v10];
}

//----- (0043D659) --------------------------------------------------------
FrameInfo *__cdecl _CreateFrameInfo(FrameInfo *pFrameInfo, void *pExceptionObject)
{
  pFrameInfo->pExceptionObject = pExceptionObject;
  pFrameInfo->pNext = (FrameInfo *)_getptd()->_pFrameInfoChain;
  _getptd()->_pFrameInfoChain = pFrameInfo;
  return pFrameInfo;
}

//----- (0043D681) --------------------------------------------------------
int __cdecl IsExceptionObjectToBeDestroyed(void *pExceptionObject)
{
  void *i; // eax@1

  for ( i = _getptd()->_pFrameInfoChain; ; i = (void *)*((_DWORD *)i + 1) )
  {
    if ( !i )
      return 1;
    if ( *(void **)i == pExceptionObject )
      break;
  }
  return 0;
}

//----- (0043D6A2) --------------------------------------------------------
void __cdecl _FindAndUnlinkFrame(FrameInfo *pFrameInfo)
{
  void *i; // eax@3

  if ( pFrameInfo == (FrameInfo *)_getptd()->_pFrameInfoChain )
  {
    _getptd()->_pFrameInfoChain = pFrameInfo->pNext;
  }
  else
  {
    for ( i = _getptd()->_pFrameInfoChain; ; i = (void *)*((_DWORD *)i + 1) )
    {
      if ( !*((_DWORD *)i + 1) )
        _inconsistency();
      if ( pFrameInfo == *((FrameInfo **)i + 1) )
        break;
    }
    *((_DWORD *)i + 1) = pFrameInfo->pNext;
  }
}

//----- (0043D6EE) --------------------------------------------------------
void *__cdecl _CallCatchBlock2(EHRegistrationNode *pRN, _s_FuncInfo *pFuncInfo, void *handlerAddress, int CatchDepth, unsigned int NLGCode)
{
  void *result; // eax@1

  _CallSettingFrame((unsigned int)handlerAddress, (unsigned int)pRN, NLGCode);
  return result;
}

//----- (0043D748) --------------------------------------------------------
void __cdecl _global_unwind2(PVOID TargetFrame)
{
  RtlUnwind(TargetFrame, gu_return, 0, 0);
}
// 43D760: using guessed type int __cdecl gu_return(PVOID TargetFrame);

//----- (0043D768) --------------------------------------------------------
signed int __cdecl ___00003(int a1, int a2, int a3, int a4)
{
  signed int result; // eax@1

  result = 1;
  if ( *(_DWORD *)(a1 + 4) & 6 )
  {
    *(_DWORD *)a4 = a2;
    result = 3;
  }
  return result;
}

//----- (0043D78A) --------------------------------------------------------
int __cdecl _local_unwind2(int a1, int a2)
{
  int result; // eax@1
  int v3; // ebx@1
  int v4; // esi@1
  int v5; // esi@3
  int v6; // ST00_4@4

  while ( 1 )
  {
    result = a1;
    v3 = *(_DWORD *)(a1 + 8);
    v4 = *(_DWORD *)(a1 + 12);
    if ( v4 == -1 )
      break;
    if ( v4 == a2 )
      break;
    v5 = 3 * v4;
    *(_DWORD *)(a1 + 12) = *(_DWORD *)(v3 + 4 * v5);
    if ( !*(_DWORD *)(v3 + 4 * v5 + 4) )
    {
      _NLG_Notify(0x101u);
      (*(void (__stdcall **)(int))(v3 + 4 * v5 + 8))(v6);
    }
  }
  return result;
}

//----- (0043D7F2) --------------------------------------------------------
int __cdecl _abnormal_termination()
{
  int v0; // ecx@0
  int result; // eax@1

  result = 0;
  if ( *(signed int (__cdecl **)(int, int, int, int))(v0 + 4) == ___00003 )
  {
    if ( *(_DWORD *)(v0 + 8) == *(_DWORD *)(*(_DWORD *)(v0 + 12) + 12) )
      result = 1;
  }
  return result;
}

//----- (0043D815) --------------------------------------------------------
void __cdecl _NLG_Notify1()
{
  JUMPOUT(_NLG_Go);
}
// 43D828: using guessed type int __cdecl _NLG_Go(int, int dwInCode);

//----- (0043D81E) --------------------------------------------------------
void __cdecl _NLG_Notify(unsigned int dwInCode)
{
  int v1; // eax@0
  int v2; // ebp@0

  _NLG_Destination[2] = *(_DWORD *)(v2 + 8);
  _NLG_Destination[1] = v1;
  _NLG_Destination[3] = v2;
}

//----- (0043D840) --------------------------------------------------------
char *__cdecl strncpy(char *Dest, const char *Source, size_t Count)
{
  unsigned int v3; // ecx@1
  size_t v4; // ebx@2
  const char *v5; // esi@2
  char *v6; // edi@2
  size_t v7; // ecx@3
  char v8; // al@5
  int v10; // ecx@16
  int v11; // eax@21
  int v12; // edx@21

  v3 = Count;
  if ( !Count )
    return Dest;
  v4 = Count;
  v5 = Source;
  v6 = Dest;
  if ( !((unsigned __int8)Source & 3) )
  {
    v7 = Count >> 2;
    if ( Count >> 2 )
      goto main_loop_entrance;
copy_tail_loop:
    while ( 1 )
    {
      v8 = *v5++;
      *v6++ = v8;
      if ( !v8 )
        break;
      --v4;
      if ( !v4 )
        return Dest;
    }
    while ( 1 )
    {
      --v4;
      if ( !v4 )
        break;
finish_loop:
      *v6++ = v8;
    }
    return Dest;
  }
  do
  {
    v8 = *v5++;
    *v6++ = v8;
    --v3;
    if ( !v3 )
      return Dest;
    if ( !v8 )
    {
      while ( (unsigned __int8)v6 & 3 )
      {
        *v6++ = 0;
        --v3;
        if ( !v3 )
          return Dest;
      }
      v4 = v3;
      v10 = v3 >> 2;
      if ( !v10 )
        goto finish_loop;
      goto fill_dwords_with_EOS;
    }
  }
  while ( (unsigned __int8)v5 & 3 );
  LOBYTE(v4) = v3;
  v7 = v3 >> 2;
  if ( !v7 )
  {
tail_loop_start:
    v4 &= 3u;
    if ( v4 )
      goto copy_tail_loop;
    return Dest;
  }
  while ( 1 )
  {
main_loop_entrance:
    v11 = (*(_DWORD *)v5 + 2130640639) ^ ~*(_DWORD *)v5;
    v12 = *(_DWORD *)v5;
    v5 += 4;
    if ( !(v11 & 0x81010100) )
      goto main_loop;
    if ( !(_BYTE)v12 )
      break;
    if ( !BYTE1(v12) )
    {
      *(_DWORD *)v6 = (unsigned __int8)v12;
      goto fill_with_EOS_dwords;
    }
    if ( !(v12 & 0xFF0000) )
    {
      *(_DWORD *)v6 = (unsigned __int16)v12;
      goto fill_with_EOS_dwords;
    }
    if ( !(v12 & 0xFF000000) )
    {
      *(_DWORD *)v6 = v12;
      goto fill_with_EOS_dwords;
    }
main_loop:
    *(_DWORD *)v6 = v12;
    v6 += 4;
    --v7;
    if ( !v7 )
      goto tail_loop_start;
  }
  *(_DWORD *)v6 = 0;
fill_with_EOS_dwords:
  v6 += 4;
  v8 = 0;
  v10 = v7 - 1;
  if ( v10 )
  {
fill_dwords_with_EOS:
    v8 = 0;
    do
    {
      *(_DWORD *)v6 = 0;
      v6 += 4;
      --v10;
    }
    while ( v10 );
  }
  v4 &= 3u;
  if ( v4 )
    goto finish_loop;
  return Dest;
}

//----- (0043D964) --------------------------------------------------------
void __cdecl report_failure()
{
  __security_error_handler(1, 0);
}

//----- (0043D9A8) --------------------------------------------------------
int (__cdecl *__usercall onexit_lk<eax>(int (__cdecl *func)()<edi>))()
{
  unsigned int v1; // eax@1
  int v2; // ecx@1
  unsigned int v3; // esi@1
  signed int v4; // ecx@2
  int (__cdecl *result)(); // eax@4
  signed int v6; // ecx@6

  v1 = _msize(__onexitbegin);
  v2 = __onexitend;
  v3 = v1;
  if ( v1 >= __onexitend - (signed int)__onexitbegin + 4 )
    goto LABEL_7;
  v4 = 2048;
  if ( v1 < 0x800 )
    v4 = v1;
  result = (int (__cdecl *)())realloc(__onexitbegin, v1 + v4);
  if ( result || (result = (int (__cdecl *)())realloc(__onexitbegin, v3 + 16)) != 0 )
  {
    v6 = __onexitend - (_DWORD)__onexitbegin;
    __onexitbegin = result;
    v2 = (int)((char *)result + 4 * (v6 >> 2));
    __onexitend = v2;
LABEL_7:
    *(_DWORD *)v2 = func;
    __onexitend += 4;
    result = func;
  }
  return result;
}
// 4C98B4: using guessed type int __onexitend;

//----- (0043DA28) --------------------------------------------------------
int __cdecl __onexitinit()
{
  void *v0; // eax@1
  int result; // eax@2

  v0 = malloc(0x80u);
  __onexitbegin = v0;
  if ( v0 )
  {
    *(_DWORD *)v0 = 0;
    __onexitend = (int)__onexitbegin;
    result = 0;
  }
  else
  {
    result = 24;
  }
  return result;
}
// 4C98B4: using guessed type int __onexitend;

//----- (0043DA50) --------------------------------------------------------
int (__cdecl *__cdecl _onexit(int (__cdecl *func)()))()
{
  int (__cdecl *result)(); // eax@1

  _lockexit();
  onexit_lk(func);
  _unlockexit();
  return result;
}

//----- (0043DA88) --------------------------------------------------------
int __cdecl atexit(void (__cdecl *func)())
{
  _onexit((int (__cdecl *)())func);
}

//----- (0043DAA0) --------------------------------------------------------
#error "43DBFC: invalid basic block (funcsize=131)"

//----- (0043DDDD) --------------------------------------------------------
int __cdecl _snprintf(char *string, unsigned int count, const char *format)
{
  int v3; // edi@1
  _iobuf str; // [sp+8h] [bp-20h]@1
  char argptr; // [sp+3Ch] [bp+14h]@0

  str._cnt = count;
  str._flag = 66;
  str._base = string;
  str._ptr = string;
  v3 = _output(&str, format, &argptr);
  if ( string )
  {
    --str._cnt;
    if ( str._cnt < 0 )
      _flsbuf(0, &str);
    else
      *str._ptr = 0;
  }
  return v3;
}

//----- (0043DE40) --------------------------------------------------------
void __cdecl strncmp(char *first, char *last, unsigned int count)
{
  unsigned int v3; // ecx@1
  char *v4; // edi@2
  bool v5; // zf@4
  unsigned int v6; // ecx@5
  char *v7; // edi@5
  char *v8; // esi@5

  v3 = count;
  if ( count )
  {
    v4 = first;
    do
    {
      if ( !v3 )
        break;
      v5 = *v4++ == 0;
      --v3;
    }
    while ( !v5 );
    v6 = count - v3;
    v7 = first;
    v8 = last;
    do
    {
      if ( !v6 )
        break;
      v5 = *v8++ == *v7++;
      --v6;
    }
    while ( v5 );
  }
}

//----- (0043DE79) --------------------------------------------------------
void __cdecl _purecall()
{
  if ( __pPurecall )
    __pPurecall();
  _amsg_exit(25);
}
// 4C8FD4: using guessed type int (*__pPurecall)(void);

//----- (0043DE8D) --------------------------------------------------------
void __cdecl srand(unsigned int seed)
{
  _getptd()->_holdrand = seed;
}

//----- (0043DE9A) --------------------------------------------------------
int __cdecl rand()
{
  _tiddata *v0; // eax@1
  unsigned int v1; // ecx@1

  v0 = _getptd();
  v1 = 214013 * v0->_holdrand + 2531011;
  v0->_holdrand = v1;
  return (v1 >> 16) & 0x7FFF;
}

//----- (0043DEC0) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (0043DED0) --------------------------------------------------------
char *__cdecl strchr(const char *Str, int Val)
{
  const char *v2; // edx@1
  char v3; // cl@2
  int v4; // ecx@4
  int v5; // esi@4
  int v6; // eax@4
  int v7; // eax@5
  char *result; // eax@8
  unsigned int v9; // eax@9
  unsigned int v10; // eax@13

  v2 = Str;
  if ( (unsigned __int8)Str & 3 )
  {
    while ( 1 )
    {
      v3 = *v2++;
      JUMPOUT(v3, Val, found_bx);
      if ( !v3 )
        break;
      if ( !((unsigned __int8)v2 & 3) )
        goto main_loop_0;
    }
retnull_bx:
    result = 0;
  }
  else
  {
    while ( 1 )
    {
main_loop_0:
      while ( 1 )
      {
        v4 = (((unsigned __int8)Val << 8) | (unsigned __int8)Val | ((((unsigned __int8)Val << 8) | (unsigned __int8)Val) << 16)) ^ *(_DWORD *)v2;
        v5 = *(_DWORD *)v2 + 2130640639;
        v6 = (*(_DWORD *)v2 + 2130640639) ^ ~*(_DWORD *)v2;
        v2 += 4;
        if ( ((v4 + 2130640639) ^ ~v4) & 0x81010100 )
          break;
        v7 = v6 & 0x81010100;
        if ( v7 && (v7 & 0x1010100 || !(v5 & 0x80000000)) )
          goto retnull_bx;
      }
      v9 = *((_DWORD *)v2 - 1);
      if ( (_BYTE)v9 == (_BYTE)Val )
        break;
      if ( !(_BYTE)v9 )
        goto retnull_bx;
      if ( BYTE1(v9) == (_BYTE)Val )
        return (char *)(v2 - 3);
      if ( !BYTE1(v9) )
        goto retnull_bx;
      v10 = v9 >> 16;
      if ( (_BYTE)v10 == (_BYTE)Val )
        return (char *)(v2 - 2);
      if ( !(_BYTE)v10 )
        goto retnull_bx;
      if ( BYTE1(v10) == (_BYTE)Val )
        return (char *)(v2 - 1);
      if ( !BYTE1(v10) )
        goto retnull_bx;
    }
    result = (char *)(v2 - 4);
  }
  return result;
}
// 43DEC0: using guessed type int found_bx();

//----- (0043DF8E) --------------------------------------------------------
int __cdecl isalpha(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 0x103;
  else
    result = __isctype_mt(v1, c, 259);
  return result;
}

//----- (0043DFCD) --------------------------------------------------------
int __cdecl isupper(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 1;
  else
    result = __isctype_mt(v1, c, 1);
  return result;
}

//----- (0043E007) --------------------------------------------------------
int __cdecl islower(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 2;
  else
    result = __isctype_mt(v1, c, 2);
  return result;
}

//----- (0043E041) --------------------------------------------------------
int __cdecl isdigit(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 4;
  else
    result = __isctype_mt(v1, c, 4);
  return result;
}

//----- (0043E07B) --------------------------------------------------------
int __cdecl isspace(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 8;
  else
    result = __isctype_mt(v1, c, 8);
  return result;
}

//----- (0043E0B5) --------------------------------------------------------
int __cdecl isalnum(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 0x107;
  else
    result = __isctype_mt(v1, c, 263);
  return result;
}

//----- (0043E0F4) --------------------------------------------------------
int __cdecl isprint(int c)
{
  threadlocaleinfostruct *v1; // eax@1
  int result; // eax@4

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  if ( v1->mb_cur_max <= 1 )
    result = v1->pctype[c] & 0x157;
  else
    result = __isctype_mt(v1, c, 343);
  return result;
}

//----- (0043E133) --------------------------------------------------------
int __cdecl atol(const char *nptr)
{
  threadlocaleinfostruct *v1; // edi@1
  const char *i; // esi@3
  int v3; // eax@4
  int v4; // eax@5
  signed int v5; // ecx@9
  int v6; // esi@9
  signed int v7; // edx@9
  int result; // eax@12
  signed int v9; // ecx@15

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  for ( i = nptr; ; ++i )
  {
    v3 = (unsigned __int8)*i;
    v4 = v1->mb_cur_max <= 1 ? v1->pctype[v3] & 8 : __isctype_mt(v1, v3, 8);
    if ( !v4 )
      break;
  }
  v5 = (unsigned __int8)*i;
  v6 = (int)(i + 1);
  v7 = v5;
  if ( v5 == 45 || v5 == 43 )
    v5 = *(_BYTE *)v6++;
  result = 0;
  while ( 1 )
  {
    v9 = v5 < 48 || v5 > 57 ? -1 : v5 - 48;
    if ( v9 == -1 )
      break;
    result = v9 + 10 * result;
    v5 = *(_BYTE *)v6++;
  }
  if ( v7 == 45 )
    result = -result;
  return result;
}

//----- (0043E1C0) --------------------------------------------------------
void __stdcall _CxxThrowException(void *pExceptionObject, _s__ThrowInfo *pThrowInfo)
{
  EHExceptionRecord ThisException; // [sp+8h] [bp-20h]@1

  memcpy(&ThisException, &ExceptionTemplate, sizeof(ThisException));
  ThisException.params.pExceptionObject = pExceptionObject;
  ThisException.params.pThrowInfo = (_s_ThrowInfo *)pThrowInfo;
  RaiseException(
    ThisException.ExceptionCode,
    ThisException.ExceptionFlags,
    ThisException.NumberParameters,
    &ThisException.params.magicNumber);
}

//----- (0043E1FA) --------------------------------------------------------
void __thiscall exception::exception(exception *this)
{
  this->_m_what = 0;
  this->_m_doFree = 0;
  this->vfptr = (exceptionVtbl *)&exception::_vftable_;
}
// 4642F8: using guessed type int (__thiscall *exception___vftable_)(void *p, char);

//----- (0043E20B) --------------------------------------------------------
void __thiscall exception::exception(exception *this, const char *const *what)
{
  exception *v2; // esi@1
  size_t v3; // eax@1
  void *v4; // eax@1

  v2 = this;
  this->vfptr = (exceptionVtbl *)&exception::_vftable_;
  v3 = strlen(*what);
  v4 = malloc(v3 + 1);
  v2->_m_what = (const char *)v4;
  if ( v4 )
    strcpy((char *)v4, *what);
  v2->_m_doFree = 1;
}
// 4642F8: using guessed type int (__thiscall *exception___vftable_)(void *p, char);

//----- (0043E248) --------------------------------------------------------
void __thiscall exception::exception(exception *this, exception *that)
{
  exception *v2; // esi@1
  int v3; // eax@1
  size_t v4; // eax@2
  void *v5; // eax@2

  v2 = this;
  this->vfptr = (exceptionVtbl *)&exception::_vftable_;
  v3 = that->_m_doFree;
  this->_m_doFree = v3;
  if ( v3 )
  {
    v4 = strlen(that->_m_what);
    v5 = malloc(v4 + 1);
    v2->_m_what = (const char *)v5;
    if ( v5 )
      strcpy((char *)v5, that->_m_what);
  }
  else
  {
    this->_m_what = that->_m_what;
  }
}
// 4642F8: using guessed type int (__thiscall *exception___vftable_)(void *p, char);

//----- (0043E292) --------------------------------------------------------
void __thiscall exception::_exception(exception *this)
{
  bool v1; // zf@1

  v1 = this->_m_doFree == 0;
  this->vfptr = (exceptionVtbl *)&exception::_vftable_;
  if ( !v1 )
    free((void *)this->_m_what);
}
// 4642F8: using guessed type int (__thiscall *exception___vftable_)(void *p, char);

//----- (0043E2A8) --------------------------------------------------------
const char *__thiscall exception::what(exception *this)
{
  const char *result; // eax@1

  result = this->_m_what;
  if ( !result )
    result = "Unknown exception";
  return result;
}

//----- (0043E2B5) --------------------------------------------------------
void __thiscall bad_cast::bad_cast(bad_cast *this, const char *_Message)
{
  bad_cast *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0, &_Message);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&bad_cast::_vftable_;
}
// 464318: using guessed type int (__thiscall *bad_cast___vftable_)(void *p, char);

//----- (0043E2CE) --------------------------------------------------------
void __thiscall bad_cast::bad_cast(bad_cast *this, bad_cast *that)
{
  bad_cast *v2; // esi@1

  v2 = this;
  exception::exception(&this->baseclass_0, &that->baseclass_0);
  v2->baseclass_0.vfptr = (exceptionVtbl *)&bad_cast::_vftable_;
}
// 464318: using guessed type int (__thiscall *bad_cast___vftable_)(void *p, char);

//----- (0043E2E6) --------------------------------------------------------
void __thiscall bad_cast::_bad_cast(bad_cast *this)
{
  this->baseclass_0.vfptr = (exceptionVtbl *)&bad_cast::_vftable_;
  exception::_exception(&this->baseclass_0);
}
// 464318: using guessed type int (__thiscall *bad_cast___vftable_)(void *p, char);

//----- (0043E2F1) --------------------------------------------------------
void *__thiscall exception::_vector_deleting_destructor_(exception *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  exception::_exception(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0043E30D) --------------------------------------------------------
void *__thiscall bad_cast::_vector_deleting_destructor_(bad_cast *this, unsigned int a2)
{
  void *v2; // esi@1

  v2 = this;
  bad_cast::_bad_cast(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0043E329) --------------------------------------------------------
void __thiscall type_info::_type_info(type_info *this)
{
  type_info *v1; // esi@1
  void *v2; // esi@1

  v1 = this;
  this->vfptr = (type_infoVtbl *)&type_info::_vftable_;
  _lock(14);
  v2 = v1->_m_data;
  if ( v2 )
    free(v2);
  _unlock(14);
}
// 464324: using guessed type int (__stdcall *type_info___vftable_)(char);

//----- (0043E36F) --------------------------------------------------------
void *__thiscall type_info::_scalar_deleting_destructor_(type_info *this, unsigned int a2)
{
  type_info::_type_info(this);
}

//----- (0043E38B) --------------------------------------------------------
int __cdecl _fclose_lk(_iobuf *str)
{
  signed int v1; // edi@1

  v1 = -1;
  if ( str->_flag & 0x83 )
  {
    v1 = _flush(str);
    _freebuf(str);
    if ( _close(str->_file) >= 0 )
    {
      if ( str->_tmpfname )
      {
        free(str->_tmpfname);
        str->_tmpfname = 0;
      }
    }
    else
    {
      v1 = -1;
    }
  }
  str->_flag = 0;
  return v1;
}

//----- (0043E3D7) --------------------------------------------------------
int __cdecl fclose(_iobuf *stream)
{
  int result; // eax@2

  if ( stream->_flag & 0x40 )
  {
    stream->_flag = 0;
    result = -1;
  }
  else
  {
    _lock_file(stream);
    _fclose_lk(stream);
    _unlock_file(stream);
  }
  return result;
}

//----- (0043E428) --------------------------------------------------------
char *__cdecl strtok(char *string, const char *control)
{
  const char *v2; // esi@1
  const char v3; // dl@2
  char *v4; // edx@3
  char *v5; // ebx@8
  _tiddata *ptd; // [sp+Ch] [bp-28h]@1
  char map[32]; // [sp+10h] [bp-24h]@1

  v2 = control;
  ptd = _getptd();
  memset(map, 0, sizeof(map));
  do
  {
    v3 = *v2;
    map[(unsigned int)(unsigned __int8)*v2 >> 3] |= 1 << (*v2 & 7);
    ++v2;
  }
  while ( v3 );
  v4 = string;
  if ( !string )
    v4 = ptd->_token;
  while ( (unsigned __int8)(1 << (*v4 & 7)) & (unsigned __int8)map[(unsigned int)(unsigned __int8)*v4 >> 3] && *v4 )
    ++v4;
  v5 = v4;
  while ( *v4 )
  {
    if ( (unsigned __int8)(1 << (*v4 & 7)) & (unsigned __int8)map[(unsigned int)(unsigned __int8)*v4 >> 3] )
    {
      *v4++ = 0;
      break;
    }
    ++v4;
  }
  ptd->_token = v4;
  return (char *)(v5 != v4 ? (int)v5 : 0);
}

//----- (0043E4DD) --------------------------------------------------------
char *__cdecl fgets(char *string, int count, _iobuf *str)
{
  char *v3; // edi@1
  char *result; // eax@2
  bool v5; // sf@5
  int v6; // eax@6

  v3 = string;
  if ( count > 0 )
  {
    _lock_file(str);
    do
    {
      --count;
      if ( !count )
        break;
      v5 = str->_cnt-- - 1 < 0;
      if ( v5 )
        v6 = _filbuf(str);
      else
        v6 = *str->_ptr++;
      if ( v6 == -1 )
      {
        if ( v3 == string )
          goto done;
        break;
      }
      *v3++ = v6;
    }
    while ( (_BYTE)v6 != 10 );
    *v3 = 0;
done:
    _unlock_file(str);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0043E563) --------------------------------------------------------
_iobuf *__cdecl _fsopen(const char *file, const char *mode, int shflag)
{
  _iobuf *v3; // eax@1
  _iobuf *result; // eax@2
  void *stream; // [sp+10h] [bp-1Ch]@1

  v3 = _getstream();
  stream = v3;
  if ( v3 )
  {
    _openfile(file, mode, shflag, v3);
    _unlock_file(stream);
  }
  else
  {
    *_errno() = 24;
    result = 0;
  }
  return result;
}

//----- (0043E5BF) --------------------------------------------------------
_iobuf *__cdecl fopen(const char *file, const char *mode)
{
  return _fsopen(file, mode, 64);
}

//----- (0043E622) --------------------------------------------------------
int __cdecl time(int *timeptr)
{
  unsigned __int64 v1; // ST00_8@1
  unsigned __int64 v2; // qax@1
  FT nt_time; // [sp+0h] [bp-8h]@1

  GetSystemTimeAsFileTime((LPFILETIME)&nt_time);
  HIDWORD(v1) = ((nt_time.ft_scalar + 717324288) >> 32) - 27111903;
  LODWORD(v1) = nt_time.ft_scalar + 717324288;
  v2 = v1 / 0x989680;
  if ( timeptr )
    *timeptr = v2;
  return v2;
}

//----- (0043E660) --------------------------------------------------------
void __cdecl operator delete(void *ptr, std::nothrow_t *__formal)
{
  operator delete(ptr);
}

//----- (0043E66B) --------------------------------------------------------
void *__cdecl operator new(unsigned int count, std::nothrow_t *__formal)
{
  int v2; // ecx@0
  int v4; // [sp-Ch] [bp-20h]@1
  int v5; // [sp+0h] [bp-14h]@1
  int *v6; // [sp+4h] [bp-10h]@1
  int v7; // [sp+10h] [bp-4h]@1

  v5 = v2;
  v7 = 0;
  v6 = &v4;
  return operator new(count);
}

//----- (0043E69F) --------------------------------------------------------
int (__cdecl *__usercall _L528<eax>(int a1<ebp>))(unsigned int)
{
  *(_DWORD *)(a1 - 20) = 0;
  return _L487;
}
// 43E68D: using guessed type int __cdecl $L487(unsigned int size);

//----- (0043E6A9) --------------------------------------------------------
void __cdecl _amsg_exit(int rterrnum)
{
  if ( __error_mode == 1 )
    _FF_MSGBANNER();
  _NMSG_WRITE(rterrnum);
  _aexit_rtn(255);
  JUMPOUT(*(int *)loc_43E6CB);
}
// 43E6CB: using guessed type int __cdecl(int rterrnum);
// 470F70: using guessed type int (__cdecl *_aexit_rtn)(_DWORD);
// 4C8FE0: using guessed type int __error_mode;

//----- (0043E6CE) --------------------------------------------------------
void __cdecl fast_error_exit(int rterrnum)
{
  if ( __error_mode == 1 )
    _FF_MSGBANNER();
  _NMSG_WRITE(rterrnum);
  __crtExitProcess(255);
}
// 4C8FE0: using guessed type int __error_mode;

//----- (0043E8C7) --------------------------------------------------------
unsigned int __cdecl _fwrite_lk(const void *buffer, unsigned int size, unsigned int num, _iobuf *stream)
{
  unsigned int v4; // edi@1
  unsigned int v5; // ebx@1
  int v7; // eax@7
  int v8; // edi@8
  unsigned int v9; // edi@14
  int v10; // eax@16
  unsigned int v11; // eax@25
  int bufsize; // [sp+Ch] [bp-4h]@4

  v4 = num * size;
  v5 = num * size;
  if ( !(num * size) )
    return 0;
  if ( stream->_flag & 0x10C )
    bufsize = stream->_bufsiz;
  else
    bufsize = 4096;
  while ( 1 )
  {
    if ( stream->_flag & 0x108 )
    {
      v7 = stream->_cnt;
      if ( v7 )
      {
        v8 = v5;
        if ( v5 >= v7 )
          v8 = stream->_cnt;
        memcpy(stream->_ptr, (char *)buffer, v8);
        stream->_cnt -= v8;
        stream->_ptr += v8;
        v5 -= v8;
        buffer = (char *)buffer + v8;
LABEL_18:
        v4 = num * size;
        goto LABEL_22;
      }
    }
    if ( v5 >= bufsize )
      break;
    if ( _flsbuf(*(_BYTE *)buffer, stream) == -1 )
      goto LABEL_25;
    buffer = (char *)buffer + 1;
    --v5;
    bufsize = stream->_bufsiz;
    if ( stream->_bufsiz <= 0 )
      bufsize = 1;
LABEL_22:
    if ( !v5 )
      return num;
  }
  if ( stream->_flag & 0x108 && _flush(stream) )
  {
LABEL_25:
    v11 = v4;
    return (v11 - v5) / size;
  }
  v9 = v5;
  if ( bufsize )
    v9 = v5 - v5 % bufsize;
  v10 = _write(stream->_file, buffer, v9);
  if ( v10 != -1 )
  {
    buffer = (char *)buffer + v10;
    v5 -= v10;
    if ( v10 >= v9 )
      goto LABEL_18;
  }
  stream->_flag |= 0x20u;
  v11 = num * size;
  return (v11 - v5) / size;
}

//----- (0043E9CE) --------------------------------------------------------
unsigned int __cdecl fwrite(const void *buffer, unsigned int size, unsigned int count, _iobuf *stream)
{
  unsigned int result; // eax@1

  _lock_file(stream);
  _fwrite_lk(buffer, size, count, stream);
  _unlock_file(stream);
  return result;
}

//----- (0043EA1A) --------------------------------------------------------
int __cdecl fprintf(_iobuf *str, const char *format)
{
  int v2; // ST2C_4@1
  int result; // eax@1
  char argptr; // [sp+40h] [bp+10h]@0

  _lock_file(str);
  v2 = _stbuf(str);
  _output(str, format, &argptr);
  _ftbuf(v2, str);
  _unlock_file(str);
  return result;
}

//----- (0043EB81) --------------------------------------------------------
int __cdecl _vsnprintf(char *string, unsigned int count, const char *format, char *ap)
{
  int v4; // edi@1
  _iobuf str; // [sp+8h] [bp-20h]@1

  str._cnt = count;
  str._flag = 66;
  str._base = string;
  str._ptr = string;
  v4 = _output(&str, format, ap);
  if ( string )
  {
    --str._cnt;
    if ( str._cnt < 0 )
      _flsbuf(0, &str);
    else
      *str._ptr = 0;
  }
  return v4;
}

//----- (0043EBD7) --------------------------------------------------------
int __cdecl _mbscmp(const char *s1, const char *s2)
{
  threadmbcinfostruct *v2; // esi@1
  int result; // eax@4
  const char *v4; // edi@5
  unsigned __int16 v5; // ax@6
  const char v6; // cl@7
  unsigned __int16 v7; // dx@9
  unsigned __int16 v8; // cx@10
  int v9; // edx@10
  const char v10; // dl@11
  unsigned __int16 v11; // bx@13

  v2 = _getptd()->ptmbcinfo;
  if ( v2 != ___ptmbcinfo )
    v2 = __updatetmbcinfo();
  if ( v2->ismbcodepage )
  {
    v4 = s2;
    while ( 1 )
    {
      v5 = (unsigned __int8)*s1++;
      if ( v2->mbctype[(unsigned __int8)v5 + 1] & 4 )
      {
        v6 = *s1;
        if ( *s1 )
        {
          ++s1;
          HIBYTE(v7) = v5;
          LOBYTE(v7) = v6;
          v5 = v7;
        }
        else
        {
          v5 = 0;
        }
      }
      v8 = (unsigned __int8)*v4;
      v9 = (unsigned __int8)*v4++;
      if ( v2->mbctype[v9 + 1] & 4 )
      {
        v10 = *v4;
        if ( *v4 )
        {
          HIBYTE(v11) = v8;
          ++v4;
          LOBYTE(v11) = v10;
          v8 = v11;
        }
        else
        {
          v8 = 0;
        }
      }
      if ( v8 != v5 )
        break;
      if ( !v5 )
        return 0;
    }
    result = v8 < v5 ? 1 : -1;
  }
  else
  {
    result = strcmp(s1, s2);
  }
  return result;
}

//----- (0043EC6B) --------------------------------------------------------
int __cdecl _mbsnbcmp(const char *s1, const char *s2, unsigned int n)
{
  threadmbcinfostruct *v3; // eax@1
  int v4; // ebx@1
  int result; // eax@2
  const char *v6; // esi@7
  const char *v7; // edi@7
  unsigned __int16 v8; // dx@8
  int v9; // ecx@10
  const char v10; // cl@13
  unsigned __int16 v11; // bx@15
  int v12; // edx@16
  const char v13; // dl@18
  __int16 v14; // bx@20
  unsigned __int16 c1; // [sp+4h] [bp-4h]@8

  v3 = _getptd()->ptmbcinfo;
  v4 = 0;
  if ( !n )
    return 0;
  if ( v3 != ___ptmbcinfo )
    v3 = __updatetmbcinfo();
  if ( !v3->ismbcodepage )
  {
    strncmp((char *)s1, (char *)s2, n);
    return result;
  }
  v6 = s2;
  v7 = s1;
  while ( 1 )
  {
    v8 = (unsigned __int8)*v7;
    --n;
    ++v7;
    c1 = v8;
    if ( !(v3->mbctype[(unsigned __int8)v8 + 1] & 4) )
      goto LABEL_16;
    if ( n != v4 )
    {
      v10 = *v7;
      if ( *v7 == (_BYTE)v4 )
      {
        c1 = v4;
      }
      else
      {
        HIBYTE(v11) = v8;
        ++v7;
        LOBYTE(v11) = v10;
        c1 = v11;
        v4 = 0;
      }
LABEL_16:
      LOWORD(v9) = (unsigned __int8)*v6;
      v12 = (unsigned __int8)*v6++;
      if ( v3->mbctype[v12 + 1] & 4 )
      {
        if ( n != v4 && (v13 = *v6, --n, *v6 != (_BYTE)v4) )
        {
          HIBYTE(v14) = v9;
          ++v6;
          LOBYTE(v14) = v13;
          LOWORD(v9) = v14;
          v4 = 0;
        }
        else
        {
          LOWORD(v9) = 0;
        }
      }
      goto test;
    }
    v9 = (unsigned __int8)*v6;
    c1 = v4;
    if ( v3->mbctype[v9 + 1] & 4 )
      return 0;
test:
    if ( (_WORD)v9 != c1 )
      return (unsigned __int16)v9 < c1 ? 1 : -1;
    if ( c1 == (_WORD)v4 || n == v4 )
      return 0;
  }
}

//----- (0043ED40) --------------------------------------------------------
char *__cdecl _mbsupr(char *string)
{
  threadmbcinfostruct *v1; // edi@1
  char *v2; // ebx@3
  char *v3; // esi@3
  int v4; // ecx@4
  char v5; // dl@4
  int v6; // eax@5
  char v7; // ch@6

  v1 = _getptd()->ptmbcinfo;
  if ( v1 != ___ptmbcinfo )
    v1 = __updatetmbcinfo();
  v2 = string;
  v3 = string;
  if ( !*string )
    return v2;
  while ( 1 )
  {
    v4 = (unsigned __int8)*v3;
    v5 = v1->mbctype[v4 + 1];
    if ( !(v5 & 4) )
    {
      if ( v5 & 0x20 )
        LOBYTE(v4) = v1->mbcasemap[v4];
      *v3 = v4;
      goto LABEL_11;
    }
    v6 = __crtLCMapStringA(v1->mblcid, 0x200u, v3, 2, (char *)&string, 2, v1->mbcodepage, 1);
    if ( !v6 )
      return 0;
    v7 = BYTE1(string);
    *v3 = (char)string;
    if ( v6 > 1 )
    {
      ++v3;
      *v3 = v7;
    }
LABEL_11:
    ++v3;
    if ( !*v3 )
      return v2;
  }
}

//----- (0043EDC5) --------------------------------------------------------
void __stdcall __ArrayUnwind(void *ptr, unsigned int size, int count, void (__thiscall *pDtor)(void *))
{
  while ( 1 )
  {
    --count;
    if ( count < 0 )
      break;
    ptr = (char *)ptr - size;
    ((void (*)(void))pDtor)();
  }
}

//----- (0043EE23) --------------------------------------------------------
void __stdcall _eh_vector_destructor_iterator_(void *ptr, unsigned int size, int count, void (__thiscall *pDtor)(void *))
{
  void *ptra; // [sp+30h] [bp+8h]@1

  for ( ptra = (char *)ptr + count * size; ; pDtor(ptra) )
  {
    --count;
    if ( count < 0 )
      break;
    ptra = (char *)ptra - size;
  }
}

//----- (0043EE83) --------------------------------------------------------
void __stdcall _eh_vector_constructor_iterator_(void *ptr, unsigned int size, int count, void (__thiscall *pCtor)(void *), void (__thiscall *pDtor)(void *))
{
  int i; // [sp+10h] [bp-1Ch]@1

  for ( i = 0; i < count; ++i )
  {
    pCtor(ptr);
    ptr = (char *)ptr + size;
  }
}

//----- (0043EEE5) --------------------------------------------------------
long double __cdecl difftime(int b, int a)
{
  return (double)(b - a);
}

//----- (0043EEF7) --------------------------------------------------------
void (__cdecl *__cdecl _cfltcvt_init())(long double *, char *, int, int, int)
{
  void (__cdecl *result)(long double *, char *, int, int, int); // eax@1

  result = _cfltcvt;
  _cfltcvt_tab = (int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))_cfltcvt;
  off_471964[0] = (int (*)())_cropzeros;
  off_471968[0] = (int (*)())_fassign;
  off_47196C[0] = (int (*)())_forcdecpt;
  off_471970[0] = (int (*)())_positive;
  off_471974 = (int (*)())_cfltcvt;
  return result;
}
// 471960: using guessed type int (__cdecl *_cfltcvt_tab)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 471964: using guessed type int (*off_471964[5])();
// 471968: using guessed type int (*off_471968[4])();
// 47196C: using guessed type int (*off_47196C[3])();
// 471970: using guessed type int (*off_471970[2])();
// 471974: using guessed type int (*off_471974)();

//----- (0043EF2F) --------------------------------------------------------
void __cdecl _fpmath(int initPrecision)
{
  _cfltcvt_init();
  _adjust_fdiv = _ms_p5_mp_test_fdiv();
  if ( initPrecision )
    _setdefaultprecision();
  __asm { fnclex }
}
// 4C8FE8: using guessed type int _adjust_fdiv;

//----- (0043EF50) --------------------------------------------------------
char *__cdecl strstr(const char *Str, const char *SubStr)
{
  const char v2; // dl@1
  const char *v3; // edi@1
  const char v4; // dh@2
  const char *v5; // ecx@3
  int v6; // esi@3
  char v7; // al@5
  char *result; // eax@8
  const char v9; // ah@11
  char v10; // al@12
  const char v11; // al@13

  v2 = *SubStr;
  v3 = Str;
  if ( *SubStr )
  {
    v4 = SubStr[1];
    if ( !v4 )
      JUMPOUT(__from_strstr_to_strchr);
findnext:
    v5 = SubStr;
    v6 = (int)(v3 + 1);
    if ( *v3 == v2 )
      goto first_char_found;
    if ( *v3 )
    {
      while ( 2 )
      {
        v7 = *(_BYTE *)v6++;
        while ( v7 == v2 )
        {
first_char_found:
          v7 = *(_BYTE *)v6++;
          if ( v7 == v4 )
          {
            v3 = (const char *)(v6 - 1);
            while ( 1 )
            {
              v9 = v5[2];
              if ( !v9 )
                break;
              v10 = *(_BYTE *)v6;
              v6 += 2;
              if ( v10 != v9 )
                goto findnext;
              v11 = v5[3];
              if ( !v11 )
                break;
              v5 += 2;
              if ( v11 != *(_BYTE *)(v6 - 1) )
                goto findnext;
            }
            return (char *)(v3 - 1);
          }
        }
        if ( v7 )
          continue;
        break;
      }
    }
    result = 0;
  }
  else
  {
    result = (char *)Str;
  }
  return result;
}
// 43DED6: using guessed type int __cdecl __from_strstr_to_strchr(int Str, int Val);

//----- (0043EFD6) --------------------------------------------------------
char *__cdecl strlwr(char *string)
{
  threadlocaleinfostruct *v1; // esi@1
  unsigned int v2; // eax@3
  char *result; // eax@4
  char *i; // edx@4
  char v5; // cl@5
  int v6; // eax@10
  void *v7; // esp@11
  void *v8; // edi@11
  int v9; // [sp+0h] [bp-34h]@11
  int *dst; // [sp+Ch] [bp-28h]@11
  int malloc_flag; // [sp+10h] [bp-24h]@1
  unsigned int dstlen; // [sp+14h] [bp-20h]@10
  threadlocaleinfostruct *ptloci; // [sp+18h] [bp-1Ch]@1
  CPPEH_RECORD ms_exc; // [sp+1Ch] [bp-18h]@11

  malloc_flag = 0;
  v1 = _getptd()->ptlocinfo;
  ptloci = v1;
  if ( v1 != ___ptlocinfo )
  {
    v1 = __updatetlocinfo();
    ptloci = v1;
  }
  v2 = v1->lc_handle[2];
  if ( v2 )
  {
    v6 = __crtLCMapStringA(v2, 0x100u, string, -1, 0, 0, v1->lc_codepage, 1);
    dstlen = v6;
    if ( v6 )
    {
      v7 = alloca(v6);
      ms_exc.old_esp = (DWORD)&v9;
      v8 = &v9;
      dst = &v9;
      ms_exc.disabled = -1;
      if ( &v9 || (v8 = malloc(dstlen), malloc_flag = 1, v8) )
      {
        if ( __crtLCMapStringA(v1->lc_handle[2], 0x100u, string, -1, (char *)v8, dstlen, v1->lc_codepage, 1) )
          strcpy(string, (const char *)v8);
      }
      if ( malloc_flag )
        free(v8);
    }
    result = string;
  }
  else
  {
    result = string;
    for ( i = string; *i; ++i )
    {
      v5 = *i;
      if ( *i >= 65 )
      {
        if ( v5 <= 90 )
          *i = v5 + 32;
      }
    }
  }
  return result;
}

//----- (0043F0EA) --------------------------------------------------------
int __cdecl sprintf(char *string, const char *format)
{
  int v2; // edi@1
  _iobuf str; // [sp+8h] [bp-20h]@1
  char argptr; // [sp+38h] [bp+10h]@0

  str._cnt = 2147483647;
  str._flag = 66;
  str._base = string;
  str._ptr = string;
  v2 = _output(&str, format, &argptr);
  if ( string )
  {
    --str._cnt;
    if ( str._cnt < 0 )
      _flsbuf(0, &str);
    else
      *str._ptr = 0;
  }
  return v2;
}

//----- (0043F142) --------------------------------------------------------
void __cdecl _endthreadex(unsigned int retcode)
{
  _tiddata *v1; // eax@3

  if ( _FPmtterm )
    _FPmtterm();
  v1 = _getptd();
  if ( !v1 )
    _amsg_exit(16);
  _freeptd(v1);
  ExitThread(retcode);
}
// 470F88: using guessed type int (*_FPmtterm)(void);

//----- (0043F173) --------------------------------------------------------
unsigned int __stdcall threadstartex(void *ptd)
{
  void *v1; // esi@1
  unsigned int v2; // eax@8

  v1 = (void *)gpFlsGetValue(__tlsindex);
  if ( v1 )
  {
    *((_DWORD *)v1 + 19) = *((_DWORD *)ptd + 19);
    *((_DWORD *)v1 + 20) = *((_DWORD *)ptd + 20);
    free(ptd);
  }
  else
  {
    v1 = ptd;
    if ( !gpFlsSetValue(__tlsindex, ptd) )
      _amsg_exit(16);
    *(_DWORD *)ptd = GetCurrentThreadId();
  }
  if ( _FPmtinit )
    _FPmtinit();
  v2 = (*((int (__cdecl **)(_DWORD))v1 + 19))(*((_DWORD *)v1 + 20));
  _endthreadex(v2);
}
// 470F84: using guessed type int (*_FPmtinit)(void);
// 4C91A8: using guessed type int (__stdcall *gpFlsGetValue)(_DWORD);
// 4C91AC: using guessed type int (__stdcall *gpFlsSetValue)(_DWORD, _DWORD);

//----- (0043F208) --------------------------------------------------------
unsigned int __cdecl _beginthreadex(void *security, unsigned int stacksize, unsigned int (__stdcall *initialcode)(void *), void *argument, unsigned int createflag, unsigned int *thrdaddr)
{
  unsigned int (__stdcall *v6)(void *); // edi@1
  unsigned int v7; // ebx@1
  unsigned int result; // eax@2
  void *v9; // eax@3
  void *v10; // esi@3
  void *v11; // eax@4
  unsigned int *v12; // eax@4
  bool v13; // zf@4

  v6 = initialcode;
  v7 = 0;
  if ( !initialcode )
  {
    *_errno() = 22;
    return 0;
  }
  v9 = calloc(1u, 0x8Cu);
  v10 = v9;
  if ( !v9 )
    goto error_return;
  _initptd((_tiddata *)v9);
  v11 = argument;
  *((_DWORD *)v10 + 1) = -1;
  *((_DWORD *)v10 + 20) = v11;
  v12 = thrdaddr;
  v13 = thrdaddr == 0;
  *((_DWORD *)v10 + 19) = v6;
  if ( v13 )
    v12 = (unsigned int *)&initialcode;
  result = (unsigned int)CreateThread((LPSECURITY_ATTRIBUTES)security, stacksize, threadstartex, v10, createflag, v12);
  if ( !result )
  {
    v7 = GetLastError();
error_return:
    free(v10);
    if ( v7 )
      _dosmaperr(v7);
    result = 0;
  }
  return result;
}

//----- (0043F293) --------------------------------------------------------
_iobuf *__cdecl __iob_func()
{
  return _iob;
}

//----- (0043F299) --------------------------------------------------------
int __cdecl __initstdio()
{
  unsigned int v0; // eax@1
  int v1; // eax@6
  int result; // eax@8
  int v3; // edx@9
  FILE *v4; // ecx@9
  signed int v5; // ecx@12
  signed int v6; // edx@12
  int v7; // eax@13

  v0 = _nstream;
  if ( !_nstream )
  {
    v0 = 512;
LABEL_5:
    _nstream = v0;
    goto LABEL_6;
  }
  if ( (signed int)_nstream < 20 )
  {
    v0 = 20;
    goto LABEL_5;
  }
LABEL_6:
  v1 = (int)calloc(v0, 4u);
  __piob = v1;
  if ( v1 || (_nstream = 20, v1 = (int)calloc(0x14u, 4u), (__piob = v1) != 0) )
  {
    v3 = 0;
    v4 = _iob;
    while ( 1 )
    {
      *(_DWORD *)(v3 + v1) = v4;
      ++v4;
      v3 += 4;
      if ( (signed int)v4 >= (signed int)errtable )
        break;
      v1 = __piob;
    }
    v5 = 0;
    v6 = (signed int)&unk_470FA0;
    do
    {
      v7 = *(_DWORD *)(__pioinfo[v5 >> 5] + 36 * (v5 & 0x1F));
      if ( v7 == -1 || !v7 )
        *(_DWORD *)v6 = -1;
      v6 += 32;
      ++v5;
    }
    while ( v6 < (signed int)&unk_471000 );
    result = 0;
  }
  else
  {
    result = 26;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];
// 4C98C0: using guessed type int __piob;

//----- (0043F342) --------------------------------------------------------
int __cdecl __endstdio()
{
  int result; // eax@1

  result = _flushall();
  if ( _exitflag )
    _fcloseall();
  return result;
}
// 4C9034: using guessed type char _exitflag;

//----- (0043F356) --------------------------------------------------------
void __cdecl _lock_file(void *pf)
{
  if ( pf < _iob || pf > &unk_4711F0 )
    EnterCriticalSection((LPCRITICAL_SECTION)((char *)pf + 32));
  else
    _lock(((signed int)(pf - _iob) >> 5) + 16);
}

//----- (0043F385) --------------------------------------------------------
void __cdecl _lock_file2(int i, void *s)
{
  if ( i >= 20 )
    EnterCriticalSection((LPCRITICAL_SECTION)((char *)s + 32));
  else
    _lock(i + 16);
}

//----- (0043F3A8) --------------------------------------------------------
void __cdecl _unlock_file(void *pf)
{
  if ( pf < _iob || pf > &unk_4711F0 )
    LeaveCriticalSection((LPCRITICAL_SECTION)((char *)pf + 32));
  else
    _unlock(((signed int)(pf - _iob) >> 5) + 16);
}

//----- (0043F3D7) --------------------------------------------------------
void __cdecl _unlock_file2(int i, void *s)
{
  if ( i >= 20 )
    LeaveCriticalSection((LPCRITICAL_SECTION)((char *)s + 32));
  else
    _unlock(i + 16);
}

//----- (0043F3FA) --------------------------------------------------------
tm *__cdecl localtime(const int *ptime)
{
  const int *v1; // esi@1
  signed int v3; // eax@3
  tm *v4; // eax@5
  tm *v5; // esi@5
  tm *v6; // eax@8
  signed int v7; // eax@10
  int v8; // edx@14
  int v9; // edx@16
  int v10; // ecx@18
  bool v11; // sf@18
  int v12; // eax@24

  v1 = ptime;
  if ( *ptime < 0 )
    return 0;
  __tzset();
  v3 = *v1;
  if ( *v1 > 259200 && v3 < 2147224447 )
  {
    ptime = (const int *)(v3 - _timezone);
    v4 = gmtime((const int *)&ptime);
    v5 = v4;
    if ( _daylight )
    {
      if ( _isindst(v4) )
      {
        ptime = (const int *)((char *)ptime - _dstbias);
        v5 = gmtime((const int *)&ptime);
        v5->tm_isdst = 1;
      }
    }
    return v5;
  }
  v6 = gmtime(v1);
  v5 = v6;
  if ( _daylight && _isindst(v6) )
  {
    ptime = (const int *)(v5->tm_sec - _dstbias - _timezone);
    v5->tm_isdst = 1;
    v7 = (signed int)ptime;
  }
  else
  {
    v7 = v5->tm_sec - _timezone;
    ptime = (const int *)(v5->tm_sec - _timezone);
  }
  v5->tm_sec = v7 % 60;
  if ( v7 % 60 < 0 )
  {
    v5->tm_sec = v7 % 60 + 60;
    ptime -= 15;
  }
  ptime = (const int *)(v5->tm_min + (signed int)ptime / 60);
  v8 = (signed int)ptime % 60;
  v11 = (signed int)ptime % 60 < 0;
  v5->tm_min = (signed int)ptime % 60;
  if ( v11 )
  {
    v5->tm_min = v8 + 60;
    ptime -= 15;
  }
  ptime = (const int *)(v5->tm_hour + (signed int)ptime / 60);
  v9 = (signed int)ptime % 24;
  v11 = (signed int)ptime % 24 < 0;
  v5->tm_hour = (signed int)ptime % 24;
  if ( v11 )
  {
    v5->tm_hour = v9 + 24;
    ptime -= 6;
  }
  v10 = (signed int)ptime / 24;
  v11 = (signed int)ptime / 24 < 0;
  ptime = (const int *)((signed int)ptime / 24);
  if ( (signed int)ptime <= 0 )
  {
    if ( !v11 )
      return v5;
    v5->tm_wday = (v5->tm_wday + v10 + 7) % 7;
    v5->tm_mday += (int)ptime;
    v12 = v5->tm_mday;
    if ( v12 <= 0 )
    {
      --v5->tm_year;
      v5->tm_mday = v12 + 31;
      v5->tm_yday = 364;
      v5->tm_mon = 11;
      return v5;
    }
  }
  else
  {
    v5->tm_wday = (v10 + v5->tm_wday) % 7;
    v5->tm_mday += (int)ptime;
  }
  v5->tm_yday += (int)ptime;
  return v5;
}

//----- (0043F57A) --------------------------------------------------------
char *__cdecl _mbsnbcpy(char *dst, const char *src, unsigned int cnt)
{
  char *v3; // edi@1
  threadmbcinfostruct *v4; // eax@1
  unsigned int v6; // ecx@5
  const char *v7; // esi@6
  const char v8; // dl@7
  bool v9; // zf@7
  int v10; // edi@8
  int v11; // esi@8
  char v12; // dl@9
  char v13; // dl@12
  unsigned int v14; // ecx@12
  int v15; // edi@12
  int i; // ecx@12

  v3 = dst;
  v4 = _getptd()->ptmbcinfo;
  if ( v4 != ___ptmbcinfo )
    v4 = __updatetmbcinfo();
  if ( !v4->ismbcodepage )
    return strncpy(dst, src, cnt);
  v6 = cnt;
  if ( !cnt )
    return dst;
  v7 = src;
  while ( 1 )
  {
    v8 = *v7;
    --v6;
    v9 = (v4->mbctype[(unsigned __int8)*v7 + 1] & 4) == 0;
    *v3 = *v7;
    if ( !v9 )
      break;
    ++v3;
    ++v7;
    if ( !v8 )
      goto LABEL_11;
LABEL_18:
    if ( !v6 )
      return dst;
  }
  v10 = (int)(v3 + 1);
  v11 = (int)(v7 + 1);
  if ( !v6 )
  {
    *(_BYTE *)(v10 - 1) = 0;
    return dst;
  }
  v12 = *(_BYTE *)v11;
  --v6;
  *(_BYTE *)v10 = *(_BYTE *)v11;
  v3 = (char *)(v10 + 1);
  v7 = (const char *)(v11 + 1);
  if ( v12 )
    goto LABEL_18;
  *(v3 - 2) = 0;
LABEL_11:
  if ( v6 )
  {
    v13 = v6;
    v14 = v6 >> 2;
    memset(v3, 0, 4 * v14);
    v15 = (int)&v3[4 * v14];
    for ( i = v13 & 3; i; --i )
      *(_BYTE *)v15++ = 0;
  }
  return dst;
}

//----- (0043F60D) --------------------------------------------------------
char *__cdecl _mbsrchr(const char *str, unsigned int c)
{
  char *v2; // esi@1
  threadmbcinfostruct *v3; // eax@1
  char *result; // eax@4
  const char *v5; // edx@5
  const char v6; // bl@6
  int v7; // ecx@6
  bool v8; // zf@10

  v2 = 0;
  v3 = _getptd()->ptmbcinfo;
  if ( v3 != ___ptmbcinfo )
    v3 = __updatetmbcinfo();
  if ( !v3->ismbcodepage )
  {
    strrchr((char *)str, c);
    return result;
  }
  v5 = str;
  do
  {
    v6 = *v5;
    v7 = (unsigned __int8)*v5;
    if ( v3->mbctype[(unsigned __int8)*v5 + 1] & 4 )
    {
      ++v5;
      v6 = *v5;
      if ( *v5 )
      {
        if ( c == ((unsigned __int8)v6 | (v7 << 8)) )
          v2 = (char *)(v5 - 1);
        goto LABEL_14;
      }
      v8 = v2 == 0;
    }
    else
    {
      v8 = c == v7;
    }
    if ( v8 )
      v2 = (char *)v5;
LABEL_14:
    ++v5;
  }
  while ( v6 );
  return v2;
}

//----- (0043F680) --------------------------------------------------------
void __usercall xtoa(unsigned int val<eax>, char *buf<ecx>, unsigned int radix, int is_neg)
{
  char *v4; // esi@3
  unsigned int v5; // edx@4
  unsigned int v6; // ett@4
  char v7; // dl@5
  char *v8; // ecx@8
  char v9; // al@9

  if ( is_neg )
  {
    *buf++ = 45;
    val = -val;
  }
  v4 = buf;
  do
  {
    v6 = val;
    val /= radix;
    v5 = v6 % radix;
    if ( v6 % radix <= 9 )
      v7 = v5 + 48;
    else
      v7 = v5 + 87;
    *buf++ = v7;
  }
  while ( val );
  *buf = 0;
  v8 = buf - 1;
  do
  {
    v9 = *v8;
    *v8-- = *v4;
    *v4++ = v9;
  }
  while ( v4 < v8 );
}

//----- (0043F6BE) --------------------------------------------------------
char *__cdecl itoa(int val, char *buf, int radix)
{
  int v4; // [sp-8h] [bp-8h]@3
  int v5; // [sp-4h] [bp-4h]@3

  if ( radix != 10 || val >= 0 )
  {
    v5 = 0;
    v4 = radix;
  }
  else
  {
    v5 = 1;
    v4 = 10;
  }
  xtoa(val, buf, v4, v5);
  return buf;
}

//----- (0043F6E8) --------------------------------------------------------
void __userpurge x64toa(char *buf<eax>, unsigned __int64 val, unsigned int radix, int is_neg)
{
  unsigned __int64 v4; // qcx@1
  char *v5; // esi@1
  unsigned __int64 v6; // qax@1
  char *v7; // edi@3
  unsigned __int64 v8; // ST00_8@4
  char v9; // cl@5
  int v10; // esi@9
  char v11; // al@10

  HIDWORD(v4) = val;
  v5 = buf;
  LODWORD(v6) = HIDWORD(val);
  if ( is_neg )
  {
    *v5++ = 45;
    HIDWORD(v4) = -(signed int)val;
    LODWORD(v6) = (unsigned __int64)-(signed __int64)__PAIR__(HIDWORD(val), -(signed int)val) >> 32;
  }
  v7 = v5;
  do
  {
    v8 = __PAIR__(v6, HIDWORD(v4));
    v4 = __PAIR__(v6, HIDWORD(v4)) % radix;
    v6 = v8 / radix;
    HIDWORD(v4) = v8 / radix;
    LODWORD(v6) = v8 / radix >> 32;
    if ( (unsigned int)v4 <= 9 )
      v9 = v4 + 48;
    else
      v9 = v4 + 87;
    *v5++ = v9;
  }
  while ( HIDWORD(v6) || HIDWORD(v4) );
  *v5 = 0;
  v10 = (int)(v5 - 1);
  do
  {
    v11 = *(_BYTE *)v10;
    *(_BYTE *)v10-- = *v7;
    *v7++ = v11;
  }
  while ( (unsigned int)v7 < v10 );
}

//----- (0043F755) --------------------------------------------------------
char *__cdecl _ui64toa(unsigned __int64 val, char *buf, int radix)
{
  x64toa(val, buf, radix, 0);
  return buf;
}

//----- (0043F770) --------------------------------------------------------
void __cdecl _splitpath(const char *path, char *drive, char *dir, char *fname, char *ext)
{
  const char *v5; // ebx@1
  const char *v6; // eax@8
  unsigned int v7; // esi@8
  const char v8; // cl@9
  unsigned int v9; // edi@19
  unsigned int v10; // edi@28
  int v11; // eax@32
  int v12; // eax@36
  const char *p; // [sp+Ch] [bp-8h]@8
  const char *dot; // [sp+10h] [bp-4h]@1
  int last_slash; // [sp+1Ch] [bp+8h]@8

  dot = 0;
  v5 = path;
  if ( strlen(path) < 1 || path[1] != 58 )
  {
    if ( drive )
      *drive = 0;
  }
  else
  {
    if ( drive )
    {
      _mbsnbcpy(drive, path, 2u);
      drive[2] = 0;
    }
    v5 = path + 2;
  }
  last_slash = 0;
  v6 = v5;
  p = v5;
  v7 = 255;
  if ( !*v5 )
    goto LABEL_43;
  do
  {
    v8 = *v6;
    if ( byte_4C9561[(unsigned __int8)*v6] & 4 )
    {
      ++v6;
    }
    else
    {
      if ( v8 == 47 || v8 == 92 )
      {
        last_slash = (int)(v6 + 1);
      }
      else
      {
        if ( v8 == 46 )
          dot = v6;
      }
    }
    ++v6;
  }
  while ( *v6 );
  p = v6;
  if ( last_slash )
  {
    if ( dir )
    {
      v9 = last_slash - (_DWORD)v5;
      if ( (unsigned int)(last_slash - (_DWORD)v5) >= 0xFF )
        v9 = 255;
      _mbsnbcpy(dir, v5, v9);
      dir[v9] = 0;
      v6 = p;
    }
    v5 = (const char *)last_slash;
  }
  else
  {
LABEL_43:
    if ( dir )
      *dir = 0;
  }
  if ( dot && dot >= v5 )
  {
    if ( fname )
    {
      v10 = dot - v5;
      if ( dot - v5 >= 0xFF )
        v10 = 255;
      _mbsnbcpy(fname, v5, v10);
      fname[v10] = 0;
      v6 = p;
    }
    if ( ext )
    {
      v11 = v6 - dot;
      if ( (unsigned int)v11 < 0xFF )
        v7 = v11;
      _mbsnbcpy(ext, dot, v7);
      ext[v7] = 0;
    }
  }
  else
  {
    if ( fname )
    {
      v12 = v6 - v5;
      if ( (unsigned int)v12 < 0xFF )
        v7 = v12;
      _mbsnbcpy(fname, v5, v7);
      fname[v7] = 0;
    }
    if ( ext )
      *ext = 0;
  }
}

//----- (0043F8B8) --------------------------------------------------------
int __cdecl _flush(_iobuf *str)
{
  int v1; // ebx@1
  char *v2; // eax@3
  int v3; // eax@5
  char *v4; // eax@8

  v1 = 0;
  if ( (str->_flag & 3) == 2 )
  {
    if ( str->_flag & 0x108 )
    {
      v2 = str->_base;
      if ( (signed int)(str->_ptr - v2) > 0 )
      {
        if ( (char *)_write(str->_file, v2, str->_ptr - v2) == (char *)(str->_ptr - v2) )
        {
          v3 = str->_flag;
          if ( (char)v3 < 0 )
            str->_flag = v3 & 0xFFFFFFFD;
        }
        else
        {
          str->_flag |= 0x20u;
          v1 = -1;
        }
      }
    }
  }
  v4 = str->_base;
  str->_cnt = 0;
  str->_ptr = v4;
  return v1;
}

//----- (0043F915) --------------------------------------------------------
int __cdecl _fflush_lk(_iobuf *str)
{
  int result; // eax@2

  if ( _flush(str) )
  {
    result = -1;
  }
  else
  {
    if ( BYTE1(str->_flag) & 0x40 )
      result = -(_commit(str->_file) != 0);
    else
      result = 0;
  }
  return result;
}

//----- (0043F943) --------------------------------------------------------
int __cdecl flsall(int flushflag)
{
  int i; // esi@1
  int v2; // eax@3
  int v3; // ecx@5
  int result; // eax@12

  _lock(1);
  for ( i = 0; ; ++i )
  {
    if ( i >= (signed int)_nstream )
    {
      _unlock(1);
      return result;
    }
    v2 = *(_DWORD *)(__piob + 4 * i);
    if ( v2 )
    {
      if ( *(_BYTE *)(v2 + 12) & 0x83 )
        break;
    }
  }
  _lock_file2(i, *(void **)(__piob + 4 * i));
  v3 = *(_DWORD *)(*(_DWORD *)(__piob + 4 * i) + 12);
  if ( v3 & 0x83 )
  {
    if ( flushflag == 1 )
    {
      _fflush_lk(*(_iobuf **)(__piob + 4 * i)) == -1;
    }
    else
    {
      if ( !flushflag )
      {
        if ( v3 & 2 )
          _fflush_lk(*(_iobuf **)(__piob + 4 * i));
      }
    }
  }
  _unlock_file2(i, *(void **)(__piob + 4 * i));
  return result;
}
// 4C98C0: using guessed type int __piob;

//----- (0043FA18) --------------------------------------------------------
int __cdecl fflush(_iobuf *stream)
{
  int result; // eax@2

  if ( stream )
  {
    _lock_file(stream);
    _fflush_lk(stream);
    _unlock_file(stream);
  }
  else
  {
    result = flsall(0);
  }
  return result;
}

//----- (0043FA68) --------------------------------------------------------
int __cdecl _flushall()
{
  return flsall(1);
}

//----- (0043FA71) --------------------------------------------------------
int __cdecl fputs(const char *string, _iobuf *stream)
{
  unsigned int v2; // ST30_4@1
  int v3; // ST2C_4@1
  int result; // eax@1

  v2 = strlen(string);
  _lock_file(stream);
  v3 = _stbuf(stream);
  _fwrite_lk(string, 1u, v2, stream);
  _ftbuf(v3, stream);
  _unlock_file(stream);
  return result;
}

//----- (0043FAF0) --------------------------------------------------------
void *__cdecl memchr(const void *Buf, int Val, size_t MaxCount)
{
  void *result; // eax@1
  const void *v4; // edx@2
  int v5; // ebx@2
  unsigned __int8 v6; // cl@3
  bool v7; // cf@6
  char *v8; // eax@6
  unsigned __int8 v9; // cl@9
  int v10; // ecx@13
  unsigned int v11; // ecx@14
  unsigned int v12; // ecx@16

  result = (void *)MaxCount;
  if ( MaxCount )
  {
    v4 = Buf;
    LOBYTE(v5) = Val;
    while ( (unsigned __int8)v4 & 3 )
    {
      v6 = *(_BYTE *)v4;
      v4 = (char *)v4 + 1;
      if ( !((unsigned __int8)Val ^ v6) )
        return (char *)v4 - 1;
      result = (char *)result - 1;
      if ( !result )
        return result;
    }
    v7 = (unsigned int)result < 4;
    v8 = (char *)result - 4;
    if ( !v7 )
    {
      v5 = 16843009 * (unsigned __int8)Val;
      do
      {
        v10 = v5 ^ *(_DWORD *)v4;
        v4 = (char *)v4 + 4;
        if ( ((v10 + 2130640639) ^ ~v10) & 0x81010100 )
        {
          v11 = *((_DWORD *)v4 - 1);
          LOBYTE(v11) = v5 ^ v11;
          if ( !(_BYTE)v11 )
            return (char *)v4 - 4;
          BYTE1(v11) ^= v5;
          if ( !BYTE1(v11) )
            return (char *)v4 - 3;
          v12 = v11 >> 16;
          if ( !((unsigned __int8)v5 ^ (unsigned __int8)v12) )
            return (char *)v4 - 2;
          if ( !((unsigned __int8)v5 ^ BYTE1(v12)) )
            return (char *)v4 - 1;
        }
        v7 = (unsigned int)v8 < 4;
        v8 -= 4;
      }
      while ( !v7 );
    }
    result = v8 + 4;
    if ( result )
    {
      while ( 1 )
      {
        v9 = *(_BYTE *)v4;
        v4 = (char *)v4 + 1;
        if ( !((unsigned __int8)v5 ^ v9) )
          break;
        result = (char *)result - 1;
        if ( !result )
          return result;
      }
      return (char *)v4 - 1;
    }
  }
  return result;
}

//----- (0043FB9D) --------------------------------------------------------
void __cdecl free(void *pBlock)
{
  tagHeader *v1; // eax@3

  if ( pBlock )
  {
    if ( __active_heap == 3 )
    {
      _lock(4);
      v1 = __sbh_find_block(pBlock);
      if ( v1 )
        __sbh_free_block(v1, pBlock);
      _unlock(4);
    }
    else
    {
      HeapFree(_crtheap, 0, pBlock);
    }
  }
}
// 4C9784: using guessed type int __active_heap;

//----- (0043FC0E) --------------------------------------------------------
int __cdecl setvbuf(_iobuf *str, char *buffer, int type, unsigned int size)
{
  int result; // eax@6
  int v5; // ecx@7
  char *v6; // eax@8
  signed int sizea; // [sp+40h] [bp+14h]@7

  if ( type != 4 && (size < 2 || size > 0x7FFFFFFF || type && type != 64) )
    return -1;
  sizea = size & 0xFFFFFFFE;
  _lock_file(str);
  _flush(str);
  _freebuf(str);
  LOWORD(str->_flag) &= 0xC2F3u;
  v5 = str->_flag;
  if ( type & 4 )
  {
    str->_flag = v5 | 4;
    v6 = (char *)&str->_charbuf;
    sizea = 2;
LABEL_14:
    str->_bufsiz = sizea;
    str->_base = v6;
    str->_ptr = v6;
    str->_cnt = 0;
    goto done_0;
  }
  v6 = buffer;
  if ( buffer )
  {
    str->_flag = v5 | 0x500;
    goto LABEL_14;
  }
  v6 = (char *)malloc(sizea);
  if ( v6 )
  {
    LOWORD(str->_flag) |= 0x408u;
    goto LABEL_14;
  }
  ++_cflush;
done_0:
  _unlock_file(str);
  return result;
}
// 4C8FEC: using guessed type int _cflush;

//----- (0043FCEA) --------------------------------------------------------
int __cdecl _ungetc_lk(int ch, _iobuf *str)
{
  int v2; // eax@2
  char *v3; // eax@10
  int v5; // eax@16

  if ( ch == -1 || (v2 = str->_flag, !(v2 & 1)) && ((char)v2 >= 0 || v2 & 2) )
    return -1;
  if ( !str->_base )
    _getbuf(str);
  if ( str->_ptr == str->_base )
  {
    if ( str->_cnt )
      return -1;
    ++str->_ptr;
  }
  --str->_ptr;
  v3 = str->_ptr;
  if ( str->_flag & 0x40 )
  {
    if ( *v3 != (_BYTE)ch )
    {
      str->_ptr = v3 + 1;
      return -1;
    }
  }
  else
  {
    *v3 = ch;
  }
  v5 = str->_flag;
  ++str->_cnt;
  str->_flag = v5 & 0xFFFFFFEF | 1;
  return (unsigned __int8)ch;
}

//----- (0043FD56) --------------------------------------------------------
int __cdecl ungetc(int ch, _iobuf *stream)
{
  int result; // eax@1

  _lock_file(stream);
  _ungetc_lk(ch, stream);
  _unlock_file(stream);
  return result;
}

//----- (0043FD9B) --------------------------------------------------------
int __cdecl fputc(int ch, _iobuf *str)
{
  bool v2; // sf@1
  int result; // eax@4

  _lock_file(str);
  v2 = str->_cnt-- - 1 < 0;
  if ( v2 )
    _flsbuf(ch, str);
  else
    *str->_ptr++ = ch;
  _unlock_file(str);
  return result;
}

//----- (0043FDF3) --------------------------------------------------------
int __cdecl fgetc(_iobuf *stream)
{
  bool v1; // sf@1
  int result; // eax@4

  _lock_file(stream);
  v1 = stream->_cnt-- - 1 < 0;
  if ( v1 )
    _filbuf(stream);
  else
    ++stream->_ptr;
  _unlock_file(stream);
  return result;
}

//----- (0043FE43) --------------------------------------------------------
int __cdecl fgetpos(_iobuf *stream, __int64 *pos)
{
  __int64 v2; // qax@1
  int result; // eax@1

  v2 = _ftelli64(stream);
  *((_DWORD *)pos + 1) = HIDWORD(v2);
  HIDWORD(v2) = *((_DWORD *)pos + 1) & v2;
  *(_DWORD *)pos = v2;
  result = -1;
  if ( HIDWORD(v2) != -1 )
    result = 0;
  return result;
}

//----- (0043FE65) --------------------------------------------------------
int __cdecl _fseek_lk(_iobuf *str, int offset, int whence)
{
  int v3; // eax@1
  int v4; // edi@2
  int v5; // eax@7
  int result; // eax@13

  v3 = str->_flag;
  if ( !(v3 & 0x83) || (v4 = whence) != 0 && whence != 1 && whence != 2 )
  {
    *_errno() = 22;
    result = -1;
  }
  else
  {
    str->_flag = v3 & 0xFFFFFFEF;
    if ( whence == 1 )
    {
      offset += _ftell_lk(str);
      v4 = 0;
    }
    _flush(str);
    v5 = str->_flag;
    if ( (char)v5 >= 0 )
    {
      if ( v5 & 1 && v5 & 8 )
      {
        if ( !(BYTE1(v5) & 4) )
          str->_bufsiz = 512;
      }
    }
    else
    {
      str->_flag = v5 & 0xFFFFFFFC;
    }
    result = (_lseek(str->_file, offset, v4) != -1) - 1;
  }
  return result;
}

//----- (0043FEF4) --------------------------------------------------------
int __cdecl fseek(_iobuf *stream, int offset, int whence)
{
  int result; // eax@1

  _lock_file(stream);
  _fseek_lk(stream, offset, whence);
  _unlock_file(stream);
  return result;
}

//----- (0043FF3D) --------------------------------------------------------
int __cdecl fsetpos(_iobuf *stream, const __int64 *pos)
{
  return _fseeki64(stream, *pos, 0);
}

//----- (0043FF55) --------------------------------------------------------
unsigned int __cdecl wcslen(const wchar_t *wcs)
{
  const wchar_t *v1; // eax@1
  const wchar_t v2; // cx@2

  v1 = wcs;
  do
  {
    v2 = *v1;
    ++v1;
  }
  while ( v2 );
  return v1 - wcs - 1;
}

//----- (0043FF6B) --------------------------------------------------------
void *__cdecl _heap_alloc(unsigned int size)
{
  SIZE_T v1; // esi@1
  void *result; // eax@3

  v1 = size;
  if ( __active_heap != 3 || size > __sbh_threshold )
  {
    if ( !size )
      v1 = 1;
    if ( __active_heap != 1 )
      v1 = (v1 + 15) & 0xFFFFFFF0;
    result = HeapAlloc(_crtheap, 0, v1);
  }
  else
  {
    _lock(4);
    __sbh_alloc_block(size);
    _unlock(4);
  }
  return result;
}
// 4C9544: using guessed type int __sbh_threshold;
// 4C9784: using guessed type int __active_heap;

//----- (0043FFE6) --------------------------------------------------------
void *__cdecl _nh_malloc(unsigned int size, int nhFlag)
{
  void *result; // eax@2

  if ( size > 0xFFFFFFE0 )
  {
LABEL_5:
    result = 0;
  }
  else
  {
    while ( 1 )
    {
      result = _heap_alloc(size);
      if ( result )
        break;
      if ( !nhFlag )
        break;
      if ( !_callnewh(size) )
        goto LABEL_5;
    }
  }
  return result;
}

//----- (00440012) --------------------------------------------------------
void *__cdecl malloc(unsigned int size)
{
  return _nh_malloc(size, _newmode);
}

//----- (00440024) --------------------------------------------------------
int __cdecl _resetstkoflw()
{
  void *v0; // esp@1
  void *v1; // ebx@2
  int v2; // eax@2
  unsigned int v3; // edi@2
  unsigned int v4; // esi@2
  int v6; // [sp-4h] [bp-5Ch]@1
  _SYSTEM_INFO SystemInfo; // [sp+Ch] [bp-4Ch]@2
  _MEMORY_BASIC_INFORMATION mbi; // [sp+30h] [bp-28h]@1
  int flOldProtect; // [sp+4Ch] [bp-Ch]@15
  unsigned int PageSize; // [sp+50h] [bp-8h]@2
  char *pGuard; // [sp+54h] [bp-4h]@4

  v0 = alloca(4);
  if ( !VirtualQuery(&v6, &mbi, 0x1Cu)
    || (v1 = mbi.AllocationBase,
        GetSystemInfo(&SystemInfo),
        v2 = _osplatform,
        v3 = ((unsigned int)&v6 & ~(SystemInfo.dwPageSize - 1)) - SystemInfo.dwPageSize,
        v4 = (unsigned int)((char *)v1 + SystemInfo.dwPageSize * (_osplatform != 1 ? 2 : 17)),
        PageSize = SystemInfo.dwPageSize,
        v3 < v4) )
    return 0;
  if ( _osplatform != 1 )
  {
    pGuard = (char *)v1;
    while ( VirtualQuery(pGuard, &mbi, 0x1Cu) )
    {
      pGuard += mbi.RegionSize;
      if ( mbi.State & 0x1000 )
      {
        pGuard = (char *)mbi.BaseAddress;
        if ( BYTE1(mbi.Protect) & 1 )
          return 1;
        if ( v3 >= (unsigned int)mbi.BaseAddress )
        {
          if ( (unsigned int)mbi.BaseAddress < v4 )
            pGuard = (char *)v4;
          VirtualAlloc(pGuard, PageSize, 0x1000u, 4u);
          v2 = _osplatform;
          return VirtualProtect(pGuard, PageSize, v2 != 1 ? 260 : 1, (PDWORD)&flOldProtect);
        }
        return 0;
      }
    }
    return 0;
  }
  pGuard = (char *)(((unsigned int)&v6 & ~(SystemInfo.dwPageSize - 1)) - SystemInfo.dwPageSize);
  return VirtualProtect(pGuard, PageSize, v2 != 1 ? 260 : 1, (PDWORD)&flOldProtect);
}
// 4C8FFC: using guessed type int _osplatform;

//----- (0044017D) --------------------------------------------------------
char *__cdecl _mbschr(const char *string, unsigned int c)
{
  threadmbcinfostruct *v2; // eax@1
  const char *i; // ecx@5
  unsigned __int16 v5; // dx@12

  v2 = _getptd()->ptmbcinfo;
  if ( v2 != ___ptmbcinfo )
    v2 = __updatetmbcinfo();
  if ( !v2->ismbcodepage )
    return strchr(string, c);
  for ( i = string; ; ++i )
  {
    v5 = (unsigned __int8)*i;
    if ( !*i )
      return (char *)(c == *i ? (int)i : 0);
    if ( v2->mbctype[(unsigned __int8)v5 + 1] & 4 )
      break;
    if ( c == *i )
      return (char *)(c == *i ? (int)i : 0);
LABEL_11:
    ;
  }
  ++i;
  if ( *i )
  {
    if ( c == ((unsigned __int8)*i | (v5 << 8)) )
      return (char *)(i - 1);
    goto LABEL_11;
  }
  return 0;
}

//----- (00440200) --------------------------------------------------------
double __cdecl ceil(double a1)
{
  int v1; // eax@1
  bool v2; // zf@1
  char v4; // [sp+0h] [bp-8h]@0

  JUMPOUT(__use_sse2_mathfcns, 0, _ceil_default);
  v1 = _mm_getcsr() & 0x1F80;
  v2 = v1 == 8064;
  if ( v1 == 8064 )
    v2 = (v4 & 0x7F) == 127;
  JUMPOUT(!v2, _ceil_default);
  return _ceil_pentium4(a1);
}
// 4C9530: using guessed type int __use_sse2_mathfcns;

//----- (00440240) --------------------------------------------------------
double __cdecl _ceil_pentium4(double _C)
{
  __m128i v1; // xmm1@1
  __m128d v2; // xmm0@1
  int v3; // eax@1
  __m128i v4; // xmm2@1
  __m128i v5; // xmm1@1
  __m128i v6; // xmm1@3
  double result; // st7@4
  __m128d v8; // xmm1@6
  __m128d v9; // xmm3@6
  __m128d v10; // xmm0@6

  v1 = _mm_loadl_epi64((const __m128i *)&_C);
  v2 = (__m128d)_mm_srl_epi64(v1, 0x34u);
  v3 = _mm_cvtsi128_si32((__m128i)v2);
  v4 = _mm_sub_epi32(*(__m128i *)&Bns, (__m128i)_mm_and_pd(v2, *(__m128d *)&S));
  v5 = _mm_srl_epi64(v1, v4);
  if ( v3 & 0x800 )
  {
    if ( v3 >= 3071 )
    {
      v6 = _mm_sll_epi64(v5, v4);
      if ( v3 <= 3122 )
      {
        _mm_storel_epi64((__m128i *)&_C, v6);
        return _C;
      }
      return _C;
    }
    result = *(double *)&NegZero;
  }
  else
  {
    v8 = (__m128d)_mm_sll_epi64(v5, v4);
    v9 = (__m128d)_mm_loadl_epi64((const __m128i *)&_C);
    v10 = _mm_cmpnle_pd(v9, v8);
    if ( v3 < 1023 )
    {
      _mm_storel_epi64((__m128i *)&_C, (__m128i)_mm_and_pd(_mm_cmpnle_pd(v9, *(__m128d *)&Zero), *(__m128d *)&One));
      result = _C;
    }
    else
    {
      if ( v3 > 1074 )
        return _C;
      v8.m128d_f64[0] = v8.m128d_f64[0] + COERCE_DOUBLE(*(_OWORD *)&_mm_and_pd(v10, *(__m128d *)&One));
      _mm_storel_epi64((__m128i *)&_C, (__m128i)v8);
      result = _C;
    }
  }
  return result;
}

//----- (0044031D) --------------------------------------------------------
long double __cdecl atof(const char *nptr)
{
  int *i; // esi@1
  int v2; // eax@4
  _flt fltstruct; // [sp+4h] [bp-18h]@4

  for ( i = (int *)nptr; isspace(*(_BYTE *)i); i = (int *)((char *)i + 1) )
    ;
  v2 = strlen((const char *)i);
  return _fltin2(&fltstruct, (const char *)i, v2, 0, 0)->dval;
}

//----- (00440355) --------------------------------------------------------
unsigned int __cdecl _fread_lk(void *buffer, unsigned int size, unsigned int num, _iobuf *stream)
{
  void *v4; // ebx@1
  unsigned int v5; // edi@1
  unsigned int v6; // ecx@1
  int v8; // eax@8
  int v9; // edi@9
  unsigned int v10; // eax@13
  int v11; // eax@15
  int v12; // eax@18
  int bufsize; // [sp+Ch] [bp-4h]@4
  unsigned int count; // [sp+18h] [bp+8h]@1

  v4 = buffer;
  v5 = num * size;
  v6 = num * size;
  count = num * size;
  if ( !(num * size) )
    return 0;
  if ( stream->_flag & 0x10C )
    bufsize = stream->_bufsiz;
  else
    bufsize = 4096;
  while ( 1 )
  {
    if ( stream->_flag & 0x10C )
    {
      v8 = stream->_cnt;
      if ( v8 )
      {
        v9 = v6;
        if ( v6 >= v8 )
          v9 = stream->_cnt;
        memcpy((char *)v4, stream->_ptr, v9);
        count -= v9;
        stream->_cnt -= v9;
        stream->_ptr += v9;
        v4 = (char *)v4 + v9;
        v5 = num * size;
        goto LABEL_20;
      }
    }
    if ( v6 >= bufsize )
      break;
    v12 = _filbuf(stream);
    if ( v12 == -1 )
      return (v5 - count) / size;
    *(_BYTE *)v4 = v12;
    v4 = (char *)v4 + 1;
    --count;
    bufsize = stream->_bufsiz;
LABEL_20:
    if ( !count )
      return num;
    v6 = count;
  }
  v10 = v6;
  if ( bufsize )
    v10 = v6 - v6 % bufsize;
  v11 = _read(stream->_file, v4, v10);
  if ( !v11 )
  {
    stream->_flag |= 0x10u;
    return (v5 - count) / size;
  }
  if ( v11 != -1 )
  {
    count -= v11;
    v4 = (char *)v4 + v11;
    goto LABEL_20;
  }
  stream->_flag |= 0x20u;
  return (v5 - count) / size;
}

//----- (0044043E) --------------------------------------------------------
unsigned int __cdecl fread(void *buffer, unsigned int size, unsigned int count, _iobuf *stream)
{
  unsigned int result; // eax@1

  _lock_file(stream);
  _fread_lk(buffer, size, count, stream);
  _unlock_file(stream);
  return result;
}

//----- (0044048A) --------------------------------------------------------
int *__cdecl _errno()
{
  return &_getptd()->_terrno;
}

//----- (00440493) --------------------------------------------------------
unsigned int *__cdecl __doserrno()
{
  return &_getptd()->_tdoserrno;
}

//----- (0044049C) --------------------------------------------------------
void __cdecl _dosmaperr(unsigned int oserrno)
{
  unsigned int v1; // esi@1

  _getptd()->_tdoserrno = oserrno;
  v1 = 0;
  do
  {
    if ( oserrno == errtable[v1].oscode )
    {
      _getptd()->_terrno = errtable[v1].errnocode;
      return;
    }
    ++v1;
  }
  while ( v1 < 0x2D );
  if ( oserrno < 0x13 || oserrno > 0x24 )
  {
    if ( oserrno < 0xBC || oserrno > 0xCA )
      _getptd()->_terrno = 22;
    else
      _getptd()->_terrno = 8;
  }
  else
  {
    _getptd()->_terrno = 13;
  }
}

//----- (0044050F) --------------------------------------------------------
int __cdecl vsprintf(char *string, const char *format, char *ap)
{
  int v3; // edi@1
  _iobuf str; // [sp+8h] [bp-20h]@1

  str._cnt = 2147483647;
  str._flag = 66;
  str._base = string;
  str._ptr = string;
  v3 = _output(&str, format, ap);
  if ( string )
  {
    --str._cnt;
    if ( str._cnt < 0 )
      _flsbuf(0, &str);
    else
      *str._ptr = 0;
  }
  return v3;
}

//----- (00440566) --------------------------------------------------------
int __cdecl _ftell_lk(_iobuf *str)
{
  _iobuf *v1; // edi@1
  signed int v2; // esi@1
  int v3; // eax@3
  int v4; // ecx@4
  int result; // eax@5
  char *v6; // eax@6
  char *v7; // edx@6
  char *v8; // ecx@8
  int v9; // ecx@18
  int v10; // ebx@20
  int v11; // esi@20
  char *v12; // eax@22
  int v13; // ecx@22
  bool v14; // zf@27
  signed int v15; // eax@28
  int v16; // ecx@29
  int fd; // [sp+Ch] [bp-Ch]@1
  int offset; // [sp+10h] [bp-8h]@6
  int filepos; // [sp+14h] [bp-4h]@3
  int rdcnt; // [sp+20h] [bp+8h]@20

  v1 = str;
  v2 = str->_file;
  fd = str->_file;
  if ( str->_cnt < 0 )
    str->_cnt = 0;
  v3 = _lseek(v2, 0, 1);
  filepos = v3;
  if ( v3 < 0 )
    return -1;
  v4 = str->_flag;
  if ( !(v4 & 0x108) )
    return v3 - str->_cnt;
  v6 = str->_ptr;
  v7 = str->_base;
  offset = str->_ptr - v7;
  if ( v4 & 3 )
  {
    if ( *(_BYTE *)(__pioinfo[v2 >> 5] + 36 * (v2 & 0x1F) + 4) & 0x80 )
    {
      v8 = str->_base;
      if ( v7 < v6 )
      {
        do
        {
          if ( *v8 == 10 )
            ++offset;
          ++v8;
        }
        while ( v8 < str->_ptr );
      }
    }
    goto LABEL_12;
  }
  if ( (char)v4 >= 0 )
  {
    *_errno() = 22;
    return -1;
  }
LABEL_12:
  if ( filepos )
  {
    if ( str->_flag & 1 )
    {
      v9 = str->_cnt;
      if ( v9 )
      {
        rdcnt = v9 + v6 - v7;
        v10 = 4 * (v2 >> 5) + 5019552;
        v11 = 36 * (v2 & 0x1F);
        if ( *(_BYTE *)(v11 + *(_DWORD *)v10 + 4) & 0x80 )
        {
          if ( _lseek(fd, 0, 2) == filepos )
          {
            v12 = v1->_base;
            v13 = (int)&v12[rdcnt];
            while ( (unsigned int)v12 < v13 )
            {
              if ( *v12 == 10 )
                ++rdcnt;
              ++v12;
            }
            v14 = (BYTE1(v1->_flag) & 0x20) == 0;
          }
          else
          {
            _lseek(fd, filepos, 0);
            v15 = 512;
            if ( (unsigned int)rdcnt > 0x200 || (v16 = v1->_flag, !(v16 & 8)) || BYTE1(v16) & 4 )
              v15 = v1->_bufsiz;
            rdcnt = v15;
            v14 = (*(_BYTE *)(v11 + *(_DWORD *)v10 + 4) & 4) == 0;
          }
          if ( !v14 )
            ++rdcnt;
        }
        filepos -= rdcnt;
      }
      else
      {
        offset = 0;
      }
    }
    result = filepos + offset;
  }
  else
  {
    result = offset;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (004406C8) --------------------------------------------------------
int __cdecl ftell(_iobuf *stream)
{
  int result; // eax@1

  _lock_file(stream);
  _ftell_lk(stream);
  _unlock_file(stream);
  return result;
}

//----- (00440709) --------------------------------------------------------
_iobuf *__cdecl _fdopen(int filedes, const char *mode)
{
  const char *v2; // ecx@3
  const char v3; // al@3
  _iobuf *result; // eax@6
  signed int v5; // ebx@7
  signed int v6; // esi@9
  signed int v7; // edx@9
  signed int v8; // edi@9
  int v9; // ebx@9
  _iobuf *v10; // eax@26

  if ( filedes >= _nhandle || !(*(_BYTE *)(__pioinfo[filedes >> 5] + 36 * (filedes & 0x1F) + 4) & 1) )
    return 0;
  v2 = mode;
  v3 = *mode;
  if ( *mode == 97 )
    goto LABEL_8;
  if ( v3 != 114 )
  {
    if ( v3 != 119 )
      return 0;
LABEL_8:
    v5 = 2;
    goto LABEL_9;
  }
  v5 = 1;
LABEL_9:
  v6 = 1;
  v7 = 0;
  v8 = 0;
  v9 = _commode | v5;
  while ( 1 )
  {
    ++v2;
    if ( !*v2 )
      break;
    if ( !v6 )
      break;
    if ( *v2 == 43 )
    {
      if ( (char)v9 < 0 )
LABEL_17:
        v6 = 0;
      else
        v9 = v9 & 0xFFFFFFFC | 0x80;
    }
    else
    {
      if ( *v2 == 98 )
        goto LABEL_16;
      if ( *v2 == 99 )
      {
        if ( v7 )
          goto LABEL_17;
        v7 = 1;
        v9 |= 0x4000u;
      }
      else
      {
        if ( *v2 == 110 )
        {
          if ( v7 )
            goto LABEL_17;
          v7 = 1;
          v9 &= 0xFFFFBFFFu;
        }
        else
        {
          if ( *v2 != 116 )
            goto LABEL_17;
LABEL_16:
          if ( v8 )
            goto LABEL_17;
          v8 = 1;
        }
      }
    }
  }
  v10 = _getstream();
  if ( !v10 )
  {
    *_errno() = 24;
    return 0;
  }
  ++_cflush;
  result->_flag = v9;
  result->_file = filedes;
  _unlock_file(result);
  return result;
}
// 4C8FEC: using guessed type int _cflush;
// 4C9408: using guessed type int _commode;
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044080E) --------------------------------------------------------
void *__cdecl calloc(unsigned int num, unsigned int size)
{
  int v2; // esi@1
  void *v3; // edi@3
  void *result; // eax@6
  int size_orig; // [sp+Ch] [bp-20h]@1

  v2 = size * num;
  size_orig = size * num;
  if ( !(size * num) )
    ++v2;
  while ( 1 )
  {
    v3 = 0;
    if ( (unsigned int)v2 <= 0xFFFFFFE0 )
    {
      if ( __active_heap == 3 )
      {
        v2 = (v2 + 15) & 0xFFFFFFF0;
        if ( size_orig <= (unsigned int)__sbh_threshold )
        {
          _lock(4);
          __sbh_alloc_block(size_orig);
          _unlock(4);
          return result;
        }
      }
      v3 = HeapAlloc(_crtheap, 8u, v2);
    }
    if ( v3 || !_newmode )
      break;
    result = (void *)_callnewh(v2);
    if ( !result )
      return result;
  }
  return v3;
}
// 4C9544: using guessed type int __sbh_threshold;
// 4C9784: using guessed type int __active_heap;

//----- (004408D0) --------------------------------------------------------
void __usercall _CIsqrt(unsigned __int64 a1<st0>)
{
  _checkTOS_withFB(a1, a1 >> 32);
  JUMPOUT(start);
}
// 4408ED: using guessed type double start();

//----- (00440A40) --------------------------------------------------------
void __usercall _CIcos(unsigned __int64 a1<st0>)
{
  _checkTOS_withFB(a1, a1 >> 32);
  JUMPOUT(start_0);
}
// 440A5D: using guessed type double start_0();

//----- (00440AF0) --------------------------------------------------------
double __cdecl floor(double a1)
{
  int v1; // eax@1
  bool v2; // zf@1
  char v4; // [sp+0h] [bp-8h]@0

  JUMPOUT(__use_sse2_mathfcns, 0, _floor_default);
  v1 = _mm_getcsr() & 0x1F80;
  v2 = v1 == 8064;
  if ( v1 == 8064 )
    v2 = (v4 & 0x7F) == 127;
  JUMPOUT(!v2, _floor_default);
  return _floor_pentium4(a1);
}
// 4C9530: using guessed type int __use_sse2_mathfcns;

//----- (00440B30) --------------------------------------------------------
double __cdecl _floor_pentium4(double _C)
{
  __m128i v1; // xmm1@1
  __m128d v2; // xmm0@1
  int v3; // eax@1
  __m128i v4; // xmm2@1
  __m128i v5; // xmm1@1
  __m128i v6; // xmm1@3
  double result; // st7@4
  __m128d v8; // xmm1@6
  __m128d v9; // xmm3@6
  __m128d v10; // xmm0@6

  v1 = _mm_loadl_epi64((const __m128i *)&_C);
  v2 = (__m128d)_mm_srl_epi64(v1, 0x34u);
  v3 = _mm_cvtsi128_si32((__m128i)v2);
  v4 = _mm_sub_epi32(*(__m128i *)&Bns_0, (__m128i)_mm_and_pd(v2, *(__m128d *)&S_0));
  v5 = _mm_srl_epi64(v1, v4);
  if ( v3 & 0x800 )
  {
    v8 = (__m128d)_mm_sll_epi64(v5, v4);
    v9 = (__m128d)_mm_loadl_epi64((const __m128i *)&_C);
    v10 = _mm_cmplt_pd(v9, v8);
    if ( v3 < 3071 )
    {
      _mm_storel_epi64(
        (__m128i *)&_C,
        (__m128i)_mm_and_pd(
                   _mm_or_pd(_mm_cmplt_pd(v9, *(__m128d *)&NegZero_0), *(__m128d *)&NegZero_0),
                   *(__m128d *)&NegOne));
      result = _C;
    }
    else
    {
      if ( v3 > 3122 )
        return _C;
      v8.m128d_f64[0] = v8.m128d_f64[0] - COERCE_DOUBLE(*(_OWORD *)&_mm_and_pd(v10, *(__m128d *)&One_0));
      _mm_storel_epi64((__m128i *)&_C, (__m128i)v8);
      result = _C;
    }
  }
  else
  {
    if ( v3 >= 1023 )
    {
      v6 = _mm_sll_epi64(v5, v4);
      if ( v3 <= 1074 )
      {
        _mm_storel_epi64((__m128i *)&_C, v6);
        return _C;
      }
      return _C;
    }
    result = 0.0;
  }
  return result;
}

//----- (00440C20) --------------------------------------------------------
void __usercall _CIsin(unsigned __int64 a1<st0>)
{
  _checkTOS_withFB(a1, a1 >> 32);
  JUMPOUT(start_1);
}
// 440C3D: using guessed type double start_1();

//----- (00440D10) --------------------------------------------------------
void __cdecl strcspn(char *string, char *control)
{
  unsigned int v2; // eax@1
  char *v3; // edx@1
  char *v4; // esi@4
  signed int v5; // ecx@4
  int v6; // [sp+0h] [bp-24h]@1
  int v7; // [sp+4h] [bp-20h]@1
  int v8; // [sp+8h] [bp-1Ch]@1
  int v9; // [sp+Ch] [bp-18h]@1
  int v10; // [sp+10h] [bp-14h]@1
  int v11; // [sp+14h] [bp-10h]@1
  int v12; // [sp+18h] [bp-Ch]@1
  int v13; // [sp+1Ch] [bp-8h]@1

  v2 = 0;
  v13 = 0;
  v12 = 0;
  v11 = 0;
  v10 = 0;
  v9 = 0;
  v8 = 0;
  v7 = 0;
  v6 = 0;
  v3 = control;
  while ( 1 )
  {
    LOBYTE(v2) = *v3;
    if ( !*v3 )
      break;
    ++v3;
    _bittestandset((signed __int32 *)&v6, v2);
  }
  v4 = string;
  v5 = -1;
  do
  {
    ++v5;
    LOBYTE(v2) = *v4;
    if ( !*v4 )
      break;
    ++v4;
  }
  while ( !_bittest((signed __int32 *)&v6, v2) );
}

//----- (00440D60) --------------------------------------------------------
double __cdecl atan(double a1)
{
  int v1; // eax@1
  bool v2; // zf@1
  char v3; // [sp+0h] [bp-8h]@0

  JUMPOUT(__use_sse2_mathfcns, 0, _atan_default);
  v1 = _mm_getcsr() & 0x1F80;
  v2 = v1 == 8064;
  if ( v1 == 8064 )
    v2 = (v3 & 0x7F) == 127;
  JUMPOUT(!v2, _atan_default);
  JUMPOUT(_atan_pentium4);
}
// 440DEF: using guessed type int _atan_default();
// 449388: using guessed type int _atan_pentium4();
// 4C9530: using guessed type int __use_sse2_mathfcns;

//----- (00440DA0) --------------------------------------------------------
void __cdecl _CIatan()
{
  int v0; // eax@1
  bool v1; // zf@1
  char v2; // [sp+0h] [bp-8h]@0

  JUMPOUT(__use_sse2_mathfcns, 0, _CIatan_default);
  v0 = _mm_getcsr() & 0x1F80;
  v1 = v0 == 8064;
  if ( v0 == 8064 )
    v1 = (v2 & 0x7F) == 127;
  JUMPOUT(!v1, _CIatan_default);
  _CIatan_pentium4();
}
// 4C9530: using guessed type int __use_sse2_mathfcns;

//----- (00440DDB) --------------------------------------------------------
void __usercall _CIatan_default(unsigned __int64 a1<st0>)
{
  _checkTOS_withFB(a1, a1 >> 32);
  JUMPOUT(start_2);
}
// 440DF8: using guessed type int start_2();

//----- (00440E7A) --------------------------------------------------------
void __cdecl __crtExitProcess(int status)
{
  HINSTANCE__ *v1; // eax@1
  FARPROC v2; // eax@2

  v1 = GetModuleHandleA("mscoree.dll");
  if ( v1 )
  {
    v2 = GetProcAddress(v1, "CorExitProcess");
    if ( v2 )
      ((void (__stdcall *)(_DWORD))v2)(status);
  }
  ExitProcess(status);
}

//----- (00440EAA) --------------------------------------------------------
void __cdecl _lockexit()
{
  _lock(8);
}

//----- (00440EB3) --------------------------------------------------------
void __cdecl _unlockexit()
{
  _unlock(8);
}

//----- (00440EBC) --------------------------------------------------------
void __usercall initterm(void (__cdecl **pfbegin)()<eax>, void (__cdecl **pfend)())
{
  void (__cdecl **i)(); // esi@1

  for ( i = pfbegin; i < pfend; ++i )
  {
    if ( *i )
      (*i)();
  }
}

//----- (00440ED4) --------------------------------------------------------
int __cdecl _cinit(int initFloatingPrecision)
{
  int result; // eax@3
  unsigned int v2; // esi@3

  if ( _FPinit )
    _FPinit(initFloatingPrecision);
  result = 0;
  v2 = (unsigned int)&__xi_a;
  if ( &__xi_a >= &__xi_z )
    goto LABEL_12;
  do
  {
    if ( result )
      return result;
    if ( *(_DWORD *)v2 )
      result = (*(int (**)(void))v2)();
    v2 += 4;
  }
  while ( v2 < (unsigned int)&__xi_z );
  if ( !result )
LABEL_12:
    atexit(_RTC_Terminate);
  return result;
}
// 470F80: using guessed type int (__cdecl *_FPinit)(_DWORD);

//----- (00440F3E) --------------------------------------------------------
void __cdecl doexit(int code, int quick, int retcaller)
{
  HANDLE v3; // eax@2
  int v4; // eax@5
  void (*v5)(void); // eax@6

  _lock(8);
  if ( _C_Exit_Done == 1 )
  {
    v3 = GetCurrentProcess();
    TerminateProcess(v3, code);
  }
  _C_Termination_Done = 1;
  _exitflag = retcaller;
  if ( !quick )
  {
    if ( __onexitbegin )
    {
      while ( 1 )
      {
        v4 = __onexitend - 4;
        __onexitend = v4;
        if ( v4 < (unsigned int)__onexitbegin )
          break;
        v5 = *(void (**)(void))v4;
        if ( v5 )
          v5();
      }
    }
    initterm(&__xp_a, &__xp_z);
  }
  initterm(&__xt_a, &__xt_z);
  if ( retcaller )
    _unlock(8);
}
// 4C9034: using guessed type char _exitflag;
// 4C9038: using guessed type int _C_Termination_Done;
// 4C903C: using guessed type int _C_Exit_Done;
// 4C98B4: using guessed type int __onexitend;

//----- (00441001) --------------------------------------------------------
void __cdecl exit(int code)
{
  doexit(code, 0, 0);
}

//----- (00441012) --------------------------------------------------------
void __cdecl _exit(int code)
{
  doexit(code, 1, 0);
}

//----- (00441023) --------------------------------------------------------
void __cdecl _cexit()
{
  doexit(0, 0, 1);
}

//----- (00441032) --------------------------------------------------------
void __cdecl _c_exit()
{
  doexit(0, 1, 1);
}

//----- (00441050) --------------------------------------------------------
size_t __cdecl strlen(const char *Str)
{
  const char *v1; // ecx@1
  char v2; // al@2
  int v3; // eax@4
  int v4; // eax@5

  v1 = Str;
  if ( !((unsigned __int8)Str & 3) )
    goto main_loop_2;
  do
  {
    v2 = *v1++;
    if ( !v2 )
      return v1 - 1 - Str;
  }
  while ( (unsigned __int8)v1 & 3 );
  while ( 1 )
  {
    do
    {
main_loop_2:
      v3 = (*(_DWORD *)v1 + 2130640639) ^ ~*(_DWORD *)v1;
      v1 += 4;
    }
    while ( !(v3 & 0x81010100) );
    v4 = *((_DWORD *)v1 - 1);
    if ( !(_BYTE)v4 )
      break;
    if ( !BYTE1(v4) )
      return v1 - 3 - Str;
    if ( !(v4 & 0xFF0000) )
      return v1 - 2 - Str;
    if ( !(v4 & 0xFF000000) )
      return v1 - 1 - Str;
  }
  return v1 - 4 - Str;
}

//----- (004410E0) --------------------------------------------------------
int __cdecl strcmp(const char *Str1, const char *Str2)
{
  const char *v2; // edx@1
  const char *v3; // ecx@1
  unsigned int v4; // eax@2
  bool v5; // cf@2
  unsigned int v6; // eax@6
  __int16 v8; // ax@16

  v2 = Str1;
  v3 = Str2;
  if ( !((unsigned __int8)Str1 & 3) )
  {
dodwords:
    while ( 1 )
    {
      v4 = *(_DWORD *)v2;
      v5 = (unsigned __int8)*(_DWORD *)v2 < *v3;
      if ( (unsigned __int8)*(_DWORD *)v2 != *v3 )
        break;
      if ( !(_BYTE)v4 )
        return 0;
      v5 = BYTE1(v4) < v3[1];
      if ( BYTE1(v4) != v3[1] )
        break;
      if ( !BYTE1(v4) )
        return 0;
      v6 = v4 >> 16;
      v5 = (unsigned __int8)v6 < v3[2];
      if ( (_BYTE)v6 != v3[2] )
        break;
      if ( !(_BYTE)v6 )
        return 0;
      v5 = BYTE1(v6) < v3[3];
      if ( BYTE1(v6) != v3[3] )
        break;
      v3 += 4;
      v2 += 4;
      if ( !BYTE1(v6) )
        return 0;
    }
    return -2 * v5 + 1;
  }
  if ( (unsigned __int8)Str1 & 1 )
  {
    v2 = Str1 + 1;
    v5 = *Str1 < (unsigned __int8)*Str2;
    if ( *Str1 != *Str2 )
      return -2 * v5 + 1;
    v3 = Str2 + 1;
    if ( !*Str1 )
      return 0;
    if ( !((unsigned __int8)v2 & 2) )
      goto dodwords;
  }
  v8 = *(_WORD *)v2;
  v2 += 2;
  v5 = (unsigned __int8)v8 < *v3;
  if ( (_BYTE)v8 != *v3 )
    return -2 * v5 + 1;
  if ( !(_BYTE)v8 )
    return 0;
  v5 = HIBYTE(v8) < v3[1];
  if ( HIBYTE(v8) == v3[1] )
  {
    if ( HIBYTE(v8) )
    {
      v3 += 2;
      goto dodwords;
    }
    return 0;
  }
  return -2 * v5 + 1;
}

//----- (00441170) --------------------------------------------------------
char *__cdecl strcpy(char *Dest, const char *Source)
{
  JUMPOUT(copy_start);
}
// 4411E5: using guessed type int __cdecl copy_start(int Dest, int Source);

//----- (00441180) --------------------------------------------------------
char *__cdecl strcat(char *Dest, const char *Source)
{
  char *v2; // ecx@1
  char v3; // al@2
  int v4; // eax@4
  int v5; // eax@5
  int v6; // edi@9
  const char *v7; // ecx@13
  int v8; // edx@14
  int v9; // eax@18
  char *result; // eax@23

  v2 = Dest;
  if ( !((unsigned __int8)Dest & 3) )
    goto find_end_of_dest_string_loop;
  do
  {
    v3 = *v2++;
    if ( !v3 )
    {
start_byte_3:
      v6 = (int)(v2 - 1);
      goto copy_start;
    }
  }
  while ( (unsigned __int8)v2 & 3 );
  while ( 1 )
  {
    do
    {
find_end_of_dest_string_loop:
      v4 = (*(_DWORD *)v2 + 2130640639) ^ ~*(_DWORD *)v2;
      v2 += 4;
    }
    while ( !(v4 & 0x81010100) );
    v5 = *((_DWORD *)v2 - 1);
    if ( !(_BYTE)v5 )
      break;
    if ( !BYTE1(v5) )
    {
      v6 = (int)(v2 - 3);
      goto copy_start;
    }
    if ( !(v5 & 0xFF0000) )
    {
      v6 = (int)(v2 - 2);
      goto copy_start;
    }
    if ( !(v5 & 0xFF000000) )
      goto start_byte_3;
  }
  v6 = (int)(v2 - 4);
copy_start:
  v7 = Source;
  if ( !((unsigned __int8)Source & 3) )
    goto main_loop_entrance_0;
  while ( 1 )
  {
    LOBYTE(v8) = *v7++;
    if ( !(_BYTE)v8 )
      break;
    *(_BYTE *)v6++ = v8;
    if ( !((unsigned __int8)v7 & 3) )
    {
      while ( 1 )
      {
main_loop_entrance_0:
        v9 = (*(_DWORD *)v7 + 2130640639) ^ ~*(_DWORD *)v7;
        v8 = *(_DWORD *)v7;
        v7 += 4;
        if ( v9 & 0x81010100 )
        {
          if ( !(_BYTE)v8 )
            goto LABEL_26;
          if ( !BYTE1(v8) )
          {
            *(_WORD *)v6 = v8;
            return Dest;
          }
          if ( !(v8 & 0xFF0000) )
          {
            *(_WORD *)v6 = v8;
            result = Dest;
            *(_BYTE *)(v6 + 2) = 0;
            return result;
          }
          if ( !(v8 & 0xFF000000) )
          {
            *(_DWORD *)v6 = v8;
            return Dest;
          }
        }
        *(_DWORD *)v6 = v8;
        v6 += 4;
      }
    }
  }
LABEL_26:
  *(_BYTE *)v6 = v8;
  return Dest;
}

//----- (00441268) --------------------------------------------------------
unsigned int __cdecl strtoxl(const char *nptr, const char **endptr, int ibase, int flags)
{
  threadlocaleinfostruct *v4; // esi@1
  const char *v5; // ecx@3
  const char v6; // bl@3
  int i; // edi@3
  int v8; // eax@5
  int v9; // edi@27
  unsigned int v10; // eax@28
  const unsigned __int16 v11; // cx@29
  unsigned int v12; // ecx@30
  int v13; // ecx@34
  const char *v14; // edi@44
  unsigned int number; // [sp+Ch] [bp-4h]@3

  v4 = _getptd()->ptlocinfo;
  if ( v4 != ___ptlocinfo )
    v4 = __updatetlocinfo();
  v5 = nptr;
  number = 0;
  v6 = *nptr;
  for ( i = (int)(nptr + 1); ; ++i )
  {
    if ( v4->mb_cur_max <= 1 )
    {
      v8 = v4->pctype[(unsigned __int8)v6] & 8;
    }
    else
    {
      v8 = __isctype_mt(v4, (unsigned __int8)v6, 8);
      v5 = nptr;
    }
    if ( !v8 )
      break;
    v6 = *(_BYTE *)i;
  }
  if ( v6 == 45 )
  {
    flags |= 2u;
LABEL_12:
    v6 = *(_BYTE *)i++;
    goto LABEL_13;
  }
  if ( v6 == 43 )
    goto LABEL_12;
LABEL_13:
  if ( ibase < 0 || ibase == 1 || ibase > 36 )
  {
    if ( endptr )
      *endptr = v5;
    return 0;
  }
  if ( !ibase )
  {
    if ( v6 != 48 )
    {
      ibase = 10;
      goto LABEL_28;
    }
    if ( *(_BYTE *)i != 120 && *(_BYTE *)i != 88 )
    {
      ibase = 8;
      goto LABEL_28;
    }
    ibase = 16;
  }
  if ( ibase == 16 && v6 == 48 && (*(_BYTE *)i == 120 || *(_BYTE *)i == 88) )
  {
    v9 = i + 1;
    v6 = *(_BYTE *)v9;
    i = v9 + 1;
  }
LABEL_28:
  v10 = 0xFFFFFFFFu / ibase;
  while ( 1 )
  {
    v11 = _pctype[(unsigned __int8)v6];
    if ( v11 & 4 )
    {
      v12 = v6 - 48;
    }
    else
    {
      if ( !(v11 & 0x103) )
        break;
      v13 = v6 < 97 || v6 > 122 ? v6 : (signed int)v6 - 32;
      v12 = v13 - 55;
    }
    if ( v12 >= ibase )
      break;
    flags |= 8u;
    if ( number < v10 || number == v10 && v12 <= 0xFFFFFFFFu % ibase )
      number = v12 + ibase * number;
    else
      flags |= 4u;
    v6 = *(_BYTE *)i++;
  }
  v14 = (const char *)(i - 1);
  if ( flags & 8 )
  {
    if ( flags & 4 || !(flags & 1) && (flags & 2 && number > 0x80000000 || !(flags & 2) && number > 0x7FFFFFFF) )
    {
      *_errno() = 34;
      if ( flags & 1 )
        number = -1;
      else
        number = ((flags & 2) != 0) + 2147483647;
    }
  }
  else
  {
    if ( endptr )
      v14 = nptr;
    number = 0;
  }
  if ( endptr )
    *endptr = v14;
  if ( flags & 2 )
    number = -number;
  return number;
}

//----- (00441427) --------------------------------------------------------
int __cdecl strtol(const char *nptr, char **endptr, int ibase)
{
  return strtoxl(nptr, (const char **)endptr, ibase, 0);
}

//----- (0044143E) --------------------------------------------------------
void *__cdecl realloc(void *pBlock, unsigned int newsize)
{
  void *result; // eax@2
  unsigned int v3; // esi@3
  tagHeader *v4; // eax@7
  int v5; // eax@12
  int v6; // esi@18
  unsigned int v7; // eax@19
  tagHeader *pHeader; // [sp+10h] [bp-20h]@7
  void *pvReturn; // [sp+14h] [bp-1Ch]@6
  char *pvReturna; // [sp+14h] [bp-1Ch]@18

  if ( pBlock )
  {
    v3 = newsize;
    if ( newsize )
    {
      if ( __active_heap == 3 )
      {
        while ( 1 )
        {
          pvReturn = 0;
          if ( newsize <= 0xFFFFFFE0 )
            break;
          result = 0;
          if ( !_newmode )
            return result;
          if ( !_callnewh(newsize) )
            goto LABEL_34;
        }
        _lock(4);
        v4 = __sbh_find_block(pBlock);
        pHeader = v4;
        if ( v4 )
        {
          if ( newsize <= __sbh_threshold )
          {
            if ( __sbh_resize_block(v4, pBlock, newsize) )
            {
              pvReturn = pBlock;
            }
            else
            {
              pvReturn = __sbh_alloc_block(newsize);
              if ( pvReturn )
              {
                v5 = *((_DWORD *)pBlock - 1) - 1;
                if ( v5 >= newsize )
                  v5 = newsize;
                memcpy((char *)pvReturn, (char *)pBlock, v5);
                pHeader = __sbh_find_block(pBlock);
                __sbh_free_block(pHeader, pBlock);
              }
            }
          }
          if ( !pvReturn )
          {
            if ( !newsize )
              v3 = 1;
            v6 = (v3 + 15) & 0xFFFFFFF0;
            pvReturna = (char *)HeapAlloc(_crtheap, 0, v6);
            if ( pvReturna )
            {
              v7 = *((_DWORD *)pBlock - 1) - 1;
              if ( v7 >= v6 )
                v7 = v6;
              memcpy(pvReturna, (char *)pBlock, v7);
              __sbh_free_block(pHeader, pBlock);
            }
          }
        }
        _unlock(4);
      }
      else
      {
        while ( 1 )
        {
          result = 0;
          if ( v3 <= 0xFFFFFFE0 )
          {
            if ( !v3 )
              v3 = 1;
            result = HeapReAlloc(_crtheap, 0, pBlock, v3);
          }
          if ( result || !_newmode )
            break;
          if ( !_callnewh(v3) )
            goto LABEL_34;
        }
      }
    }
    else
    {
      free(pBlock);
LABEL_34:
      result = 0;
    }
  }
  else
  {
    result = malloc(newsize);
  }
  return result;
}
// 4C9544: using guessed type int __sbh_threshold;
// 4C9784: using guessed type int __active_heap;

//----- (004415EB) --------------------------------------------------------
int __cdecl _callnewh(unsigned int size)
{
  return _pnhHeap && _pnhHeap(size);
}
// 4C9040: using guessed type int (__cdecl *_pnhHeap)(unsigned int);

//----- (00441610) --------------------------------------------------------
#error "44176C: invalid basic block (funcsize=131)"

//----- (0044196F) --------------------------------------------------------
int __usercall TypeMatch<eax>(_s_HandlerType *pCatch<esi>, _s_CatchableType *pCatchable<edi>, _s_ThrowInfo *pThrow)
{
  TypeDescriptor *v3; // eax@1
  TypeDescriptor *v4; // ecx@3
  unsigned int v5; // eax@7

  v3 = pCatch->pType;
  return !v3
      || !LOBYTE(v3[1].hash)
      || ((v4 = pCatchable->pType, v3 == v4) || !strcmp((const char *)&v3[1], (const char *)&v4[1]))
      && (!(pCatchable->properties & 2) || pCatch->adjectives & 8)
      && ((v5 = pThrow->attributes, !(pThrow->attributes & 1)) || pCatch->adjectives & 1)
      && (!(v5 & 2) || pCatch->adjectives & 2);
}

//----- (004419BE) --------------------------------------------------------
int __usercall FrameUnwindFilter<eax>(_EXCEPTION_POINTERS *pExPtrs<eax>)
{
  if ( pExPtrs->ExceptionRecord->ExceptionCode == -529697949 )
  {
    _getptd()->_ProcessingThrow = 0;
    terminate();
  }
  return 0;
}

//----- (004419DC) --------------------------------------------------------
void __cdecl __FrameUnwindToState(EHRegistrationNode *pRN, void *pDC, _s_FuncInfo *pFuncInfo, int targetState)
{
  signed int v4; // esi@1
  _tiddata *v5; // eax@1
  signed int v6; // eax@6
  _s_UnwindMapEntry *v7; // ecx@6
  _tiddata *v8; // eax@10

  v4 = pRN->state;
  v5 = _getptd();
  ++v5->_ProcessingThrow;
  while ( v4 != targetState )
  {
    if ( v4 <= -1 || v4 >= pFuncInfo->maxState )
      _inconsistency();
    v6 = v4;
    v7 = &pFuncInfo->pUnwindMap[v4];
    v4 = v7->toState;
    if ( v7->action )
    {
      pRN->state = v4;
      _CallSettingFrame((unsigned int)pFuncInfo->pUnwindMap[v6].action, (unsigned int)pRN, 0x103u);
    }
  }
  if ( _getptd()->_ProcessingThrow > 0 )
  {
    v8 = _getptd();
    --v8->_ProcessingThrow;
  }
}

//----- (00441AAA) --------------------------------------------------------
void __cdecl __DestructExceptionObject(EHExceptionRecord *pExcept, char fThrowNotAllowed)
{
  void *v2; // ecx@2
  void *v3; // [sp+0h] [bp-24h]@0
  int v4; // [sp+4h] [bp-20h]@0

  if ( pExcept )
  {
    v2 = pExcept->params.pThrowInfo->pmfnUnwind;
    if ( v2 )
      _CallMemberFunction1(pExcept->params.pExceptionObject, v2, v3, v4);
  }
}

//----- (00441AEF) --------------------------------------------------------
void *__usercall AdjustPointer<eax>(void *pThis<eax>, PMD *pmd<ecx>)
{
  void *v2; // esi@1
  void *result; // eax@1

  v2 = pThis;
  result = (char *)pThis + pmd->mdisp;
  if ( pmd->pdisp >= 0 )
    result = (char *)result + pmd->pdisp + *(_DWORD *)(*(_DWORD *)((char *)v2 + pmd->pdisp) + pmd->vdisp);
  return result;
}

//----- (00441B0E) --------------------------------------------------------
bool __cdecl __uncaught_exception()
{
  return _getptd()->_ProcessingThrow != 0;
}

//----- (00441B21) --------------------------------------------------------
void *__usercall CallCatchBlock<eax>(void *handlerAddress<ecx>, EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, _s_FuncInfo *pFuncInfo, int CatchDepth, unsigned int NLGCode)
{
  void *v7; // ebx@1
  void *result; // eax@1
  FrameInfo FrameInfo; // [sp+Ch] [bp-50h]@1
  int ExceptionObjectDestroyed; // [sp+14h] [bp-48h]@1
  void *pSaveExContext; // [sp+18h] [bp-44h]@1
  void *pSaveException; // [sp+1Ch] [bp-40h]@1
  FrameInfo *pFrameInfo; // [sp+20h] [bp-3Ch]@1
  void *saveESP; // [sp+24h] [bp-38h]@1
  void *continuationAddress; // [sp+3Ch] [bp-20h]@1
  CPPEH_RECORD ms_exc; // [sp+44h] [bp-18h]@1

  v7 = handlerAddress;
  continuationAddress = handlerAddress;
  ExceptionObjectDestroyed = 0;
  saveESP = (void *)*((_DWORD *)pRN - 1);
  pFrameInfo = _CreateFrameInfo(&FrameInfo, pExcept->params.pExceptionObject);
  pSaveException = _getptd()->_curexception;
  pSaveExContext = _getptd()->_curcontext;
  _getptd()->_curexception = pExcept;
  _getptd()->_curcontext = pContext;
  ms_exc.disabled = 1;
  continuationAddress = _CallCatchBlock2(pRN, pFuncInfo, v7, CatchDepth, NLGCode);
  ms_exc.disabled = -1;
  FrameInfo.pExceptionObject = _L20061;
  *((_DWORD *)pRN - 1) = saveESP;
  _FindAndUnlinkFrame(pFrameInfo);
  _getptd()->_curexception = pSaveException;
  result = _getptd();
  *((_DWORD *)result + 32) = pSaveExContext;
  if ( pExcept->ExceptionCode == -529697949 )
  {
    if ( pExcept->NumberParameters == 3 )
    {
      result = (void *)pExcept->params.magicNumber;
      if ( result == (void *)429065504 || result == (void *)429065505 )
      {
        if ( !ExceptionObjectDestroyed && continuationAddress )
        {
          result = (void *)IsExceptionObjectToBeDestroyed(pExcept->params.pExceptionObject);
          if ( result )
          {
            LOBYTE(result) = _abnormal_termination();
            __DestructExceptionObject(pExcept, (char)result);
          }
        }
      }
    }
  }
  return result;
}
// 441C64: using guessed type int __cdecl $L20061(int pExcept, int pRN, int pContext, int pFuncInfo, int CatchDepth, int NLGCode);

//----- (00441CE5) --------------------------------------------------------
void __usercall BuildCatchObject(void *pRN<edx>, _s_CatchableType *pConv<ecx>, EHExceptionRecord *pExcept, _s_HandlerType *pCatch)
{
  _s_CatchableType *v4; // esi@1
  char *v5; // edi@1
  TypeDescriptor *v6; // ecx@1
  int v7; // ecx@3
  void *v8; // eax@10
  unsigned int v9; // ST0C_4@21
  void *v10; // eax@21
  void *v11; // eax@25
  PMD *v12; // ecx@25
  void *v13; // eax@26
  void *v14; // eax@27
  void *v15; // [sp-8h] [bp-2Ch]@7
  int v16; // [sp+0h] [bp-24h]@0

  v4 = pConv;
  v5 = (char *)pRN;
  v6 = pCatch->pType;
  if ( v6 )
  {
    if ( LOBYTE(v6[1].hash) )
    {
      v7 = pCatch->dispCatchObj;
      if ( v7 || BYTE3(pCatch->adjectives) & 0x80 )
      {
        if ( (pCatch->adjectives & 0x80000000u) == 0 )
          v5 = (char *)pRN + v7 + 12;
        v15 = pExcept->params.pExceptionObject;
        if ( pCatch->adjectives & 8 )
        {
          if ( _ValidateRead(v15, 1u) && _ValidateWrite(v5, 1u) )
          {
            v8 = pExcept->params.pExceptionObject;
            *(_DWORD *)v5 = v8;
LABEL_11:
            *(_DWORD *)v5 = AdjustPointer(v8, &v4->thisDisplacement);
            return;
          }
LABEL_28:
          _inconsistency();
        }
        if ( v4->properties & 1 )
        {
          if ( !_ValidateRead(v15, 1u) || !_ValidateWrite(v5, 1u) )
            goto LABEL_28;
          memmove(v5, (char *)pExcept->params.pExceptionObject, v4->sizeOrOffset);
          if ( v4->sizeOrOffset == 4 )
          {
            v8 = *(void **)v5;
            if ( *(_DWORD *)v5 )
              goto LABEL_11;
          }
        }
        else
        {
          if ( v4->copyFunction )
          {
            if ( !_ValidateRead(v15, 1u)
              || !_ValidateWrite(v5, 1u)
              || !_ValidateExecute((int (__stdcall *)())v4->copyFunction) )
              goto LABEL_28;
            v11 = pExcept->params.pExceptionObject;
            v12 = &v4->thisDisplacement;
            if ( v4->properties & 4 )
            {
              v13 = AdjustPointer(v11, v12);
              _CallMemberFunction1(v5, v4->copyFunction, v13, 1);
            }
            else
            {
              v14 = AdjustPointer(v11, v12);
              _CallMemberFunction1(v5, v4->copyFunction, v14, v16);
            }
          }
          else
          {
            if ( !_ValidateRead(v15, 1u) || !_ValidateWrite(v5, 1u) )
              goto LABEL_28;
            v9 = v4->sizeOrOffset;
            v10 = AdjustPointer(pExcept->params.pExceptionObject, &v4->thisDisplacement);
            memmove(v5, (char *)v10, v9);
          }
        }
      }
    }
  }
}

//----- (00441E61) --------------------------------------------------------
void __usercall CatchIt(EHRegistrationNode *pRN<esi>, _s_HandlerType *pCatch<ebx>, _s_CatchableType *pConv<ecx>, _s_TryBlockMapEntry *pEntry<edi>, EHExceptionRecord *pExcept, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int CatchDepth, EHRegistrationNode *pMarkerRN, char IsRethrow)
{
  EHRegistrationNode *v11; // [sp-8h] [bp-8h]@4

  if ( pConv )
    BuildCatchObject(pExcept, pRN, pCatch, pConv);
  if ( pMarkerRN )
    v11 = pMarkerRN;
  else
    v11 = pRN;
  _UnwindNestedFrames(v11, pExcept);
  __FrameUnwindToState(pRN, pDC, pFuncInfo, pEntry->tryLow);
}

//----- (00441EC8) --------------------------------------------------------
void __cdecl FindHandlerForForeignException(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int curState, int CatchDepth, EHRegistrationNode *pMarkerRN)
{
  _s_TryBlockMapEntry *i; // edi@4
  int v9; // eax@7
  int v10; // ecx@7
  char v11; // [sp-8h] [bp-14h]@4
  unsigned int end; // [sp+4h] [bp-8h]@4
  unsigned int curTry; // [sp+8h] [bp-4h]@4

  if ( pExcept->ExceptionCode != -2147483645
    && (!_getptd()->_translator || !_CallSETranslator(pExcept, pRN, pContext, pDC, pFuncInfo, CatchDepth, pMarkerRN)) )
  {
    for ( i = _GetRangeOfTrysToCheck(pFuncInfo, CatchDepth, curState, &curTry, &end); curTry < end; ++i )
    {
      if ( curState >= i->tryLow )
      {
        if ( curState <= i->tryHigh )
        {
          v9 = (int)&i->pHandlerArray[i->nCatches];
          v10 = *(_DWORD *)(v9 - 12);
          if ( !v10 || !*(_BYTE *)(v10 + 8) )
            CatchIt(
              pExcept,
              pRN,
              pContext,
              pDC,
              pFuncInfo,
              (_s_HandlerType *)(v9 - 16),
              0,
              i,
              CatchDepth,
              pMarkerRN,
              v11);
        }
      }
      ++curTry;
    }
  }
}

//----- (00441F86) --------------------------------------------------------
void __cdecl FindHandler(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, char recursive, int CatchDepth, EHRegistrationNode *pMarkerRN)
{
  int v8; // eax@1
  EHExceptionRecord *v9; // ebx@4
  unsigned int v10; // eax@6
  _tiddata *v11; // eax@10
  const void *v12; // esi@10
  int v13; // eax@14
  unsigned int v14; // eax@21
  int v15; // esi@23
  _s_TryBlockMapEntry *v16; // eax@23
  _s_HandlerType *v17; // esi@28
  _s_CatchableTypeArray *v18; // ecx@29
  void *v19; // edx@29
  int v20; // ecx@29
  char v21; // [sp-Ch] [bp-30h]@0
  _s_CatchableType *pCatchable; // [sp+0h] [bp-24h]@30
  unsigned int end; // [sp+4h] [bp-20h]@23
  int curState; // [sp+8h] [bp-1Ch]@1
  int catches; // [sp+Ch] [bp-18h]@28
  int catchables; // [sp+10h] [bp-14h]@29
  void *ppCatchable; // [sp+14h] [bp-10h]@29
  unsigned int curTry; // [sp+18h] [bp-Ch]@23
  _s_TryBlockMapEntry *pEntry; // [sp+1Ch] [bp-8h]@23
  char IsRethrow; // [sp+23h] [bp-1h]@1
  void *pExcepta; // [sp+2Ch] [bp+8h]@10

  v8 = pRN->state;
  IsRethrow = 0;
  curState = v8;
  if ( v8 < -1 || v8 >= pFuncInfo->maxState )
    _inconsistency();
  v9 = pExcept;
  if ( pExcept->ExceptionCode != -529697949 )
    goto LABEL_41;
  if ( pExcept->NumberParameters == 3 )
  {
    v10 = pExcept->params.magicNumber;
    if ( v10 == 429065504 || v10 == 429065505 )
    {
      if ( !pExcept->params.pThrowInfo )
      {
        if ( !_getptd()->_curexception )
          return;
        v11 = _getptd();
        v12 = v11->_curexception;
        pExcepta = v11->_curexception;
        pContext = (_CONTEXT *)_getptd()->_curcontext;
        IsRethrow = 1;
        if ( !_ValidateRead(v12, 1u) )
          _inconsistency();
        if ( *(_DWORD *)v12 != -529697949 )
        {
          v9 = (EHExceptionRecord *)pExcepta;
          goto LABEL_41;
        }
        if ( *((_DWORD *)pExcepta + 4) == 3 )
        {
          v13 = *((_DWORD *)pExcepta + 5);
          if ( v13 == 429065504 || v13 == 429065505 )
          {
            if ( !*((_DWORD *)pExcepta + 7) )
              _inconsistency();
          }
        }
        v9 = (EHExceptionRecord *)pExcepta;
      }
    }
  }
  if ( v9->ExceptionCode == -529697949 )
  {
    if ( v9->NumberParameters == 3 )
    {
      v14 = v9->params.magicNumber;
      if ( v14 == 429065504 || v14 == 429065505 )
      {
        v15 = curState;
        v16 = _GetRangeOfTrysToCheck(pFuncInfo, CatchDepth, curState, &curTry, &end);
        pEntry = v16;
        if ( curTry < end )
        {
          while ( 1 )
          {
            if ( v16->tryLow <= v15 )
            {
              if ( v15 <= v16->tryHigh )
              {
                v17 = v16->pHandlerArray;
                for ( catches = v16->nCatches; catches > 0; ++v17 )
                {
                  v18 = v9->params.pThrowInfo->pCatchableTypeArray;
                  v19 = &v18[1];
                  v20 = v18->nCatchableTypes;
                  ppCatchable = v19;
                  catchables = v20;
                  if ( v20 > 0 )
                  {
                    do
                    {
                      pCatchable = *(_s_CatchableType **)ppCatchable;
                      if ( TypeMatch(v17, *(_s_CatchableType **)ppCatchable, v9->params.pThrowInfo) )
                        CatchIt(v9, pRN, pContext, pDC, pFuncInfo, v17, pCatchable, pEntry, CatchDepth, pMarkerRN, v21);
                      --catchables;
                      ppCatchable = (char *)ppCatchable + 4;
                    }
                    while ( catchables > 0 );
                    v16 = pEntry;
                  }
                  --catches;
                }
              }
            }
            ++curTry;
            ++v16;
            pEntry = v16;
            if ( curTry >= end )
              break;
            v15 = curState;
          }
        }
        if ( recursive )
          __DestructExceptionObject(v9, 1);
        return;
      }
    }
  }
LABEL_41:
  if ( recursive )
    terminate();
  FindHandlerForForeignException(v9, pRN, pContext, pDC, pFuncInfo, curState, CatchDepth, pMarkerRN);
}

//----- (0044218A) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl __InternalCxxFrameHandler(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, _CONTEXT *pContext, void *pDC, _s_FuncInfo *pFuncInfo, int CatchDepth, EHRegistrationNode *pMarkerRN, char recursive)
{
  int (__cdecl *v8)(); // ecx@10

  if ( (pFuncInfo->_bf0 & 0x1FFFFFFF) != 429065504 )
    _inconsistency();
  if ( pExcept->ExceptionFlags & 0x66 )
  {
    if ( pFuncInfo->maxState )
    {
      if ( !CatchDepth )
        __FrameUnwindToState(pRN, pDC, pFuncInfo, -1);
    }
  }
  else
  {
    if ( pFuncInfo->nTryBlocks )
    {
      if ( pExcept->ExceptionCode == -529697949 )
      {
        if ( pExcept->params.magicNumber > 0x19930520 )
        {
          v8 = pExcept->params.pThrowInfo->pForwardCompat;
          if ( v8 )
            return ((int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v8)(
                     pExcept,
                     pRN,
                     pContext,
                     pDC,
                     pFuncInfo,
                     CatchDepth,
                     pMarkerRN,
                     (unsigned __int8)recursive);
        }
      }
      FindHandler(pExcept, pRN, pContext, pDC, pFuncInfo, recursive, CatchDepth, pMarkerRN);
    }
  }
  return 1;
}

//----- (0044222C) --------------------------------------------------------
int __cdecl __crtLCMapStringA(unsigned int Locale, unsigned int dwMapFlags, const char *lpSrcStr, int cchSrc, char *lpDestStr, int cchDest, int code_page, int bError)
{
  int v8; // ecx@7
  const char *v9; // eax@7
  int v10; // edi@15
  int v11; // esi@17
  void *v12; // esp@18
  int v13; // eax@22
  void *v14; // esp@27
  char *v16; // edi@40
  int v17; // eax@44
  void *v18; // eax@47
  int v19; // eax@48
  void *v20; // esp@49
  void *v21; // eax@50
  int v22; // esi@53
  char *v23; // [sp-10h] [bp-64h]@32
  int v24; // [sp-Ch] [bp-60h]@32
  int v25; // [sp+0h] [bp-54h]@18
  int ret; // [sp+Ch] [bp-48h]@55
  int *cbuffer1; // [sp+10h] [bp-44h]@49
  int AnsiCP; // [sp+14h] [bp-40h]@44
  int malloc_flag1; // [sp+18h] [bp-3Ch]@40
  int v30; // [sp+1Ch] [bp-38h]@15
  int malloc_flag2; // [sp+20h] [bp-34h]@15
  int inbuff_size; // [sp+24h] [bp-30h]@17
  int retval; // [sp+28h] [bp-2Ch]@15
  const char *cbuffer; // [sp+2Ch] [bp-28h]@40
  int buff_size; // [sp+30h] [bp-24h]@48
  void *outwbuffer; // [sp+34h] [bp-20h]@27
  void *inwbuffer; // [sp+38h] [bp-1Ch]@18
  CPPEH_RECORD ms_exc; // [sp+3Ch] [bp-18h]@18

  if ( !f_use )
  {
    if ( LCMapStringW(0, 0x100u, &_real, 1, 0, 0) )
    {
      f_use = 1;
    }
    else
    {
      if ( GetLastError() == 120 )
        f_use = 2;
    }
  }
  if ( cchSrc > 0 )
  {
    v8 = cchSrc;
    v9 = lpSrcStr;
    while ( 1 )
    {
      --v8;
      if ( !*v9 )
        break;
      ++v9;
      if ( !v8 )
      {
        v8 = -1;
        break;
      }
    }
    cchSrc += -1 - v8;
  }
  if ( f_use != 2 && f_use )
  {
    if ( f_use == 1 )
    {
      v10 = 0;
      retval = 0;
      v30 = 0;
      malloc_flag2 = 0;
      if ( !code_page )
        code_page = __lc_codepage;
      v11 = MultiByteToWideChar(code_page, 8 * (bError != 0) + 1, lpSrcStr, cchSrc, 0, 0);
      inbuff_size = v11;
      if ( v11 )
      {
        v12 = alloca(2 * v11);
        ms_exc.old_esp = (DWORD)&v25;
        inwbuffer = &v25;
        ms_exc.disabled = -1;
        if ( &v25 )
        {
LABEL_21:
          if ( MultiByteToWideChar(code_page, 1u, lpSrcStr, cchSrc, (LPWSTR)inwbuffer, v11) )
          {
            v13 = LCMapStringW(Locale, dwMapFlags, (LPCWSTR)inwbuffer, v11, 0, 0);
            v10 = v13;
            retval = v13;
            if ( v13 )
            {
              if ( BYTE1(dwMapFlags) & 4 )
              {
                if ( cchDest && v13 <= cchDest )
                  LCMapStringW(Locale, dwMapFlags, (LPCWSTR)inwbuffer, v11, (LPWSTR)lpDestStr, cchDest);
                goto error_cleanup;
              }
              v14 = alloca(2 * v13);
              ms_exc.old_esp = (DWORD)&v25;
              outwbuffer = &v25;
              ms_exc.disabled = -1;
              if ( &v25 )
              {
LABEL_30:
                if ( LCMapStringW(Locale, dwMapFlags, (LPCWSTR)inwbuffer, v11, (LPWSTR)outwbuffer, v10) )
                {
                  if ( cchDest )
                  {
                    v24 = cchDest;
                    v23 = lpDestStr;
                  }
                  else
                  {
                    v24 = 0;
                    v23 = 0;
                  }
                  v10 = WideCharToMultiByte(code_page, 0, (LPCWSTR)outwbuffer, v10, v23, v24, 0, 0);
                }
                goto error_cleanup;
              }
              outwbuffer = malloc(2 * v13);
              if ( outwbuffer )
              {
                malloc_flag2 = 1;
                goto LABEL_30;
              }
            }
          }
error_cleanup:
          if ( malloc_flag2 )
            free(outwbuffer);
          if ( v30 )
            free(inwbuffer);
          return v10;
        }
        inwbuffer = malloc(2 * v11);
        if ( inwbuffer )
        {
          v30 = 1;
          goto LABEL_21;
        }
      }
    }
    return 0;
  }
  cbuffer = 0;
  v16 = 0;
  malloc_flag1 = 0;
  if ( !Locale )
    Locale = lcid;
  if ( !code_page )
    code_page = __lc_codepage;
  v17 = __ansicp(Locale);
  AnsiCP = v17;
  if ( v17 == -1 )
    return 0;
  if ( v17 != code_page )
  {
    v18 = __convertcp(code_page, v17, lpSrcStr, &cchSrc, 0, 0);
    cbuffer = (const char *)v18;
    if ( !v18 )
      return 0;
    v19 = LCMapStringA(Locale, dwMapFlags, (LPCSTR)v18, cchSrc, 0, 0);
    buff_size = v19;
    if ( v19 )
    {
      ms_exc.disabled = 0;
      v20 = alloca(v19);
      ms_exc.old_esp = (DWORD)&v25;
      v16 = (char *)&v25;
      cbuffer1 = &v25;
      memset(&v25, 0, v19);
      ms_exc.disabled = -1;
      if ( !&v25 )
      {
        v21 = malloc(buff_size);
        v16 = (char *)v21;
        if ( !v21 )
        {
LABEL_53:
          v22 = 0;
          goto cleanupA;
        }
        memset(v21, 0, buff_size);
        malloc_flag1 = 1;
      }
      buff_size = LCMapStringA(Locale, dwMapFlags, cbuffer, cchSrc, v16, buff_size);
      if ( !buff_size )
        goto LABEL_53;
      v22 = __convertcp(AnsiCP, code_page, v16, &buff_size, lpDestStr, cchDest) != 0;
    }
    else
    {
      v22 = ret;
    }
cleanupA:
    if ( malloc_flag1 )
      free(v16);
    goto LABEL_59;
  }
  v22 = LCMapStringA(Locale, dwMapFlags, lpSrcStr, cchSrc, lpDestStr, cchDest);
LABEL_59:
  if ( cbuffer )
    free((void *)cbuffer);
  return v22;
}

//----- (004425E8) --------------------------------------------------------
const unsigned __int16 *__cdecl __pctype_func()
{
  return _pctype;
}

//----- (004425EE) --------------------------------------------------------
int __cdecl __init_ctype()
{
  void *v0; // eax@4
  void *v1; // ebx@4
  void *v2; // esi@4
  void *v3; // eax@4
  signed int v4; // eax@7
  char *v5; // eax@13
  int v6; // edx@14
  int v7; // ecx@15
  const unsigned __int16 *v8; // ebx@19
  char *v9; // eax@22
  signed int v10; // ecx@24
  int v11; // edx@25
  int v12; // esi@29
  void *newctype1; // [sp+10h] [bp-24h]@0
  void *refcount; // [sp+14h] [bp-20h]@0
  const char *cbuffer; // [sp+18h] [bp-1Ch]@1
  _cpinfo lpCPInfo; // [sp+1Ch] [bp-18h]@9

  cbuffer = 0;
  if ( lcid )
  {
    if ( !__lc_codepage && __getlocaleinfo(0, (unsigned __int16)word_4C9468, 0x1004u, &__lc_codepage) )
    {
      v2 = newctype1;
    }
    else
    {
      v0 = malloc(4u);
      v1 = v0;
      refcount = v0;
      v2 = malloc(0x300u);
      v3 = malloc(0x101u);
      cbuffer = (const char *)v3;
      if ( v1 )
      {
        if ( v2 )
        {
          if ( v3 )
          {
            *(_DWORD *)v1 = 0;
            v4 = 0;
            do
            {
              cbuffer[v4] = v4;
              ++v4;
            }
            while ( v4 < 256 );
            if ( GetCPInfo(__lc_codepage, &lpCPInfo) && lpCPInfo.MaxCharSize <= 5 )
            {
              __mb_cur_max = (unsigned __int16)lpCPInfo.MaxCharSize;
              if ( (signed int)(unsigned __int16)lpCPInfo.MaxCharSize > 1 && lpCPInfo.LeadByte[0] )
              {
                v5 = &lpCPInfo.LeadByte[1];
                do
                {
                  LOBYTE(v6) = *v5;
                  if ( !*v5 )
                    break;
                  v7 = (unsigned __int8)*(v5 - 1);
                  v6 = (unsigned __int8)v6;
                  while ( v7 <= v6 )
                  {
                    cbuffer[v7] = 0;
                    v6 = (unsigned __int8)*v5;
                    ++v7;
                  }
                  v5 += 2;
                }
                while ( *(v5 - 1) );
              }
              v8 = (const unsigned __int16 *)((char *)v2 + 256);
              if ( __crtGetStringTypeA(1u, cbuffer, 256, (unsigned __int16 *)v2 + 128, 0, 0, 0) )
              {
                *((_WORD *)v2 + 127) = 0;
                if ( __mb_cur_max > 1 && lpCPInfo.LeadByte[0] )
                {
                  v9 = &lpCPInfo.LeadByte[1];
                  do
                  {
                    if ( !*v9 )
                      break;
                    v10 = (unsigned __int8)*(v9 - 1);
                    if ( v10 <= (unsigned __int8)*v9 )
                    {
                      v11 = (int)((char *)v2 + 2 * v10 + 256);
                      do
                      {
                        *(_WORD *)v11 = -32768;
                        ++v10;
                        v11 += 2;
                      }
                      while ( v10 <= (unsigned __int8)*v9 );
                      v8 = (const unsigned __int16 *)((char *)v2 + 256);
                    }
                    v9 += 2;
                  }
                  while ( *(v9 - 1) );
                }
                memcpy((char *)v2, (char *)v2 + 512, 0xFEu);
                _pctype = v8;
                __ctype1_refcount = (int)refcount;
                __ctype1 = (int)((char *)v2 + 254);
                v12 = 0;
                goto LABEL_30;
              }
            }
          }
        }
      }
    }
    free(refcount);
    free(v2);
    v12 = 1;
LABEL_30:
    free((void *)cbuffer);
    return v12;
  }
  _pctype = L"         (((((                  H";
  __ctype1_refcount = 0;
  __ctype1 = 0;
  return 0;
}
// 464748: using guessed type wchar_t asc_464748[33];
// 4C9468: using guessed type __int16 word_4C9468;
// 4C98A8: using guessed type int __ctype1;
// 4C98AC: using guessed type int __ctype1_refcount;

//----- (004427D8) --------------------------------------------------------
unsigned int __cdecl ___lc_codepage_func()
{
  threadlocaleinfostruct *v0; // eax@1

  v0 = _getptd()->ptlocinfo;
  if ( v0 != ___ptlocinfo )
    v0 = __updatetlocinfo();
  return v0->lc_codepage;
}

//----- (004427F1) --------------------------------------------------------
unsigned int *__cdecl ___lc_handle_func()
{
  threadlocaleinfostruct *v0; // eax@1

  v0 = _getptd()->ptlocinfo;
  if ( v0 != ___ptlocinfo )
    v0 = __updatetlocinfo();
  return v0->lc_handle;
}

//----- (0044280A) --------------------------------------------------------
int __cdecl _mtinitlocks()
{
  signed int v0; // esi@1
  _RTL_CRITICAL_SECTION *v1; // edi@1

  v0 = 0;
  v1 = lclcritsects;
  while ( 1 )
  {
    if ( *(&locktable + 2 * v0 + 1) == (LPCRITICAL_SECTION)1 )
    {
      *(&locktable + 2 * v0) = v1;
      ++v1;
      if ( !__crtInitCritSecAndSpinCount(*(&locktable + 2 * v0), 0xFA0u) )
        break;
    }
    ++v0;
    if ( v0 >= 36 )
      return 1;
  }
  *(&locktable + 2 * v0) = 0;
  return 0;
}

//----- (00442853) --------------------------------------------------------
void __cdecl _mtdeletelocks()
{
  LPCRITICAL_SECTION *v0; // esi@1
  LPCRITICAL_SECTION v1; // edi@2
  LPCRITICAL_SECTION *v2; // esi@6

  v0 = &locktable;
  do
  {
    v1 = *v0;
    if ( *v0 && v0[1] != (LPCRITICAL_SECTION)1 )
    {
      DeleteCriticalSection(*v0);
      free(v1);
      *v0 = 0;
    }
    v0 += 2;
  }
  while ( (signed int)v0 < (signed int)"C" );
  v2 = &locktable;
  do
  {
    if ( *v2 )
    {
      if ( v2[1] == (LPCRITICAL_SECTION)1 )
        DeleteCriticalSection(*v2);
    }
    v2 += 2;
  }
  while ( (signed int)v2 < (signed int)"C" );
}

//----- (004428A8) --------------------------------------------------------
void __cdecl _unlock(int locknum)
{
  LeaveCriticalSection(*(&locktable + 2 * locknum));
}

//----- (004428BD) --------------------------------------------------------
int __cdecl _mtinitlocknum(int locknum)
{
  void *v1; // edi@2
  int result; // eax@7
  CPPEH_RECORD ms_exc; // [sp+Ch] [bp-18h]@4

  if ( *(&locktable + 2 * locknum) )
  {
    result = 1;
  }
  else
  {
    v1 = malloc(0x18u);
    if ( !v1 )
    {
      *_errno() = 12;
      return 0;
    }
    _lock(10);
    ms_exc.disabled = 0;
    if ( *(&locktable + 2 * locknum) )
    {
      free(v1);
    }
    else
    {
      if ( !__crtInitCritSecAndSpinCount((_RTL_CRITICAL_SECTION *)v1, 0xFA0u) )
      {
        free(v1);
        *_errno() = 12;
        _local_unwind2((int)&ms_exc.prev_er, -1);
        return 0;
      }
      *(&locktable + 2 * locknum) = (LPCRITICAL_SECTION)v1;
    }
    ms_exc.disabled = -1;
    _unlock(10);
  }
  return result;
}

//----- (0044295D) --------------------------------------------------------
void __cdecl _lock(int locknum)
{
  if ( !*(&locktable + 2 * locknum) && !_mtinitlocknum(locknum) )
    _amsg_exit(17);
  EnterCriticalSection(*(&locktable + 2 * locknum));
}

//----- (0044298E) --------------------------------------------------------
int __cdecl ___setlc_active_func()
{
  return __setlc_active;
}
// 4C98A0: using guessed type int __setlc_active;

//----- (00442994) --------------------------------------------------------
int *__cdecl ___unguarded_readlc_active_add_func()
{
  return (int *)&__unguarded_readlc_active;
}

//----- (0044299A) --------------------------------------------------------
void __cdecl __freetlocinfo(threadlocaleinfostruct *ptloci)
{
  void *v1; // eax@1
  int *v2; // eax@4
  int *v3; // eax@8
  int *v4; // eax@13
  __lc_time_data *v5; // eax@17

  v1 = ptloci->lconv_intl;
  if ( v1 != __lconv_intl && v1 && !*ptloci->lconv_intl_refcount )
  {
    v2 = ptloci->lconv_mon_refcount;
    if ( v2 && !*v2 && v2 != (int *)__lconv_mon_refcount )
    {
      free(ptloci->lconv_mon_refcount);
      __free_lconv_mon(ptloci->lconv_intl);
    }
    v3 = ptloci->lconv_num_refcount;
    if ( v3 && !*v3 && v3 != (int *)__lconv_num_refcount )
    {
      free(ptloci->lconv_num_refcount);
      __free_lconv_num(ptloci->lconv_intl);
    }
    free(ptloci->lconv_intl_refcount);
    free(ptloci->lconv_intl);
  }
  v4 = ptloci->ctype1_refcount;
  if ( v4 != (int *)__ctype1_refcount && v4 && !*v4 )
  {
    free(ptloci->ctype1_refcount);
    free(ptloci->ctype1 - 127);
  }
  v5 = ptloci->lc_time_intl;
  if ( v5 != (__lc_time_data *)__lc_time_intl && v5 && !v5->refcount )
  {
    __free_lc_time(ptloci->lc_time_intl);
    free(ptloci->lc_time_intl);
  }
  free(ptloci);
}
// 4C9484: using guessed type int __lc_time_intl;
// 4C9524: using guessed type int __lconv_mon_refcount;
// 4C952C: using guessed type int __lconv_num_refcount;
// 4C98AC: using guessed type int __ctype1_refcount;

//----- (00442A6A) --------------------------------------------------------
threadlocaleinfostruct *__cdecl _updatetlocinfo_lk()
{
  _tiddata *v0; // esi@1
  threadlocaleinfostruct *v1; // ecx@1
  int *v2; // eax@3
  int *v3; // eax@5
  int *v4; // eax@7
  int *v5; // eax@9
  threadlocaleinfostruct *v6; // eax@12

  v0 = _getptd();
  v1 = v0->ptlocinfo;
  if ( v1 != ___ptlocinfo )
  {
    if ( v1 )
    {
      v2 = v1->lconv_intl_refcount;
      --v1->refcount;
      if ( v2 )
        --*v2;
      v3 = v1->lconv_mon_refcount;
      if ( v3 )
        --*v3;
      v4 = v1->lconv_num_refcount;
      if ( v4 )
        --*v4;
      v5 = v1->ctype1_refcount;
      if ( v5 )
        --*v5;
      --v1->lc_time_curr->refcount;
    }
    v0->ptlocinfo = ___ptlocinfo;
    ++___ptlocinfo->refcount;
    v6 = ___ptlocinfo;
    if ( ___ptlocinfo->lconv_intl_refcount )
    {
      ++*___ptlocinfo->lconv_intl_refcount;
      v6 = ___ptlocinfo;
    }
    if ( v6->lconv_mon_refcount )
    {
      ++*v6->lconv_mon_refcount;
      v6 = ___ptlocinfo;
    }
    if ( v6->lconv_num_refcount )
    {
      ++*v6->lconv_num_refcount;
      v6 = ___ptlocinfo;
    }
    if ( v6->ctype1_refcount )
    {
      ++*v6->ctype1_refcount;
      v6 = ___ptlocinfo;
    }
    ++v6->lc_time_curr->refcount;
    if ( v1 && !v1->refcount && (_UNKNOWN *)v1 != &__initiallocinfo )
      __freetlocinfo(v1);
  }
  return v0->ptlocinfo;
}

//----- (00442B2B) --------------------------------------------------------
int __cdecl __init_collate()
{
  return 0;
}

//----- (00442B2E) --------------------------------------------------------
void __cdecl _strcats(char *outstr, int n)
{
  int v2; // edi@1
  int *v3; // esi@2

  v2 = n;
  if ( n > 0 )
  {
    v3 = &n;
    do
    {
      ++v3;
      strcat(outstr, (const char *)*v3);
      --v2;
    }
    while ( v2 );
  }
}

//----- (00442B52) --------------------------------------------------------
int __cdecl __lc_strtolc(tagLC_STRINGS *names, const char *locale)
{
  char *v2; // esi@1
  int v4; // edi@7
  char v5; // bl@7
  char *v6; // eax@14
  unsigned int v7; // eax@24
  char *v8; // [sp-10h] [bp-18h]@10
  const char *v9; // [sp-Ch] [bp-14h]@10
  size_t v10; // [sp-8h] [bp-10h]@10
  int i; // [sp+14h] [bp+Ch]@6

  memset(names, 0, 0x90u);
  v2 = (char *)locale;
  if ( !*locale )
    return 0;
  if ( *locale == 46 && locale[1] )
  {
    strncpy(names->szCodePage, locale + 1, 0xFu);
    names->szCodePage[15] = 0;
    return 0;
  }
  i = 0;
  while ( 1 )
  {
    strcspn(v2, "_.,");
    if ( !v7 )
      return -1;
    v4 = (int)&v2[v7];
    v5 = v2[v7];
    if ( i )
    {
      if ( i == 1 )
      {
        if ( v7 >= 0x40 || v5 == 95 )
          return -1;
        v10 = v7;
        v6 = names->szCountry;
      }
      else
      {
        if ( i != 2 || v7 >= 0x10 || v5 && v5 != 44 )
          return -1;
        v10 = v7;
        v6 = names->szCodePage;
      }
      v9 = v2;
      v8 = v6;
    }
    else
    {
      if ( v7 >= 0x40 || v5 == 46 )
        return -1;
      v10 = v7;
      v9 = v2;
      v8 = (char *)names;
    }
    strncpy(v8, v9, v10);
    if ( v5 == 44 )
      break;
    if ( !v5 )
      break;
    ++i;
    v2 = (char *)(v4 + 1);
  }
  return 0;
}

//----- (00442C2E) --------------------------------------------------------
void __cdecl __lc_lctostr(char *locale, tagLC_STRINGS *names)
{
  strcpy(locale, names->szLanguage);
  if ( names->szCountry[0] )
    _strcats(locale, 2);
  if ( names->szCodePage[0] )
    _strcats(locale, 2);
}

//----- (00442C7C) --------------------------------------------------------
threadlocaleinfostruct *__cdecl __updatetlocinfo()
{
  threadlocaleinfostruct *result; // eax@1

  _lock(12);
  _updatetlocinfo_lk();
  _unlock(12);
  return result;
}

//----- (00442CB7) --------------------------------------------------------
char *__cdecl setlocale_get_all()
{
  char *result; // eax@1
  signed int v1; // ebp@1
  const char **v2; // esi@3
  const char **v3; // ebx@3

  result = outstr;
  v1 = 1;
  if ( outstr || (result = (char *)malloc(0x351u), (outstr = result) != 0) )
  {
    *result = 0;
    _strcats(outstr, 3);
    v2 = (const char **)&off_4716C8;
    v3 = (const char **)&off_4716C8;
    do
    {
      strcat(outstr, ";");
      v2 += 3;
      if ( strcmp(*v3, *v2) )
        v1 = 0;
      v3 = v2;
      _strcats(outstr, 3);
    }
    while ( (signed int)v2 < (signed int)&off_4716F8 );
    if ( v1 )
    {
      free(outstr);
      outstr = 0;
      result = off_4716D4;
    }
    else
    {
      result = outstr;
    }
  }
  return result;
}
// 4716C8: using guessed type char *off_4716C8;
// 4716D4: using guessed type char *off_4716D4;
// 4716F8: using guessed type char *off_4716F8;

//----- (00442D76) --------------------------------------------------------
char *__cdecl _expandlocale(char *expr, char *output, tagLC_ID *id, unsigned int *cp, int category)
{
  char *v5; // esi@1
  char *result; // eax@2
  tagLC_STRINGS names; // [sp+4h] [bp-94h]@12

  v5 = expr;
  if ( !expr )
    return 0;
  if ( *expr != 67 || expr[1] )
  {
    if ( strlen(expr) >= 0x82 || strcmp(cacheout, expr) && strcmp(cachein, expr) )
    {
      if ( __lc_strtolc(&names, expr) || !__get_qualified_locale(&names, &cacheid, &names) )
        return 0;
      cachecp = cacheid.wCodePage;
      __lc_lctostr(cacheout, &names);
      if ( !*expr || strlen(expr) >= 0x82 )
        v5 = String;
      cachein[130] = 0;
      strncpy(cachein, v5, 0x82u);
    }
    if ( id )
      memcpy((char *)id, (char *)&cacheid, 6u);
    if ( cp )
      memcpy((char *)cp, (char *)&cachecp, 4u);
    strcpy(output, cacheout);
    result = cacheout;
  }
  else
  {
    result = output;
    *output = 67;
    output[1] = 0;
    if ( id )
    {
      id->wLanguage = 0;
      id->wCountry = 0;
      id->wCodePage = 0;
    }
    if ( cp )
      *cp = 0;
  }
  return result;
}

//----- (00442ED2) --------------------------------------------------------
char *__usercall setlocale_set_cat<eax>(int category<esi>, const char *locale)
{
  char *result; // eax@1
  int v3; // ebx@2
  size_t v4; // eax@4
  unsigned int v5; // ecx@6
  _is_ctype_compatible *v6; // eax@6
  unsigned int v7; // edx@8
  int v8; // edx@8
  int v9; // eax@11
  unsigned int v10; // eax@14
  int v11; // eax@16
  void *v12; // ST1C_4@24
  int v13; // [sp+0h] [bp-150h]@0
  tagLC_ID oldid; // [sp+4h] [bp-14Ch]@5
  _is_ctype_compatible buf2; // [sp+Ch] [bp-144h]@8
  int oldhandle; // [sp+14h] [bp-13Ch]@5
  tagLC_ID idtemp; // [sp+18h] [bp-138h]@1
  _is_ctype_compatible buf1; // [sp+20h] [bp-130h]@6
  UINT oldcodepage; // [sp+28h] [bp-128h]@5
  char *pch; // [sp+2Ch] [bp-124h]@4
  char *oldlocale; // [sp+30h] [bp-120h]@5
  int cptemp; // [sp+34h] [bp-11Ch]@1
  char *i; // [sp+38h] [bp-118h]@5
  __int16 out[127]; // [sp+3Ch] [bp-114h]@13
  char lctemp[131]; // [sp+13Ch] [bp-14h]@1

  result = _expandlocale((char *)locale, lctemp, &idtemp, (unsigned int *)&cptemp, v13);
  if ( result )
  {
    v3 = 12 * category;
    if ( strcmp(lctemp, (&outstr)[12 * category]) )
    {
      v4 = strlen(lctemp);
      result = (char *)malloc(v4 + 1);
      pch = result;
      if ( result )
      {
        oldlocale = (&outstr)[v3];
        oldhandle = __lc_handle[category];
        i = (char *)(6 * category + 5018716);
        memcpy((char *)&oldid, (char *)(6 * category + 5018716), 6u);
        oldcodepage = __lc_codepage;
        (&outstr)[v3] = strcpy(pch, lctemp);
        __lc_handle[category] = idtemp.wLanguage;
        memcpy(i, (char *)&idtemp, 6u);
        if ( category == 2 )
        {
          v5 = Lcid_c[4].id;
          i = 0;
          __lc_codepage = cptemp;
          buf1.is_clike = Lcid_c[4].is_clike;
          v6 = Lcid_c;
          while ( cptemp != v6->id )
          {
            v7 = v6->id;
            ++i;
            v6->id = v5;
            buf2.id = v7;
            v8 = v6->is_clike;
            v6->is_clike = buf1.is_clike;
            v5 = buf2.id;
            ++v6;
            buf1.is_clike = v8;
            if ( (signed int)v6 >= (signed int)cachein )
              goto LABEL_12;
          }
          if ( i )
          {
            v9 = 8 * (_DWORD)i + 4658560;
            Lcid_c[0].id = Lcid_c[(_DWORD)i].id;
            Lcid_c[0].is_clike = Lcid_c[(_DWORD)i].is_clike;
            Lcid_c[(_DWORD)i].id = v5;
            *(_DWORD *)(v9 + 4) = buf1.is_clike;
          }
LABEL_12:
          if ( i == (char *)5 )
          {
            if ( __crtGetStringTypeA(1u, first_127char, 127, (unsigned __int16 *)out, cptemp, lcid, 1) )
            {
              v10 = 0;
              do
                HIBYTE(out[v10++]) &= 1u;
              while ( v10 < 0x7F );
              v11 = memcmp(out, ctype_loc_style, 0xFEu) == 0;
            }
            else
            {
              v11 = 0;
            }
            Lcid_c[0].is_clike = v11;
            Lcid_c[0].id = __lc_codepage;
          }
          else
          {
            v11 = Lcid_c[0].is_clike;
          }
          __lc_clike = v11;
        }
        if ( category == 1 )
          __lc_collate_cp = cptemp;
        if ( (*(int (__cdecl **)())((char *)&off_4716C0 + v3))() )
        {
          v12 = pch;
          (&outstr)[v3] = oldlocale;
          free(v12);
          __lc_handle[category] = oldhandle;
          __lc_codepage = oldcodepage;
          result = 0;
        }
        else
        {
          if ( oldlocale != "C" )
            free(oldlocale);
          result = (&outstr)[v3];
        }
      }
    }
    else
    {
      result = (&outstr)[v3];
    }
  }
  return result;
}
// 4716C0: using guessed type int (__cdecl *off_4716C0)(int pexcept);
// 471C10: using guessed type int __lc_clike;
// 4C9430: using guessed type int __lc_handle[];
// 4C944C: using guessed type int __lc_collate_cp;

//----- (00443161) --------------------------------------------------------
char *__usercall setlocale_lk<eax>(int _category<edx>, const char *_locale<ecx>)
{
  char *v2; // edi@1
  char *v4; // esi@4
  int v5; // eax@9
  int v6; // ebx@9
  unsigned int v7; // eax@10
  char **v8; // esi@12
  int v9; // eax@14
  char *v10; // ebx@17
  size_t v11; // eax@17
  size_t v12; // edi@17
  int v13; // edi@22
  int v15; // esi@31
  const char **v16; // ebx@31
  int i; // [sp+Ch] [bp-1Ch]@12
  signed int len; // [sp+10h] [bp-18h]@5
  unsigned int lena; // [sp+10h] [bp-18h]@10
  int fLocaleSet; // [sp+14h] [bp-14h]@5
  char lctemp[131]; // [sp+18h] [bp-10h]@20

  v2 = (char *)_locale;
  if ( !_category )
  {
    len = 1;
    fLocaleSet = 0;
    if ( _locale )
    {
      if ( *_locale != 76 || _locale[1] != 67 || _locale[2] != 95 )
      {
        v4 = _expandlocale((char *)_locale, lctemp, 0, 0, 0);
        if ( !v4 )
          return v4;
        v15 = 0;
        v16 = (const char **)&outstr;
        do
        {
          if ( v16 != &outstr )
          {
            if ( !strcmp(lctemp, *v16) || setlocale_set_cat(v15, lctemp) )
              ++fLocaleSet;
            else
              len = 0;
          }
          v16 += 3;
          ++v15;
        }
        while ( (signed int)v16 <= (signed int)&off_4716F8 );
        if ( len )
        {
          v4 = setlocale_get_all();
          free(outstr);
          outstr = 0;
          return v4;
        }
        if ( !fLocaleSet )
          return 0;
      }
      else
      {
        do
        {
          strpbrk(v2, "=;");
          v6 = v5;
          if ( !v5 || (v7 = v5 - (_DWORD)v2, (lena = v7) == 0) || *(_BYTE *)v6 == 59 )
            return 0;
          i = 1;
          v8 = off_4716C4;
          while ( 1 )
          {
            strncmp(*v8, v2, v7);
            if ( !v9 )
            {
              if ( lena == strlen(*v8) )
                break;
            }
            ++i;
            v8 += 3;
            if ( (signed int)v8 > (signed int)off_4716F4 )
              break;
            v7 = lena;
          }
          v10 = (char *)(v6 + 1);
          strcspn(v10, ";");
          v12 = v11;
          if ( !v11 )
          {
            if ( *v10 != 59 )
              return 0;
          }
          if ( i <= 5 )
          {
            strncpy(lctemp, v10, v11);
            lctemp[v12] = 0;
            if ( setlocale_set_cat(i, lctemp) )
              ++fLocaleSet;
          }
          v13 = (int)&v10[v12];
          if ( !*(_BYTE *)v13 )
            break;
          v2 = (char *)(v13 + 1);
        }
        while ( *v2 );
        v4 = 0;
        if ( !fLocaleSet )
          return v4;
      }
    }
    return setlocale_get_all();
  }
  if ( _locale )
    return setlocale_set_cat(_category, _locale);
  return (&outstr)[12 * _category];
}
// 4716C4: using guessed type char *off_4716C4[2];
// 4716F4: using guessed type char *off_4716F4[2];
// 4716F8: using guessed type char *off_4716F8;

//----- (0044333A) --------------------------------------------------------
char *__cdecl setlocale(int _category, const char *_locale)
{
  char *v2; // esi@4
  char *result; // eax@4
  void *v4; // esi@5
  signed int i; // eax@8
  char *retval; // [sp+14h] [bp-1Ch]@6
  CPPEH_RECORD ms_exc; // [sp+18h] [bp-18h]@3

  if ( _category < 0 || _category > 5 )
  {
    result = 0;
  }
  else
  {
    _lock(12);
    ms_exc.disabled = 0;
    if ( _locale )
    {
      v4 = malloc(0x54u);
      if ( v4 )
      {
        retval = setlocale_lk(_category, _locale);
        if ( retval )
        {
          *(_DWORD *)v4 = 0;
          *((_DWORD *)v4 + 1) = __lc_codepage;
          *((_DWORD *)v4 + 2) = __lc_collate_cp;
          for ( i = 0; i <= 5; ++i )
            *((_DWORD *)v4 + i + 3) = __lc_handle[i];
          *((_DWORD *)v4 + 9) = __lc_clike;
          *((_DWORD *)v4 + 10) = __mb_cur_max;
          *((_DWORD *)v4 + 11) = __lconv_intl_refcount;
          *((_DWORD *)v4 + 12) = __lconv_num_refcount;
          *((_DWORD *)v4 + 13) = __lconv_mon_refcount;
          *((_DWORD *)v4 + 14) = __lconv;
          *((_DWORD *)v4 + 15) = __lconv_intl;
          *((_DWORD *)v4 + 16) = __ctype1_refcount;
          *((_DWORD *)v4 + 17) = __ctype1;
          *((_DWORD *)v4 + 18) = _pctype;
          *((_DWORD *)v4 + 19) = __lc_time_curr;
          *((_DWORD *)v4 + 20) = __lc_time_intl;
          if ( !___ptlocinfo->refcount && (_UNKNOWN *)___ptlocinfo != &__initiallocinfo )
            __freetlocinfo(___ptlocinfo);
          ___ptlocinfo = (threadlocaleinfostruct *)v4;
          _updatetlocinfo_lk();
        }
      }
      else
      {
        retval = 0;
      }
      if ( !retval )
      {
        if ( v4 )
          free(v4);
      }
      ms_exc.disabled = -1;
      _unlock(12);
    }
    else
    {
      v2 = setlocale_lk(_category, 0);
      _local_unwind2((int)&ms_exc.prev_er, -1);
      result = v2;
    }
  }
  return result;
}
// 4713EC: using guessed type char *__lconv;
// 471C10: using guessed type int __lc_clike;
// 471C20: using guessed type char *(*__lc_time_curr)[43];
// 4C9430: using guessed type int __lc_handle[];
// 4C944C: using guessed type int __lc_collate_cp;
// 4C9484: using guessed type int __lc_time_intl;
// 4C9524: using guessed type int __lconv_mon_refcount;
// 4C952C: using guessed type int __lconv_num_refcount;
// 4C98A8: using guessed type int __ctype1;
// 4C98AC: using guessed type int __ctype1_refcount;

//----- (004434E0) --------------------------------------------------------
int __cdecl memcmp(const void *Buf1, const void *Buf2, size_t Size)
{
  int result; // eax@1
  const void *v4; // esi@2
  const void *v5; // edi@2
  bool v6; // cf@4
  unsigned __int8 v7; // cl@7
  unsigned __int8 v8; // dl@7
  bool v9; // zf@10
  size_t v10; // ecx@10
  unsigned int v11; // ecx@14
  unsigned int v12; // edx@14
  unsigned int v13; // ecx@16
  unsigned int v14; // edx@16
  int v15; // edx@20
  int v16; // ecx@20
  int v17; // ecx@24
  int v18; // edx@24

  result = Size;
  if ( !Size )
    return result;
  v4 = Buf1;
  v5 = Buf2;
  if ( !(((unsigned __int8)Buf2 | (unsigned __int8)Buf1) & 3) )
  {
    result = Size & 3;
    v10 = Size >> 2;
    v9 = Size >> 2 == 0;
    if ( !(Size >> 2) )
      goto LABEL_28;
    do
    {
      if ( !v10 )
        break;
      v9 = *(_DWORD *)v4 == *(_DWORD *)v5;
      v4 = (char *)v4 + 4;
      v5 = (char *)v5 + 4;
      --v10;
    }
    while ( v9 );
    if ( v9 )
    {
LABEL_28:
      if ( !result )
        return result;
      v15 = *(_DWORD *)v4;
      v16 = *(_DWORD *)v5;
      v6 = (unsigned __int8)*(_DWORD *)v4 < (unsigned __int8)*(_DWORD *)v5;
      if ( (unsigned __int8)*(_DWORD *)v4 == (unsigned __int8)*(_DWORD *)v5 )
      {
        --result;
        if ( !result )
          return result;
        v6 = BYTE1(v15) < BYTE1(v16);
        if ( BYTE1(v15) == BYTE1(v16) )
        {
          --result;
          if ( !result )
            return result;
          v17 = v16 & 0xFF0000;
          v18 = v15 & 0xFF0000;
          v6 = v18 < (unsigned int)v17;
          if ( v18 == v17 )
          {
            --result;
            return result;
          }
        }
      }
    }
    else
    {
      v11 = *((_DWORD *)v4 - 1);
      v12 = *((_DWORD *)v5 - 1);
      v6 = (unsigned __int8)v11 < (unsigned __int8)v12;
      if ( (_BYTE)v11 == (_BYTE)v12 )
      {
        v6 = BYTE1(v11) < BYTE1(v12);
        if ( BYTE1(v11) == BYTE1(v12) )
        {
          v13 = v11 >> 16;
          v14 = v12 >> 16;
          v6 = (unsigned __int8)v13 < (unsigned __int8)v14;
          if ( (_BYTE)v13 == (_BYTE)v14 )
            v6 = BYTE1(v13) < BYTE1(v14);
        }
      }
    }
    return -v6 - (v6 - 1);
  }
  if ( !(Size & 1) )
  {
main_loop_4:
    while ( 1 )
    {
      v6 = *(_BYTE *)v4 < *(_BYTE *)v5;
      if ( *(_BYTE *)v4 != *(_BYTE *)v5 )
        break;
      v7 = *((_BYTE *)v4 + 1);
      v8 = *((_BYTE *)v5 + 1);
      v6 = v7 < v8;
      if ( v7 != v8 )
        break;
      v5 = (char *)v5 + 2;
      v4 = (char *)v4 + 2;
      result -= 2;
      if ( !result )
        return result;
    }
    return -v6 - (v6 - 1);
  }
  v6 = *(_BYTE *)Buf1 < *(_BYTE *)Buf2;
  if ( *(_BYTE *)Buf1 != *(_BYTE *)Buf2 )
    return -v6 - (v6 - 1);
  v4 = (char *)Buf1 + 1;
  v5 = (char *)Buf2 + 1;
  result = Size - 1;
  if ( Size != 1 )
    goto main_loop_4;
  return result;
}

//----- (004435A0) --------------------------------------------------------
void *__cdecl memset(void *Dst, int Val, size_t Size)
{
  size_t v3; // edx@1
  int v4; // eax@2
  void *v5; // edi@2
  int v6; // ecx@3
  unsigned int v7; // ecx@6
  unsigned int v8; // ecx@6
  void *result; // eax@9

  v3 = Size;
  if ( Size )
  {
    LOBYTE(v4) = Val;
    v5 = Dst;
    if ( Size < 4 )
      goto LABEL_13;
    v6 = -(signed int)Dst & 3;
    if ( v6 )
    {
      v3 = Size - v6;
      do
      {
        *(_BYTE *)v5 = Val;
        v5 = (char *)v5 + 1;
        --v6;
      }
      while ( v6 );
    }
    v4 = 16843009 * (unsigned __int8)Val;
    v7 = v3;
    v3 &= 3u;
    v8 = v7 >> 2;
    if ( !v8 || (memset32(v5, v4, v8), v5 = (char *)v5 + 4 * v8, v3) )
    {
LABEL_13:
      do
      {
        *(_BYTE *)v5 = v4;
        v5 = (char *)v5 + 1;
        --v3;
      }
      while ( v3 );
    }
    result = Dst;
  }
  else
  {
    result = Dst;
  }
  return result;
}

//----- (00443600) --------------------------------------------------------
void __cdecl abort()
{
  _NMSG_WRITE(10);
  raise(22);
  _exit(3);
}

//----- (00443618) --------------------------------------------------------
unsigned int __stdcall __crtTlsAlloc(void (__stdcall *lpCallBack)(void *))
{
  return TlsAlloc();
}

//----- (00443621) --------------------------------------------------------
void __cdecl _mtterm()
{
  if ( __tlsindex != -1 )
  {
    gpFlsFree(__tlsindex);
    __tlsindex = -1;
  }
  _mtdeletelocks();
}
// 4C91B0: using guessed type int (__stdcall *gpFlsFree)(_DWORD);

//----- (0044363E) --------------------------------------------------------
void __cdecl _initptd(_tiddata *ptd)
{
  ptd->_pxcptacttab = &_XcptActTab;
  ptd->_holdrand = 1;
}

//----- (00443651) --------------------------------------------------------
_tiddata *__cdecl _getptd()
{
  DWORD v0; // ebx@1
  int v1; // esi@1
  void *v2; // eax@2
  DWORD v3; // eax@4

  v0 = GetLastError();
  v1 = gpFlsGetValue(__tlsindex);
  if ( !v1 )
  {
    v2 = calloc(1u, 0x8Cu);
    v1 = (int)v2;
    if ( !v2 || !gpFlsSetValue(__tlsindex, v2) )
      _amsg_exit(16);
    *(_DWORD *)(v1 + 84) = &_XcptActTab;
    *(_DWORD *)(v1 + 20) = 1;
    v3 = GetCurrentThreadId();
    *(_DWORD *)(v1 + 4) = -1;
    *(_DWORD *)v1 = v3;
  }
  SetLastError(v0);
  return (_tiddata *)v1;
}
// 471700: using guessed type int __tlsindex;
// 4C91A8: using guessed type int (__stdcall *gpFlsGetValue)(_DWORD);
// 4C91AC: using guessed type int (__stdcall *gpFlsSetValue)(_DWORD, _DWORD);

//----- (004436C2) --------------------------------------------------------
void __stdcall _freefls(void *data)
{
  void *v1; // eax@16
  bool v2; // zf@17

  if ( data )
  {
    if ( *((_DWORD *)data + 9) )
      free(*((void **)data + 9));
    if ( *((_DWORD *)data + 11) )
      free(*((void **)data + 11));
    if ( *((_DWORD *)data + 13) )
      free(*((void **)data + 13));
    if ( *((_DWORD *)data + 15) )
      free(*((void **)data + 15));
    if ( *((_DWORD *)data + 17) )
      free(*((void **)data + 17));
    if ( *((_DWORD *)data + 18) )
      free(*((void **)data + 18));
    if ( *((_UNKNOWN **)data + 21) != &_XcptActTab )
      free(*((void **)data + 21));
    _lock(13);
    v1 = (void *)*((_DWORD *)data + 24);
    if ( v1 )
    {
      v2 = (*(_DWORD *)v1)-- == 1;
      if ( v2 )
      {
        if ( v1 != ___ptmbcinfo )
          free(v1);
      }
    }
    _unlock(13);
  }
}

//----- (00443809) --------------------------------------------------------
void __cdecl _freeptd(_tiddata *ptd)
{
  void *v1; // eax@2

  if ( __tlsindex != -1 )
  {
    v1 = ptd;
    if ( !ptd )
      v1 = (void *)gpFlsGetValue(__tlsindex);
    _freefls(v1);
    gpFlsSetValue(__tlsindex, 0);
  }
}
// 4C91A8: using guessed type int (__stdcall *gpFlsGetValue)(_DWORD);
// 4C91AC: using guessed type int (__stdcall *gpFlsSetValue)(_DWORD, _DWORD);

//----- (00443838) --------------------------------------------------------
int __cdecl _mtinit()
{
  int result; // eax@2
  HINSTANCE__ *v1; // eax@3
  HINSTANCE__ *v2; // edi@3
  void *v3; // eax@7
  void *v4; // esi@7
  DWORD v5; // eax@9

  if ( _mtinitlocks() )
  {
    v1 = GetModuleHandleA("kernel32.dll");
    v2 = v1;
    if ( v1 )
    {
      gpFlsAlloc = (int (__stdcall *)(_DWORD))GetProcAddress(v1, "FlsAlloc");
      gpFlsGetValue = (int (__stdcall *)(_DWORD))GetProcAddress(v2, "FlsGetValue");
      gpFlsSetValue = (int (__stdcall *)(_DWORD, _DWORD))GetProcAddress(v2, "FlsSetValue");
      gpFlsFree = (int (__stdcall *)(_DWORD))GetProcAddress(v2, "FlsFree");
      if ( !gpFlsGetValue )
      {
        gpFlsGetValue = (int (__stdcall *)(_DWORD))TlsGetValue;
        gpFlsSetValue = (int (__stdcall *)(_DWORD, _DWORD))TlsSetValue;
        gpFlsAlloc = (int (__stdcall *)(_DWORD))__crtTlsAlloc;
        gpFlsFree = TlsFree;
      }
    }
    __tlsindex = gpFlsAlloc(_freefls);
    if ( __tlsindex != -1 && (v3 = calloc(1u, 0x8Cu), (v4 = v3) != 0) && gpFlsSetValue(__tlsindex, v3) )
    {
      *((_DWORD *)v4 + 21) = &_XcptActTab;
      *((_DWORD *)v4 + 5) = 1;
      v5 = GetCurrentThreadId();
      *((_DWORD *)v4 + 1) = -1;
      *(_DWORD *)v4 = v5;
      result = 1;
    }
    else
    {
      _mtterm();
      result = 0;
    }
  }
  else
  {
    _mtterm();
    result = 0;
  }
  return result;
}
// 4C91A4: using guessed type int (__stdcall *gpFlsAlloc)(_DWORD);
// 4C91A8: using guessed type int (__stdcall *gpFlsGetValue)(_DWORD);
// 4C91AC: using guessed type int (__stdcall *gpFlsSetValue)(_DWORD, _DWORD);
// 4C91B0: using guessed type int (__stdcall *gpFlsFree)(_DWORD);

//----- (00443927) --------------------------------------------------------
void __cdecl terminate()
{
  _tiddata *v0; // eax@2

  if ( _getptd()->_terminate )
  {
    v0 = _getptd();
    ((void (*)(void))v0->_terminate)();
  }
  abort();
}

//----- (0044395C) --------------------------------------------------------
void __cdecl _inconsistency()
{
  if ( __pInconsistency )
  {
    __pInconsistency();
    JUMPOUT(*(int *)unk_443977);
  }
  terminate();
}
// 443977: using guessed type void __cdecl unk_443977();
// 471704: using guessed type void (__cdecl *__pInconsistency)();

//----- (00443990) --------------------------------------------------------
void __stdcall _CallSettingFrame(unsigned int funclet, unsigned int pRN, unsigned int dwInCode)
{
  int v3; // ebp@0
  int v4; // edi@0
  int v5; // esi@0
  void (__stdcall *v6)(_DWORD, _DWORD); // eax@1

  *(_DWORD *)(v3 - 4) = *(_DWORD *)(v3 + 12) + 12;
  _NLG_Notify1();
  v6(v4, v5);
  _NLG_Notify1();
}

//----- (004439DC) --------------------------------------------------------
unsigned int __cdecl __security_init_cookie()
{
  unsigned int result; // eax@1
  int v1; // esi@3
  unsigned int v2; // esi@3
  unsigned int v3; // esi@3
  _LARGE_INTEGER perfctr; // [sp+0h] [bp-10h]@3
  FT systime; // [sp+8h] [bp-8h]@3

  result = __security_cookie;
  if ( !__security_cookie || __security_cookie == -1153374642 )
  {
    GetSystemTimeAsFileTime((LPFILETIME)&systime);
    v1 = GetCurrentProcessId() ^ systime.ft_scalar ^ HIDWORD(systime.ft_scalar);
    v2 = GetCurrentThreadId() ^ v1;
    v3 = GetTickCount() ^ v2;
    QueryPerformanceCounter(&perfctr);
    result = perfctr._s0.LowPart ^ perfctr._s0.HighPart;
    __security_cookie = perfctr._s0.LowPart ^ perfctr._s0.HighPart ^ v3;
    if ( !__security_cookie )
      __security_cookie = -1153374642;
  }
  return result;
}
// 470F40: using guessed type int __security_cookie;

//----- (00443A42) --------------------------------------------------------
void __cdecl __security_error_handler(int code, void *data)
{
  const char *v2; // edi@4
  signed int v3; // esi@4
  char *v4; // ebx@8
  void *v5; // esp@10
  char v6; // [sp-21h] [bp-155h]@9
  int v7; // [sp+0h] [bp-134h]@10
  const char *msgtext; // [sp+Ch] [bp-128h]@4
  char progname[261]; // [sp+10h] [bp-124h]@6
  CPPEH_RECORD ms_exc; // [sp+11Ch] [bp-18h]@2

  if ( user_handler )
  {
    user_handler(code, data);
    ms_exc.disabled = -1;
  }
  else
  {
    if ( code == 1 )
    {
      v2 = "Buffer overrun detected!";
      msgtext = "A buffer overrun has been detected which has corrupted the program's\ninternal state.  The program cannot safely continue execution and must\nnow be terminated.\n";
      v3 = 185;
    }
    else
    {
      v2 = "Unknown security failure detected!";
      msgtext = "A security error of unknown cause has been detected which has\ncorrupted the program's internal state.  The program cannot safely\ncontinue execution and must now be terminated.\n";
      v3 = 212;
    }
    progname[260] = 0;
    if ( !GetModuleFileNameA(0, progname, 0x104u) )
      strcpy(progname, "<program name unknown>");
    v4 = progname;
    if ( strlen(progname) + 11 > 0x3C )
    {
      v4 = &v6 + strlen(progname);
      strncpy(v4, "...", 3u);
    }
    v5 = alloca(strlen(v4) + v3 + 12);
    ms_exc.old_esp = (DWORD)&v7;
    strcpy((char *)&v7, v2);
    strcat((char *)&v7, "\n\n");
    strcat((char *)&v7, "Program: ");
    strcat((char *)&v7, v4);
    strcat((char *)&v7, "\n\n");
    strcat((char *)&v7, msgtext);
    __crtMessageBoxA((const char *)&v7, "Microsoft Visual C++ Runtime Library", 0x12010u);
  }
  _exit(3);
}

//----- (00443B8A) --------------------------------------------------------
unsigned int __cdecl _msize(void *pblock)
{
  unsigned int result; // eax@2

  if ( __active_heap == 3 )
  {
    _lock(4);
    __sbh_find_block(pblock);
    _unlock(4);
  }
  else
  {
    result = HeapSize(_crtheap, 0, pblock);
  }
  return result;
}
// 4C9784: using guessed type int __active_heap;

//----- (00443C00) --------------------------------------------------------
int __cdecl _flsbuf(int ch, _iobuf *str)
{
  _iobuf *v2; // esi@1
  int v3; // eax@1
  signed int v4; // ebx@1
  int v5; // eax@6
  int v6; // eax@6
  const void *v7; // eax@12
  char *v8; // edi@12
  unsigned int v9; // edi@12
  int v10; // eax@15

  v2 = str;
  v3 = str->_flag;
  v4 = str->_file;
  if ( !(v3 & 0x82) || v3 & 0x40 )
    goto LABEL_28;
  if ( !(v3 & 1) )
    goto LABEL_6;
  str->_cnt = 0;
  if ( !(v3 & 0x10) )
  {
LABEL_28:
    v2->_flag = v3 | 0x20;
    return -1;
  }
  v2->_ptr = v2->_base;
  v2->_flag = v3 & 0xFFFFFFFE;
LABEL_6:
  v5 = v2->_flag;
  v2->_cnt = 0;
  str = 0;
  v6 = v5 & 0xFFFFFFEF | 2;
  v2->_flag = v6;
  if ( !(v6 & 0x10C) && ((_UNKNOWN *)v2 != &unk_470FB0 && (_UNKNOWN *)v2 != &unk_470FD0 || !_isatty(v4)) )
    _getbuf(v2);
  if ( v2->_flag & 0x108 )
  {
    v7 = v2->_base;
    v8 = v2->_ptr;
    v2->_ptr = (char *)v7 + 1;
    v9 = v8 - v7;
    v2->_cnt = v2->_bufsiz - 1;
    if ( (signed int)v9 <= 0 )
    {
      if ( v4 == -1 )
        v10 = (int)&__badioinfo;
      else
        v10 = __pioinfo[v4 >> 5] + 36 * (v4 & 0x1F);
      if ( *(_BYTE *)(v10 + 4) & 0x20 )
        _lseek(v4, 0, 2);
    }
    else
    {
      str = (_iobuf *)_write(v4, v7, v9);
    }
    *v2->_base = ch;
  }
  else
  {
    v9 = 1;
    str = (_iobuf *)_write(v4, &ch, 1u);
  }
  if ( str == (_iobuf *)v9 )
    return (unsigned __int8)ch;
  v2->_flag |= 0x20u;
  return -1;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00443D19) --------------------------------------------------------
void __usercall write_char(char ch<al>, _iobuf *f<ecx>, int *pnumwritten<esi>)
{
  bool v3; // sf@3

  if ( f->_flag & 0x40 && !f->_base
    || ((v3 = f->_cnt - 1 < 0, --f->_cnt, v3) ? (*(_DWORD *)&ch = _flsbuf(ch, f)) : (*f->_ptr = ch,
                                                                                     ++f->_ptr,
                                                                                     *(_DWORD *)&ch = (unsigned __int8)ch),
        ch != -1) )
    ++*pnumwritten;
  else
    *pnumwritten = -1;
}

//----- (00443D4C) --------------------------------------------------------
void __usercall write_multi_char(int *pnumwritten<eax>, char ch, int num, _iobuf *f)
{
  int *v4; // esi@1

  v4 = pnumwritten;
  do
  {
    if ( num <= 0 )
      break;
    --num;
    write_char(ch, f, v4);
  }
  while ( *v4 != -1 );
}

//----- (00443D70) --------------------------------------------------------
void __usercall write_string(char *string<ecx>, _iobuf *f<edi>, int *pnumwritten<eax>, int len)
{
  int *v4; // esi@1
  char *v5; // ebx@1

  v4 = pnumwritten;
  v5 = string;
  if ( !(f->_flag & 0x40) || f->_base )
  {
    do
    {
      if ( len <= 0 )
        break;
      --len;
      write_char(*v5++, f, v4);
    }
    while ( *v4 != -1 );
  }
  else
  {
    *pnumwritten += len;
  }
}

//----- (00443DA7) --------------------------------------------------------
int __cdecl _output(_iobuf *stream, const char *format, char *argptr)
{
  char v3; // bl@1
  int v4; // ecx@1
  const char *v5; // edi@2
  int v6; // edi@4
  int v7; // eax@7
  char v8; // al@37
  signed int v9; // ecx@63
  int v10; // eax@65
  char *v11; // eax@68
  $C8014B43F160BFD769FAE3F15553333C *v12; // esi@70
  DOUBLE v13; // qax@83
  int v14; // eax@86
  char *v15; // ecx@87
  signed int v16; // eax@88
  void *v17; // eax@98
  char *j; // eax@117
  int v19; // eax@128
  unsigned int v20; // ebx@143
  unsigned int v21; // edi@143
  char *i; // esi@151
  int v23; // eax@152
  unsigned __int64 v24; // ST04_8@154
  unsigned __int64 v25; // qcx@154
  signed int v26; // ecx@154
  char *v27; // eax@157
  char *v28; // esi@157
  char v29; // bl@163
  int v30; // esi@171
  char *v31; // ebx@178
  int v32; // eax@179
  DOUBLE tmp; // [sp+4h] [bp-80h]@101
  unsigned int count; // [sp+10h] [bp-74h]@154
  int state; // [sp+14h] [bp-70h]@3
  int capexp; // [sp+18h] [bp-6Ch]@10
  int hexadd; // [sp+1Ch] [bp-68h]@110
  int no_output; // [sp+20h] [bp-64h]@10
  void *heapbuf; // [sp+24h] [bp-60h]@1
  int bufferiswide; // [sp+28h] [bp-5Ch]@10
  int fldwidth; // [sp+2Ch] [bp-58h]@10
  int prefixlen; // [sp+30h] [bp-54h]@10
  char prefix[2]; // [sp+34h] [bp-50h]@125
  int charsout; // [sp+38h] [bp-4Ch]@1
  unsigned int radix; // [sp+3Ch] [bp-48h]@1
  $519E2A0ABDBAFFC353FD5D86715BA24D text; // [sp+40h] [bp-44h]@65
  int precision; // [sp+44h] [bp-40h]@10
  int flags; // [sp+48h] [bp-3Ch]@10
  $C8014B43F160BFD769FAE3F15553333C buffer; // [sp+4Ch] [bp-38h]@70
  char string; // [sp+24Ch] [bp+1C8h]@179
  int formata; // [sp+264h] [bp+1E0h]@4

  radix = 0;
  charsout = 0;
  heapbuf = 0;
  v3 = *format;
  v4 = 0;
  if ( *format )
  {
    v5 = format;
    while ( 1 )
    {
      v6 = (int)(v5 + 1);
      formata = v6;
      if ( charsout < 0 )
        return charsout;
      if ( v3 < 32 || v3 > 120 )
        v7 = 0;
      else
        v7 = *((_BYTE *)&stru_464FB0.EnclosingLevel + v3) & 0xF;
      state = *(&__lookuptable[8 * v7] + v4) >> 4;
      switch ( state )
      {
        case 1:
          precision = -1;
          capexp = 0;
          no_output = 0;
          fldwidth = 0;
          prefixlen = 0;
          flags = 0;
          bufferiswide = 0;
          goto LABEL_187;
        case 2:
          switch ( v3 )
          {
            case 32:
              flags |= 2u;
              break;
            case 35:
              LOBYTE(flags) = flags | 0x80;
              break;
            case 43:
              flags |= 1u;
              break;
            case 45:
              flags |= 4u;
              break;
            case 48:
              flags |= 8u;
              break;
          }
          goto LABEL_187;
        case 3:
          if ( v3 == 42 )
          {
            argptr += 4;
            fldwidth = *((_DWORD *)argptr - 1);
            if ( fldwidth < 0 )
            {
              flags |= 4u;
              fldwidth = -fldwidth;
            }
          }
          else
          {
            fldwidth = v3 + 10 * fldwidth - 48;
          }
          goto LABEL_187;
        case 4:
          precision = 0;
          goto LABEL_187;
        case 5:
          if ( v3 == 42 )
          {
            argptr += 4;
            precision = *((_DWORD *)argptr - 1);
            if ( precision < 0 )
              precision = -1;
          }
          else
          {
            precision = v3 + 10 * precision - 48;
          }
          goto LABEL_187;
        case 6:
          switch ( v3 )
          {
            case 73:
              v8 = *(_BYTE *)v6;
              if ( *(_BYTE *)v6 != 54 || *(_BYTE *)(v6 + 1) != 52 )
              {
                if ( v8 != 51 || *(_BYTE *)(v6 + 1) != 50 )
                {
                  if ( v8 != 100 && v8 != 105 && v8 != 111 && v8 != 117 && v8 != 120 && v8 != 88 )
                  {
                    state = 0;
NORMAL_STATE:
                    bufferiswide = 0;
                    if ( HIBYTE(_pctype[(unsigned __int8)v3]) & 0x80 )
                    {
                      write_char(v3, stream, &charsout);
                      v3 = *(_BYTE *)v6;
                      formata = v6 + 1;
                    }
                    write_char(v3, stream, &charsout);
                  }
                }
                else
                {
                  BYTE1(flags) &= 0x7Fu;
                  formata = v6 + 2;
                }
              }
              else
              {
                BYTE1(flags) |= 0x80u;
                formata = v6 + 2;
              }
              break;
            case 104:
              flags |= 0x20u;
              break;
            case 108:
              flags |= 0x10u;
              break;
            case 119:
              BYTE1(flags) |= 8u;
              break;
          }
          goto LABEL_187;
        case 0:
          goto NORMAL_STATE;
        case 7:
          if ( v3 > 103 )
          {
            if ( v3 == 105 )
              goto LABEL_80;
            if ( v3 == 110 )
            {
              argptr += 4;
              v19 = *((_DWORD *)argptr - 1);
              if ( flags & 0x20 )
                *(_WORD *)v19 = charsout;
              else
                *(_DWORD *)v19 = charsout;
              no_output = 1;
              goto LABEL_185;
            }
            if ( v3 == 111 )
            {
              radix = 8;
              if ( flags & 0x80 )
                BYTE1(flags) |= 2u;
            }
            else
            {
              if ( v3 == 112 )
              {
                precision = 8;
LABEL_123:
                hexadd = 7;
              }
              else
              {
                if ( v3 == 115 )
                  goto LABEL_63;
                if ( v3 == 117 )
                  goto LABEL_81;
                if ( v3 != 120 )
                  goto LABEL_162;
                hexadd = 39;
              }
              radix = 16;
              if ( flags & 0x80 )
              {
                prefix[0] = 48;
                prefix[1] = hexadd + 81;
                prefixlen = 2;
              }
            }
COMMON_INT:
            if ( flags & 0x8000 )
            {
              COERCE_DOUBLE(v13.x) = *(DOUBLE *)argptr;
              argptr += 8;
            }
            else
            {
              argptr += 4;
              if ( flags & 0x20 )
              {
                if ( flags & 0x40 )
                  LODWORD(v13.x) = *((_WORD *)argptr - 2);
                else
                  LODWORD(v13.x) = *((_WORD *)argptr - 2);
              }
              else
              {
                LODWORD(v13.x) = *((_DWORD *)argptr - 1);
                if ( !(flags & 0x40) )
                {
                  HIDWORD(v13.x) = 0;
                  goto LABEL_139;
                }
              }
              COERCE_DOUBLE(v13.x) = (DOUBLE)(signed int)v13.x;
            }
LABEL_139:
            if ( flags & 0x40 && SHIDWORD(v13.x) <= 0 && SHIDWORD(v13.x) < 0 )
            {
              COERCE_DOUBLE(v13.x) = (DOUBLE)-(signed __int64)v13.x;
              BYTE1(flags) |= 1u;
            }
            v21 = HIDWORD(v13.x);
            v20 = (unsigned int)v13.x;
            if ( !(flags & 0x8000) )
              v21 = 0;
            if ( precision >= 0 )
            {
              flags &= 0xFFFFFFF7u;
              if ( precision > 512 )
                precision = 512;
            }
            else
            {
              precision = 1;
            }
            if ( !(v21 | (unsigned int)v13.x) )
              prefixlen = 0;
            for ( i = &buffer.sz[511]; ; --i )
            {
              v23 = precision--;
              if ( v23 <= 0 )
              {
                if ( !(v21 | v20) )
                  break;
              }
              v24 = __PAIR__(v21, v20);
              v25 = __PAIR__(v21, v20) % (signed int)radix;
              v26 = v25 + 48;
              count = HIDWORD(v25);
              v21 = v24 / (signed int)radix >> 32;
              v20 = v24 / (signed int)radix;
              if ( v26 > 57 )
                LOBYTE(v26) = hexadd + v26;
              *i = v26;
            }
            v27 = (char *)(&buffer.sz[511] - i);
            v28 = i + 1;
            radix = (unsigned int)v27;
            text.sz = v28;
            if ( BYTE1(flags) & 2 && (*v28 != 48 || !v27) )
            {
              --text.sz;
              *text.sz = 48;
              v16 = (signed int)(v27 + 1);
              goto LABEL_161;
            }
            goto LABEL_162;
          }
          if ( v3 >= 101 )
            goto LABEL_70;
          if ( v3 > 88 )
          {
            if ( v3 == 90 )
            {
              argptr += 4;
              v14 = *((_DWORD *)argptr - 1);
              if ( v14 && (v15 = *(char **)(v14 + 4)) != 0 )
              {
                v16 = *(_WORD *)v14;
                text.sz = v15;
                if ( BYTE1(flags) & 8 )
                {
                  v16 /= 2;
                  bufferiswide = 1;
                }
                else
                {
                  bufferiswide = 0;
                }
              }
              else
              {
                text.sz = __nullstring;
                v16 = strlen(__nullstring);
              }
              goto LABEL_161;
            }
            if ( v3 == 99 )
              goto LABEL_74;
            if ( v3 != 100 )
              goto LABEL_162;
LABEL_80:
            flags |= 0x40u;
LABEL_81:
            radix = 10;
            goto COMMON_INT;
          }
          if ( v3 == 88 )
            goto LABEL_123;
          if ( v3 == 67 )
          {
            if ( !(flags & 0x830) )
              BYTE1(flags) |= 8u;
LABEL_74:
            argptr += 4;
            if ( flags & 0x810 )
            {
              radix = wctomb(buffer.sz, *((_WORD *)argptr - 2));
              if ( (radix & 0x80000000u) != 0 )
                no_output = 1;
            }
            else
            {
              buffer.sz[0] = *(argptr - 4);
              radix = 1;
            }
            text.sz = (char *)&buffer;
            goto LABEL_162;
          }
          if ( v3 == 69 || v3 == 71 )
          {
            capexp = 1;
            v3 += 32;
LABEL_70:
            flags |= 0x40u;
            v12 = &buffer;
            text.sz = (char *)&buffer;
            if ( precision >= 0 )
            {
              if ( precision )
              {
                if ( precision > 512 )
                  precision = 512;
                if ( precision > 163 )
                {
                  v17 = malloc(precision + 349);
                  heapbuf = v17;
                  if ( v17 )
                  {
                    text.sz = (char *)v17;
                    v12 = ($C8014B43F160BFD769FAE3F15553333C *)v17;
                  }
                  else
                  {
                    precision = 163;
                  }
                }
              }
              else
              {
                if ( v3 == 103 )
                  precision = 1;
              }
            }
            else
            {
              precision = 6;
            }
            COERCE_DOUBLE(tmp.x) = *(DOUBLE *)argptr;
            _cfltcvt_tab(&tmp, v12, v3, precision, capexp);
            JUMPOUT(*(int *)loc_444223);
          }
          if ( v3 == 83 )
          {
            if ( !(flags & 0x830) )
              BYTE1(flags) |= 8u;
LABEL_63:
            v9 = precision;
            if ( precision == -1 )
              v9 = 2147483647;
            argptr += 4;
            v10 = *((_DWORD *)argptr - 1);
            text.sz = (char *)*((_DWORD *)argptr - 1);
            if ( flags & 0x810 )
            {
              if ( !v10 )
                text.sz = (char *)__wnullstring;
              v11 = text.sz;
              bufferiswide = 1;
              while ( v9 )
              {
                --v9;
                if ( !*(_WORD *)v11 )
                  break;
                v11 += 2;
              }
              v16 = (signed int)(v11 - text.sz) >> 1;
            }
            else
            {
              if ( !v10 )
                text.sz = __nullstring;
              for ( j = text.sz; ; ++j )
              {
                if ( v9 )
                {
                  --v9;
                  if ( *j )
                    continue;
                }
                break;
              }
              v16 = j - text.sz;
            }
LABEL_161:
            radix = v16;
          }
LABEL_162:
          if ( no_output )
            goto LABEL_185;
          v29 = flags;
          if ( !(flags & 0x40) )
            goto LABEL_171;
          if ( BYTE1(flags) & 1 )
          {
            prefix[0] = 45;
LABEL_170:
            prefixlen = 1;
            goto LABEL_171;
          }
          if ( flags & 1 )
          {
            prefix[0] = 43;
            goto LABEL_170;
          }
          if ( flags & 2 )
          {
            prefix[0] = 32;
            goto LABEL_170;
          }
LABEL_171:
          v30 = fldwidth - prefixlen - radix;
          if ( !(flags & 0xC) )
            write_multi_char(32, fldwidth - prefixlen - radix, stream, &charsout);
          write_string(prefix, prefixlen, stream, &charsout);
          if ( v29 & 8 && !(v29 & 4) )
            write_multi_char(48, v30, stream, &charsout);
          if ( bufferiswide && (signed int)radix > 0 )
          {
            v31 = text.sz;
            count = radix;
            do
            {
              --count;
              v32 = wctomb(&string, *(_WORD *)v31);
              v31 += 2;
              if ( v32 <= 0 )
                break;
              write_string(&string, v32, stream, &charsout);
            }
            while ( count );
          }
          else
          {
            write_string(text.sz, radix, stream, &charsout);
          }
          if ( flags & 4 )
            write_multi_char(32, v30, stream, &charsout);
LABEL_185:
          if ( heapbuf )
          {
            free(heapbuf);
            heapbuf = 0;
          }
LABEL_187:
          v5 = (const char *)formata;
          v3 = *(_BYTE *)formata;
          if ( !*(_BYTE *)formata )
            return charsout;
          v4 = state;
          break;
        default:
          goto LABEL_187;
      }
    }
  }
  return charsout;
}
// 444223: using guessed type int __cdecl(int stream, int format, int argptr);
// 464FB0: using guessed type _SCOPETABLE_ENTRY stru_464FB0;
// 471710: using guessed type char *__nullstring;
// 471714: using guessed type wchar_t *__wnullstring;
// 471960: using guessed type int (__cdecl *_cfltcvt_tab)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004445A1) --------------------------------------------------------
int __cdecl __isctype_mt(threadlocaleinfostruct *ptloci, int c, int mask)
{
  int v3; // ecx@0
  int v4; // eax@2
  int v5; // edx@3
  int v6; // eax@4
  int result; // eax@6
  int buffer; // [sp+0h] [bp-4h]@1

  buffer = v3;
  if ( (unsigned int)(c + 1) <= 0x100 )
  {
    v4 = ptloci->pctype[c];
    return mask & v4;
  }
  v5 = c >> 8;
  if ( HIBYTE(ptloci->pctype[BYTE1(c)]) & 0x80 )
  {
    *(_WORD *)((char *)&buffer + 1) = (unsigned __int8)c;
    LOBYTE(buffer) = v5;
    v6 = 2;
  }
  else
  {
    LOWORD(buffer) = (unsigned __int8)c;
    v6 = 1;
  }
  result = __crtGetStringTypeA(
             1u,
             (const char *)&buffer,
             v6,
             (unsigned __int16 *)&c + 1,
             ptloci->lc_codepage,
             ptloci->lc_handle[2],
             1);
  if ( result )
  {
    v4 = HIWORD(c);
    return mask & v4;
  }
  return result;
}

//----- (00444618) --------------------------------------------------------
int __stdcall __CxxUnhandledExceptionFilter(_EXCEPTION_POINTERS *pPtrs)
{
  _EXCEPTION_RECORD *v1; // eax@1
  unsigned int v2; // eax@3
  int result; // eax@8

  v1 = pPtrs->ExceptionRecord;
  if ( pPtrs->ExceptionRecord->ExceptionCode == -529697949 )
  {
    if ( v1->NumberParameters == 3 )
    {
      v2 = v1->ExceptionInformation[0];
      if ( v2 == 429065504 || v2 == 429065505 )
        terminate();
    }
  }
  if ( pOldExceptFilter && _ValidateExecute((int (__stdcall *)())pOldExceptFilter) )
    result = pOldExceptFilter(pPtrs);
  else
    result = 0;
  return result;
}

//----- (00444666) --------------------------------------------------------
int __cdecl __CxxSetUnhandledExceptionFilter()
{
  pOldExceptFilter = SetUnhandledExceptionFilter(__CxxUnhandledExceptionFilter);
  return 0;
}

//----- (00444679) --------------------------------------------------------
LPTOP_LEVEL_EXCEPTION_FILTER __cdecl __CxxRestoreUnhandledExceptionFilter()
{
  return SetUnhandledExceptionFilter(pOldExceptFilter);
}

//----- (00444686) --------------------------------------------------------
int __cdecl _close_lk(int fh)
{
  int v1; // edi@4
  int v2; // eax@5
  unsigned int v3; // edi@6
  int result; // eax@9

  if ( _get_osfhandle(fh) == -1
    || (fh == 1 || fh == 2) && (v1 = _get_osfhandle(2), _get_osfhandle(1) == v1)
    || (v2 = _get_osfhandle(fh), CloseHandle((HANDLE)v2)) )
    v3 = 0;
  else
    v3 = GetLastError();
  _free_osfhnd(fh);
  *(_BYTE *)(__pioinfo[fh >> 5] + 36 * (fh & 0x1F) + 4) = 0;
  if ( v3 )
  {
    _dosmaperr(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00444709) --------------------------------------------------------
int __cdecl _close(int fh)
{
  int v1; // esi@2
  int result; // eax@6

  if ( fh < _nhandle && (v1 = 36 * (fh & 0x1F), *(_BYTE *)(__pioinfo[fh >> 5] + v1 + 4) & 1) )
  {
    _lock_fhandle(fh);
    if ( *(_BYTE *)(__pioinfo[fh >> 5] + v1 + 4) & 1 )
      _close_lk(fh);
    else
      *_errno() = 9;
    _unlock_fhandle(fh);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (004447A4) --------------------------------------------------------
void __cdecl _freebuf(_iobuf *stream)
{
  int v1; // eax@1

  v1 = stream->_flag;
  if ( v1 & 0x83 )
  {
    if ( v1 & 8 )
    {
      free(stream->_base);
      LOWORD(stream->_flag) &= 0xFBF7u;
      stream->_ptr = 0;
      stream->_base = 0;
      stream->_cnt = 0;
    }
  }
}

//----- (004447CF) --------------------------------------------------------
int __cdecl _filbuf(_iobuf *str)
{
  int v1; // eax@1
  int v2; // eax@5
  int v3; // eax@8
  int v4; // edx@10
  int v5; // ecx@11
  _UNKNOWN *v6; // edi@12
  int v7; // ecx@17
  char *v8; // ecx@20
  int result; // eax@20

  v1 = str->_flag;
  if ( !(v1 & 0x83) || v1 & 0x40 )
    return -1;
  if ( v1 & 2 )
  {
    str->_flag = v1 | 0x20;
    return -1;
  }
  v2 = v1 | 1;
  str->_flag = v2;
  if ( v2 & 0x10C )
    str->_ptr = str->_base;
  else
    _getbuf(str);
  v3 = _read(str->_file, str->_base, str->_bufsiz);
  str->_cnt = v3;
  if ( !v3 || v3 == -1 )
  {
    str->_flag |= v3 != 0 ? 32 : 16;
    str->_cnt = 0;
    return -1;
  }
  v4 = str->_flag;
  if ( !(v4 & 0x82) )
  {
    v5 = str->_file;
    v6 = v5 == -1 ? &__badioinfo : __pioinfo[v5 >> 5] + 36 * (v5 & 0x1F);
    if ( (*((_BYTE *)v6 + 4) & 0x82) == -126 )
      str->_flag = v4 | 0x2000;
  }
  if ( str->_bufsiz == 512 )
  {
    v7 = str->_flag;
    if ( v7 & 8 )
    {
      if ( !(BYTE1(v7) & 4) )
        str->_bufsiz = 4096;
    }
  }
  v8 = str->_ptr;
  str->_cnt = v3 - 1;
  result = (unsigned __int8)*v8;
  str->_ptr = v8 + 1;
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (004448B0) --------------------------------------------------------
_iobuf *__cdecl _openfile(const char *filename, const char *mode, int shflag, _iobuf *str)
{
  const char *v4; // edi@1
  const char v5; // al@1
  signed int v6; // ecx@4
  int v7; // esi@5
  signed int v8; // edx@8
  int v9; // eax@10
  int v10; // eax@12
  int v11; // eax@13
  int v12; // eax@14
  int v13; // eax@26
  int v14; // eax@27
  int v15; // eax@28
  int v16; // ecx@40
  _iobuf *result; // eax@41
  signed int commodeset; // [sp+Ch] [bp-8h]@1
  signed int scanset; // [sp+10h] [bp-4h]@1

  v4 = mode;
  v5 = *mode;
  commodeset = 0;
  scanset = 0;
  if ( *mode == 97 )
  {
    v6 = 265;
LABEL_7:
    v7 = _commode | 2;
    goto LABEL_8;
  }
  if ( v5 != 114 )
  {
    if ( v5 != 119 )
      goto LABEL_41;
    v6 = 769;
    goto LABEL_7;
  }
  v6 = 0;
  v7 = _commode | 1;
LABEL_8:
  v8 = 1;
  while ( 1 )
  {
    ++v4;
    LOBYTE(v9) = *v4;
    if ( !*v4 )
      break;
    if ( !v8 )
      break;
    v9 = (char)v9;
    if ( (char)v9 > 84 )
    {
      v13 = v9 - 98;
      if ( v13 )
      {
        v14 = v13 - 1;
        if ( v14 )
        {
          v15 = v14 - 11;
          if ( v15 )
          {
            if ( v15 != 6 || BYTE1(v6) & 0xC0 )
LABEL_35:
              v8 = 0;
            else
              v6 |= 0x4000u;
          }
          else
          {
            if ( commodeset )
              goto LABEL_35;
            commodeset = 1;
            v7 &= 0xFFFFBFFFu;
          }
        }
        else
        {
          if ( commodeset )
            goto LABEL_35;
          commodeset = 1;
          v7 |= 0x4000u;
        }
      }
      else
      {
        if ( BYTE1(v6) & 0xC0 )
          goto LABEL_35;
        v6 |= 0x8000u;
      }
    }
    else
    {
      if ( (char)v9 == 84 )
      {
        if ( v6 & 0x1000 )
          goto LABEL_35;
        v6 |= 0x1000u;
      }
      else
      {
        v10 = v9 - 43;
        if ( v10 )
        {
          v11 = v10 - 25;
          if ( v11 )
          {
            v12 = v11 - 14;
            if ( v12 )
            {
              if ( v12 != 1 || scanset )
                goto LABEL_35;
              scanset = 1;
              v6 |= 0x20u;
            }
            else
            {
              if ( scanset )
                goto LABEL_35;
              scanset = 1;
              v6 |= 0x10u;
            }
          }
          else
          {
            if ( v6 & 0x40 )
              goto LABEL_35;
            v6 |= 0x40u;
          }
        }
        else
        {
          if ( v6 & 2 )
            goto LABEL_35;
          v6 = v6 & 0xFFFFFFFE | 2;
          v7 = v7 & 0xFFFFFFFC | 0x80;
        }
      }
    }
  }
  v16 = _sopen(filename, v6, shflag);
  if ( v16 >= 0 )
  {
    result = str;
    ++_cflush;
    str->_flag = v7;
    str->_cnt = 0;
    str->_ptr = 0;
    str->_base = 0;
    str->_tmpfname = 0;
    str->_file = v16;
  }
  else
  {
LABEL_41:
    result = 0;
  }
  return result;
}
// 4C8FEC: using guessed type int _cflush;
// 4C9408: using guessed type int _commode;

//----- (00444A18) --------------------------------------------------------
_iobuf *__cdecl _getstream()
{
  int v0; // edi@1
  int i; // esi@1
  int v2; // eax@3
  int v3; // esi@12
  int v4; // eax@12
  _iobuf *result; // eax@18

  v0 = 0;
  _lock(1);
  for ( i = 0; i < (signed int)_nstream; ++i )
  {
    v2 = *(_DWORD *)(__piob + 4 * i);
    if ( !v2 )
    {
      v3 = 4 * i;
      *(_DWORD *)(v3 + __piob) = malloc(0x38u);
      v4 = *(_DWORD *)(v3 + __piob);
      if ( v4 )
      {
        if ( __crtInitCritSecAndSpinCount((_RTL_CRITICAL_SECTION *)(v4 + 32), 0xFA0u) )
        {
          EnterCriticalSection((LPCRITICAL_SECTION)(*(_DWORD *)(v3 + __piob) + 32));
          v0 = *(_DWORD *)(v3 + __piob);
        }
        else
        {
          free(*(void **)(v3 + __piob));
          *(_DWORD *)(v3 + __piob) = 0;
        }
      }
      break;
    }
    if ( !(*(_BYTE *)(v2 + 12) & 0x83) )
    {
      if ( i > 2 && i < 20 && !_mtinitlocknum(i + 16) )
        break;
      _lock_file2(i, *(void **)(__piob + 4 * i));
      if ( !(*(_BYTE *)(*(_DWORD *)(__piob + 4 * i) + 12) & 0x83) )
      {
        v0 = *(_DWORD *)(__piob + 4 * i);
        break;
      }
      _unlock_file2(i, *(void **)(__piob + 4 * i));
    }
  }
  if ( v0 )
  {
    *(_DWORD *)(v0 + 4) = 0;
    *(_DWORD *)(v0 + 12) = 0;
    *(_DWORD *)(v0 + 8) = 0;
    *(_DWORD *)v0 = 0;
    *(_DWORD *)(v0 + 28) = 0;
    *(_DWORD *)(v0 + 16) = -1;
  }
  _unlock(1);
  return result;
}
// 4C98C0: using guessed type int __piob;

//----- (00444BA8) --------------------------------------------------------
void __cdecl _NMSG_WRITE(int rterrnum)
{
  unsigned int v1; // eax@1
  unsigned int v2; // esi@4
  char *v3; // edi@11
  size_t v4; // ebx@13
  void *v5; // esp@13
  const char **v6; // esi@14
  DWORD v7; // ST20_4@14
  const void *v8; // ST1C_4@14
  HANDLE v9; // eax@14
  int v10; // [sp+0h] [bp-8Ch]@13
  char progname[261]; // [sp+Ch] [bp-80h]@9

  v1 = 0;
  do
  {
    if ( rterrnum == rterrs[v1].rterrno )
      break;
    ++v1;
  }
  while ( v1 < 0x13 );
  v2 = v1;
  if ( rterrnum == rterrs[v1].rterrno )
  {
    if ( __error_mode != 1 && (__error_mode || __app_type != 1) )
    {
      if ( rterrnum != 252 )
      {
        progname[260] = 0;
        if ( !GetModuleFileNameA(0, progname, 0x104u) )
          strcpy(progname, "<program name unknown>");
        v3 = progname;
        if ( strlen(progname) + 1 > 0x3C )
        {
          v3 = &progname[strlen(progname) - 59];
          strncpy(v3, "...", 3u);
        }
        v4 = strlen(v3);
        v5 = alloca(v4 + strlen(rterrs[v2].rterrtxt) + 28);
        strcpy((char *)&v10, "Runtime Error!\n\nProgram: ");
        strcat((char *)&v10, v3);
        strcat((char *)&v10, "\n\n");
        strcat((char *)&v10, rterrs[v2].rterrtxt);
        __crtMessageBoxA((const char *)&v10, "Microsoft Visual C++ Runtime Library", 0x12010u);
      }
    }
    else
    {
      v6 = (const char **)&rterrs[v2].rterrtxt;
      v7 = strlen(*v6);
      v8 = *v6;
      v9 = GetStdHandle(0xFFFFFFF4u);
      WriteFile(v9, v8, v7, (LPDWORD)&rterrnum, 0);
    }
  }
}
// 470F74: using guessed type int __app_type;
// 4C8FE0: using guessed type int __error_mode;

//----- (00444D1F) --------------------------------------------------------
void __cdecl _FF_MSGBANNER()
{
  if ( __error_mode == 1 || !__error_mode && __app_type == 1 )
  {
    _NMSG_WRITE(252);
    if ( _adbgmsg )
      _adbgmsg();
    _NMSG_WRITE(255);
  }
}
// 470F74: using guessed type int __app_type;
// 4C8FE0: using guessed type int __error_mode;
// 4C91BC: using guessed type int (*_adbgmsg)(void);

//----- (00444D58) --------------------------------------------------------
int __cdecl _XcptFilter(unsigned int xcptnum, _EXCEPTION_POINTERS *pxcptinfoptrs)
{
  _tiddata *v2; // esi@1
  void *v3; // edx@1
  unsigned int v4; // ecx@1
  void (__cdecl *v5)(_DWORD); // ebx@8
  int result; // eax@10
  int v7; // eax@12
  int v8; // edx@13
  int v9; // eax@14
  int v10; // ecx@17
  int v11; // edi@17
  void *oldpxcptinfoptrs; // [sp+Ch] [bp-4h]@12
  void (__cdecl *xcptnuma)(_DWORD); // [sp+18h] [bp+8h]@8

  v2 = _getptd();
  v3 = v2->_pxcptacttab;
  v4 = (unsigned int)v2->_pxcptacttab;
  do
  {
    if ( *(_DWORD *)v4 == xcptnum )
      break;
    v4 += 12;
  }
  while ( v4 < (unsigned int)((char *)v3 + 12 * _XcptActTabCount) );
  if ( v4 >= (unsigned int)((char *)v3 + 12 * _XcptActTabCount) || *(_DWORD *)v4 != xcptnum )
    v4 = 0;
  if ( v4 && (v5 = *(void (__cdecl **)(_DWORD))(v4 + 8), xcptnuma = *(void (__cdecl **)(_DWORD))(v4 + 8), v5) )
  {
    if ( v5 == (void (__cdecl *)(_DWORD))5 )
    {
      *(_DWORD *)(v4 + 8) = 0;
      result = 1;
    }
    else
    {
      if ( v5 != (void (__cdecl *)(_DWORD))1 )
      {
        oldpxcptinfoptrs = v2->_tpxcptinfoptrs;
        v2->_tpxcptinfoptrs = pxcptinfoptrs;
        v7 = *(_DWORD *)(v4 + 4);
        if ( v7 == 8 )
        {
          v8 = _First_FPE_Indx;
          if ( _First_FPE_Indx < _First_FPE_Indx + _Num_FPE )
          {
            v9 = 12 * _First_FPE_Indx;
            do
            {
              *(_DWORD *)((char *)v2->_pxcptacttab + v9 + 8) = 0;
              ++v8;
              v9 += 12;
            }
            while ( v8 < _First_FPE_Indx + _Num_FPE );
            v5 = xcptnuma;
          }
          v10 = *(_DWORD *)v4;
          v11 = v2->_tfpecode;
          switch ( v10 )
          {
            case -1073741682:
              v2->_tfpecode = 131;
              break;
            case -1073741680:
              v2->_tfpecode = 129;
              break;
            case -1073741679:
              v2->_tfpecode = 132;
              break;
            case -1073741677:
              v2->_tfpecode = 133;
              break;
            case -1073741683:
              v2->_tfpecode = 130;
              break;
            case -1073741681:
              v2->_tfpecode = 134;
              break;
            case -1073741678:
              v2->_tfpecode = 138;
              break;
          }
          v5(8);
          v2->_tfpecode = v11;
        }
        else
        {
          *(_DWORD *)(v4 + 8) = 0;
          v5(v7);
        }
        v2->_tpxcptinfoptrs = oldpxcptinfoptrs;
      }
      result = -1;
    }
  }
  else
  {
    result = UnhandledExceptionFilter(pxcptinfoptrs);
  }
  return result;
}
// 471830: using guessed type int _First_FPE_Indx;
// 471834: using guessed type int _Num_FPE;
// 47183C: using guessed type int _XcptActTabCount;

//----- (00444EBC) --------------------------------------------------------
char *__cdecl _wincmdln()
{
  int v0; // edi@1
  char v1[4]; // esi@3
  char v2; // al@5

  v0 = 0;
  if ( !__mbctype_initialized )
    __initmbctable();
  *(_DWORD *)v1 = _acmdln;
  if ( !_acmdln )
    *(_DWORD *)v1 = String;
  while ( 1 )
  {
    v2 = **(_BYTE **)v1;
    if ( **(_BYTE **)v1 <= 0x20u )
    {
      if ( !v2 )
        return *(char **)v1;
      if ( !v0 )
        break;
    }
    if ( v2 == 34 )
      v0 = v0 == 0;
    if ( _ismbblead((unsigned __int8)v2) )
      ++*(_DWORD *)v1;
    ++*(_DWORD *)v1;
  }
  while ( **(_BYTE **)v1 && **(_BYTE **)v1 <= 0x20u )
    ++*(_DWORD *)v1;
  return *(char **)v1;
}
// 4C98BC: using guessed type int __mbctype_initialized;

//----- (00444F19) --------------------------------------------------------
int __cdecl _setenvp()
{
  char *v0; // esi@3
  int v1; // edi@3
  void *v2; // edi@9
  char *i; // esi@11
  size_t v5; // eax@12
  int v6; // ebp@12
  void *v7; // eax@13

  if ( !__mbctype_initialized )
    __initmbctable();
  v0 = _aenvptr;
  v1 = 0;
  if ( !_aenvptr )
    return -1;
  while ( *v0 )
  {
    if ( *v0 != 61 )
      ++v1;
    v0 += strlen(v0) + 1;
  }
  v2 = malloc(4 * v1 + 4);
  _environ = (char **)v2;
  if ( !v2 )
    return -1;
  for ( i = _aenvptr; ; i += v6 )
  {
    if ( !*i )
    {
      free(_aenvptr);
      _aenvptr = 0;
      *(_DWORD *)v2 = 0;
      __env_initialized = 1;
      return 0;
    }
    v5 = strlen(i);
    v6 = v5 + 1;
    if ( *i != 61 )
      break;
LABEL_15:
    ;
  }
  v7 = malloc(v5 + 1);
  *(_DWORD *)v2 = v7;
  if ( v7 )
  {
    strcpy((char *)v7, i);
    v2 = (char *)v2 + 4;
    goto LABEL_15;
  }
  free(_environ);
  _environ = 0;
  return -1;
}
// 4C98B0: using guessed type int __env_initialized;
// 4C98BC: using guessed type int __mbctype_initialized;

//----- (00444FE0) --------------------------------------------------------
void __usercall parse_cmdline(char *cmdstart<eax>, char *args<ecx>, int *numchars<esi>, char **argv, int *numargs)
{
  int *v5; // ebx@1
  int v6; // edx@1
  char *v7; // edi@1
  char **v8; // ecx@2
  char v9; // cl@4
  int v10; // ebx@7
  char **v11; // ecx@25
  signed int v12; // ebx@27
  unsigned int v13; // edx@27
  char v14; // cl@42
  int inquote; // [sp+8h] [bp-4h]@17

  v5 = numargs;
  v6 = 0;
  *numchars = 0;
  v7 = args;
  *numargs = 1;
  if ( argv )
  {
    v8 = argv;
    ++argv;
    *v8 = v7;
  }
  do
  {
    if ( *cmdstart == 34 )
    {
      ++cmdstart;
      v6 = v6 == 0;
      v9 = 34;
    }
    else
    {
      ++*numchars;
      if ( v7 )
        *v7++ = *cmdstart;
      v9 = *cmdstart;
      v10 = (unsigned __int8)*cmdstart++;
      if ( byte_4C9561[v10] & 4 )
      {
        ++*numchars;
        if ( v7 )
          *v7++ = *cmdstart;
        ++cmdstart;
      }
      v5 = numargs;
      if ( !v9 )
      {
        --cmdstart;
        goto LABEL_17;
      }
    }
  }
  while ( v6 || v9 != 32 && v9 != 9 );
  if ( v7 )
    *(v7 - 1) = 0;
LABEL_17:
  inquote = 0;
  while ( *cmdstart )
  {
    while ( *cmdstart == 32 || *cmdstart == 9 )
      ++cmdstart;
    if ( !*cmdstart )
      break;
    if ( argv )
    {
      v11 = argv;
      ++argv;
      *v11 = v7;
    }
    ++*v5;
    while ( 1 )
    {
      v12 = 1;
      v13 = 0;
      while ( *cmdstart == 92 )
      {
        ++cmdstart;
        ++v13;
      }
      if ( *cmdstart == 34 )
      {
        if ( !(v13 & 1) )
        {
          if ( inquote && cmdstart[1] == 34 )
            ++cmdstart;
          else
            v12 = 0;
          inquote = inquote == 0;
        }
        v13 >>= 1;
      }
      for ( ; v13; --v13 )
      {
        if ( v7 )
          *v7++ = 92;
        ++*numchars;
      }
      v14 = *cmdstart;
      if ( !*cmdstart )
        break;
      if ( !inquote && (v14 == 32 || v14 == 9) )
        break;
      if ( v12 )
      {
        if ( v7 )
        {
          if ( byte_4C9561[(unsigned __int8)v14] & 4 )
          {
            *v7++ = v14;
            ++cmdstart;
            ++*numchars;
          }
          *v7++ = *cmdstart;
        }
        else
        {
          if ( byte_4C9561[(unsigned __int8)v14] & 4 )
          {
            ++cmdstart;
            ++*numchars;
          }
        }
        ++*numchars;
      }
      ++cmdstart;
    }
    if ( v7 )
      *v7++ = 0;
    ++*numchars;
    v5 = numargs;
  }
  if ( argv )
    *argv = 0;
  ++*v5;
}

//----- (0044514C) --------------------------------------------------------
int __cdecl _setargv()
{
  char *v0; // ebx@4
  int v1; // esi@6
  void *v2; // eax@6
  char **v3; // edi@6
  int result; // eax@7
  int numchars; // [sp+Ch] [bp-8h]@6
  int numargs; // [sp+10h] [bp-4h]@6

  if ( !__mbctype_initialized )
    __initmbctable();
  pgmname[260] = 0;
  GetModuleFileNameA(0, pgmname, 0x104u);
  _pgmptr = pgmname;
  if ( !_acmdln || (v0 = _acmdln, !*_acmdln) )
    v0 = pgmname;
  parse_cmdline(v0, 0, 0, &numargs, &numchars);
  v1 = 4 * numargs;
  v2 = malloc(4 * numargs + numchars);
  v3 = (char **)v2;
  if ( v2 )
  {
    parse_cmdline(v0, (char **)v2, (char *)v2 + v1, &numargs, &numchars);
    __argc = numargs - 1;
    __argv = v3;
    result = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 4C98BC: using guessed type int __mbctype_initialized;

//----- (004451EE) --------------------------------------------------------
void *__cdecl __crtGetEnvironmentStringsA()
{
  int v0; // eax@1
  void *v1; // ebx@1
  const unsigned __int16 *v2; // esi@1
  const unsigned __int16 *i; // eax@10
  int v4; // eax@13
  int v5; // ebp@13
  void *v6; // eax@14
  LPCH v8; // eax@22
  char *v9; // esi@22
  unsigned int v10; // ebp@26
  void *v11; // eax@26
  void *v12; // edi@26
  void *aEnv; // [sp+10h] [bp-8h]@14
  int nSizeW; // [sp+14h] [bp-4h]@13

  v0 = f_use_0;
  v1 = 0;
  v2 = 0;
  if ( !f_use_0 )
  {
    v2 = GetEnvironmentStringsW();
    if ( v2 )
    {
      f_use_0 = 1;
LABEL_8:
      if ( v2 || (v2 = GetEnvironmentStringsW()) != 0 )
      {
        for ( i = v2; *i; ++i )
        {
          do
            ++i;
          while ( *i );
        }
        nSizeW = i - v2 + 1;
        v4 = WideCharToMultiByte(0, 0, v2, nSizeW, 0, 0, 0, 0);
        v5 = v4;
        if ( v4 )
        {
          v6 = malloc(v4);
          aEnv = v6;
          if ( v6 )
          {
            if ( !WideCharToMultiByte(0, 0, v2, nSizeW, (LPSTR)v6, v5, 0, 0) )
            {
              free(aEnv);
              aEnv = 0;
            }
            v1 = aEnv;
          }
        }
        FreeEnvironmentStringsW((LPWCH)v2);
        return v1;
      }
      return 0;
    }
    if ( GetLastError() == 120 )
    {
      v0 = 2;
      f_use_0 = 2;
    }
    else
    {
      v0 = f_use_0;
    }
  }
  if ( v0 == 1 )
    goto LABEL_8;
  if ( v0 != 2 && v0 || (v8 = GetEnvironmentStrings(), (v9 = v8) == 0) )
    return 0;
  for ( ; *v8; ++v8 )
  {
    do
      ++v8;
    while ( *v8 );
  }
  v10 = v8 - v9 + 1;
  v11 = malloc(v10);
  v12 = v11;
  if ( v11 )
    memcpy((char *)v11, v9, v10);
  else
    v12 = 0;
  FreeEnvironmentStringsA(v9);
  return v12;
}

//----- (00445310) --------------------------------------------------------
int __cdecl _ioinit()
{
  void *v0; // eax@1
  int i; // ecx@3
  signed int v3; // edi@8
  char *v4; // ebp@8
  _UNKNOWN *v5; // esi@11
  void *v6; // eax@12
  int j; // ecx@13
  signed int k; // ebx@19
  int v9; // esi@24
  signed int v10; // ebx@27
  int v11; // esi@28
  DWORD v12; // eax@30
  HANDLE v13; // eax@33
  HANDLE v14; // edi@33
  DWORD v15; // eax@34
  int v16; // eax@35
  HANDLE *posfhnd; // [sp+4h] [bp-48h]@8
  _STARTUPINFOA StartupInfo; // [sp+8h] [bp-44h]@6

  v0 = malloc(0x480u);
  if ( !v0 )
    return -1;
  __pioinfo[0] = (int)v0;
  _nhandle = 32;
  for ( i = (int)((char *)v0 + 1152); (unsigned int)v0 < i; i = __pioinfo[0] + 1152 )
  {
    *(_DWORD *)v0 = -1;
    *((_DWORD *)v0 + 2) = 0;
    *((_BYTE *)v0 + 4) = 0;
    *((_BYTE *)v0 + 5) = 10;
    v0 = (char *)v0 + 36;
  }
  GetStartupInfoA(&StartupInfo);
  if ( StartupInfo.cbReserved2 && StartupInfo.lpReserved2 )
  {
    v3 = *(_DWORD *)StartupInfo.lpReserved2;
    v4 = StartupInfo.lpReserved2 + 4;
    posfhnd = (HANDLE *)&StartupInfo.lpReserved2[*(_DWORD *)StartupInfo.lpReserved2 + 4];
    if ( *(_DWORD *)StartupInfo.lpReserved2 >= 2048 )
      v3 = 2048;
    if ( (signed int)_nhandle < v3 )
    {
      v5 = &unk_4C97A4;
      while ( 1 )
      {
        v6 = malloc(0x480u);
        if ( !v6 )
          break;
        _nhandle += 32;
        *(_DWORD *)v5 = v6;
        for ( j = (int)((char *)v6 + 1152); (unsigned int)v6 < j; j = *(_DWORD *)v5 + 1152 )
        {
          *(_DWORD *)v6 = -1;
          *((_DWORD *)v6 + 2) = 0;
          *((_BYTE *)v6 + 4) = 0;
          *((_BYTE *)v6 + 5) = 10;
          v6 = (char *)v6 + 36;
        }
        v5 = (char *)v5 + 4;
        if ( (signed int)_nhandle >= v3 )
          goto LABEL_19;
      }
      v3 = _nhandle;
    }
LABEL_19:
    for ( k = 0; k < v3; ++v4 )
    {
      if ( *posfhnd != (HANDLE)-1 && *v4 & 1 && (*v4 & 8 || GetFileType(*posfhnd)) )
      {
        v9 = __pioinfo[k >> 5] + 36 * (k & 0x1F);
        *(_DWORD *)v9 = *posfhnd;
        *(_BYTE *)(v9 + 4) = *v4;
        if ( !__crtInitCritSecAndSpinCount((_RTL_CRITICAL_SECTION *)(v9 + 12), 0xFA0u) )
          return -1;
        ++*(_DWORD *)(v9 + 8);
      }
      ++posfhnd;
      ++k;
    }
  }
  v10 = 0;
  do
  {
    v11 = __pioinfo[0] + 36 * v10;
    if ( *(_DWORD *)v11 == -1 )
    {
      *(_BYTE *)(v11 + 4) = -127;
      if ( v10 )
        v12 = -(v10 != 1) - 11;
      else
        v12 = -10;
      v13 = GetStdHandle(v12);
      v14 = v13;
      if ( v13 != (HANDLE)-1 && (v15 = GetFileType(v13)) != 0 )
      {
        v16 = (unsigned __int8)v15;
        *(_DWORD *)v11 = v14;
        if ( v16 == 2 )
        {
          *(_BYTE *)(v11 + 4) |= 0x40u;
        }
        else
        {
          if ( v16 == 3 )
            *(_BYTE *)(v11 + 4) |= 8u;
        }
        if ( !__crtInitCritSecAndSpinCount((_RTL_CRITICAL_SECTION *)(v11 + 12), 0xFA0u) )
          return -1;
        ++*(_DWORD *)(v11 + 8);
      }
      else
      {
        *(_BYTE *)(v11 + 4) |= 0x40u;
      }
    }
    else
    {
      *(_BYTE *)(v11 + 4) |= 0x80u;
    }
    ++v10;
  }
  while ( v10 < 3 );
  SetHandleCount(_nhandle);
  return 0;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044550E) --------------------------------------------------------
void __cdecl _RTC_Initialize()
{
  unsigned int f; // [sp+Ch] [bp-1Ch]@1

  for ( f = (unsigned int)&__rtc_izz; f < (unsigned int)&__rtc_izz; f += 4 )
  {
    if ( *(_DWORD *)f )
      (*(void (**)(void))f)();
  }
}

//----- (00445552) --------------------------------------------------------
void __cdecl _RTC_Terminate()
{
  unsigned int f; // [sp+Ch] [bp-1Ch]@1

  for ( f = (unsigned int)&__rtc_tzz; f < (unsigned int)&__rtc_tzz; f += 4 )
  {
    if ( *(_DWORD *)f )
      (*(void (**)(void))f)();
  }
}

//----- (00445596) --------------------------------------------------------
int __cdecl __heap_select()
{
  int result; // eax@3

  if ( _osplatform != 2 || _winmajor < 5 )
    result = 3;
  else
    result = 1;
  return result;
}
// 4C8FFC: using guessed type int _osplatform;

//----- (004455B0) --------------------------------------------------------
int __cdecl _heap_init(int mtflag)
{
  _crtheap = HeapCreate(mtflag == 0, 0x1000u, 0);
  if ( !_crtheap )
    return 0;
  __active_heap = __heap_select();
  if ( __active_heap == 3 && !__sbh_heap_init(0x3F8u) )
  {
    HeapDestroy(_crtheap);
    return 0;
  }
  return 1;
}
// 4C9784: using guessed type int __active_heap;

//----- (00445601) --------------------------------------------------------
int __cdecl _write_lk(int fh, const void *buf, unsigned int cnt)
{
  unsigned int v3; // edi@1
  int v5; // esi@3
  int v6; // eax@5
  unsigned int v7; // ecx@7
  int v8; // eax@7
  const void *v9; // edx@9
  char v10; // dl@9
  int v11; // edi@12
  int written; // [sp+4h] [bp-80h]@12
  int lfcount; // [sp+8h] [bp-7Ch]@1
  int charcount; // [sp+Ch] [bp-78h]@1
  const void *p; // [sp+10h] [bp-74h]@6
  unsigned int v16; // [sp+14h] [bp-70h]@7
  unsigned int dosretval; // [sp+18h] [bp-6Ch]@6
  char lfbuf[1025]; // [sp+1Ch] [bp-68h]@7

  v3 = 0;
  charcount = 0;
  lfcount = 0;
  if ( !cnt )
    return 0;
  v5 = 36 * (fh & 0x1F);
  if ( *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 4) & 0x20 )
    _lseeki64_lk(fh, 0i64, 2);
  v6 = v5 + __pioinfo[fh >> 5];
  if ( *(_BYTE *)(v6 + 4) & 0x80 )
  {
    p = buf;
    dosretval = 0;
    if ( cnt <= 0 )
      goto LABEL_26;
    while ( 1 )
    {
      v7 = p - buf;
      v8 = (int)lfbuf;
      v16 = v3;
      do
      {
        if ( v7 >= cnt )
          break;
        v9 = p;
        p = (char *)p + 1;
        v10 = *(_BYTE *)v9;
        ++v7;
        if ( v10 == 10 )
        {
          ++lfcount;
          *(_BYTE *)v8++ = 13;
          ++v16;
        }
        *(_BYTE *)v8++ = v10;
        ++v16;
      }
      while ( (signed int)v16 < 1024 );
      v11 = v8 - (_DWORD)lfbuf;
      if ( !WriteFile(*(HANDLE *)(__pioinfo[fh >> 5] + v5), lfbuf, v8 - (_DWORD)lfbuf, (LPDWORD)&written, 0) )
        break;
      charcount += written;
      if ( written < v11 )
        goto LABEL_17;
      v3 = 0;
      if ( p - buf >= cnt )
        goto LABEL_18;
    }
    dosretval = GetLastError();
LABEL_17:
    v3 = 0;
  }
  else
  {
    if ( WriteFile(*(HANDLE *)v6, buf, cnt, (LPDWORD)&written, 0) )
    {
      dosretval = 0;
      charcount = written;
    }
    else
    {
      dosretval = GetLastError();
    }
  }
LABEL_18:
  if ( charcount == v3 )
  {
    if ( dosretval != v3 )
    {
      if ( dosretval == 5 )
      {
        *_errno() = 9;
        *__doserrno() = 5;
      }
      else
      {
        _dosmaperr(dosretval);
      }
      return -1;
    }
LABEL_26:
    if ( *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 4) & 0x40 && *(_BYTE *)buf == 26 )
      return 0;
    *_errno() = 28;
    *__doserrno() = v3;
    return -1;
  }
  return charcount - lfcount;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (004457CF) --------------------------------------------------------
int __cdecl _write(int fh, const void *buf, unsigned int cnt)
{
  int v3; // esi@2
  int result; // eax@6

  if ( fh < _nhandle && (v3 = 36 * (fh & 0x1F), *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1) )
  {
    _lock_fhandle(fh);
    if ( *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1 )
    {
      _write_lk(fh, buf, cnt);
    }
    else
    {
      *_errno() = 9;
      *__doserrno() = 0;
    }
    _unlock_fhandle(fh);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044587A) --------------------------------------------------------
int __cdecl _stbuf(_iobuf *str)
{
  signed int v1; // eax@3
  int v2; // edi@7
  void *v3; // eax@8
  char *v4; // edi@10

  if ( !_isatty(str->_file) )
    return 0;
  if ( (_UNKNOWN *)str == &unk_470FB0 )
  {
    v1 = 0;
  }
  else
  {
    if ( (_UNKNOWN *)str != &unk_470FD0 )
      return 0;
    v1 = 1;
  }
  ++_cflush;
  if ( str->_flag & 0x10C )
    return 0;
  v2 = 4 * v1 + 5018316;
  if ( _stdbuf[v1] || (v3 = malloc(0x1000u), (*(_DWORD *)v2 = v3) != 0) )
  {
    v4 = *(char **)v2;
    str->_base = v4;
    str->_ptr = v4;
    str->_bufsiz = 4096;
    str->_cnt = 4096;
  }
  else
  {
    str->_base = (char *)&str->_charbuf;
    str->_ptr = (char *)&str->_charbuf;
    str->_bufsiz = 2;
    str->_cnt = 2;
  }
  LOWORD(str->_flag) |= 0x1102u;
  return 1;
}
// 4C8FEC: using guessed type int _cflush;

//----- (00445902) --------------------------------------------------------
void __cdecl _ftbuf(int flag, _iobuf *str)
{
  if ( flag )
  {
    if ( BYTE1(str->_flag) & 0x10 )
    {
      _flush(str);
      BYTE1(str->_flag) &= 0xEEu;
      str->_bufsiz = 0;
      str->_ptr = 0;
      str->_base = 0;
    }
  }
}

//----- (0044592C) --------------------------------------------------------
int __cdecl _ValidateEH3RN(_EH3_EXCEPTION_REGISTRATION *pRN)
{
  _EH3_EXCEPTION_REGISTRATION *v1; // esi@1
  _SCOPETABLE_ENTRY *v2; // ebx@1
  unsigned __int32 v3; // eax@2
  unsigned int v5; // edi@5
  unsigned int v6; // edx@7
  _SCOPETABLE_ENTRY *v7; // eax@7
  unsigned int v8; // eax@14
  int v9; // edi@16
  int v10; // esi@16
  char *v11; // eax@23
  unsigned int v12; // ebx@25
  int v13; // ecx@25
  unsigned int v14; // eax@26
  int v15; // ecx@30
  int v16; // edx@30
  int v17; // eax@31
  int v18; // ebx@35
  int j; // edx@37
  int v20; // eax@38
  void *v21; // esi@38
  int v22; // eax@46
  int i; // ecx@54
  int v24; // eax@55
  void *v25; // edx@55
  _MEMORY_BASIC_INFORMATION mbi; // [sp+8h] [bp-20h]@19
  unsigned int v27; // [sp+24h] [bp-4h]@2
  int nFilters; // [sp+30h] [bp+8h]@7

  v1 = pRN;
  v2 = pRN->ScopeTable;
  if ( (unsigned __int8)v2 & 3
    || (v3 = __readfsdword(24), v27 = *(_DWORD *)(v3 + 8), (unsigned int)v2 >= v27)
    && (unsigned int)v2 < *(_DWORD *)(v3 + 4) )
    return 0;
  v5 = pRN->TryLevel;
  if ( v5 == -1 )
    return 1;
  v6 = 0;
  nFilters = 0;
  v7 = v2;
  do
  {
    if ( v7->EnclosingLevel != -1 && v7->EnclosingLevel >= v6 )
      return 0;
    if ( v7->FilterFunc )
      ++nFilters;
    ++v6;
    ++v7;
  }
  while ( v6 <= v5 );
  if ( nFilters )
  {
    v8 = *((_DWORD *)v1 - 2);
    if ( v8 < v27 || v8 >= (unsigned int)v1 )
      return 0;
  }
  v9 = (unsigned int)v2 & 0xFFFFF000;
  v10 = 0;
  if ( nValidPages > 0 )
  {
    while ( rgValidPages[v10] != (void *)v9 )
    {
      ++v10;
      if ( v10 >= nValidPages )
        goto LABEL_19;
    }
    if ( v10 <= 0 || InterlockedExchange(&lModifying, 1) )
      return 1;
    if ( rgValidPages[v10] != (void *)v9 )
    {
      v22 = nValidPages;
      v10 = nValidPages - 1;
      if ( nValidPages - 1 < 0 )
        goto LABEL_60;
      do
      {
        if ( rgValidPages[v10] == (void *)v9 )
          break;
        --v10;
      }
      while ( v10 >= 0 );
      if ( v10 >= 0 )
      {
        if ( !v10 )
        {
LABEL_56:
          InterlockedExchange(&lModifying, 0);
          return 1;
        }
      }
      else
      {
LABEL_60:
        if ( nValidPages < 16 )
          v22 = nValidPages++ + 1;
        v10 = v22 - 1;
      }
    }
    for ( i = 0; i <= v10; v9 = (int)v25 )
    {
      v24 = 4 * i + 5018336;
      v25 = rgValidPages[i++];
      *(_DWORD *)v24 = v9;
    }
    goto LABEL_56;
  }
LABEL_19:
  if ( VirtualQuery(v2, &mbi, 0x1Cu) && mbi.Type == 16777216 )
  {
    if ( !(mbi.Protect & 0xCC) )
      goto exit_success;
    if ( *(_WORD *)mbi.AllocationBase == 23117 )
    {
      v11 = (char *)mbi.AllocationBase + *((_DWORD *)mbi.AllocationBase + 15);
      if ( *(_DWORD *)v11 == 17744 )
      {
        if ( *((_WORD *)v11 + 12) == 267 )
        {
          v12 = (char *)v2 - mbi.AllocationBase;
          v13 = (int)&v11[*((_WORD *)v11 + 10) + 24];
          if ( *((_WORD *)v11 + 3) )
          {
            v14 = *(_DWORD *)&v11[*((_WORD *)v11 + 10) + 36];
            if ( v12 < v14 || v12 >= v14 + *(_DWORD *)(v13 + 8) || !(*(_BYTE *)(v13 + 39) & 0x80) )
            {
exit_success:
              if ( !InterlockedExchange(&lModifying, 1) )
              {
                v15 = nValidPages;
                v16 = nValidPages;
                if ( nValidPages > 0 )
                {
                  v17 = 4 * nValidPages + 5018332;
                  do
                  {
                    if ( *(_DWORD *)v17 == v9 )
                      break;
                    --v16;
                    v17 -= 4;
                  }
                  while ( v16 > 0 );
                }
                if ( !v16 )
                {
                  v18 = 15;
                  if ( nValidPages <= 15 )
                    v18 = nValidPages;
                  for ( j = 0; j <= v18; v9 = (int)v21 )
                  {
                    v20 = 4 * j + 5018336;
                    v21 = rgValidPages[j++];
                    *(_DWORD *)v20 = v9;
                  }
                  if ( v15 < 16 )
                    nValidPages = v15 + 1;
                }
                InterlockedExchange(&lModifying, 0);
              }
              return 1;
            }
            return 0;
          }
        }
      }
    }
  }
  return -1;
}

//----- (00445B55) --------------------------------------------------------
int __usercall CPtoLCID<eax>(int codepage<eax>)
{
  int v1; // eax@1
  int v2; // eax@2
  int v3; // eax@3
  int result; // eax@5

  v1 = codepage - 932;
  if ( v1 )
  {
    v2 = v1 - 4;
    if ( v2 )
    {
      v3 = v2 - 13;
      if ( v3 )
      {
        if ( v3 == 1 )
          result = 1028;
        else
          result = 0;
      }
      else
      {
        result = 1042;
      }
    }
    else
    {
      result = 2052;
    }
  }
  else
  {
    result = 1041;
  }
  return result;
}

//----- (00445B84) --------------------------------------------------------
int __cdecl setSBCS()
{
  int result; // eax@1

  memset(_mbctype, 0, 0x100u);
  _mbctype[256] = 0;
  result = 0;
  __mbcodepage = 0;
  __ismbcodepage = 0;
  __mblcid = 0;
  *(_DWORD *)__mbulinfo = 0;
  *(_DWORD *)&__mbulinfo[2] = 0;
  *(_DWORD *)&__mbulinfo[4] = 0;
  return result;
}
// 4C955C: using guessed type int __ismbcodepage;
// 4C9670: using guessed type __int16 __mbulinfo[];

//----- (00445BAD) --------------------------------------------------------
unsigned int __cdecl setSBUpLow()
{
  unsigned int v0; // eax@2
  int v1; // eax@4
  int v2; // edx@5
  unsigned int v3; // ecx@6
  unsigned int v4; // ecx@7
  char v5; // bl@7
  char *v6; // edi@7
  int i; // ecx@7
  int v8; // edx@10
  unsigned int result; // eax@11
  __int16 v10; // cx@12
  unsigned __int8 v11; // cl@13
  unsigned __int8 v12; // cl@23
  __int16 wVector[256]; // [sp+4h] [bp-518h]@11
  char upVector[256]; // [sp+204h] [bp-318h]@11
  char lowVector[256]; // [sp+304h] [bp-218h]@11
  char sbVector[256]; // [sp+404h] [bp-118h]@3
  _cpinfo cpinfo; // [sp+504h] [bp-18h]@1

  if ( GetCPInfo(__mbcodepage, &cpinfo) == 1 )
  {
    v0 = 0;
    do
    {
      sbVector[v0] = v0;
      ++v0;
    }
    while ( v0 < 0x100 );
    LOBYTE(v1) = cpinfo.LeadByte[0];
    sbVector[0] = 32;
    if ( cpinfo.LeadByte[0] )
    {
      v2 = (int)&cpinfo.LeadByte[1];
      do
      {
        v3 = *(_BYTE *)v2;
        v1 = (unsigned __int8)v1;
        if ( (unsigned __int8)v1 <= v3 )
        {
          v4 = v3 - v1 + 1;
          v5 = v4;
          v4 >>= 2;
          memset(&sbVector[v1], 538976288, 4 * v4);
          v6 = &sbVector[4 * v4] + v1;
          for ( i = v5 & 3; i; --i )
            *v6++ = 32;
        }
        v8 = v2 + 1;
        LOBYTE(v1) = *(_BYTE *)v8;
        v2 = v8 + 1;
      }
      while ( (_BYTE)v1 );
    }
    __crtGetStringTypeA(1u, sbVector, 256, (unsigned __int16 *)wVector, __mbcodepage, __mblcid, 0);
    __crtLCMapStringA(__mblcid, 0x100u, sbVector, 256, lowVector, 256, __mbcodepage, 0);
    __crtLCMapStringA(__mblcid, 0x200u, sbVector, 256, upVector, 256, __mbcodepage, 0);
    result = 0;
    while ( 1 )
    {
      v10 = wVector[result];
      if ( v10 & 1 )
      {
        byte_4C9561[result] |= 0x10u;
        v11 = lowVector[result];
      }
      else
      {
        if ( !(v10 & 2) )
        {
          _mbcasemap[result] = 0;
          goto LABEL_18;
        }
        byte_4C9561[result] |= 0x20u;
        v11 = upVector[result];
      }
      _mbcasemap[result] = v11;
LABEL_18:
      ++result;
      if ( result >= 0x100 )
        return result;
    }
  }
  result = 0;
  do
  {
    if ( result >= 0x41 && result <= 0x5A )
    {
      byte_4C9561[result] |= 0x10u;
      v12 = result + 32;
LABEL_24:
      _mbcasemap[result] = v12;
      goto LABEL_29;
    }
    if ( result >= 0x61 && result <= 0x7A )
    {
      byte_4C9561[result] |= 0x20u;
      v12 = result - 32;
      goto LABEL_24;
    }
    _mbcasemap[result] = 0;
LABEL_29:
    ++result;
  }
  while ( result < 0x100 );
  return result;
}

//----- (00445D39) --------------------------------------------------------
threadmbcinfostruct *__cdecl __updatetmbcinfo()
{
  _tiddata *v0; // edi@1
  void *v1; // esi@1
  bool v2; // zf@3
  threadmbcinfostruct *result; // eax@6

  _lock(13);
  v0 = _getptd();
  v1 = v0->ptmbcinfo;
  if ( v1 != ___ptmbcinfo )
  {
    if ( v1 )
    {
      v2 = (*(_DWORD *)v1)-- == 1;
      if ( v2 )
        free(v1);
    }
    v0->ptmbcinfo = (threadmbcinfostruct *)___ptmbcinfo;
    ++*(_DWORD *)___ptmbcinfo;
  }
  _unlock(13);
  return result;
}

//----- (00445DA8) --------------------------------------------------------
int __cdecl setmbcp_lk(int codepage)
{
  int v1; // edx@2
  unsigned int v2; // eax@2
  bool v3; // cf@6
  bool v4; // zf@6
  char *v5; // ecx@8
  unsigned int v6; // edx@9
  unsigned int v7; // eax@10
  char *v8; // ebx@11
  unsigned int v9; // eax@12
  char *i; // esi@12
  char v11; // dl@13
  unsigned int v12; // edi@14
  char v13; // dl@15
  int v14; // eax@20
  int v15; // ecx@20
  char *v16; // ecx@20
  signed int v17; // eax@24
  int v18; // ecx@26
  int result; // eax@31
  unsigned int irg; // [sp+Ch] [bp-1Ch]@11
  _cpinfo cpinfo; // [sp+10h] [bp-18h]@5

  if ( codepage )
  {
    v1 = 0;
    v2 = 0;
    do
    {
      if ( _rgcode_page_info[v2].code_page == codepage )
      {
        memset(_mbctype, 0, 0x100u);
        irg = 0;
        _mbctype[256] = 0;
        v8 = (char *)_rgcode_page_info[v1].rgrange;
        do
        {
          LOBYTE(v9) = *v8;
          for ( i = v8; (_BYTE)v9; LOBYTE(v9) = *i )
          {
            v11 = i[1];
            if ( !v11 )
              break;
            v9 = (unsigned __int8)v9;
            v12 = (unsigned __int8)v11;
            if ( (unsigned __int8)v9 <= (unsigned int)(unsigned __int8)v11 )
            {
              v13 = _rgctypeflag[irg];
              do
              {
                byte_4C9561[v9] |= v13;
                ++v9;
              }
              while ( v9 <= v12 );
            }
            i += 2;
          }
          ++irg;
          v8 += 8;
        }
        while ( irg < 4 );
        __mbcodepage = codepage;
        __ismbcodepage = 1;
        v14 = CPtoLCID(codepage);
        v16 = (char *)_rgcode_page_info[0].mbulinfo + v15;
        *(_DWORD *)__mbulinfo = *(_DWORD *)v16;
        *(_DWORD *)&__mbulinfo[2] = *((_DWORD *)v16 + 1);
        __mblcid = v14;
        *(_DWORD *)&__mbulinfo[4] = *((_DWORD *)v16 + 2);
        goto LABEL_31;
      }
      ++v2;
      ++v1;
    }
    while ( v2 < 5 );
    if ( GetCPInfo(codepage, &cpinfo) == 1 )
    {
      v3 = cpinfo.MaxCharSize < 1;
      v4 = cpinfo.MaxCharSize == 1;
      memset(_mbctype, 0, 0x100u);
      _mbctype[256] = 0;
      __mbcodepage = codepage;
      __mblcid = 0;
      if ( v3 | v4 )
      {
        __ismbcodepage = 0;
      }
      else
      {
        if ( cpinfo.LeadByte[0] )
        {
          v5 = &cpinfo.LeadByte[1];
          do
          {
            LOBYTE(v6) = *v5;
            if ( !*v5 )
              break;
            v7 = (unsigned __int8)*(v5 - 1);
            v6 = (unsigned __int8)v6;
            while ( v7 <= v6 )
            {
              byte_4C9561[v7] |= 4u;
              ++v7;
            }
            v5 += 2;
          }
          while ( *(v5 - 1) );
        }
        v17 = 1;
        do
        {
          byte_4C9561[v17] |= 8u;
          ++v17;
        }
        while ( (unsigned int)v17 < 0xFF );
        __mblcid = CPtoLCID(codepage);
        __ismbcodepage = v18;
      }
      *(_DWORD *)__mbulinfo = 0;
      *(_DWORD *)&__mbulinfo[2] = 0;
      *(_DWORD *)&__mbulinfo[4] = 0;
      goto LABEL_31;
    }
    if ( fSystemSet )
      goto LABEL_30;
    result = -1;
  }
  else
  {
LABEL_30:
    setSBCS();
LABEL_31:
    setSBUpLow();
    result = 0;
  }
  return result;
}
// 4C955C: using guessed type int __ismbcodepage;
// 4C9670: using guessed type __int16 __mbulinfo[];

//----- (00445F38) --------------------------------------------------------
int __cdecl _setmbcp(int codepage)
{
  UINT v1; // eax@1
  void *v2; // esi@8
  signed int i; // eax@13
  signed int j; // eax@16
  signed int k; // eax@19
  int result; // eax@26
  int retcode; // [sp+10h] [bp-20h]@1
  int codepagea; // [sp+38h] [bp+8h]@7

  retcode = -1;
  _lock(13);
  fSystemSet = 0;
  v1 = codepage;
  switch ( codepage )
  {
    case -2:
      fSystemSet = 1;
      v1 = GetOEMCP();
      break;
    case -3:
      fSystemSet = 1;
      v1 = GetACP();
      break;
    case -4:
      fSystemSet = 1;
      v1 = __lc_codepage;
      break;
  }
  codepagea = v1;
  if ( v1 != __mbcodepage )
  {
    v2 = ___ptmbcinfo;
    if ( !___ptmbcinfo || *(_DWORD *)___ptmbcinfo )
      v2 = malloc(0x220u);
    if ( v2 )
    {
      retcode = setmbcp_lk(codepagea);
      if ( !retcode )
      {
        *(_DWORD *)v2 = 0;
        *((_DWORD *)v2 + 1) = __mbcodepage;
        *((_DWORD *)v2 + 2) = __ismbcodepage;
        *((_DWORD *)v2 + 3) = __mblcid;
        for ( i = 0; i < 5; ++i )
          *((_WORD *)v2 + i + 8) = __mbulinfo[i];
        for ( j = 0; j < 257; ++j )
          *((_BYTE *)v2 + j + 28) = _mbctype[j];
        for ( k = 0; k < 256; ++k )
          *((_BYTE *)v2 + k + 285) = _mbcasemap[k];
        ___ptmbcinfo = v2;
      }
    }
    if ( retcode == -1 && v2 != ___ptmbcinfo )
      free(v2);
  }
  _unlock(13);
  return result;
}
// 4C955C: using guessed type int __ismbcodepage;
// 4C9670: using guessed type __int16 __mbulinfo[];

//----- (00446088) --------------------------------------------------------
int __cdecl __initmbctable()
{
  if ( !__mbctype_initialized )
    _setmbcp(-3);
  return 0;
}
// 4C98BC: using guessed type int __mbctype_initialized;

//----- (004460A6) --------------------------------------------------------
void __cdecl _forcdecpt(char *buffer)
{
  int *v1; // esi@1
  bool i; // zf@1
  char v3; // al@4
  int v4; // esi@4
  char v5; // cl@5
  char v6; // cl@5

  v1 = (int *)buffer;
  for ( i = tolower(*buffer) == 101; !i; i = isdigit(*(_BYTE *)v1) == 0 )
    v1 = (int *)((char *)v1 + 1);
  v3 = *(_BYTE *)v1;
  *(_BYTE *)v1 = __decimal_point;
  v4 = (int)((char *)v1 + 1);
  do
  {
    v5 = *(_BYTE *)v4;
    *(_BYTE *)v4 = v3;
    v3 = v5;
    v6 = *(_BYTE *)v4++;
  }
  while ( v6 );
}
// 471C18: using guessed type char __decimal_point;

//----- (004460E2) --------------------------------------------------------
void __cdecl _cropzeros(char *buf)
{
  char *i; // eax@1
  char v2; // cl@5
  int v3; // eax@5
  char v4; // cl@10
  int v5; // edx@11
  char v6; // cl@15

  for ( i = buf; *i && *i != __decimal_point; ++i )
    ;
  v2 = *i;
  v3 = (int)(i + 1);
  if ( v2 )
  {
    while ( 1 )
    {
      v4 = *(_BYTE *)v3;
      if ( !*(_BYTE *)v3 )
        break;
      if ( v4 == 101 || v4 == 69 )
        break;
      ++v3;
    }
    v5 = v3;
    do
      --v3;
    while ( *(_BYTE *)v3 == 48 );
    if ( *(_BYTE *)v3 == __decimal_point )
      --v3;
    do
    {
      v6 = *(_BYTE *)v5;
      ++v3;
      ++v5;
      *(_BYTE *)v3 = v6;
    }
    while ( v6 );
  }
}
// 471C18: using guessed type char __decimal_point;

//----- (0044612D) --------------------------------------------------------
int __cdecl _positive(long double *arg)
{
  return *arg >= 0.0;
}

//----- (00446147) --------------------------------------------------------
void __cdecl _fassign(int flag, char *argument, char *number)
{
  char *v3; // eax@2
  DOUBLE doubletemp; // [sp+0h] [bp-8h]@2

  if ( flag )
  {
    _atodbl(&doubletemp, number);
    v3 = argument;
    *(_DWORD *)argument = (_DWORD)doubletemp.x;
    *((_DWORD *)v3 + 1) = HIDWORD(doubletemp.x);
  }
  else
  {
    _atoflt((FLOAT *)&flag, number);
    *(_DWORD *)argument = flag;
  }
}

//----- (00446185) --------------------------------------------------------
void __usercall shift(char *s<eax>, int dist<edi>)
{
  char *v2; // esi@1
  size_t v3; // eax@2

  v2 = s;
  if ( dist )
  {
    v3 = strlen(s);
    memmove(&v2[dist], v2, v3 + 1);
  }
}

//----- (004461A2) --------------------------------------------------------
char *__usercall cftoe2<eax>(char *buf<ebx>, _strflt *pflt<eax>, int ndec, int caps, char g_fmt)
{
  _strflt *v5; // esi@1
  char *v6; // eax@3
  char *v7; // eax@7
  int v8; // ecx@9
  signed int v9; // eax@10
  int v10; // ecx@12
  int v11; // ecx@14

  v5 = pflt;
  if ( g_fmt )
    shift(&buf[pflt->sign == 45], ndec > 0);
  v6 = buf;
  if ( v5->sign == 45 )
  {
    *buf = 45;
    v6 = buf + 1;
  }
  if ( ndec > 0 )
  {
    *v6 = v6[1];
    ++v6;
    *v6 = __decimal_point;
  }
  v7 = strcpy(&v6[g_fmt == 0] + ndec, "e+000");
  if ( caps )
    *v7 = 69;
  v8 = (int)(v7 + 1);
  if ( *v5->mantissa != 48 )
  {
    v9 = v5->decpt - 1;
    if ( v9 < 0 )
    {
      v9 = -v9;
      *(_BYTE *)v8 = 45;
    }
    v10 = v8 + 1;
    if ( v9 >= 100 )
    {
      *(_BYTE *)v10 += v9 / 100;
      v9 %= 100;
    }
    v11 = v10 + 1;
    if ( v9 >= 10 )
    {
      *(_BYTE *)v11 += v9 / 10;
      v9 %= 10;
    }
    *(_BYTE *)(v11 + 1) += v9;
  }
  return buf;
}
// 471C18: using guessed type char __decimal_point;

//----- (00446250) --------------------------------------------------------
char *__cdecl _cftoe(long double *pvalue, char *buf, int ndec, int caps)
{
  _strflt retstrflt; // [sp+8h] [bp-2Ch]@1
  char resstr[22]; // [sp+18h] [bp-1Ch]@1

  _fltout2(*(DOUBLE *)pvalue, &retstrflt, resstr);
  _fptostr(&buf[retstrflt.sign == 45] + (ndec > 0), ndec + 1, &retstrflt);
  cftoe2(buf, ndec, caps, &retstrflt, 0);
  return buf;
}

//----- (004462BC) --------------------------------------------------------
char *__usercall cftof2<eax>(_strflt *pflt<eax>, char *buf, int ndec, char g_fmt)
{
  _strflt *v4; // esi@1
  int v5; // eax@1
  int v6; // ecx@3
  char *v7; // ebx@4
  int v8; // eax@6
  int v9; // ebx@7
  int v10; // esi@10
  char *v11; // ebx@10
  int v12; // esi@11

  v4 = pflt;
  v5 = pflt->decpt - 1;
  if ( g_fmt && v5 == ndec )
  {
    v6 = v5 + (v4->sign == 45);
    buf[v6] = 48;
    buf[v6 + 1] = 0;
  }
  v7 = buf;
  if ( v4->sign == 45 )
  {
    *buf = 45;
    v7 = buf + 1;
  }
  v8 = v4->decpt;
  if ( v8 > 0 )
  {
    v9 = (int)&v7[v8];
  }
  else
  {
    shift(v7, 1);
    *v7 = 48;
    v9 = (int)(v7 + 1);
  }
  if ( ndec > 0 )
  {
    shift((char *)v9, 1);
    *(_BYTE *)v9 = __decimal_point;
    v10 = v4->decpt;
    v11 = (char *)(v9 + 1);
    if ( v10 < 0 )
    {
      v12 = -v10;
      if ( g_fmt || ndec >= v12 )
        ndec = v12;
      shift(v11, ndec);
      memset(v11, 48, ndec);
    }
  }
  return buf;
}
// 471C18: using guessed type char __decimal_point;

//----- (00446358) --------------------------------------------------------
char *__cdecl _cftof(long double *pvalue, char *buf, int ndec)
{
  _strflt retstrflt; // [sp+4h] [bp-2Ch]@1
  char resstr[22]; // [sp+14h] [bp-1Ch]@1

  _fltout2(*(DOUBLE *)pvalue, &retstrflt, resstr);
  _fptostr(&buf[retstrflt.sign == 45], ndec + retstrflt.decpt, &retstrflt);
  cftof2(buf, ndec, &retstrflt, 0);
  return buf;
}

//----- (004463BA) --------------------------------------------------------
char *__cdecl _cftog(long double *pvalue, char *buf, int ndec, int caps)
{
  int v4; // esi@1
  char *v5; // edi@1
  char v6; // al@4
  char *result; // eax@6
  _strflt retstrflt; // [sp+Ch] [bp-2Ch]@1
  char resstr[22]; // [sp+1Ch] [bp-1Ch]@1

  _fltout2(*(DOUBLE *)pvalue, &retstrflt, resstr);
  v4 = retstrflt.decpt - 1;
  v5 = &buf[retstrflt.sign == 45];
  _fptostr(&buf[retstrflt.sign == 45], ndec, &retstrflt);
  if ( retstrflt.decpt - 1 < -4 || retstrflt.decpt - 1 >= ndec )
  {
    result = cftoe2(buf, ndec, caps, &retstrflt, 1);
  }
  else
  {
    if ( v4 < retstrflt.decpt - 1 )
    {
      do
        v6 = *v5++;
      while ( v6 );
      *(v5 - 2) = 0;
    }
    result = cftof2(buf, ndec, &retstrflt, 1);
  }
  return result;
}

//----- (00446454) --------------------------------------------------------
void __cdecl _cfltcvt(long double *arg, char *buffer, int format, int precision, int caps)
{
  if ( format == 101 || format == 69 )
  {
    _cftoe(arg, buffer, precision, caps);
  }
  else
  {
    if ( format == 102 )
      _cftof(arg, buffer, precision);
    else
      _cftog(arg, buffer, precision, caps);
  }
}

//----- (004464A5) --------------------------------------------------------
unsigned int __cdecl _setdefaultprecision()
{
  return _controlfp(0x10000u, 0x30000u);
}

//----- (004464B7) --------------------------------------------------------
int __cdecl _ms_p5_test_fdiv()
{
  return 4195835.0 - 4195835.0 / 3145727.0 * 3145727.0 > 1.0;
}

//----- (004464F7) --------------------------------------------------------
int __cdecl _ms_p5_mp_test_fdiv()
{
  HINSTANCE__ *v0; // eax@1
  FARPROC v1; // eax@2
  int result; // eax@3

  v0 = GetModuleHandleA("KERNEL32");
  if ( v0 && (v1 = GetProcAddress(v0, "IsProcessorFeaturePresent")) != 0 )
    result = ((int (__stdcall *)(_DWORD))v1)(0);
  else
    result = _ms_p5_test_fdiv();
  return result;
}

//----- (00446520) --------------------------------------------------------
int __cdecl _fcloseall()
{
  signed int i; // edi@1
  int v1; // esi@3
  int v2; // eax@3
  int result; // eax@10
  int count; // [sp+10h] [bp-1Ch]@1

  count = 0;
  _lock(1);
  for ( i = 3; i < (signed int)_nstream; ++i )
  {
    v1 = 4 * i;
    v2 = *(_DWORD *)(4 * i + __piob);
    if ( v2 )
    {
      if ( *(_BYTE *)(v2 + 12) & 0x83 && fclose(*(_iobuf **)(4 * i + __piob)) != -1 )
        ++count;
      if ( i >= 20 )
      {
        DeleteCriticalSection((LPCRITICAL_SECTION)(*(_DWORD *)(v1 + __piob) + 32));
        free(*(void **)(v1 + __piob));
        *(_DWORD *)(v1 + __piob) = 0;
      }
    }
  }
  _unlock(1);
  return result;
}
// 4C98C0: using guessed type int __piob;

//----- (004465BB) --------------------------------------------------------
void __cdecl tzset_lk()
{
  UINT v0; // ebx@1
  char *v1; // eax@1
  const char *v2; // esi@1
  size_t v3; // eax@7
  void *v4; // eax@7
  int defused; // [sp+18h] [bp-1Ch]@22
  CPPEH_RECORD ms_exc; // [sp+1Ch] [bp-18h]@1

  _lock(7);
  ms_exc.disabled = 0;
  v0 = __lc_codepage;
  tzapiused = 0;
  dstend.yr = -1;
  dststart.yr = -1;
  v1 = _getenv_lk("TZ");
  v2 = v1;
  if ( !v1 || !*v1 )
  {
    if ( lastTZ )
    {
      free(lastTZ);
      lastTZ = 0;
    }
    if ( GetTimeZoneInformation(&tzinfo) != -1 )
    {
      tzapiused = 1;
      _timezone = 60 * tzinfo.Bias;
      if ( tzinfo.StandardDate.wMonth )
        _timezone = 60 * tzinfo.StandardBias + 60 * tzinfo.Bias;
      if ( tzinfo.DaylightDate.wMonth && tzinfo.DaylightBias )
      {
        _daylight = 1;
        _dstbias = 60 * (tzinfo.DaylightBias - tzinfo.StandardBias);
      }
      else
      {
        _daylight = 0;
        _dstbias = 0;
      }
      if ( !WideCharToMultiByte(v0, 0, tzinfo.StandardName, -1, _tzname, 63, 0, &defused) || defused )
        *_tzname = 0;
      else
        _tzname[63] = 0;
      if ( !WideCharToMultiByte(v0, 0, tzinfo.DaylightName, -1, *(&_tzname + 1), 63, 0, &defused) || defused )
        **(&_tzname + 1) = 0;
      else
        (*(&_tzname + 1))[63] = 0;
    }
    goto LABEL_30;
  }
  if ( lastTZ )
  {
    if ( !strcmp(v1, lastTZ) )
      goto LABEL_30;
    if ( lastTZ )
      free(lastTZ);
  }
  v3 = strlen(v2);
  v4 = malloc(v3 + 1);
  lastTZ = (char *)v4;
  if ( v4 )
  {
    strcpy((char *)v4, v2);
    ms_exc.disabled = -1;
    _unlock(7);
    return;
  }
LABEL_30:
  _local_unwind2((int)&ms_exc.prev_er, -1);
}

//----- (00446863) --------------------------------------------------------
void __usercall cvtdate(int month<eax>, int hour<ecx>, int trantype, int datetype, int year, int week, int dayofweek, int date, int min, int sec, int msec)
{
  int v11; // edi@1
  int v12; // esi@1
  int v13; // edx@1
  int v14; // eax@5
  int v15; // esi@5
  int v16; // esi@7
  int v17; // edx@7
  int v18; // eax@7
  int v19; // esi@8
  int v20; // eax@14
  int v21; // esi@21
  int v22; // ecx@24
  __int32 v23; // ecx@26
  bool v24; // sf@26
  int v25; // ecx@26
  int v26; // ecx@27
  int v27; // esi@27
  int datetypea; // [sp+20h] [bp+Ch]@7

  v11 = year;
  v12 = month;
  v13 = year % 4;
  if ( datetype == 1 )
  {
    if ( (v13 || !(year % 100)) && (year + 1900) % 400 )
    {
      v14 = 4 * month;
      v15 = dword_471AA0[v12];
    }
    else
    {
      v14 = 4 * month;
      v15 = dword_471A6C[v12];
    }
    datetypea = v14;
    v16 = v15 + 1;
    v11 = year;
    v17 = (365 * year + (year + 299) / 400 - (year - 1) / 100 + v16 + (year - 1) / 4 - 25563) % 7;
    v18 = dayofweek + 7 * week - v17;
    if ( v17 > dayofweek )
      v19 = v18 + v16;
    else
      v19 = v16 + v18 - 7;
    if ( week == 5 )
    {
      if ( (year % 4 || !(year % 100)) && (year + 1900) % 400 )
        v20 = *(int *)((char *)&_days + datetypea);
      else
        v20 = *(int *)((char *)&_lpdays + datetypea);
      if ( v19 > v20 )
        v19 -= 7;
    }
  }
  else
  {
    if ( (v13 || !(year % 100)) && (year + 1900) % 400 )
      v21 = dword_471AA0[month];
    else
      v21 = dword_471A6C[month];
    v19 = date + v21;
  }
  v22 = 60 * (min + 60 * hour);
  if ( trantype == 1 )
  {
    dststart.yd = v19;
    dststart.yr = v11;
    dststart.ms = msec + 1000 * (sec + v22);
    return;
  }
  dstend.yd = v19;
  v23 = 1000 * (sec + _dstbias + v22);
  v24 = msec + v23 < 0;
  v25 = msec + v23;
  dstend.ms = v25;
  if ( v24 )
  {
    v26 = v25 + 86400000;
    v27 = v19 - 1;
LABEL_30:
    dstend.ms = v26;
    dstend.yd = v27;
    goto LABEL_31;
  }
  if ( v25 >= 86400000 )
  {
    v26 = v25 - 86400000;
    v27 = v19 + 1;
    goto LABEL_30;
  }
LABEL_31:
  dstend.yr = v11;
}
// 471A6C: using guessed type int dword_471A6C[];
// 471A70: using guessed type int _lpdays;
// 471AA0: using guessed type int dword_471AA0[];
// 471AA4: using guessed type int _days;

//----- (00446A1B) --------------------------------------------------------
int __usercall isindst_lk<eax>(tm *tb<ebx>)
{
  int v2; // edi@3
  int v3; // ecx@14
  int v4; // eax@26
  int v5; // ecx@27
  int v6; // [sp-28h] [bp-2Ch]@7
  int v7; // [sp-28h] [bp-2Ch]@10
  int v8; // [sp-24h] [bp-28h]@7
  int v9; // [sp-24h] [bp-28h]@10
  int v10; // [sp-20h] [bp-24h]@7
  int v11; // [sp-20h] [bp-24h]@10
  int v12; // [sp-1Ch] [bp-20h]@7
  int v13; // [sp-1Ch] [bp-20h]@10
  int v14; // [sp-18h] [bp-1Ch]@7
  int v15; // [sp-18h] [bp-1Ch]@10

  if ( !_daylight )
    return 0;
  v2 = tb->tm_year;
  if ( v2 != dststart.yr || v2 != dstend.yr )
  {
    if ( tzapiused )
    {
      if ( tzinfo.DaylightDate.wYear )
      {
        v14 = tzinfo.DaylightDate.wDay;
        v12 = 0;
        v10 = 0;
        v8 = tb->tm_year;
        v6 = 0;
      }
      else
      {
        v14 = 0;
        v12 = tzinfo.DaylightDate.wDayOfWeek;
        v10 = tzinfo.DaylightDate.wDay;
        v8 = tb->tm_year;
        v6 = 1;
      }
      cvtdate(
        1,
        v6,
        v8,
        tzinfo.DaylightDate.wMonth,
        v10,
        v12,
        v14,
        tzinfo.DaylightDate.wHour,
        tzinfo.DaylightDate.wMinute,
        tzinfo.DaylightDate.wSecond,
        tzinfo.DaylightDate.wMilliseconds);
      if ( tzinfo.StandardDate.wYear )
      {
        v15 = tzinfo.StandardDate.wDay;
        v13 = 0;
        v11 = 0;
        v9 = v2;
        v7 = 0;
      }
      else
      {
        v15 = 0;
        v13 = tzinfo.StandardDate.wDayOfWeek;
        v11 = tzinfo.StandardDate.wDay;
        v9 = v2;
        v7 = 1;
      }
      cvtdate(
        0,
        v7,
        v9,
        tzinfo.StandardDate.wMonth,
        v11,
        v13,
        v15,
        tzinfo.StandardDate.wHour,
        tzinfo.StandardDate.wMinute,
        tzinfo.StandardDate.wSecond,
        tzinfo.StandardDate.wMilliseconds);
    }
    else
    {
      cvtdate(1, 1, v2, 4, 1, 0, 0, 2, 0, 0, 0);
      cvtdate(0, 1, v2, 10, 5, 0, 0, 2, 0, 0, 0);
    }
  }
  v3 = tb->tm_yday;
  if ( dststart.yd >= dstend.yd )
  {
    if ( v3 < dstend.yd || v3 > dststart.yd )
      return 1;
    if ( v3 <= dstend.yd || v3 >= dststart.yd )
      goto LABEL_26;
    return 0;
  }
  if ( v3 < dststart.yd || v3 > dstend.yd )
    return 0;
  if ( v3 > dststart.yd && v3 < dstend.yd )
    return 1;
LABEL_26:
  v4 = 1000 * (tb->tm_sec + 60 * (tb->tm_min + 60 * tb->tm_hour));
  if ( v3 == dststart.yd )
  {
    v5 = v4 < dststart.ms;
    LOBYTE(v5) = v4 >= dststart.ms;
  }
  else
  {
    v5 = v4 < dstend.ms;
  }
  return v5;
}

//----- (00446BA2) --------------------------------------------------------
void __cdecl __tzset()
{
  if ( !first_time )
  {
    _lock(6);
    if ( !first_time )
    {
      tzset_lk();
      ++first_time;
    }
    _unlock(6);
  }
}

//----- (00446BEE) --------------------------------------------------------
int __cdecl _isindst(tm *tb)
{
  int result; // eax@1

  _lock(6);
  isindst_lk(tb);
  _unlock(6);
  return result;
}

//----- (00446C2C) --------------------------------------------------------
tm *__cdecl gmtime(const int *timp)
{
  signed int v1; // esi@1
  signed int v2; // ebx@1
  _tiddata *v3; // eax@1
  _tiddata *v4; // edi@1
  tm *result; // eax@2
  void *v6; // eax@4
  tm *v7; // ecx@4
  int v8; // eax@6
  int v9; // esi@6
  int v10; // edx@6
  int *v11; // edi@11
  int v12; // esi@11
  int v13; // eax@13
  signed int v14; // edx@13
  int v15; // edx@15
  int v16; // esi@15

  v1 = *timp;
  v2 = 0;
  v3 = _getptd();
  v4 = v3;
  if ( v1 >= 0 )
  {
    if ( v3->_gmtimebuf || (v6 = malloc(0x24u), v4->_gmtimebuf = v6, v7 = &tb, v6) )
      v7 = (tm *)v4->_gmtimebuf;
    v8 = v1 / 126230400;
    v9 = v1 % 126230400;
    v10 = 4 * v8 + 70;
    if ( v9 >= 31536000 )
    {
      v9 -= 31536000;
      v10 = 4 * v8 + 71;
      if ( v9 >= 31536000 )
      {
        v9 -= 31536000;
        v10 = 4 * v8 + 72;
        if ( v9 < 31622400 )
        {
          v2 = 1;
        }
        else
        {
          v10 = 4 * v8 + 73;
          v9 -= 31622400;
        }
      }
    }
    v7->tm_year = v10;
    v11 = &_lpdays;
    v7->tm_yday = v9 / 86400;
    v12 = v9 % 86400;
    if ( !v2 )
      v11 = &_days;
    v13 = v7->tm_yday;
    v14 = 1;
    if ( v11[1] < v13 )
    {
      do
        ++v14;
      while ( v11[v14] < v13 );
    }
    v15 = v14 - 1;
    v7->tm_mon = v15;
    v7->tm_mday = v13 - v11[v15];
    v7->tm_wday = (*timp / 86400 + 4) % 7;
    v7->tm_hour = v12 / 3600;
    v16 = v12 % 3600;
    v7->tm_min = v16 / 60;
    v7->tm_isdst = 0;
    v7->tm_sec = v16 % 60;
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 471A70: using guessed type int _lpdays;
// 471AA4: using guessed type int _days;

//----- (00446D40) --------------------------------------------------------
void __cdecl strrchr(char *string, char chr)
{
  char *v2; // edi@1
  signed int v3; // ecx@1
  bool v4; // zf@3
  int v5; // ecx@4
  int v6; // edi@4

  v2 = string;
  v3 = -1;
  do
  {
    if ( !v3 )
      break;
    v4 = *v2++ == 0;
    --v3;
  }
  while ( !v4 );
  v5 = -(v3 + 1);
  v6 = (int)(v2 - 1);
  do
  {
    if ( !v5 )
      break;
    v4 = *(_BYTE *)v6++ == chr;
    --v5;
  }
  while ( !v4 );
}

//----- (00446E05) --------------------------------------------------------
int __cdecl _commit(int filedes)
{
  int v1; // esi@2
  int v2; // eax@4
  int result; // eax@10
  unsigned int retval; // [sp+Ch] [bp-1Ch]@5

  if ( filedes < _nhandle )
  {
    v1 = 36 * (filedes & 0x1F);
    if ( *(_BYTE *)(__pioinfo[filedes >> 5] + v1 + 4) & 1 )
    {
      _lock_fhandle(filedes);
      if ( *(_BYTE *)(__pioinfo[filedes >> 5] + v1 + 4) & 1 )
      {
        v2 = _get_osfhandle(filedes);
        if ( FlushFileBuffers((HANDLE)v2) )
          retval = 0;
        else
          retval = GetLastError();
        if ( !retval )
          goto good;
        *__doserrno() = retval;
      }
      *_errno() = 9;
good:
      _unlock_fhandle(filedes);
      return result;
    }
  }
  *_errno() = 9;
  return -1;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00446EC1) --------------------------------------------------------
int __cdecl __sbh_heap_init(unsigned int threshold)
{
  int result; // eax@1

  result = (int)HeapAlloc(_crtheap, 0, 0x140u);
  __sbh_pHeaderList = (LPVOID)result;
  if ( result )
  {
    __sbh_pHeaderDefer = 0;
    __sbh_cntHeaderList = 0;
    __sbh_pHeaderScan = result;
    __sbh_threshold = threshold;
    __sbh_sizeHeaderList = 16;
    result = 1;
  }
  return result;
}
// 4C953C: using guessed type int __sbh_cntHeaderList;
// 4C9544: using guessed type int __sbh_threshold;
// 4C9548: using guessed type int __sbh_pHeaderScan;
// 4C954C: using guessed type int __sbh_sizeHeaderList;

//----- (00446F09) --------------------------------------------------------
tagHeader *__cdecl __sbh_find_block(void *pvAlloc)
{
  tagHeader *result; // eax@1

  for ( result = (tagHeader *)__sbh_pHeaderList;
        (char *)result < (char *)__sbh_pHeaderList + 20 * __sbh_cntHeaderList;
        ++result )
  {
    if ( pvAlloc - result->pHeapData < 0x100000 )
      return result;
  }
  return 0;
}
// 4C953C: using guessed type int __sbh_cntHeaderList;

//----- (00446F34) --------------------------------------------------------
void __cdecl __sbh_free_block(tagHeader *pHeader, void *pvAlloc)
{
  tagRegion *v2; // eax@1
  char *v3; // esi@1
  unsigned int v4; // edi@1
  signed int v5; // ecx@1
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // ecx@7
  unsigned int v9; // ebx@7
  bool v10; // zf@7
  int v11; // ecx@9
  unsigned int v12; // ebx@9
  int v13; // edx@13
  int v14; // ebx@16
  signed int v15; // ecx@18
  unsigned int v16; // esi@23
  unsigned int v17; // esi@25
  int v18; // ecx@32
  int v19; // ebx@32
  char *v20; // eax@42
  unsigned int pGroup; // [sp+8h] [bp-10h]@1
  signed int sizeNext; // [sp+Ch] [bp-Ch]@2
  signed int sizePrev; // [sp+10h] [bp-8h]@2
  int sizeEntry; // [sp+14h] [bp-4h]@1
  int pNext; // [sp+24h] [bp+Ch]@2
  int pNexta; // [sp+24h] [bp+Ch]@16
  char pNext_3; // [sp+27h] [bp+Fh]@33

  v2 = pHeader->pRegion;
  v3 = (char *)pvAlloc - 4;
  v4 = (pvAlloc - pHeader->pHeapData) >> 15;
  pGroup = (unsigned int)&v2->grpHeadList[(pvAlloc - pHeader->pHeapData) >> 15];
  v5 = *((_DWORD *)pvAlloc - 1) - 1;
  sizeEntry = *((_DWORD *)pvAlloc - 1) - 1;
  if ( !(v5 & 1) )
  {
    v6 = (int)&v3[v5];
    sizeNext = *(_DWORD *)&v3[v5];
    sizePrev = *((_DWORD *)pvAlloc - 2);
    pNext = (int)&v3[v5];
    if ( !(sizeNext & 1) )
    {
      v7 = (sizeNext >> 4) - 1;
      if ( (unsigned int)v7 > 0x3F )
        v7 = 63;
      if ( *(_DWORD *)(v6 + 4) == *(_DWORD *)(v6 + 8) )
      {
        if ( (unsigned int)v7 >= 0x20 )
        {
          v11 = (int)&v2->cntRegionSize[v7];
          v12 = ~(0x80000000u >> (v7 - 32));
          v2->bitvGroupLo[v4] &= v12;
          v10 = (*(_BYTE *)v11)-- == 1;
          if ( v10 )
            pHeader->bitvEntryLo &= v12;
        }
        else
        {
          v8 = (int)&v2->cntRegionSize[v7];
          v9 = ~(0x80000000u >> v7);
          v2->bitvGroupHi[v4] &= v9;
          v10 = (*(_BYTE *)v8)-- == 1;
          if ( v10 )
            pHeader->bitvEntryHi &= v9;
        }
        v6 = pNext;
      }
      v5 = sizeNext + sizeEntry;
      *(_DWORD *)(*(_DWORD *)(v6 + 8) + 4) = *(_DWORD *)(v6 + 4);
      *(_DWORD *)(*(_DWORD *)(pNext + 4) + 8) = *(_DWORD *)(pNext + 8);
      sizeEntry += sizeNext;
    }
    v13 = (v5 >> 4) - 1;
    if ( (unsigned int)v13 > 0x3F )
      v13 = 63;
    if ( sizePrev & 1 )
    {
      v14 = (int)pHeader;
    }
    else
    {
      pNexta = (int)&v3[-sizePrev];
      v14 = (sizePrev >> 4) - 1;
      if ( (unsigned int)v14 > 0x3F )
        v14 = 63;
      v15 = sizePrev + v5;
      v13 = (v15 >> 4) - 1;
      sizeEntry = v15;
      if ( (unsigned int)v13 > 0x3F )
        v13 = 63;
      if ( v14 != v13 )
      {
        if ( *(_DWORD *)(pNexta + 4) == *(_DWORD *)(pNexta + 8) )
        {
          if ( (unsigned int)v14 >= 0x20 )
          {
            v17 = ~(0x80000000u >> (v14 - 32));
            v2->bitvGroupLo[v4] &= v17;
            v10 = v2->cntRegionSize[v14]-- == 1;
            if ( v10 )
              pHeader->bitvEntryLo &= v17;
          }
          else
          {
            v16 = ~(0x80000000u >> v14);
            v2->bitvGroupHi[v4] &= v16;
            v10 = v2->cntRegionSize[v14]-- == 1;
            if ( v10 )
              pHeader->bitvEntryHi &= v16;
          }
        }
        *(_DWORD *)(*(_DWORD *)(pNexta + 8) + 4) = *(_DWORD *)(pNexta + 4);
        *(_DWORD *)(*(_DWORD *)(pNexta + 4) + 8) = *(_DWORD *)(pNexta + 8);
      }
      v3 = (char *)pNexta;
    }
    if ( sizePrev & 1 || v14 != v13 )
    {
      v18 = pGroup + 8 * v13;
      v19 = *(_DWORD *)(v18 + 4);
      *((_DWORD *)v3 + 2) = v18;
      *((_DWORD *)v3 + 1) = v19;
      *(_DWORD *)(v18 + 4) = v3;
      *(_DWORD *)(*((_DWORD *)v3 + 1) + 8) = v3;
      if ( *((_DWORD *)v3 + 1) == *((_DWORD *)v3 + 2) )
      {
        pNext_3 = v2->cntRegionSize[v13];
        v2->cntRegionSize[v13] = pNext_3 + 1;
        if ( (unsigned int)v13 >= 0x20 )
        {
          if ( !pNext_3 )
            pHeader->bitvEntryLo |= 0x80000000u >> (v13 - 32);
          v2->bitvGroupLo[v4] |= 0x80000000u >> (v13 - 32);
        }
        else
        {
          if ( !pNext_3 )
            pHeader->bitvEntryHi |= 0x80000000u >> v13;
          v2->bitvGroupHi[v4] |= 0x80000000u >> v13;
        }
      }
    }
    *(_DWORD *)v3 = sizeEntry;
    *(_DWORD *)&v3[sizeEntry - 4] = sizeEntry;
    v10 = (*(_DWORD *)pGroup)-- == 1;
    if ( v10 )
    {
      if ( __sbh_pHeaderDefer )
      {
        VirtualFree((LPVOID)(*((_DWORD *)__sbh_pHeaderDefer + 3) + (__sbh_indGroupDefer << 15)), 0x8000u, 0x4000u);
        *((_DWORD *)__sbh_pHeaderDefer + 2) |= 0x80000000u >> __sbh_indGroupDefer;
        *(_DWORD *)(*((_DWORD *)__sbh_pHeaderDefer + 4) + 4 * __sbh_indGroupDefer + 196) = 0;
        --*(_BYTE *)(*((_DWORD *)__sbh_pHeaderDefer + 4) + 67);
        v20 = __sbh_pHeaderDefer;
        if ( !*(_BYTE *)(*((_DWORD *)__sbh_pHeaderDefer + 4) + 67) )
        {
          *((_DWORD *)__sbh_pHeaderDefer + 1) &= 0xFFFFFFFEu;
          v20 = __sbh_pHeaderDefer;
        }
        if ( *((_DWORD *)v20 + 2) == -1 )
        {
          VirtualFree(*((LPVOID *)v20 + 3), 0, 0x8000u);
          HeapFree(_crtheap, 0, *((LPVOID *)__sbh_pHeaderDefer + 4));
          memmove(
            __sbh_pHeaderDefer,
            __sbh_pHeaderDefer + 20,
            (unsigned int)((char *)__sbh_pHeaderList + 20 * __sbh_cntHeaderList-- - (_DWORD)__sbh_pHeaderDefer - 20));
          if ( (unsigned int)pHeader > (unsigned int)__sbh_pHeaderDefer )
            --pHeader;
          __sbh_pHeaderScan = (int)__sbh_pHeaderList;
        }
      }
      __sbh_pHeaderDefer = (char *)pHeader;
      __sbh_indGroupDefer = v4;
    }
  }
}
// 4C953C: using guessed type int __sbh_cntHeaderList;
// 4C9548: using guessed type int __sbh_pHeaderScan;
// 4C9550: using guessed type int __sbh_indGroupDefer;

//----- (0044724C) --------------------------------------------------------
tagHeader *__cdecl __sbh_alloc_new_region()
{
  int v0; // eax@1
  void *v1; // eax@2
  char *v3; // esi@5
  LPVOID v4; // eax@5
  LPVOID v5; // eax@7

  v0 = __sbh_cntHeaderList;
  if ( __sbh_cntHeaderList == __sbh_sizeHeaderList )
  {
    v1 = HeapReAlloc(_crtheap, 0, __sbh_pHeaderList, 4 * (5 * __sbh_sizeHeaderList + 80));
    if ( !v1 )
      return 0;
    __sbh_sizeHeaderList += 16;
    __sbh_pHeaderList = v1;
    v0 = __sbh_cntHeaderList;
  }
  v3 = (char *)__sbh_pHeaderList + 20 * v0;
  v4 = HeapAlloc(_crtheap, 8u, 0x41C4u);
  *((_DWORD *)v3 + 4) = v4;
  if ( !v4 )
    return 0;
  v5 = VirtualAlloc(0, 0x100000u, 0x2000u, 4u);
  *((_DWORD *)v3 + 3) = v5;
  if ( !v5 )
  {
    HeapFree(_crtheap, 0, *((LPVOID *)v3 + 4));
    return 0;
  }
  *((_DWORD *)v3 + 2) = -1;
  *(_DWORD *)v3 = 0;
  *((_DWORD *)v3 + 1) = 0;
  ++__sbh_cntHeaderList;
  **((_DWORD **)v3 + 4) = -1;
  return (tagHeader *)v3;
}
// 4C953C: using guessed type int __sbh_cntHeaderList;
// 4C954C: using guessed type int __sbh_sizeHeaderList;

//----- (00447303) --------------------------------------------------------
int __cdecl __sbh_alloc_new_group(tagHeader *pHeader)
{
  unsigned int v1; // eax@1
  tagRegion *v2; // esi@1
  int v3; // ebx@1
  int v4; // eax@4
  signed int v5; // edx@4
  char *v6; // edi@6
  int result; // eax@7
  int v8; // edx@8
  int v9; // eax@9
  signed int v10; // ecx@9
  bool v11; // zf@12

  v1 = pHeader->bitvCommit;
  v2 = pHeader->pRegion;
  v3 = 0;
  while ( (v1 & 0x80000000u) == 0 )
  {
    v1 *= 2;
    ++v3;
  }
  v4 = (int)&v2->grpHeadList[v3];
  v5 = 63;
  do
  {
    *(_DWORD *)(v4 + 8) = v4;
    *(_DWORD *)(v4 + 4) = v4;
    v4 += 8;
    --v5;
  }
  while ( v5 );
  v6 = (char *)pHeader->pHeapData + 32768 * v3;
  if ( VirtualAlloc((char *)pHeader->pHeapData + 32768 * v3, 0x8000u, 0x1000u, 4u) )
  {
    v8 = (int)(v6 + 28672);
    if ( v6 <= v6 + 28672 )
    {
      v9 = (int)(v6 + 16);
      v10 = 8;
      do
      {
        *(_DWORD *)(v9 - 8) = -1;
        *(_DWORD *)(v9 + 4076) = -1;
        *(_DWORD *)v9 = v9 + 4092;
        *(_DWORD *)(v9 - 4) = 4080;
        *(_DWORD *)(v9 + 4) = v9 - 4100;
        *(_DWORD *)(v9 + 4072) = 4080;
        v9 += 4096;
        --v10;
      }
      while ( v10 );
      v8 = (int)(v6 + 28672);
    }
    v2->grpHeadList[v3].listHead[63].pEntryNext = (tagEntry *)(v6 + 12);
    *((_DWORD *)v6 + 5) = (char *)v2 + 516 * v3 + 828;
    v2->grpHeadList[v3].listHead[63].pEntryPrev = (tagEntry *)(v8 + 12);
    *(_DWORD *)(v8 + 16) = (char *)v2 + 516 * v3 + 828;
    v2->bitvGroupHi[v3] = 0;
    v2->bitvGroupLo[v3] = 1;
    v11 = v2->cntRegionSize[63]++ == 0;
    if ( v11 )
      pHeader->bitvEntryLo |= 1u;
    pHeader->bitvCommit &= ~(0x80000000u >> v3);
    result = v3;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00447409) --------------------------------------------------------
int __cdecl __sbh_resize_block(tagHeader *pHeader, void *pvAlloc, int intNew)
{
  tagRegion *v3; // eax@1
  unsigned int v4; // edx@1
  int v5; // esi@1
  int v6; // ecx@1
  char *v7; // edi@1
  signed int v8; // ebx@1
  int v9; // ecx@4
  unsigned int v10; // ebx@8
  int v11; // ecx@8
  unsigned int v12; // ebx@8
  bool v13; // zf@8
  unsigned int v14; // ebx@10
  int v15; // ecx@10
  unsigned int v16; // ebx@10
  int v17; // edi@13
  char *v18; // ecx@13
  int v19; // eax@19
  char v20; // cl@19
  void *v21; // edx@24
  char *v22; // eax@24
  int v24; // ecx@29
  char *v25; // ebx@29
  int v26; // esi@29
  int v27; // esi@32
  unsigned int v28; // ebx@36
  int v29; // esi@36
  unsigned int v30; // ebx@36
  int v31; // ecx@38
  unsigned int v32; // ebx@38
  signed int v33; // esi@41
  int v34; // ecx@43
  int v35; // edi@43
  int v36; // eax@47
  char v37; // cl@47
  unsigned int pGroup; // [sp+Ch] [bp-Ch]@1
  int indNext; // [sp+10h] [bp-8h]@4
  signed int sizeNext; // [sp+14h] [bp-4h]@1
  signed int sizeNexta; // [sp+14h] [bp-4h]@12
  char *pvAlloca; // [sp+24h] [bp+Ch]@29
  char pvAlloc_3; // [sp+27h] [bp+Fh]@44
  int pHead; // [sp+28h] [bp+10h]@1
  int pHeadb; // [sp+28h] [bp+10h]@15
  signed int pHeada; // [sp+28h] [bp+10h]@29
  char pHead_3; // [sp+2Bh] [bp+13h]@16

  v3 = pHeader->pRegion;
  v4 = (pvAlloc - pHeader->pHeapData) >> 15;
  pGroup = (unsigned int)&v3->grpHeadList[(pvAlloc - pHeader->pHeapData) >> 15];
  v5 = (intNew + 23) & 0xFFFFFFF0;
  v6 = *((_DWORD *)pvAlloc - 1) - 1;
  v7 = (char *)pvAlloc + v6 - 4;
  v8 = *(_DWORD *)v7;
  pHead = *((_DWORD *)pvAlloc - 1) - 1;
  sizeNext = *(_DWORD *)v7;
  if ( v5 <= v6 )
  {
    if ( v5 < v6 )
    {
      pHeada = pHead - v5;
      v24 = v5 + 1;
      *((_DWORD *)pvAlloc - 1) = v5 + 1;
      v25 = (char *)pvAlloc + v5 - 4;
      v26 = (pHeada >> 4) - 1;
      pvAlloca = v25;
      *((_DWORD *)v25 - 1) = v24;
      if ( (unsigned int)v26 > 0x3F )
        v26 = 63;
      if ( !(sizeNext & 1) )
      {
        v27 = (sizeNext >> 4) - 1;
        if ( (unsigned int)v27 > 0x3F )
          v27 = 63;
        if ( *((_DWORD *)v7 + 1) == *((_DWORD *)v7 + 2) )
        {
          if ( (unsigned int)v27 >= 0x20 )
          {
            v31 = (int)&v3->cntRegionSize[v27];
            v32 = ~(0x80000000u >> (v27 - 32));
            v3->bitvGroupLo[v4] &= v32;
            v13 = (*(_BYTE *)v31)-- == 1;
            if ( v13 )
              pHeader->bitvEntryLo &= v32;
          }
          else
          {
            v28 = 0x80000000u >> v27;
            v29 = (int)&v3->cntRegionSize[v27];
            v30 = ~v28;
            v3->bitvGroupHi[v4] &= v30;
            v13 = (*(_BYTE *)v29)-- == 1;
            if ( v13 )
              pHeader->bitvEntryHi &= v30;
          }
          v25 = pvAlloca;
        }
        *(_DWORD *)(*((_DWORD *)v7 + 2) + 4) = *((_DWORD *)v7 + 1);
        *(_DWORD *)(*((_DWORD *)v7 + 1) + 8) = *((_DWORD *)v7 + 2);
        v33 = sizeNext + pHeada;
        pHeada = v33;
        v26 = (v33 >> 4) - 1;
        if ( (unsigned int)v26 > 0x3F )
          v26 = 63;
      }
      v34 = pGroup + 8 * v26;
      v35 = *(_DWORD *)(v34 + 4);
      *((_DWORD *)v25 + 2) = v34;
      *((_DWORD *)v25 + 1) = v35;
      *(_DWORD *)(v34 + 4) = v25;
      *(_DWORD *)(*((_DWORD *)v25 + 1) + 8) = v25;
      if ( *((_DWORD *)v25 + 1) == *((_DWORD *)v25 + 2) )
      {
        pvAlloc_3 = v3->cntRegionSize[v26];
        v3->cntRegionSize[v26] = pvAlloc_3 + 1;
        if ( (unsigned int)v26 >= 0x20 )
        {
          if ( !pvAlloc_3 )
            pHeader->bitvEntryLo |= 0x80000000u >> (v26 - 32);
          v36 = (int)&v3->bitvGroupLo[v4];
          v37 = v26 - 32;
        }
        else
        {
          if ( !pvAlloc_3 )
            pHeader->bitvEntryHi |= 0x80000000u >> v26;
          v36 = (int)&v3->bitvGroupHi[v4];
          v37 = v26;
        }
        *(_DWORD *)v36 |= 0x80000000u >> v37;
      }
      *(_DWORD *)v25 = pHeada;
      *(_DWORD *)&v25[pHeada - 4] = pHeada;
    }
  }
  else
  {
    if ( v8 & 1 || v5 > v6 + v8 )
      return 0;
    v9 = (sizeNext >> 4) - 1;
    indNext = (sizeNext >> 4) - 1;
    if ( (unsigned int)v9 > 0x3F )
    {
      v9 = 63;
      indNext = 63;
    }
    if ( *((_DWORD *)v7 + 1) == *((_DWORD *)v7 + 2) )
    {
      if ( (unsigned int)v9 >= 0x20 )
      {
        v14 = 0x80000000u >> (v9 - 32);
        v15 = (int)&v3->cntRegionSize[indNext];
        v16 = ~v14;
        v3->bitvGroupLo[v4] &= v16;
        v13 = (*(_BYTE *)v15)-- == 1;
        if ( v13 )
          pHeader->bitvEntryLo &= v16;
      }
      else
      {
        v10 = 0x80000000u >> v9;
        v11 = (int)&v3->cntRegionSize[indNext];
        v12 = ~v10;
        v3->bitvGroupHi[v4] &= v12;
        v13 = (*(_BYTE *)v11)-- == 1;
        if ( v13 )
          pHeader->bitvEntryHi &= v12;
      }
    }
    *(_DWORD *)(*((_DWORD *)v7 + 2) + 4) = *((_DWORD *)v7 + 1);
    *(_DWORD *)(*((_DWORD *)v7 + 1) + 8) = *((_DWORD *)v7 + 2);
    sizeNexta = pHead - v5 + sizeNext;
    if ( sizeNexta <= 0 )
    {
      v21 = pvAlloc;
    }
    else
    {
      v17 = (sizeNexta >> 4) - 1;
      v18 = (char *)pvAlloc + v5 - 4;
      if ( (unsigned int)v17 > 0x3F )
        v17 = 63;
      pHeadb = pGroup + 8 * v17;
      *(_DWORD *)((char *)pvAlloc + v5) = *(_DWORD *)(pHeadb + 4);
      *((_DWORD *)v18 + 2) = pHeadb;
      *(_DWORD *)(pGroup + 8 * v17 + 4) = v18;
      *(_DWORD *)(*(_DWORD *)((char *)pvAlloc + v5) + 8) = (char *)pvAlloc + v5 - 4;
      if ( *(_DWORD *)((char *)pvAlloc + v5) == *(_DWORD *)((char *)pvAlloc + v5 + 4) )
      {
        pHead_3 = v3->cntRegionSize[v17];
        v3->cntRegionSize[v17] = pHead_3 + 1;
        if ( (unsigned int)v17 >= 0x20 )
        {
          if ( !pHead_3 )
            pHeader->bitvEntryLo |= 0x80000000u >> (v17 - 32);
          v19 = (int)&v3->bitvGroupLo[v4];
          v20 = v17 - 32;
        }
        else
        {
          if ( !pHead_3 )
            pHeader->bitvEntryHi |= 0x80000000u >> v17;
          v19 = (int)&v3->bitvGroupHi[v4];
          v20 = v17;
        }
        *(_DWORD *)v19 |= 0x80000000u >> v20;
      }
      v21 = pvAlloc;
      v22 = (char *)pvAlloc + v5 - 4;
      *(_DWORD *)v22 = sizeNexta;
      *(_DWORD *)&v22[sizeNexta - 4] = sizeNexta;
    }
    *((_DWORD *)v21 - 1) = v5 + 1;
    *(_DWORD *)((char *)v21 + v5 - 8) = v5 + 1;
  }
  return 1;
}

//----- (004476E8) --------------------------------------------------------
void *__cdecl __sbh_alloc_block(int intSize)
{
  int v1; // ecx@1
  int v2; // ecx@1
  unsigned int v3; // esi@2
  unsigned int j; // ebx@4
  bool i; // cf@4
  int v6; // eax@14
  int v7; // edx@14
  int v8; // ecx@16
  int v9; // edx@17
  signed int v10; // edi@19
  int v11; // ecx@19
  int v13; // edx@35
  int v14; // ecx@35
  int v15; // esi@35
  unsigned int v16; // ebx@40
  int v17; // edi@40
  bool v18; // zf@40
  unsigned int v19; // ebx@42
  int v20; // edi@42
  unsigned int v21; // ebx@42
  int v22; // ecx@46
  int v23; // edi@46
  int v24; // edx@58
  unsigned int v25; // [sp+Ch] [bp-14h]@40
  unsigned int v26; // [sp+Ch] [bp-14h]@42
  int sizeEntry; // [sp+10h] [bp-10h]@1
  int bitvEntryHi; // [sp+14h] [bp-Ch]@19
  unsigned int sizeNewFree; // [sp+18h] [bp-8h]@2
  int sizeNewFreea; // [sp+18h] [bp-8h]@35
  char *pHeaderLast; // [sp+1Ch] [bp-4h]@1
  int pHeaderLasta; // [sp+1Ch] [bp-4h]@14
  unsigned int pHeader; // [sp+28h] [bp+8h]@7
  char pHeader_3; // [sp+2Bh] [bp+Bh]@47

  v1 = (intSize + 23) & 0xFFFFFFF0;
  sizeEntry = v1;
  v2 = (v1 >> 4) - 1;
  pHeaderLast = (char *)__sbh_pHeaderList + 20 * __sbh_cntHeaderList;
  if ( v2 >= 32 )
  {
    v3 = 0;
    sizeNewFree = 0xFFFFFFFFu >> (v2 - 32);
  }
  else
  {
    v3 = 0xFFFFFFFFu >> v2;
    sizeNewFree = -1;
  }
  j = __sbh_pHeaderScan;
  for ( i = __sbh_pHeaderScan < (unsigned int)((char *)__sbh_pHeaderList + 20 * __sbh_cntHeaderList);
        ;
        i = j < (unsigned int)pHeaderLast )
  {
    pHeader = j;
    if ( !i )
      break;
    if ( v3 & *(_DWORD *)j | sizeNewFree & *(_DWORD *)(j + 4) )
      break;
    j += 20;
  }
  if ( (char *)j == pHeaderLast )
  {
    for ( j = (unsigned int)__sbh_pHeaderList; ; j += 20 )
    {
      pHeader = j;
      if ( j >= __sbh_pHeaderScan )
        break;
      if ( v3 & *(_DWORD *)j | sizeNewFree & *(_DWORD *)(j + 4) )
        break;
    }
    if ( j == __sbh_pHeaderScan )
    {
      while ( j < (unsigned int)pHeaderLast && !*(_DWORD *)(j + 8) )
      {
        j += 20;
        pHeader = j;
      }
      if ( (char *)j == pHeaderLast )
      {
        for ( j = (unsigned int)__sbh_pHeaderList; ; j += 20 )
        {
          pHeader = j;
          if ( j >= __sbh_pHeaderScan )
            break;
          if ( *(_DWORD *)(j + 8) )
            break;
        }
        if ( j == __sbh_pHeaderScan )
        {
          j = (unsigned int)__sbh_alloc_new_region();
          pHeader = j;
          if ( !j )
            return 0;
        }
      }
      **(_DWORD **)(j + 16) = __sbh_alloc_new_group((tagHeader *)j);
      if ( **(_DWORD **)(j + 16) == -1 )
        return 0;
    }
  }
  __sbh_pHeaderScan = j;
  v6 = *(_DWORD *)(j + 16);
  v7 = *(_DWORD *)v6;
  pHeaderLasta = *(_DWORD *)v6;
  if ( *(_DWORD *)v6 == -1 || !(v3 & *(_DWORD *)(v6 + 4 * v7 + 68) | sizeNewFree & *(_DWORD *)(v6 + 4 * v7 + 196)) )
  {
    pHeaderLasta = 0;
    v8 = v6 + 68;
    if ( !(v3 & *(_DWORD *)(v6 + 68) | sizeNewFree & *(_DWORD *)(v6 + 196)) )
    {
      do
      {
        v9 = sizeNewFree & *(_DWORD *)(v8 + 132);
        ++pHeaderLasta;
        v8 += 4;
      }
      while ( !(v3 & *(_DWORD *)v8 | v9) );
    }
    v7 = pHeaderLasta;
  }
  bitvEntryHi = 516 * v7 + v6 + 324;
  v10 = 0;
  v11 = v3 & *(_DWORD *)(v6 + 4 * v7 + 68);
  if ( !(v3 & *(_DWORD *)(v6 + 4 * v7 + 68)) )
  {
    v11 = sizeNewFree & *(_DWORD *)(v6 + 4 * v7 + 196);
    v10 = 32;
  }
  while ( v11 >= 0 )
  {
    v11 *= 2;
    ++v10;
  }
  v13 = *(_DWORD *)(bitvEntryHi + 8 * v10 + 4);
  v14 = *(_DWORD *)v13 - sizeEntry;
  v15 = ((*(_DWORD *)v13 - sizeEntry) >> 4) - 1;
  sizeNewFreea = *(_DWORD *)v13 - sizeEntry;
  if ( v15 > 63 )
    v15 = 63;
  if ( v15 == v10 )
    goto LABEL_55;
  if ( *(_DWORD *)(v13 + 4) != *(_DWORD *)(v13 + 8) )
    goto LABEL_45;
  if ( v10 >= 32 )
  {
    v19 = 0x80000000u >> (v10 - 32);
    v20 = v6 + v10 + 4;
    v21 = ~v19;
    *(_DWORD *)(v6 + 4 * pHeaderLasta + 196) &= v21;
    v18 = (*(_BYTE *)v20)-- == 1;
    v26 = v21;
    if ( v18 )
    {
      j = pHeader;
      *(_DWORD *)(j + 4) &= v26;
      goto LABEL_45;
    }
  }
  else
  {
    v16 = 0x80000000u >> v10;
    v17 = v6 + v10 + 4;
    v25 = ~v16;
    *(_DWORD *)(v6 + 4 * pHeaderLasta + 68) &= ~v16;
    v18 = (*(_BYTE *)v17)-- == 1;
    if ( v18 )
    {
      j = pHeader;
      *(_DWORD *)j &= v25;
      goto LABEL_45;
    }
  }
  j = pHeader;
LABEL_45:
  *(_DWORD *)(*(_DWORD *)(v13 + 8) + 4) = *(_DWORD *)(v13 + 4);
  *(_DWORD *)(*(_DWORD *)(v13 + 4) + 8) = *(_DWORD *)(v13 + 8);
  if ( sizeNewFreea )
  {
    v22 = bitvEntryHi + 8 * v15;
    v23 = *(_DWORD *)(v22 + 4);
    *(_DWORD *)(v13 + 8) = v22;
    *(_DWORD *)(v13 + 4) = v23;
    *(_DWORD *)(v22 + 4) = v13;
    *(_DWORD *)(*(_DWORD *)(v13 + 4) + 8) = v13;
    if ( *(_DWORD *)(v13 + 4) == *(_DWORD *)(v13 + 8) )
    {
      pHeader_3 = *(_BYTE *)(v15 + v6 + 4);
      *(_BYTE *)(v15 + v6 + 4) = pHeader_3 + 1;
      if ( v15 >= 32 )
      {
        if ( !pHeader_3 )
          *(_DWORD *)(j + 4) |= 0x80000000u >> (v15 - 32);
        *(_DWORD *)(v6 + 4 * pHeaderLasta + 196) |= 0x80000000u >> (v15 - 32);
      }
      else
      {
        if ( !pHeader_3 )
          *(_DWORD *)j |= 0x80000000u >> v15;
        *(_DWORD *)(v6 + 4 * pHeaderLasta + 68) |= 0x80000000u >> v15;
      }
    }
    v14 = sizeNewFreea;
LABEL_55:
    if ( v14 )
    {
      *(_DWORD *)v13 = v14;
      *(_DWORD *)(v14 + v13 - 4) = v14;
    }
    goto LABEL_58;
  }
  v14 = 0;
LABEL_58:
  v24 = v14 + v13;
  *(_DWORD *)v24 = sizeEntry + 1;
  *(_DWORD *)(v24 + sizeEntry - 4) = sizeEntry + 1;
  v18 = (*(_DWORD *)bitvEntryHi)++ == 0;
  if ( v18 && (char *)j == __sbh_pHeaderDefer )
  {
    if ( pHeaderLasta == __sbh_indGroupDefer )
      __sbh_pHeaderDefer = 0;
  }
  *(_DWORD *)v6 = pHeaderLasta;
  return (void *)(v24 + 4);
}
// 4C953C: using guessed type int __sbh_cntHeaderList;
// 4C9548: using guessed type int __sbh_pHeaderScan;
// 4C9550: using guessed type int __sbh_indGroupDefer;

//----- (004479E4) --------------------------------------------------------
void __cdecl _getbuf(_iobuf *str)
{
  void *v1; // eax@1
  char *v2; // eax@4

  ++_cflush;
  v1 = malloc(0x1000u);
  str->_base = (char *)v1;
  if ( v1 )
  {
    str->_flag |= 8u;
    str->_bufsiz = 4096;
  }
  else
  {
    str->_flag |= 4u;
    str->_base = (char *)&str->_charbuf;
    str->_bufsiz = 2;
  }
  v2 = str->_base;
  str->_cnt = 0;
  str->_ptr = v2;
}
// 4C8FEC: using guessed type int _cflush;

//----- (00447A28) --------------------------------------------------------
__int64 __cdecl _ftelli64_lk(_iobuf *str)
{
  _iobuf *v1; // edi@1
  signed int v2; // esi@1
  __int64 v3; // qax@3
  int v4; // ebx@3
  __int64 result; // qax@6
  char *v6; // eax@7
  char *v7; // edx@7
  int v8; // ecx@7
  char *v9; // ecx@9
  int v10; // ecx@20
  int v11; // ebx@22
  int v12; // esi@22
  char *v13; // eax@24
  int v14; // ecx@24
  bool v15; // zf@29
  signed int v16; // eax@30
  int v17; // ecx@31
  __int64 filepos; // [sp+Ch] [bp-10h]@3
  int fd; // [sp+14h] [bp-8h]@1
  char *offset; // [sp+18h] [bp-4h]@7
  int rdcnt; // [sp+24h] [bp+8h]@22

  v1 = str;
  v2 = str->_file;
  fd = str->_file;
  if ( str->_cnt < 0 )
    str->_cnt = 0;
  v3 = _lseeki64(v2, 0i64, 1);
  v4 = v3;
  filepos = v3;
  if ( SHIDWORD(v3) <= 0 && SHIDWORD(v3) < 0 )
    return -1i64;
  if ( !(str->_flag & 0x108) )
    return v3 - str->_cnt;
  v6 = str->_ptr;
  v7 = str->_base;
  offset = (char *)(str->_ptr - v7);
  v8 = str->_flag;
  if ( v8 & 3 )
  {
    if ( *(_BYTE *)(__pioinfo[v2 >> 5] + 36 * (v2 & 0x1F) + 4) & 0x80 )
    {
      v9 = str->_base;
      if ( v7 < v6 )
      {
        do
        {
          if ( *v9 == 10 )
            ++offset;
          ++v9;
        }
        while ( v9 < str->_ptr );
      }
    }
    v4 = filepos;
    goto LABEL_14;
  }
  if ( (char)v8 >= 0 )
  {
    *_errno() = 22;
    return -1i64;
  }
LABEL_14:
  if ( HIDWORD(filepos) | v4 )
  {
    if ( str->_flag & 1 )
    {
      v10 = str->_cnt;
      if ( v10 )
      {
        rdcnt = v10 + v6 - v7;
        v11 = 4 * (v2 >> 5) + 5019552;
        v12 = 36 * (v2 & 0x1F);
        if ( *(_BYTE *)(v12 + *(_DWORD *)v11 + 4) & 0x80 )
        {
          if ( _lseeki64(fd, 0i64, 2) == filepos )
          {
            v13 = v1->_base;
            v14 = (int)&v13[rdcnt];
            while ( (unsigned int)v13 < v14 )
            {
              if ( *v13 == 10 )
                ++rdcnt;
              ++v13;
            }
            v15 = (BYTE1(v1->_flag) & 0x20) == 0;
          }
          else
          {
            _lseeki64(fd, filepos, 0);
            v16 = 512;
            if ( (unsigned int)rdcnt > 0x200 || (v17 = v1->_flag, !(v17 & 8)) || BYTE1(v17) & 4 )
              v16 = v1->_bufsiz;
            rdcnt = v16;
            v15 = (*(_BYTE *)(v12 + *(_DWORD *)v11 + 4) & 4) == 0;
          }
          if ( !v15 )
            ++rdcnt;
        }
        filepos -= (unsigned int)rdcnt;
      }
      else
      {
        offset = 0;
      }
    }
    result = (__int64)&offset[filepos];
  }
  else
  {
    result = (unsigned int)offset;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00447BBD) --------------------------------------------------------
__int64 __cdecl _ftelli64(_iobuf *stream)
{
  __int64 result; // qax@1

  _lock_file(stream);
  _ftelli64_lk(stream);
  _unlock_file(stream);
  return result;
}

//----- (00447C04) --------------------------------------------------------
int __cdecl _lseek_lk(int fh, int pos, int mthd)
{
  int v3; // eax@1
  int result; // eax@2
  int v5; // edi@3
  unsigned int v6; // eax@4
  int v7; // eax@8

  v3 = _get_osfhandle(fh);
  if ( v3 == -1 )
  {
    *_errno() = 9;
    result = -1;
  }
  else
  {
    v5 = SetFilePointer((HANDLE)v3, pos, 0, mthd);
    if ( v5 == -1 )
      v6 = GetLastError();
    else
      v6 = 0;
    if ( v6 )
    {
      _dosmaperr(v6);
      result = -1;
    }
    else
    {
      v7 = __pioinfo[fh >> 5] + 36 * (fh & 0x1F) + 4;
      *(_BYTE *)v7 &= 0xFDu;
      result = v5;
    }
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00447C78) --------------------------------------------------------
int __cdecl _lseek(int fh, int pos, int mthd)
{
  int v3; // esi@2
  int result; // eax@6

  if ( fh < _nhandle && (v3 = 36 * (fh & 0x1F), *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1) )
  {
    _lock_fhandle(fh);
    if ( *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1 )
    {
      _lseek_lk(fh, pos, mthd);
    }
    else
    {
      *_errno() = 9;
      *__doserrno() = 0;
    }
    _unlock_fhandle(fh);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00447D23) --------------------------------------------------------
int __cdecl _fseeki64_lk(_iobuf *str, __int64 offset, int whence)
{
  int v3; // eax@1
  int v4; // edi@2
  int v5; // eax@7
  __int64 v6; // qax@13

  v3 = str->_flag;
  if ( !(v3 & 0x83) || (v4 = whence) != 0 && whence != 1 && whence != 2 )
  {
    *_errno() = 22;
  }
  else
  {
    str->_flag = v3 & 0xFFFFFFEF;
    if ( whence == 1 )
    {
      offset += _ftelli64_lk(str);
      v4 = 0;
    }
    _flush(str);
    v5 = str->_flag;
    if ( (char)v5 >= 0 )
    {
      if ( v5 & 1 && v5 & 8 )
      {
        if ( !(BYTE1(v5) & 4) )
          str->_bufsiz = 512;
      }
    }
    else
    {
      str->_flag = v5 & 0xFFFFFFFC;
    }
    v6 = _lseeki64(str->_file, offset, v4);
    if ( (HIDWORD(v6) & (unsigned int)v6) != -1 )
      return 0;
  }
  return -1;
}

//----- (00447DB6) --------------------------------------------------------
int __cdecl _fseeki64(_iobuf *stream, __int64 offset, int whence)
{
  int result; // eax@1

  _lock_file(stream);
  _fseeki64_lk(stream, offset, whence);
  _unlock_file(stream);
  return result;
}

//----- (00447E02) --------------------------------------------------------
void __cdecl __libm_error_support(void *arg1, void *arg2, void *retval, error_types input_tag)
{
  void *v4; // esi@28
  long double v5; // st7@28
  void *v6; // eax@55
  _exception exc; // [sp+4h] [bp-24h]@11

  if ( (signed int)input_tag > 161 )
  {
    if ( (signed int)input_tag > 1002 )
    {
      if ( input_tag == 1003 )
      {
        exc.name = "atan";
      }
      else
      {
        if ( input_tag == 1004 )
        {
          exc.name = "ceil";
        }
        else
        {
          if ( input_tag != 1005 )
          {
            if ( input_tag != 1006 )
            {
              if ( input_tag != 1007 )
                return;
              exc.name = "modf";
              goto LABEL_59;
            }
LABEL_54:
            exc.name = "pow";
            goto LABEL_55;
          }
          exc.name = "floor";
        }
      }
    }
    else
    {
      if ( input_tag != 1002 )
      {
        if ( input_tag != 162 )
        {
          if ( input_tag == 166 )
          {
            exc.type = 3;
            exc.name = "exp10";
            goto LABEL_45;
          }
          if ( input_tag == 170 )
          {
            exc.type = 2;
            exc.name = "log2";
            goto LABEL_45;
          }
          if ( input_tag != 171 )
          {
            if ( input_tag == 1000 )
            {
              exc.name = "log";
            }
            else
            {
              if ( input_tag != 1001 )
                return;
              exc.name = "log10";
            }
            goto LABEL_59;
          }
          exc.name = "log2";
LABEL_55:
          v6 = arg1;
          v4 = retval;
          goto LABEL_60;
        }
        exc.type = 4;
LABEL_44:
        exc.name = "exp2";
        goto LABEL_45;
      }
      exc.name = "exp";
    }
LABEL_59:
    v6 = arg1;
    v4 = retval;
    *(double *)retval = *(double *)arg1;
LABEL_60:
    exc.arg1 = *(double *)v6;
    exc.type = 1;
    exc.arg2 = *(double *)arg2;
    exc.retval = *(double *)v4;
    if ( !_pmatherr(&exc) )
      *_errno() = 33;
    goto LABEL_62;
  }
  if ( input_tag == 161 )
  {
    exc.type = 3;
    goto LABEL_44;
  }
  if ( (signed int)input_tag <= 24 )
  {
    if ( input_tag != 24 )
    {
      if ( input_tag == 2 )
      {
        exc.type = 2;
        exc.name = "log";
        goto LABEL_45;
      }
      if ( input_tag == 3 )
      {
        exc.name = "log";
      }
      else
      {
        if ( input_tag == 8 )
        {
          exc.type = 2;
          exc.name = "log10";
          goto LABEL_45;
        }
        if ( input_tag != 9 )
        {
          if ( input_tag != 14 )
          {
            if ( input_tag != 15 )
              return;
            exc.name = "exp";
            goto LABEL_28;
          }
          exc.type = 3;
          exc.name = "exp";
LABEL_45:
          v4 = retval;
          exc.arg1 = *(double *)arg1;
          exc.arg2 = *(double *)arg2;
          exc.retval = *(double *)retval;
          if ( !_pmatherr(&exc) )
            *_errno() = 34;
          goto LABEL_62;
        }
        exc.name = "log10";
      }
      goto LABEL_55;
    }
    exc.type = 3;
LABEL_18:
    exc.name = "pow";
    goto LABEL_45;
  }
  if ( input_tag != 25 )
  {
    if ( input_tag == 26 )
    {
      *(double *)retval = 1.0;
      return;
    }
    if ( input_tag == 27 )
    {
      exc.type = 2;
      goto LABEL_18;
    }
    if ( input_tag != 28 )
    {
      if ( input_tag != 29 )
        return;
      exc.name = "pow";
      goto LABEL_59;
    }
    goto LABEL_54;
  }
  exc.name = "pow";
LABEL_28:
  v4 = retval;
  exc.arg1 = *(double *)arg1;
  exc.arg2 = *(double *)arg2;
  v5 = *(double *)retval;
  exc.type = 4;
  exc.retval = v5;
  _pmatherr(&exc);
LABEL_62:
  *(_QWORD *)v4 = *(_QWORD *)&exc.retval;
}
// 471A30: using guessed type int (__cdecl *_pmatherr)(_DWORD);

//----- (00448090) --------------------------------------------------------
int __cdecl has_osfxsr_set()
{
  return 1;
}

//----- (004480C5) --------------------------------------------------------
int __cdecl __sse2_available_init()
{
  int v0; // ebx@0
  int v15; // eax@5
  char cpu_feature_3; // [sp+Fh] [bp-19h]@1
  signed int Signature; // [sp+10h] [bp-18h]@1
  $19231EAC7ACB143F7AE5135869554AC9 Ident; // [sp+14h] [bp-14h]@1

  _CF = 0;
  _OF = 0;
  _ZF = 1;
  _SF = 0;
  cpu_feature_3 = 0;
  Signature = 0;
  Ident.cBuf[0] = 0;
  __asm { pushf }
  if ( (v0 ^ 0x200000) != v0 )
  {
    __asm { popf }
    _EAX = 0;
    __asm { cpuid }
    *(_DWORD *)&Ident.cBuf[0] = _EBX;
    *(_QWORD *)&Ident.cBuf[4] = __PAIR__(_ECX, _EDX);
    _EAX = 1;
    __asm { cpuid }
    cpu_feature_3 = BYTE3(_EDX);
    Signature = _EAX;
  }
  __sse2_available = 0;
  __use_sse2_mathfcns = 0;
  if ( cpu_feature_3 & 4 )
  {
    if ( has_osfxsr_set() )
    {
      __sse2_available = 1;
      strncmp("AuthenticAMD", Ident.cBuf, 0xCu);
      if ( v15 || ((Signature >> 8) & 0xF) + (((Signature >> 8) & 0xF) == 15 ? (Signature >> 20) & 0xFF : 0) != 15 )
        __use_sse2_mathfcns = 1;
    }
  }
  return 0;
}
// 4C9530: using guessed type int __use_sse2_mathfcns;
// 4C9534: using guessed type int __sse2_available;

//----- (00448193) --------------------------------------------------------
long double __cdecl _ceil_default(long double x)
{
  unsigned int v1; // ebx@1
  int v2; // eax@2
  int v4; // [sp-8h] [bp-2Ch]@7
  int v5; // [sp-4h] [bp-28h]@7
  long double v6; // [sp+0h] [bp-24h]@7
  long double v7; // [sp+8h] [bp-1Ch]@7
  unsigned int v8; // [sp+10h] [bp-14h]@7
  double result; // [sp+1Ch] [bp-8h]@8

  v1 = _ctrlfp(newcw, 0xFFFFu);
  if ( (WORD3(x) & 0x7FF0) == 32752 )
  {
    v2 = _sptype(x);
    if ( v2 > 0 )
    {
      if ( v2 <= 2 )
      {
        _ctrlfp(v1, 0xFFFFu);
        return x;
      }
      if ( v2 == 3 )
        return _handle_qnan1(0xCu, x, v1);
    }
    v8 = v1;
    v7 = x + 1.0;
    v6 = x;
    v5 = 12;
    v4 = 8;
  }
  else
  {
    result = _frnd(x);
    if ( result == x || v1 & 0x20 )
    {
      _ctrlfp(v1, 0xFFFFu);
      return result;
    }
    v8 = v1;
    v7 = result;
    v6 = x;
    v5 = 12;
    v4 = 16;
  }
  return _except1(v4, v5, v6, v7, v8);
}

//----- (00448266) --------------------------------------------------------
_flt *__cdecl _fltin2(_flt *flt, const char *str, int len_ignore, int scale_ignore, int radix_ignore)
{
  int v5; // edi@1
  char v6; // bl@1
  INTRNCVT_STATUS v7; // eax@3
  _flt *result; // eax@9
  int v9; // ecx@9
  void *EndPtr; // [sp+Ch] [bp-1Ch]@1
  DOUBLE x; // [sp+10h] [bp-18h]@2
  _LDBL12 ld12; // [sp+18h] [bp-10h]@1

  v5 = 0;
  v6 = __strgtold12(&ld12, (const char **)&EndPtr, str, 0, 0, 0, 0);
  if ( v6 & 4 )
  {
    v5 = 512;
    COERCE_DOUBLE(x.x) = 0i64;
  }
  else
  {
    v7 = _ld12tod(&ld12, &x);
    if ( v6 & 2 || v7 == 1 )
      v5 = 128;
    if ( v6 & 1 || v7 == 2 )
      v5 |= 0x100u;
  }
  result = flt;
  v9 = EndPtr - str;
  flt->flags = v5;
  flt->nbytes = v9;
  *(_QWORD *)&flt->dval = COERCE_DOUBLE(x.x);
  return result;
}

//----- (004482FB) --------------------------------------------------------
int __cdecl _read_lk(int fh, void *buf, unsigned int cnt)
{
  void *v3; // ebx@1
  char *v4; // edx@1
  int v5; // esi@2
  int v6; // eax@2
  char v7; // cl@2
  int v8; // eax@5
  unsigned int v9; // eax@7
  int v11; // ecx@12
  char *v12; // ecx@17
  bool v13; // cf@17
  char v14; // al@18
  char v15; // al@29
  int os_read; // [sp+Ch] [bp-Ch]@6
  int bytes_read; // [sp+10h] [bp-8h]@1
  char peekchr; // [sp+17h] [bp-1h]@25
  unsigned int p; // [sp+28h] [bp+10h]@17

  bytes_read = 0;
  v3 = buf;
  v4 = (char *)buf;
  if ( cnt )
  {
    v5 = 36 * (fh & 0x1F);
    v6 = v5 + __pioinfo[fh >> 5];
    v7 = *(_BYTE *)(v6 + 4);
    if ( !(v7 & 2) )
    {
      if ( v7 & 0x48 && *(_BYTE *)(v6 + 5) != 10 )
      {
        --cnt;
        *(_BYTE *)buf = *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 5);
        v8 = __pioinfo[fh >> 5];
        v4 = (char *)buf + 1;
        bytes_read = 1;
        *(_BYTE *)(v8 + v5 + 5) = 10;
      }
      if ( !ReadFile(*(HANDLE *)(__pioinfo[fh >> 5] + v5), v4, cnt, (LPDWORD)&os_read, 0) )
      {
        v9 = GetLastError();
        if ( v9 == 5 )
        {
          *_errno() = 9;
          *__doserrno() = 5;
          return -1;
        }
        if ( v9 != 109 )
        {
          _dosmaperr(v9);
          return -1;
        }
        return 0;
      }
      v11 = __pioinfo[fh >> 5];
      bytes_read += os_read;
      if ( *(_BYTE *)(v11 + v5 + 4) & 0x80 )
      {
        if ( os_read && *(_BYTE *)buf == 10 )
          *(_BYTE *)(v11 + v5 + 4) |= 4u;
        else
          *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 4) &= 0xFBu;
        v12 = (char *)buf + bytes_read;
        v13 = buf < (char *)buf + bytes_read;
        p = (unsigned int)buf;
        bytes_read += (int)buf;
        if ( v13 )
        {
          do
          {
            v14 = *(_BYTE *)p;
            if ( *(_BYTE *)p == 26 )
            {
              if ( !(*(_BYTE *)(__pioinfo[fh >> 5] + v5 + 4) & 0x40) )
                *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 4) |= 2u;
              break;
            }
            if ( v14 == 13 )
            {
              if ( p < (unsigned int)(v12 - 1) )
              {
                if ( *(_BYTE *)(p + 1) != 10 )
                {
                  ++p;
LABEL_35:
                  *(_BYTE *)v3 = 13;
LABEL_36:
                  v3 = (char *)v3 + 1;
                  goto LABEL_37;
                }
                p += 2;
                goto LABEL_33;
              }
              ++p;
              if ( !ReadFile(*(HANDLE *)(__pioinfo[fh >> 5] + v5), &peekchr, 1u, (LPDWORD)&os_read, 0) && GetLastError()
                || !os_read )
                goto LABEL_35;
              if ( *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 4) & 0x48 )
              {
                v15 = peekchr;
                if ( peekchr != 10 )
                {
                  *(_BYTE *)v3 = 13;
                  *(_BYTE *)(__pioinfo[fh >> 5] + v5 + 5) = v15;
                  goto LABEL_36;
                }
LABEL_33:
                *(_BYTE *)v3 = 10;
                goto LABEL_36;
              }
              if ( v3 == buf && peekchr == 10 )
                goto LABEL_33;
              _lseek_lk(fh, -1, 1);
              if ( peekchr != 10 )
                goto LABEL_35;
            }
            else
            {
              *(_BYTE *)v3 = v14;
              v3 = (char *)v3 + 1;
              ++p;
            }
LABEL_37:
            v12 = (char *)bytes_read;
          }
          while ( p < bytes_read );
        }
        bytes_read = v3 - buf;
      }
      return bytes_read;
    }
  }
  return 0;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (004484D6) --------------------------------------------------------
int __cdecl _read(int fh, void *buf, unsigned int cnt)
{
  int v3; // esi@2
  int result; // eax@6

  if ( fh < _nhandle && (v3 = 36 * (fh & 0x1F), *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1) )
  {
    _lock_fhandle(fh);
    if ( *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1 )
    {
      _read_lk(fh, buf, cnt);
    }
    else
    {
      *_errno() = 9;
      *__doserrno() = 0;
    }
    _unlock_fhandle(fh);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (00448590) --------------------------------------------------------
int __usercall _trandisp1<eax>(int a1<edx>, __int16 a2<cx>, int a3<ebp>, __int16 a4<fpstat>, double _ST7<st0>, char a6, char a7, char a8)
{
  signed __int16 v8; // bx@2

  if ( *(_BYTE *)(a1 + 14) == 5 )
  {
    HIBYTE(v8) = ((unsigned __int8)(*(_WORD *)(a3 - 164) >> 8) | 2) & 0xFE;
    LOBYTE(v8) = 63;
  }
  else
  {
    v8 = 4927;
  }
  *(_WORD *)(a3 - 162) = v8;
  _EBX = "\b";
  __asm { fxam }
  *(_DWORD *)(a3 - 148) = a1;
  *(_WORD *)(a3 - 160) = a4;
  *(_BYTE *)(a3 - 144) = 0;
  LOBYTE(a2) = __ROL__((char)(2 * *(_BYTE *)(a3 - 159)) >> 1, 1);
  _AL = a2 & 0xF;
  __asm { xlat }
  return (*(int (__thiscall **)(int))(_AL + a1 + 16))(a2 & 0x404);
}

//----- (004485F7) --------------------------------------------------------
int __usercall _trandisp2<eax>(int a1<edx>, int a2<ebp>, __int16 a3<fpstat>, double _ST6<st1>, double a5<st0>, char a6, char a7, char a8)
{
  signed __int16 v8; // bx@2
  __int16 v10; // fps@4
  char v12; // cl@4
  __int16 v13; // cx@4
  char v16; // ah@4

  if ( *(_BYTE *)(a1 + 14) == 5 )
  {
    HIBYTE(v8) = ((unsigned __int8)(*(_WORD *)(a2 - 164) >> 8) | 2) & 0xFE;
    LOBYTE(v8) = 63;
  }
  else
  {
    v8 = 4927;
  }
  *(_WORD *)(a2 - 162) = v8;
  _EBX = "\b";
  __asm { fxam }
  *(_DWORD *)(a2 - 148) = a1;
  *(_WORD *)(a2 - 160) = a3;
  *(_BYTE *)(a2 - 144) = 0;
  UNDEF(v10);
  _ST6 = a5;
  v12 = *(_BYTE *)(a2 - 159);
  __asm { fxam }
  *(_WORD *)(a2 - 160) = v10;
  HIBYTE(v13) = __ROL__((char)(2 * *(_BYTE *)(a2 - 159)) >> 1, 1);
  _AL = HIBYTE(v13) & 0xF;
  __asm { xlat }
  v16 = _AL;
  LOBYTE(v13) = __ROL__((char)(2 * v12) >> 1, 1);
  _AL = v13 & 0xF;
  __asm { xlat }
  return (*(int (__thiscall **)(int))((char)(4 * v16 | _AL) + a1 + 16))(v13 & 0x404);
}

//----- (00448683) --------------------------------------------------------
#error "448683: positive sp value has been found (funcsize=4)"

//----- (00448760) --------------------------------------------------------
void __cdecl _startTwoArgErrorHandling(unsigned int savCW, unsigned int ret_addr, __int64 param1, __int64 param2)
{
  JUMPOUT(&ContinueErrorHandling);
}

//----- (00448777) --------------------------------------------------------
void __cdecl _startOneArgErrorHandling(unsigned int savCW, unsigned int ret_addr, __int64 param1)
{
  int v3; // eax@0
  int v4; // edx@0
  char *v5; // ecx@0
  _exception exc; // [sp+0h] [bp-20h]@1

  exc.type = v3;
  __asm { fstp    [ebp+exc.retval] }
  exc.name = v5;
  *(_QWORD *)&exc.arg1 = param1;
  _87except(v4, &exc, (unsigned __int16 *)&savCW);
  __asm { fld     [ebp+exc.retval] }
  if ( (_WORD)savCW != 639 )
    __asm { fldcw   word ptr [ebp+savCW] }
}
// 448780: inconsistent fpu stack

//----- (004487C0) --------------------------------------------------------
double __usercall _twoToTOS<st0>(double a1<st0>)
{
  _ST6 = a1;
  __asm { frndint }
  return __F2XM1__(-(_ST6 - a1)) + 1.0;
}

//----- (004487D5) --------------------------------------------------------
void __cdecl _load_CW()
{
  ;
}

//----- (004487EC) --------------------------------------------------------
double __usercall _convertTOStoQNaN<st0>(int a1<eax>, double result<st0>)
{
  if ( !(a1 & 0x80000) )
    result = result + 1.0;
  return result;
}

//----- (00448805) --------------------------------------------------------
double __fastcall _fload_withFB(int a1, int a2)
{
  double result; // st7@2

  if ( (*(_DWORD *)(a2 + 4) & 0x7FF00000) == 2146435072 )
    result = COERCE_DOUBLE(*(_QWORD *)a2 << 11);
  else
    result = *(double *)a2;
  return result;
}

//----- (00448848) --------------------------------------------------------
int __cdecl _checkTOS_withFB(int a1, int a2)
{
  int result; // eax@1

  result = a2 & 0x7FF00000;
  if ( (a2 & 0x7FF00000) == 2146435072 )
    result = a2;
  return result;
}

//----- (0044885E) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (0044886B) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (00448895) --------------------------------------------------------
void __cdecl _check_overflow_exit()
{
  JUMPOUT(check_overflow_start);
}
// 4488BD: using guessed type int check_overflow_start();

//----- (004488A9) --------------------------------------------------------
#error "4488ED: positive sp value has been found (funcsize=21)"

//----- (00448A02) --------------------------------------------------------
long double __cdecl _floor_default(long double x)
{
  unsigned int v1; // ebx@1
  int v2; // eax@2
  int v4; // [sp-8h] [bp-2Ch]@7
  int v5; // [sp-4h] [bp-28h]@7
  long double v6; // [sp+0h] [bp-24h]@7
  long double v7; // [sp+8h] [bp-1Ch]@7
  unsigned int v8; // [sp+10h] [bp-14h]@7
  double result; // [sp+1Ch] [bp-8h]@8

  v1 = _ctrlfp(newcw_0, 0xFFFFu);
  if ( (WORD3(x) & 0x7FF0) == 32752 )
  {
    v2 = _sptype(x);
    if ( v2 > 0 )
    {
      if ( v2 <= 2 )
      {
        _ctrlfp(v1, 0xFFFFu);
        return x;
      }
      if ( v2 == 3 )
        return _handle_qnan1(0xBu, x, v1);
    }
    v8 = v1;
    v7 = x + 1.0;
    v6 = x;
    v5 = 11;
    v4 = 8;
  }
  else
  {
    result = _frnd(x);
    if ( result == x || v1 & 0x20 )
    {
      _ctrlfp(v1, 0xFFFFu);
      return result;
    }
    v8 = v1;
    v7 = result;
    v6 = x;
    v5 = 11;
    v4 = 16;
  }
  return _except1(v4, v5, v6, v7, v8);
}

//----- (00448AD5) --------------------------------------------------------
void __cdecl _raise_exc(_FPIEEE_RECORD *prec, unsigned int *pcw, int flags, int opcode, long double *parg1, long double *presult)
{
  char v6; // cl@1
  unsigned int *v7; // esi@11
  char v8; // al@11
  int v9; // eax@21
  _FPIEEE_RECORD *v10; // eax@26
  int v11; // ecx@26
  int v12; // eax@30
  _FPIEEE_RECORD *v13; // eax@34
  int v14; // ecx@34
  int v15; // ecx@37
  long double *v16; // edi@37
  _FPIEEE_RECORD *v17; // eax@37
  int v18; // ecx@47
  int v19; // ecx@48
  int v20; // ecx@49
  int v21; // ecx@52
  int v22; // ecx@56
  int v23; // ecx@57
  int v24; // ecx@60

  prec->Cause._bf0 = 0;
  prec->Enable._bf0 = 0;
  prec->Status._bf0 = 0;
  v6 = flags;
  if ( flags & 0x10 )
  {
    prec->Cause._bf0 |= 1u;
    flags = -1073741681;
  }
  if ( v6 & 2 )
  {
    prec->Cause._bf0 |= 2u;
    flags = -1073741677;
  }
  if ( v6 & 1 )
  {
    prec->Cause._bf0 |= 4u;
    flags = -1073741679;
  }
  if ( v6 & 4 )
  {
    prec->Cause._bf0 |= 8u;
    flags = -1073741682;
  }
  if ( v6 & 8 )
  {
    prec->Cause._bf0 |= 0x10u;
    flags = -1073741680;
  }
  v7 = pcw;
  prec->Enable._bf0 ^= (prec->Enable._bf0 ^ ~(16 * *pcw)) & 0x10;
  prec->Enable._bf0 ^= (prec->Enable._bf0 ^ ~(2 * *v7)) & 8;
  prec->Enable._bf0 ^= (prec->Enable._bf0 ^ ~(*v7 >> 1)) & 4;
  prec->Enable._bf0 ^= (prec->Enable._bf0 ^ ~(*v7 >> 3)) & 2;
  prec->Enable._bf0 ^= (prec->Enable._bf0 ^ ~(*v7 >> 5)) & 1;
  v8 = _statfp();
  if ( v8 & 1 )
    prec->Status._bf0 |= 0x10u;
  if ( v8 & 4 )
    prec->Status._bf0 |= 8u;
  if ( v8 & 8 )
    prec->Status._bf0 |= 4u;
  if ( v8 & 0x10 )
    prec->Status._bf0 |= 2u;
  if ( v8 & 0x20 )
    prec->Status._bf0 |= 1u;
  v9 = *v7 & 0xC00;
  if ( !(*v7 & 0xC00) )
  {
    prec->_bf0 &= 0xFFFFFFFCu;
    goto LABEL_30;
  }
  if ( v9 == 1024 )
  {
    v10 = prec;
    v11 = prec->_bf0 & 0xFFFFFFFD | 1;
    goto LABEL_28;
  }
  if ( v9 == 2048 )
  {
    v10 = prec;
    v11 = prec->_bf0 & 0xFFFFFFFE | 2;
LABEL_28:
    v10->_bf0 = v11;
    goto LABEL_30;
  }
  if ( v9 == 3072 )
    prec->_bf0 |= 3u;
LABEL_30:
  v12 = *v7 & 0x300;
  if ( !(*v7 & 0x300) )
  {
    v13 = prec;
    v14 = prec->_bf0 & 0xFFFFFFEB | 8;
    goto LABEL_36;
  }
  if ( v12 == 512 )
  {
    v13 = prec;
    v14 = prec->_bf0 & 0xFFFFFFE7 | 4;
LABEL_36:
    v13->_bf0 = v14;
    goto LABEL_37;
  }
  if ( v12 == 768 )
    prec->_bf0 &= 0xFFFFFFE3u;
LABEL_37:
  v15 = prec->_bf0 ^ 32 * opcode;
  prec->_bf0 ^= v15 & 0x1FFE0;
  prec->Operand1._bf16 |= 1u;
  prec->Operand1._bf16 = prec->Operand1._bf16 & 0xFFFFFFE3 | 2;
  *(long double *)&prec->Operand1.Value.Fp32Value = *parg1;
  prec->Result._bf16 |= 1u;
  v16 = presult;
  prec->Result._bf16 = prec->Result._bf16 & 0xFFFFFFE3 | 2;
  *(long double *)&prec->Result.Value.Fp32Value = *v16;
  _clrfp();
  RaiseException(flags, 0, 1u, (const ULONG_PTR *)&prec);
  v17 = prec;
  if ( prec->Enable._bf0 & 0x10 )
    *v7 &= 0xFFFFFFFEu;
  if ( v17->Enable._bf0 & 8 )
    *v7 &= 0xFFFFFFFBu;
  if ( v17->Enable._bf0 & 4 )
    *v7 &= 0xFFFFFFF7u;
  if ( v17->Enable._bf0 & 2 )
    *v7 &= 0xFFFFFFEFu;
  if ( v17->Enable._bf0 & 1 )
    *v7 &= 0xFFFFFFDFu;
  v18 = v17->_bf0 & 3;
  if ( !v18 )
  {
    *v7 &= 0xFFFFF3FFu;
    goto LABEL_56;
  }
  v19 = v18 - 1;
  if ( !v19 )
  {
    v21 = *v7 & 0xFFFFF7FF | 0x400;
    goto LABEL_54;
  }
  v20 = v19 - 1;
  if ( !v20 )
  {
    v21 = *v7 & 0xFFFFFBFF | 0x800;
LABEL_54:
    *v7 = v21;
    goto LABEL_56;
  }
  if ( v20 == 1 )
    *((_BYTE *)v7 + 1) |= 0xCu;
LABEL_56:
  v22 = ((unsigned int)v17->_bf0 >> 2) & 7;
  if ( !v22 )
  {
    v24 = *v7 & 0xFFFFF3FF | 0x300;
    goto LABEL_62;
  }
  v23 = v22 - 1;
  if ( !v23 )
  {
    v24 = *v7 & 0xFFFFF3FF | 0x200;
LABEL_62:
    *v7 = v24;
    goto LABEL_63;
  }
  if ( v23 == 1 )
    *v7 &= 0xFFFFF3FFu;
LABEL_63:
  *v16 = *(double *)&v17->Result.Value.Fp32Value;
}

//----- (00448D7A) --------------------------------------------------------
int __cdecl _handle_exc(unsigned int flags, long double *presult, unsigned int cw)
{
  unsigned int v3; // esi@1
  unsigned int v4; // eax@9
  long double *v5; // ecx@13
  __int16 v6; // fps@13
  double v7; // st7@13
  unsigned __int8 v8; // c0@13
  unsigned __int8 v9; // c3@13
  __int16 v10; // fps@24
  unsigned __int8 v11; // c0@24
  unsigned __int8 v12; // c3@24
  signed int v13; // esi@30
  long double v14; // st7@33
  int v15; // ecx@33
  double v16; // st7@34
  int v17; // edx@36
  int v18; // eax@39
  double result; // [sp+18h] [bp-10h]@33
  int expn; // [sp+20h] [bp-8h]@33
  unsigned int flags_p; // [sp+24h] [bp-4h]@1

  v3 = flags & 0x1F;
  flags_p = flags & 0x1F;
  if ( flags & 8 && cw & 1 )
  {
    _set_statfp(1u);
    v3 &= 0xFFFFFFF7u;
    goto LABEL_54;
  }
  if ( flags & 4 && cw & 4 )
  {
    _set_statfp(4u);
    v3 &= 0xFFFFFFFBu;
    goto LABEL_54;
  }
  if ( flags & 1 && cw & 8 )
  {
    _set_statfp(8u);
    v4 = cw & 0xC00;
    if ( cw & 0xC00 )
    {
      if ( v4 == 1024 )
      {
        v5 = presult;
        if ( *presult <= 0.0 )
          v7 = -_d_inf;
        else
          v7 = _d_max;
      }
      else
      {
        if ( v4 == 2048 )
        {
          v5 = presult;
          if ( *presult <= 0.0 )
            v7 = -_d_max;
          else
            v7 = _d_inf;
        }
        else
        {
          if ( v4 != 3072 )
          {
LABEL_27:
            v3 &= 0xFFFFFFFEu;
            goto LABEL_54;
          }
          v5 = presult;
          v7 = _d_max;
          UNDEF(v6);
          if ( v8 | v9 )
            v7 = -_d_max;
        }
      }
    }
    else
    {
      v5 = presult;
      v7 = _d_inf;
      UNDEF(v10);
      if ( v11 | v12 )
        v7 = -_d_inf;
    }
    *(_QWORD *)v5 = *(_QWORD *)&v7;
    goto LABEL_27;
  }
  if ( flags & 2 && cw & 0x10 )
  {
    v13 = 0;
    if ( flags & 0x10 )
      v13 = 1;
    if ( *presult == 0.0 )
    {
      v13 = 1;
      goto LABEL_51;
    }
    v14 = _decomp(*presult, &expn);
    result = v14;
    v15 = expn - 1536;
    if ( expn - 1536 >= -1074 )
    {
      v17 = v14 < 0.0;
      WORD3(result) = BYTE6(result) & 0xF | 0x10;
      if ( v15 < -1021 )
      {
        v18 = -1021 - v15;
        do
        {
          if ( LOBYTE(result) & 1 && !v13 )
            v13 = 1;
          LODWORD(result) >>= 1;
          if ( BYTE4(result) & 1 )
            BYTE3(result) |= 0x80u;
          HIDWORD(result) >>= 1;
          --v18;
        }
        while ( v18 );
      }
      if ( !v17 )
        goto LABEL_49;
      v16 = -result;
    }
    else
    {
      v16 = v14 * 0.0;
      v13 = 1;
    }
    result = v16;
LABEL_49:
    *(_QWORD *)presult = *(_QWORD *)&result;
LABEL_51:
    if ( v13 )
      _set_statfp(0x10u);
    flags_p &= 0xFFFFFFFDu;
    v3 = flags_p;
  }
LABEL_54:
  if ( flags & 0x10 && cw & 0x20 )
  {
    _set_statfp(0x20u);
    v3 &= 0xFFFFFFEFu;
  }
  return v3 == 0;
}
// 471BD0: using guessed type double _d_inf;
// 471BE0: using guessed type double _d_max;

//----- (00448F9E) --------------------------------------------------------
void __cdecl _set_errno(int matherrtype)
{
  if ( matherrtype == 1 )
  {
    *_errno() = 33;
  }
  else
  {
    if ( matherrtype > 1 )
    {
      if ( matherrtype <= 3 )
        *_errno() = 34;
    }
  }
}

//----- (00448FC6) --------------------------------------------------------
int __cdecl _errcode(unsigned int flags)
{
  if ( flags & 0x20 )
    return 5;
  if ( flags & 8 )
    return 1;
  if ( flags & 4 )
    return 2;
  if ( flags & 1 )
    return 3;
  return 2 * (flags & 2);
}

//----- (00448FF3) --------------------------------------------------------
long double __cdecl _umatherr(int type, unsigned int opcode, long double arg1, long double arg2, long double retval, unsigned int cw)
{
  signed int v6; // eax@1
  char *v7; // eax@4
  long double result; // st7@8
  _exception exc; // [sp+0h] [bp-20h]@5

  v6 = 0;
  while ( dword_471AE8[2 * v6] != opcode )
  {
    ++v6;
    if ( v6 >= 29 )
    {
      v7 = 0;
      goto LABEL_5;
    }
  }
  v7 = (char *)off_471AEC[2 * v6];
LABEL_5:
  exc.name = v7;
  if ( v7 )
  {
    exc.arg1 = arg1;
    exc.arg2 = arg2;
    exc.retval = retval;
    exc.type = type;
    _ctrlfp(cw, 0xFFFFu);
    if ( !__init_collate() )
      _set_errno(type);
    result = exc.retval;
  }
  else
  {
    _ctrlfp(cw, 0xFFFFu);
    _set_errno(type);
    result = retval;
  }
  return result;
}
// 471AE8: using guessed type int dword_471AE8[];

//----- (00449091) --------------------------------------------------------
long double __cdecl _handle_qnan1(unsigned int opcode, long double x, unsigned int savedcw)
{
  long double result; // st7@2

  if ( _matherr_flag )
  {
    *_errno() = 33;
    _ctrlfp(savedcw, 0xFFFFu);
    result = x;
  }
  else
  {
    result = _umatherr(1, opcode, x, 0.0, x, savedcw);
  }
  return result;
}
// 471D10: using guessed type int _matherr_flag;

//----- (004490E4) --------------------------------------------------------
long double __cdecl _except1(int flags, int opcode, long double arg, long double result, unsigned int cw)
{
  int v5; // eax@3
  long double v6; // st7@5
  _FPIEEE_RECORD prec; // [sp+1Ch] [bp-80h]@2

  if ( !_handle_exc(flags, &result, cw) )
  {
    prec.Operand2._bf16 &= 0xFFFFFFFEu;
    _raise_exc(&prec, &cw, flags, opcode, &arg, &result);
  }
  v5 = _errcode(flags);
  if ( _matherr_flag || !v5 )
  {
    _set_errno(v5);
    _ctrlfp(cw, 0xFFFFu);
    v6 = result;
  }
  else
  {
    v6 = _umatherr(v5, opcode, arg, 0.0, result, cw);
  }
  return v6;
}
// 471D10: using guessed type int _matherr_flag;

//----- (0044919C) --------------------------------------------------------
long double __cdecl _set_exp(long double x, int exp)
{
  double v2; // ST00_8@1

  v2 = x;
  WORD3(v2) = WORD3(x) & 0x800F | 16 * (exp + 1022);
  return v2;
}

//----- (004491C6) --------------------------------------------------------
int __cdecl _sptype(long double x)
{
  if ( HIDWORD(x) == 2146435072 )
  {
    if ( !LODWORD(x) )
      return 1;
  }
  else
  {
    if ( x == -1.797693134862316e308 )
      return 2;
  }
  if ( (WORD3(x) & 0x7FF8) == 32760 )
    return 3;
  if ( (WORD3(x) & 0x7FF8) == 32752 && (HIDWORD(x) & 0x7FFFF || LODWORD(x)) )
    return 4;
  return 0;
}

//----- (00449221) --------------------------------------------------------
// local variable allocation has failed!
long double __cdecl _decomp(long double x, int *pexp)
{
  long double result; // st7@2
  int v3; // edx@2
  signed int v4; // edx@6
  int v5; // eax@7

  if ( x == 0.0 )
  {
    result = 0.0;
    v3 = 0;
  }
  else
  {
    if ( !(WORD3(x) & 0x7FF0) && (HIDWORD(x) & 0xFFFFF || LODWORD(x)) )
    {
      v4 = -1021;
      v5 = x < 0.0;
      while ( !(BYTE6(x) & 0x10) )
      {
        HIDWORD(x) *= 2;
        if ( BYTE3(x) & 0x80 )
          HIDWORD(x) |= 1u;
        LODWORD(x) *= 2;
        --v4;
      }
      BYTE6(x) &= 0xEFu;
      if ( v5 )
        BYTE7(x) |= 0x80u;
      result = _set_exp(x, 0);
    }
    else
    {
      result = _set_exp(x, 0);
      v3 = ((*(_DWORD *)((char *)&x + 6) >> 4) & 0x7FF) - 1022;
    }
  }
  *pexp = v3;
  return result;
}
// 449221: variables would overlap: ST1C_8/8 and ST1C_10/10
// 449221: variables would overlap: ST26_2/2 and ST24_4/4
// 449221: variables would overlap: ST26_2/2 and ST22_4/4

//----- (004492DD) --------------------------------------------------------
unsigned int __cdecl _statfp()
{
  __int16 v0; // fps@0

  return v0;
}

//----- (004492E8) --------------------------------------------------------
unsigned int __cdecl _clrfp()
{
  __int16 v0; // fps@0

  __asm { fnclex }
  return v0;
}

//----- (004492F4) --------------------------------------------------------
unsigned int __cdecl _ctrlfp(unsigned int newctrl, unsigned int _mask)
{
  __int16 v2; // cx@0

  return v2;
}

//----- (00449318) --------------------------------------------------------
void __cdecl _set_statfp(unsigned int sw)
{
  ;
}

//----- (00449370) --------------------------------------------------------
void __cdecl _CIatan_pentium4()
{
  JUMPOUT(start_3);
}
// 44938E: using guessed type double start_3();

//----- (0044965C) --------------------------------------------------------
int __cdecl _ValidateRead(const void *data, unsigned int size)
{
  int v2; // esi@1

  v2 = 1;
  if ( IsBadReadPtr(data, size) )
    v2 = 0;
  return v2;
}

//----- (00449678) --------------------------------------------------------
int __cdecl _ValidateWrite(void *data, unsigned int size)
{
  int v2; // esi@1

  v2 = 1;
  if ( IsBadWritePtr(data, size) )
    v2 = 0;
  return v2;
}

//----- (00449694) --------------------------------------------------------
int __cdecl _ValidateExecute(int (__stdcall *code)())
{
  int v1; // esi@1

  v1 = 1;
  if ( IsBadCodePtr(code) )
    v1 = 0;
  return v1;
}

//----- (004496AC) --------------------------------------------------------
int __cdecl __ansicp(int lcid)
{
  int result; // eax@2
  char nptr; // [sp+0h] [bp-Ch]@1
  char v3; // [sp+6h] [bp-6h]@1

  v3 = 0;
  if ( GetLocaleInfoA(lcid, 0x1004u, &nptr, 6) )
    result = atol(&nptr);
  else
    result = -1;
  return result;
}

//----- (004496EF) --------------------------------------------------------
char *__cdecl __convertcp(int fromCP, int toCP, const char *lpSrcStr, int *pcchSrc, char *lpDestStr, int cchDest)
{
  int v6; // ebx@1
  int v7; // esi@9
  void *v8; // esp@15
  void *v9; // ebx@15
  void *v11; // eax@25
  int v12; // eax@26
  int v13; // [sp+0h] [bp-54h]@15
  void *wbuffer; // [sp+Ch] [bp-48h]@15
  int malloc_flag; // [sp+10h] [bp-44h]@1
  int cchSrc; // [sp+14h] [bp-40h]@1
  int sb; // [sp+18h] [bp-3Ch]@1
  int buff_size; // [sp+1Ch] [bp-38h]@11
  void *cbuffer; // [sp+20h] [bp-34h]@1
  _cpinfo cpi; // [sp+24h] [bp-30h]@2
  CPPEH_RECORD ms_exc; // [sp+3Ch] [bp-18h]@15

  cbuffer = 0;
  malloc_flag = 0;
  v6 = *pcchSrc;
  cchSrc = *pcchSrc;
  sb = 0;
  if ( fromCP == toCP )
  {
    v9 = wbuffer;
  }
  else
  {
    if ( GetCPInfo(fromCP, &cpi) && cpi.MaxCharSize == 1 && GetCPInfo(toCP, &cpi) && cpi.MaxCharSize == 1 )
      sb = 1;
    if ( sb )
    {
      if ( v6 == -1 )
        v7 = strlen(lpSrcStr) + 1;
      else
        v7 = v6;
      buff_size = v7;
    }
    else
    {
      v7 = buff_size;
    }
    if ( !sb )
    {
      v7 = MultiByteToWideChar(fromCP, 1u, lpSrcStr, v6, 0, 0);
      buff_size = v7;
      if ( !v7 )
        return 0;
    }
    ms_exc.disabled = 0;
    v8 = alloca(2 * v7);
    ms_exc.old_esp = (DWORD)&v13;
    v9 = &v13;
    wbuffer = &v13;
    memset(&v13, 0, 2 * v7);
    ms_exc.disabled = -1;
    if ( !&v13 )
    {
      v9 = calloc(2u, v7);
      if ( !v9 )
        return 0;
      malloc_flag = 1;
    }
    if ( MultiByteToWideChar(fromCP, 1u, lpSrcStr, cchSrc, (LPWSTR)v9, v7) )
    {
      if ( lpDestStr )
      {
        if ( WideCharToMultiByte(toCP, 0, (LPCWSTR)v9, v7, lpDestStr, cchDest, 0, 0) )
          cbuffer = lpDestStr;
      }
      else
      {
        if ( sb || (v7 = WideCharToMultiByte(toCP, 0, (LPCWSTR)v9, v7, 0, 0, 0, 0)) != 0 )
        {
          v11 = calloc(1u, v7);
          cbuffer = v11;
          if ( v11 )
          {
            v12 = WideCharToMultiByte(toCP, 0, (LPCWSTR)v9, v7, (LPSTR)v11, v7, 0, 0);
            if ( v12 )
            {
              if ( cchSrc != -1 )
                *pcchSrc = v12;
            }
            else
            {
              free(cbuffer);
              cbuffer = 0;
            }
          }
        }
      }
    }
  }
  if ( malloc_flag )
    free(v9);
  return (char *)cbuffer;
}

//----- (004498B8) --------------------------------------------------------
int __cdecl __crtGetStringTypeA(unsigned int dwInfoType, const char *lpSrcStr, int cchSrc, unsigned __int16 *lpCharType, int code_page, int lcid, int bError)
{
  void *v7; // esi@1
  int v8; // edi@11
  void *v9; // esp@12
  void *v10; // esi@12
  int v11; // eax@15
  int v13; // ebx@20
  UINT v14; // edi@22
  int v15; // eax@24
  char *v16; // eax@27
  int v17; // edi@29
  int v18; // [sp+0h] [bp-38h]@12
  int *wbuffer; // [sp+Ch] [bp-2Ch]@12
  int buff_size; // [sp+10h] [bp-28h]@11
  int retval2; // [sp+14h] [bp-24h]@9
  int malloc_flag; // [sp+18h] [bp-20h]@9
  __int16 dummy; // [sp+1Ch] [bp-1Ch]@2
  CPPEH_RECORD ms_exc; // [sp+20h] [bp-18h]@12

  v7 = 0;
  if ( !f_use_1 )
  {
    if ( GetStringTypeW(1u, &_real, 1, (LPWORD)&dummy) )
    {
      f_use_1 = 1;
    }
    else
    {
      if ( GetLastError() == 120 )
        f_use_1 = 2;
    }
  }
  if ( f_use_1 != 2 && f_use_1 )
  {
    if ( f_use_1 == 1 )
    {
      retval2 = 0;
      malloc_flag = 0;
      if ( !code_page )
        code_page = __lc_codepage;
      v8 = MultiByteToWideChar(code_page, 8 * (bError != 0) + 1, lpSrcStr, cchSrc, 0, 0);
      buff_size = v8;
      if ( v8 )
      {
        ms_exc.disabled = 0;
        v9 = alloca(2 * v8);
        ms_exc.old_esp = (DWORD)&v18;
        v10 = &v18;
        wbuffer = &v18;
        memset(&v18, 0, 2 * v8);
        ms_exc.disabled = -1;
        if ( &v18 )
        {
LABEL_15:
          v11 = MultiByteToWideChar(code_page, 1u, lpSrcStr, cchSrc, (LPWSTR)v10, v8);
          if ( v11 )
            retval2 = GetStringTypeW(dwInfoType, (LPCWSTR)v10, v11, lpCharType);
          if ( malloc_flag )
            free(v10);
          return retval2;
        }
        v10 = calloc(2u, v8);
        if ( v10 )
        {
          malloc_flag = 1;
          goto LABEL_15;
        }
      }
    }
    return 0;
  }
  v13 = lcid;
  if ( !lcid )
    v13 = ::lcid;
  v14 = code_page;
  if ( !code_page )
    v14 = __lc_codepage;
  v15 = __ansicp(v13);
  if ( v15 == -1 )
    return 0;
  if ( v15 != v14 )
  {
    v16 = __convertcp(v14, v15, lpSrcStr, &cchSrc, 0, 0);
    v7 = v16;
    if ( !v16 )
      return 0;
    lpSrcStr = v16;
  }
  v17 = GetStringTypeA(v13, dwInfoType, lpSrcStr, cchSrc, lpCharType);
  if ( v7 )
    free(v7);
  return v17;
}

//----- (00449A72) --------------------------------------------------------
int __cdecl __getlocaleinfo(int lc_type, unsigned int localehandle, unsigned int fieldtype, void *address)
{
  const char *v4; // edi@2
  int v5; // esi@2
  int v6; // eax@4
  int v7; // esi@4
  void *v8; // eax@5
  void *v9; // eax@7
  int *v11; // edi@15
  char v12; // bl@17
  char cbuffer[128]; // [sp+Ch] [bp-84h]@2
  signed int bufferused; // [sp+98h] [bp+8h]@2

  if ( lc_type == 1 )
  {
    v4 = cbuffer;
    bufferused = 0;
    v5 = __crtGetLocaleInfoA(localehandle, fieldtype, cbuffer, 128, 0);
    if ( v5 )
    {
LABEL_7:
      v9 = malloc(v5);
      *(_DWORD *)address = v9;
      if ( !v9 )
        JUMPOUT(error);
      strncpy((char *)v9, v4, v5);
      if ( bufferused )
        free((void *)v4);
      return 0;
    }
    if ( GetLastError() == 122 )
    {
      v6 = __crtGetLocaleInfoA(localehandle, fieldtype, 0, 0, 0);
      v7 = v6;
      if ( v6 )
      {
        v8 = malloc(v6);
        v4 = (const char *)v8;
        if ( v8 )
        {
          bufferused = 1;
          v5 = __crtGetLocaleInfoA(localehandle, fieldtype, (char *)v8, v7, 0);
          if ( v5 )
            goto LABEL_7;
          free((void *)v4);
        }
      }
    }
    return -1;
  }
  if ( lc_type || (v11 = (int *)wcbuffer, !__crtGetLocaleInfoW(localehandle, fieldtype, wcbuffer, 4, 0)) )
    return -1;
  *(_BYTE *)address = 0;
  do
  {
    v12 = *(_BYTE *)v11;
    if ( !isdigit(*(_BYTE *)v11) )
      break;
    v11 = (int *)((char *)v11 + 2);
    *(_BYTE *)address = v12 + 10 * *(_BYTE *)address - 48;
  }
  while ( (signed int)v11 < (signed int)__lc_id );
  return 0;
}

//----- (00449B99) --------------------------------------------------------
int __stdcall _crtInitCritSecNoSpinCount(_RTL_CRITICAL_SECTION *lpCriticalSection, unsigned int dwSpinCount)
{
  InitializeCriticalSection(lpCriticalSection);
  return 1;
}

//----- (00449BA9) --------------------------------------------------------
int __cdecl __crtInitCritSecAndSpinCount(_RTL_CRITICAL_SECTION *lpCriticalSection, unsigned int dwSpinCount)
{
  void *v2; // eax@1
  HINSTANCE__ *v3; // eax@3

  v2 = _crtInitCritSecAndSpinCount;
  if ( !_crtInitCritSecAndSpinCount )
  {
    if ( _osplatform == 1
      || (v3 = GetModuleHandleA("kernel32.dll")) == 0
      || (v2 = GetProcAddress(v3, "InitializeCriticalSectionAndSpinCount"),
          (_crtInitCritSecAndSpinCount = (int (__stdcall *)(_RTL_CRITICAL_SECTION *, unsigned int))v2) == 0) )
    {
      v2 = _crtInitCritSecNoSpinCount;
      _crtInitCritSecAndSpinCount = _crtInitCritSecNoSpinCount;
    }
  }
  return ((int (__stdcall *)(_DWORD, _DWORD))v2)(lpCriticalSection, dwSpinCount);
}
// 4C8FFC: using guessed type int _osplatform;

//----- (00449C34) --------------------------------------------------------
int __usercall get_lc_time<eax>(__lc_time_data *lc_time<esi>)
{
  int result; // eax@2
  int v2; // edi@3
  int v3; // edi@3
  int v4; // edi@3
  int v5; // edi@3
  int v6; // edi@3
  int v7; // edi@3
  int v8; // edi@3
  int v9; // edi@3
  int v10; // edi@3
  int v11; // edi@3
  int v12; // edi@3
  int v13; // edi@3
  int v14; // edi@3
  int v15; // edi@3
  int v16; // edi@3
  int v17; // edi@3
  int v18; // edi@3
  int v19; // edi@3
  int v20; // edi@3
  int v21; // edi@3
  int v22; // edi@3
  int v23; // edi@3
  int v24; // edi@3
  int v25; // edi@3
  int v26; // edi@3
  int v27; // edi@3
  int v28; // edi@3
  int v29; // edi@3
  int v30; // edi@3
  int v31; // edi@3
  int v32; // edi@3
  int v33; // edi@3
  int v34; // edi@3
  int v35; // edi@3
  int v36; // edi@3
  int v37; // edi@3
  int v38; // edi@3
  int v39; // edi@3
  int v40; // edi@3
  int v41; // edi@3
  int v42; // edi@3
  int v43; // edi@3
  int v44; // edi@3
  int v45; // eax@3
  unsigned int ctryid; // [sp+0h] [bp-8h]@1
  unsigned int langid; // [sp+4h] [bp-4h]@1

  langid = (unsigned __int16)word_4C947A;
  ctryid = (unsigned __int16)word_4C947C;
  if ( lc_time )
  {
    v2 = __getlocaleinfo(1, (unsigned __int16)word_4C947A, 0x31u, &lc_time->wday_abbr[1]);
    v3 = __getlocaleinfo(1, langid, 0x32u, &lc_time->wday_abbr[2]) | v2;
    v4 = __getlocaleinfo(1, langid, 0x33u, &lc_time->wday_abbr[3]) | v3;
    v5 = __getlocaleinfo(1, langid, 0x34u, &lc_time->wday_abbr[4]) | v4;
    v6 = __getlocaleinfo(1, langid, 0x35u, &lc_time->wday_abbr[5]) | v5;
    v7 = __getlocaleinfo(1, langid, 0x36u, &lc_time->wday_abbr[6]) | v6;
    v8 = __getlocaleinfo(1, langid, 0x37u, lc_time) | v7;
    v9 = __getlocaleinfo(1, langid, 0x2Au, &lc_time->wday[1]) | v8;
    v10 = __getlocaleinfo(1, langid, 0x2Bu, &lc_time->wday[2]) | v9;
    v11 = __getlocaleinfo(1, langid, 0x2Cu, &lc_time->wday[3]) | v10;
    v12 = __getlocaleinfo(1, langid, 0x2Du, &lc_time->wday[4]) | v11;
    v13 = __getlocaleinfo(1, langid, 0x2Eu, &lc_time->wday[5]) | v12;
    v14 = __getlocaleinfo(1, langid, 0x2Fu, &lc_time->wday[6]) | v13;
    v15 = __getlocaleinfo(1, langid, 0x30u, lc_time->wday) | v14;
    v16 = __getlocaleinfo(1, langid, 0x44u, lc_time->month_abbr) | v15;
    v17 = __getlocaleinfo(1, langid, 0x45u, &lc_time->month_abbr[1]) | v16;
    v18 = __getlocaleinfo(1, langid, 0x46u, &lc_time->month_abbr[2]) | v17;
    v19 = __getlocaleinfo(1, langid, 0x47u, &lc_time->month_abbr[3]) | v18;
    v20 = __getlocaleinfo(1, langid, 0x48u, &lc_time->month_abbr[4]) | v19;
    v21 = __getlocaleinfo(1, langid, 0x49u, &lc_time->month_abbr[5]) | v20;
    v22 = __getlocaleinfo(1, langid, 0x4Au, &lc_time->month_abbr[6]) | v21;
    v23 = __getlocaleinfo(1, langid, 0x4Bu, &lc_time->month_abbr[7]) | v22;
    v24 = __getlocaleinfo(1, langid, 0x4Cu, &lc_time->month_abbr[8]) | v23;
    v25 = __getlocaleinfo(1, langid, 0x4Du, &lc_time->month_abbr[9]) | v24;
    v26 = __getlocaleinfo(1, langid, 0x4Eu, &lc_time->month_abbr[10]) | v25;
    v27 = __getlocaleinfo(1, langid, 0x4Fu, &lc_time->month_abbr[11]) | v26;
    v28 = __getlocaleinfo(1, langid, 0x38u, lc_time->month) | v27;
    v29 = __getlocaleinfo(1, langid, 0x39u, &lc_time->month[1]) | v28;
    v30 = __getlocaleinfo(1, langid, 0x3Au, &lc_time->month[2]) | v29;
    v31 = __getlocaleinfo(1, langid, 0x3Bu, &lc_time->month[3]) | v30;
    v32 = __getlocaleinfo(1, langid, 0x3Cu, &lc_time->month[4]) | v31;
    v33 = __getlocaleinfo(1, langid, 0x3Du, &lc_time->month[5]) | v32;
    v34 = __getlocaleinfo(1, langid, 0x3Eu, &lc_time->month[6]) | v33;
    v35 = __getlocaleinfo(1, langid, 0x3Fu, &lc_time->month[7]) | v34;
    v36 = __getlocaleinfo(1, langid, 0x40u, &lc_time->month[8]) | v35;
    v37 = __getlocaleinfo(1, langid, 0x41u, &lc_time->month[9]) | v36;
    v38 = __getlocaleinfo(1, langid, 0x42u, &lc_time->month[10]) | v37;
    v39 = __getlocaleinfo(1, langid, 0x43u, &lc_time->month[11]) | v38;
    v40 = __getlocaleinfo(1, langid, 0x28u, lc_time->ampm) | v39;
    v41 = __getlocaleinfo(1, langid, 0x29u, &lc_time->ampm[1]) | v40;
    v42 = __getlocaleinfo(1, ctryid, 0x1Fu, &lc_time->ww_sdatefmt) | v41;
    v43 = __getlocaleinfo(1, ctryid, 0x20u, &lc_time->ww_ldatefmt) | v42;
    v44 = __getlocaleinfo(1, ctryid, 0x1003u, &lc_time->ww_timefmt) | v43;
    v45 = __getlocaleinfo(0, ctryid, 0x1009u, &lc_time->ww_caltype);
    lc_time->ww_lcid = ctryid;
    result = v45 | v44;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 4C947A: using guessed type __int16 word_4C947A;
// 4C947C: using guessed type __int16 word_4C947C;

//----- (00449F9B) --------------------------------------------------------
void __cdecl __free_lc_time(__lc_time_data *lc_time)
{
  if ( lc_time )
  {
    free(lc_time->wday_abbr[1]);
    free(lc_time->wday_abbr[2]);
    free(lc_time->wday_abbr[3]);
    free(lc_time->wday_abbr[4]);
    free(lc_time->wday_abbr[5]);
    free(lc_time->wday_abbr[6]);
    free(lc_time->wday_abbr[0]);
    free(lc_time->wday[1]);
    free(lc_time->wday[2]);
    free(lc_time->wday[3]);
    free(lc_time->wday[4]);
    free(lc_time->wday[5]);
    free(lc_time->wday[6]);
    free(lc_time->wday[0]);
    free(lc_time->month_abbr[0]);
    free(lc_time->month_abbr[1]);
    free(lc_time->month_abbr[2]);
    free(lc_time->month_abbr[3]);
    free(lc_time->month_abbr[4]);
    free(lc_time->month_abbr[5]);
    free(lc_time->month_abbr[6]);
    free(lc_time->month_abbr[7]);
    free(lc_time->month_abbr[8]);
    free(lc_time->month_abbr[9]);
    free(lc_time->month_abbr[10]);
    free(lc_time->month_abbr[11]);
    free(lc_time->month[0]);
    free(lc_time->month[1]);
    free(lc_time->month[2]);
    free(lc_time->month[3]);
    free(lc_time->month[4]);
    free(lc_time->month[5]);
    free(lc_time->month[6]);
    free(lc_time->month[7]);
    free(lc_time->month[8]);
    free(lc_time->month[9]);
    free(lc_time->month[10]);
    free(lc_time->month[11]);
    free(lc_time->ampm[0]);
    free(lc_time->ampm[1]);
    free(lc_time->ww_sdatefmt);
    free(lc_time->ww_ldatefmt);
    free(lc_time->ww_timefmt);
  }
}

//----- (0044A12B) --------------------------------------------------------
int __cdecl __init_time()
{
  void *v0; // esi@2

  if ( dword_4C9444 )
  {
    v0 = calloc(1u, 0xB8u);
    if ( !v0 )
      return 1;
    if ( get_lc_time((__lc_time_data *)v0) )
    {
      __free_lc_time((__lc_time_data *)v0);
      free(v0);
      return 1;
    }
    __lc_time_curr = (char *(*)[43])v0;
    __lc_time_intl = (int)v0;
  }
  else
  {
    __lc_time_intl = 0;
    __lc_time_curr = (char *(*)[43])__lc_time_c;
  }
  return 0;
}
// 471C20: using guessed type char *(*__lc_time_curr)[43];
// 471C28: using guessed type char *__lc_time_c[43];
// 4C9444: using guessed type int dword_4C9444;
// 4C9484: using guessed type int __lc_time_intl;

//----- (0044A18A) --------------------------------------------------------
void __cdecl __free_lconv_num(lconv *l)
{
  void *v1; // eax@5
  void *v2; // esi@8

  if ( l )
  {
    if ( l->decimal_point != *(char **)__lconv && l->decimal_point != __lconv_c )
      free(l->decimal_point);
    v1 = l->thousands_sep;
    if ( v1 != *((void **)__lconv + 1) && v1 != off_4713C0 )
      free(l->thousands_sep);
    v2 = l->grouping;
    if ( v2 != *((void **)__lconv + 2) )
    {
      if ( v2 != off_4713C4 )
        free(v2);
    }
  }
}
// 4713BC: using guessed type char *__lconv_c;
// 4713C0: using guessed type void *off_4713C0;
// 4713C4: using guessed type void *off_4713C4;
// 4713EC: using guessed type char *__lconv;

//----- (0044A1E9) --------------------------------------------------------
int __cdecl __init_numeric()
{
  void *v0; // ebx@7
  void *v1; // eax@9
  void *v3; // eax@13
  int v4; // esi@14
  unsigned int v5; // esi@15
  int v6; // ST40_4@15
  int v7; // ST40_4@15
  int v8; // eax@18
  char v9; // cl@19
  int v10; // esi@26
  void *lc_refcount; // [sp+Ch] [bp-8h]@9

  if ( dword_4C9440 || dword_4C943C )
  {
    v0 = calloc(1u, 0x30u);
    if ( !v0 )
      return 1;
    memcpy(v0, __lconv, 0x30u);
    v1 = malloc(4u);
    lc_refcount = v1;
    if ( !v1 )
    {
      free(v0);
      return 1;
    }
    *(_DWORD *)v1 = 0;
    if ( !dword_4C9440 )
    {
      __lconv_num_refcount = 0;
      *(_DWORD *)v0 = __lconv_c;
      *((_DWORD *)v0 + 1) = off_4713C0;
      *((_DWORD *)v0 + 2) = off_4713C4;
LABEL_30:
      if ( __lconv_intl_refcount
        && !*(_DWORD *)__lconv_intl_refcount
        && __lconv_intl_refcount != (void *)___ptlocinfo->lconv_intl_refcount )
      {
        free(__lconv_intl_refcount);
        free(__lconv_intl);
      }
      __lconv_intl_refcount = lc_refcount;
      __lconv_intl = v0;
      goto LABEL_35;
    }
    v3 = malloc(4u);
    __lconv_num_refcount = (int)v3;
    if ( !v3 )
    {
      v4 = 1;
LABEL_17:
      free(v0);
      free(lc_refcount);
      return v4;
    }
    *(_DWORD *)v3 = 0;
    v5 = (unsigned __int16)word_4C9476;
    v6 = __getlocaleinfo(1, (unsigned __int16)word_4C9476, 0xEu, v0);
    v7 = __getlocaleinfo(1, v5, 0xFu, (char *)v0 + 4) | v6;
    if ( v7 | __getlocaleinfo(1, v5, 0x10u, (char *)v0 + 8) )
    {
      __free_lconv_num((lconv *)v0);
      v4 = -1;
      goto LABEL_17;
    }
    v8 = *((_DWORD *)v0 + 2);
    while ( 1 )
    {
      if ( !*(_BYTE *)v8 )
        goto LABEL_30;
      v9 = *(_BYTE *)v8;
      if ( *(_BYTE *)v8 >= 48 )
      {
        if ( v9 <= 57 )
          break;
      }
      if ( v9 == 59 )
      {
        v10 = v8;
        do
        {
          *(_BYTE *)v10 = *(_BYTE *)(v10 + 1);
          ++v10;
        }
        while ( *(_BYTE *)v10 );
      }
      else
      {
LABEL_22:
        ++v8;
      }
    }
    *(_BYTE *)v8 = v9 - 48;
    goto LABEL_22;
  }
  if ( __lconv_intl_refcount && !*(_DWORD *)__lconv_intl_refcount )
  {
    if ( __lconv_intl_refcount != (void *)___ptlocinfo->lconv_intl_refcount )
    {
      free(__lconv_intl_refcount);
      free(__lconv_intl);
    }
  }
  __lconv_num_refcount = 0;
  __lconv_intl_refcount = 0;
  v0 = &__lconv_c;
  __lconv_intl = 0;
LABEL_35:
  __lconv = (char *)v0;
  __decimal_point = **(_BYTE **)v0;
  __decimal_point_length = 1;
  return 0;
}
// 4713BC: using guessed type char *__lconv_c;
// 4713C0: using guessed type void *off_4713C0;
// 4713C4: using guessed type void *off_4713C4;
// 4713EC: using guessed type char *__lconv;
// 471C18: using guessed type char __decimal_point;
// 471C1C: using guessed type int __decimal_point_length;
// 4C943C: using guessed type int dword_4C943C;
// 4C9440: using guessed type int dword_4C9440;
// 4C9476: using guessed type __int16 word_4C9476;
// 4C952C: using guessed type int __lconv_num_refcount;

//----- (0044A3B6) --------------------------------------------------------
void __cdecl __free_lconv_mon(lconv *l)
{
  void *v1; // eax@2
  void *v2; // eax@5
  void *v3; // eax@8
  void *v4; // eax@11
  void *v5; // eax@14
  void *v6; // eax@17
  void *v7; // esi@20

  if ( l )
  {
    v1 = l->int_curr_symbol;
    if ( v1 != *((void **)__lconv + 3) && v1 != off_4713C8 )
      free(l->int_curr_symbol);
    v2 = l->currency_symbol;
    if ( v2 != *((void **)__lconv + 4) && v2 != off_4713CC )
      free(l->currency_symbol);
    v3 = l->mon_decimal_point;
    if ( v3 != *((void **)__lconv + 5) && v3 != off_4713D0 )
      free(l->mon_decimal_point);
    v4 = l->mon_thousands_sep;
    if ( v4 != *((void **)__lconv + 6) && v4 != off_4713D4 )
      free(l->mon_thousands_sep);
    v5 = l->mon_grouping;
    if ( v5 != *((void **)__lconv + 7) && v5 != off_4713D8 )
      free(l->mon_grouping);
    v6 = l->positive_sign;
    if ( v6 != *((void **)__lconv + 8) && v6 != off_4713DC )
      free(l->positive_sign);
    v7 = l->negative_sign;
    if ( v7 != *((void **)__lconv + 9) )
    {
      if ( v7 != off_4713E0 )
        free(v7);
    }
  }
}
// 4713C8: using guessed type void *off_4713C8;
// 4713CC: using guessed type void *off_4713CC;
// 4713D0: using guessed type void *off_4713D0;
// 4713D4: using guessed type void *off_4713D4;
// 4713D8: using guessed type void *off_4713D8;
// 4713DC: using guessed type void *off_4713DC;
// 4713E0: using guessed type void *off_4713E0;
// 4713EC: using guessed type char *__lconv;

//----- (0044A48F) --------------------------------------------------------
int __cdecl __init_monetary()
{
  void *v0; // ebx@4
  void *v1; // eax@5
  void *v2; // edi@5
  void *v3; // eax@9
  unsigned int v4; // esi@11
  int v5; // edi@11
  int v6; // edi@11
  int v7; // edi@11
  int v8; // edi@11
  int v9; // edi@11
  int v10; // edi@11
  int v11; // edi@11
  int v12; // edi@11
  int v13; // edi@11
  int v14; // edi@11
  int v15; // edi@11
  int v16; // edi@11
  int v17; // edi@11
  int v18; // edi@11
  int v20; // eax@14
  char v21; // cl@15
  int v22; // esi@22
  void *lc_refcount; // [sp+Ch] [bp-4h]@5

  if ( dword_4C943C || dword_4C9440 )
  {
    v0 = calloc(1u, 0x30u);
    if ( !v0 )
      return 1;
    v1 = malloc(4u);
    v2 = v1;
    lc_refcount = v1;
    if ( !v1 )
    {
      free(v0);
      return 1;
    }
    *(_DWORD *)v1 = 0;
    if ( !dword_4C943C )
    {
      memcpy(v0, &__lconv_c, 0x30u);
      __lconv_mon_refcount = 0;
LABEL_26:
      *(_DWORD *)v0 = *(_DWORD *)__lconv;
      *((_DWORD *)v0 + 1) = *((_DWORD *)__lconv + 1);
      *((_DWORD *)v0 + 2) = *((_DWORD *)__lconv + 2);
      __lconv = (char *)v0;
      __lconv_intl_refcount = lc_refcount;
      __lconv_intl = v0;
      return 0;
    }
    v3 = malloc(4u);
    __lconv_mon_refcount = (int)v3;
    if ( !v3 )
    {
      free(v0);
      free(v2);
      return 1;
    }
    *(_DWORD *)v3 = 0;
    v4 = (unsigned __int16)word_4C9470;
    v5 = __getlocaleinfo(1, (unsigned __int16)word_4C9470, 0x15u, (char *)v0 + 12);
    v6 = __getlocaleinfo(1, v4, 0x14u, (char *)v0 + 16) | v5;
    v7 = __getlocaleinfo(1, v4, 0x16u, (char *)v0 + 20) | v6;
    v8 = __getlocaleinfo(1, v4, 0x17u, (char *)v0 + 24) | v7;
    v9 = __getlocaleinfo(1, v4, 0x18u, (char *)v0 + 28) | v8;
    v10 = __getlocaleinfo(1, v4, 0x50u, (char *)v0 + 32) | v9;
    v11 = __getlocaleinfo(1, v4, 0x51u, (char *)v0 + 36) | v10;
    v12 = __getlocaleinfo(0, v4, 0x1Au, (char *)v0 + 40) | v11;
    v13 = __getlocaleinfo(0, v4, 0x19u, (char *)v0 + 41) | v12;
    v14 = __getlocaleinfo(0, v4, 0x54u, (char *)v0 + 42) | v13;
    v15 = __getlocaleinfo(0, v4, 0x55u, (char *)v0 + 43) | v14;
    v16 = __getlocaleinfo(0, v4, 0x56u, (char *)v0 + 44) | v15;
    v17 = __getlocaleinfo(0, v4, 0x57u, (char *)v0 + 45) | v16;
    v18 = __getlocaleinfo(0, v4, 0x52u, (char *)v0 + 46) | v17;
    if ( v18 | __getlocaleinfo(0, v4, 0x53u, (char *)v0 + 47) )
    {
      __free_lconv_mon((lconv *)v0);
      free(v0);
      free(lc_refcount);
      return 1;
    }
    v20 = *((_DWORD *)v0 + 7);
    while ( 1 )
    {
      if ( !*(_BYTE *)v20 )
        goto LABEL_26;
      v21 = *(_BYTE *)v20;
      if ( *(_BYTE *)v20 >= 48 )
      {
        if ( v21 <= 57 )
          break;
      }
      if ( v21 == 59 )
      {
        v22 = v20;
        do
        {
          *(_BYTE *)v22 = *(_BYTE *)(v22 + 1);
          ++v22;
        }
        while ( *(_BYTE *)v22 );
      }
      else
      {
LABEL_18:
        ++v20;
      }
    }
    *(_BYTE *)v20 = v21 - 48;
    goto LABEL_18;
  }
  __lconv_mon_refcount = 0;
  __lconv_intl_refcount = 0;
  __lconv = (char *)&__lconv_c;
  __lconv_intl = 0;
  return 0;
}
// 4713BC: using guessed type char *__lconv_c;
// 4713EC: using guessed type char *__lconv;
// 4C943C: using guessed type int dword_4C943C;
// 4C9440: using guessed type int dword_4C9440;
// 4C9470: using guessed type __int16 word_4C9470;
// 4C9524: using guessed type int __lconv_mon_refcount;

//----- (0044A6CE) --------------------------------------------------------
int __cdecl TranslateName(tagLOCALETAB *lpTable, int high, const char **ppchName)
{
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // esi@3
  tagLOCALETAB *v6; // edi@3

  v3 = 0;
  v4 = 1;
  while ( v3 <= high )
  {
    if ( !v4 )
      break;
    v5 = (v3 + high) / 2;
    v6 = &lpTable[v5];
    v4 = _stricmp(*ppchName, v6->szName);
    if ( v4 )
    {
      if ( v4 >= 0 )
        v3 = v5 + 1;
      else
        high = v5 - 1;
    }
    else
    {
      *ppchName = v6->chAbbrev;
    }
  }
  return v4 == 0;
}

//----- (0044A72E) --------------------------------------------------------
unsigned int __cdecl GetLcidFromDefault()
{
  unsigned int result; // eax@1

  LOWORD(iLcidState) = iLcidState | 0x104;
  result = GetUserDefaultLCID();
  lcidCountry = result;
  lcidLanguage = result;
  return result;
}

//----- (0044A748) --------------------------------------------------------
int __usercall ProcessCodePage<eax>(char *lpCodePageStr<ecx>)
{
  char *v1; // esi@1
  int result; // eax@7
  unsigned int v3; // [sp-Ch] [bp-1Ch]@5
  char *v4; // [sp-8h] [bp-18h]@5
  int v5; // [sp-4h] [bp-14h]@5
  char chCodePage[8]; // [sp+4h] [bp-Ch]@5

  v1 = lpCodePageStr;
  if ( lpCodePageStr && *lpCodePageStr && strcmp(lpCodePageStr, "ACP") )
  {
    if ( strcmp(v1, "OCP") )
      return atol(v1);
    v5 = 8;
    v4 = chCodePage;
    v3 = 11;
  }
  else
  {
    v5 = 8;
    v4 = chCodePage;
    v3 = 4100;
  }
  result = pfnGetLocaleInfoA(lcidCountry, v3, v4, v5);
  if ( !result )
    return result;
  v1 = chCodePage;
  return atol(v1);
}

//----- (0044A7BE) --------------------------------------------------------
int __cdecl TestDefaultCountry(unsigned int lcid)
{
  unsigned int v1; // eax@1

  v1 = 0;
  while ( (_WORD)lcid != __rglangidNotDefault[v1] )
  {
    ++v1;
    if ( v1 >= 10 )
      return 1;
  }
  return 0;
}
// 466084: using guessed type __int16 __rglangidNotDefault[];

//----- (0044A7DC) --------------------------------------------------------
int __stdcall crtGetLocaleInfoA(unsigned int lcid, unsigned int lctype, char *lpdata, int cchdata)
{
  int v4; // esi@1
  int v5; // edi@1
  int v6; // eax@2
  unsigned int v7; // ecx@2
  const char *v9; // eax@16

  v4 = 0;
  v5 = 26;
  while ( 1 )
  {
    v6 = (v5 + v4) / 2;
    v7 = __rgLocInfo[11 * (v5 + v4) / 2];
    if ( lcid == v7 )
      break;
    if ( lcid >= v7 )
      v4 = v6 + 1;
    else
      v5 = v6 - 1;
    if ( v4 > v5 )
      return GetLocaleInfoA(lcid, lctype, lpdata, cchdata);
  }
  switch ( lctype )
  {
    case 1u:
      v9 = &a040a[44 * v6];
      break;
    case 3u:
      v9 = (const char *)(&off_465A78 + 11 * v6);
      break;
    case 7u:
      v9 = (const char *)(&off_465A80 + 11 * v6);
      break;
    case 0xBu:
      v9 = (char *)&unk_465A84 + 44 * v6;
      break;
    case 0x1001u:
      v9 = (&off_465A74)[44 * v6];
      break;
    case 0x1002u:
      v9 = (&off_465A7C)[44 * v6];
      break;
    default:
      if ( lctype != 4100 )
        return GetLocaleInfoA(lcid, lctype, lpdata, cchdata);
      v9 = &a1252[44 * v6];
      break;
  }
  if ( !v9 || cchdata < 1 )
    return GetLocaleInfoA(lcid, lctype, lpdata, cchdata);
  strncpy(lpdata, v9, cchdata - 1);
  lpdata[cchdata - 1] = 0;
  return 1;
}
// 465A68: using guessed type int __rgLocInfo[];
// 465A74: using guessed type char *off_465A74;
// 465A78: using guessed type void *off_465A78;
// 465A7C: using guessed type char *off_465A7C;
// 465A80: using guessed type void *off_465A80;

//----- (0044A8BF) --------------------------------------------------------
unsigned int __usercall LcidFromHexString<eax>(char *lpHexString<edx>)
{
  unsigned int result; // eax@1
  char v2; // cl@4

  for ( result = 0; ; result = v2 + 16 * (result + 268435453) )
  {
    v2 = *lpHexString;
    if ( !*lpHexString )
      break;
    ++lpHexString;
    if ( v2 < 97 || v2 > 102 )
    {
      if ( v2 >= 65 )
      {
        if ( v2 <= 70 )
          v2 -= 7;
      }
    }
    else
    {
      v2 -= 39;
    }
  }
  return result;
}

//----- (0044A8F4) --------------------------------------------------------
int __usercall GetPrimaryLen<eax>(char *pchLanguage<edx>)
{
  int result; // eax@1
  char v2; // cl@2

  for ( result = 0; ; ++result )
  {
    v2 = *pchLanguage++;
    if ( v2 < 65 || v2 > 90 )
    {
      if ( v2 < 97 || v2 > 122 )
        break;
    }
  }
  return result;
}

//----- (0044A911) --------------------------------------------------------
int __stdcall CountryEnumProc(char *lpLcidString)
{
  unsigned int v1; // esi@1
  int result; // eax@2
  char rgcInfo[120]; // [sp+4h] [bp-7Ch]@1

  v1 = LcidFromHexString(lpLcidString);
  if ( pfnGetLocaleInfoA(v1, bAbbrevCountry != 0 ? 7 : 4098, rgcInfo, 120) )
  {
    if ( !_stricmp(pchCountry, rgcInfo) )
    {
      if ( TestDefaultCountry(v1) )
      {
        iLcidState |= 4u;
        lcidCountry = v1;
        lcidLanguage = v1;
      }
    }
    result = ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
  }
  else
  {
    iLcidState = 0;
    result = 1;
  }
  return result;
}

//----- (0044A9A5) --------------------------------------------------------
int __cdecl TestDefaultLanguage(unsigned int lcid, int bTestPrimary)
{
  size_t v2; // esi@4
  char rgcInfo[120]; // [sp+0h] [bp-7Ch]@1

  return pfnGetLocaleInfoA(lcid & 0x3FF | 0x400, 1u, rgcInfo, 120)
      && (lcid == LcidFromHexString(rgcInfo)
       || !bTestPrimary
       || (v2 = strlen(pchLanguage), GetPrimaryLen(pchLanguage) != v2));
}

//----- (0044AA16) --------------------------------------------------------
int __stdcall LangCountryEnumProc(char *lpLcidString)
{
  unsigned int v1; // esi@1
  int v3; // [sp-Ch] [bp-8Ch]@23
  char rgcInfo[120]; // [sp+4h] [bp-7Ch]@1

  v1 = LcidFromHexString(lpLcidString);
  if ( !pfnGetLocaleInfoA(v1, bAbbrevCountry != 0 ? 7 : 4098, rgcInfo, 120) )
  {
    iLcidState = 0;
    return 1;
  }
  if ( !_stricmp(pchCountry, rgcInfo) )
  {
    if ( !pfnGetLocaleInfoA(v1, bAbbrevLanguage != 0 ? 3 : 4097, rgcInfo, 120) )
    {
LABEL_18:
      iLcidState = 0;
      return 1;
    }
    if ( !_stricmp(pchLanguage, rgcInfo) )
    {
      LOWORD(iLcidState) = iLcidState | 0x304;
      lcidLanguage = v1;
LABEL_15:
      lcidCountry = v1;
      goto LABEL_16;
    }
    if ( iLcidState & 2 )
      goto LABEL_16;
    if ( !iPrimaryLen || _strnicmp(pchLanguage, rgcInfo, iPrimaryLen) )
    {
      if ( !(iLcidState & 1) && TestDefaultCountry(v1) )
      {
        iLcidState |= 1u;
        goto LABEL_15;
      }
    }
    else
    {
      iLcidState |= 2u;
      lcidCountry = v1;
      if ( strlen(pchLanguage) == iPrimaryLen )
        lcidLanguage = v1;
    }
  }
LABEL_16:
  if ( (iLcidState & 0x300) != 768 )
  {
    if ( !pfnGetLocaleInfoA(v1, bAbbrevLanguage != 0 ? 3 : 4097, rgcInfo, 120) )
      goto LABEL_18;
    if ( _stricmp(pchLanguage, rgcInfo) )
    {
      if ( bAbbrevLanguage || !iPrimaryLen || _strnicmp(pchLanguage, rgcInfo, iPrimaryLen) )
        return ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
      v3 = 0;
    }
    else
    {
      BYTE1(iLcidState) |= 2u;
      if ( bAbbrevLanguage || !iPrimaryLen || strlen(pchLanguage) != iPrimaryLen )
        goto LABEL_29;
      v3 = 1;
    }
    if ( TestDefaultLanguage(v1, v3) )
    {
LABEL_29:
      BYTE1(iLcidState) |= 1u;
      if ( !lcidLanguage )
        lcidLanguage = v1;
      return ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
    }
  }
  return ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
}

//----- (0044AC30) --------------------------------------------------------
int __stdcall LanguageEnumProc(char *lpLcidString)
{
  unsigned int v1; // esi@1
  int v3; // [sp-4h] [bp-84h]@5
  char rgcInfo[120]; // [sp+4h] [bp-7Ch]@1

  v1 = LcidFromHexString(lpLcidString);
  if ( !pfnGetLocaleInfoA(v1, bAbbrevLanguage != 0 ? 3 : 4097, rgcInfo, 120) )
  {
    iLcidState = 0;
    return 1;
  }
  if ( _stricmp(pchLanguage, rgcInfo) )
  {
    if ( bAbbrevLanguage || !iPrimaryLen || _strnicmp(pchLanguage, rgcInfo, iPrimaryLen) )
      return ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
    v3 = 0;
  }
  else
  {
    if ( bAbbrevLanguage )
    {
LABEL_11:
      iLcidState |= 4u;
      lcidCountry = v1;
      lcidLanguage = v1;
      return ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
    }
    v3 = 1;
  }
  if ( TestDefaultLanguage(v1, v3) )
    goto LABEL_11;
  return ~(unsigned __int8)((unsigned int)iLcidState >> 2) & 1;
}

//----- (0044ACFB) --------------------------------------------------------
BOOL __cdecl GetLcidFromCountry()
{
  BOOL result; // eax@1

  bAbbrevCountry = strlen(pchCountry) == 3;
  result = EnumSystemLocalesA(CountryEnumProc, 1u);
  if ( !(iLcidState & 4) )
    iLcidState = 0;
  return result;
}

//----- (0044AD32) --------------------------------------------------------
int __cdecl GetLcidFromLangCountry()
{
  size_t v0; // eax@1
  int result; // eax@4

  bAbbrevLanguage = strlen(pchLanguage) == 3;
  v0 = strlen(pchCountry);
  lcidLanguage = 0;
  bAbbrevCountry = v0 == 3;
  if ( bAbbrevLanguage )
    iPrimaryLen = 2;
  else
    iPrimaryLen = GetPrimaryLen(pchLanguage);
  EnumSystemLocalesA(LangCountryEnumProc, 1u);
  result = iLcidState;
  if ( !(BYTE1(result) & 1) || !(BYTE1(result) & 2) || !(iLcidState & 7) )
    iLcidState = 0;
  return result;
}

//----- (0044ADB8) --------------------------------------------------------
BOOL __cdecl GetLcidFromLanguage()
{
  size_t v0; // eax@1
  BOOL result; // eax@4

  v0 = strlen(pchLanguage);
  bAbbrevLanguage = v0 == 3;
  if ( v0 == 3 )
    iPrimaryLen = 2;
  else
    iPrimaryLen = GetPrimaryLen(pchLanguage);
  result = EnumSystemLocalesA(LanguageEnumProc, 1u);
  if ( !(iLcidState & 4) )
    iLcidState = 0;
  return result;
}

//----- (0044AE0D) --------------------------------------------------------
int __cdecl __get_qualified_locale(tagLC_STRINGS *const lpInStr, tagLC_ID *lpOutId, tagLC_STRINGS *lpOutStr)
{
  char *v3; // eax@6
  void *v4; // ecx@6
  int v6; // edi@27
  unsigned int v7; // ecx@30
  unsigned __int16 v8; // dx@31

  if ( !pfnGetLocaleInfoA )
  {
    if ( _osplatform == 2 )
      pfnGetLocaleInfoA = GetLocaleInfoA;
    else
      pfnGetLocaleInfoA = crtGetLocaleInfoA;
  }
  if ( !lpInStr )
  {
LABEL_24:
    GetLcidFromDefault();
    goto LABEL_25;
  }
  v3 = lpInStr->szCountry;
  v4 = lpInStr;
  pchLanguage = (char *)lpInStr;
  pchCountry = lpInStr->szCountry;
  if ( lpInStr != (tagLC_STRINGS *const )-64 && *v3 )
  {
    TranslateName(&__rg_country, 22, (const char **)&pchCountry);
    v4 = pchLanguage;
    v3 = pchCountry;
  }
  iLcidState = 0;
  if ( !v4 || !*(_BYTE *)v4 )
  {
    if ( v3 && *v3 )
    {
      GetLcidFromCountry();
      goto LABEL_25;
    }
    goto LABEL_24;
  }
  if ( v3 && *v3 )
    GetLcidFromLangCountry();
  else
    GetLcidFromLanguage();
  if ( iLcidState )
    goto LABEL_27;
  if ( TranslateName(&__rg_language, 64, (const char **)&pchLanguage) )
  {
    if ( pchCountry && *pchCountry )
      GetLcidFromLangCountry();
    else
      GetLcidFromLanguage();
  }
LABEL_25:
  if ( !iLcidState )
    return 0;
LABEL_27:
  v6 = ProcessCodePage(lpInStr->szCodePage);
  if ( !v6 || !IsValidCodePage((unsigned __int16)v6) || !IsValidLocale(lcidLanguage, 1u) )
    return 0;
  v7 = lcidLanguage;
  if ( lpOutId )
  {
    v8 = lcidCountry;
    lpOutId->wLanguage = lcidLanguage;
    lpOutId->wCountry = v8;
    lpOutId->wCodePage = v6;
  }
  if ( !lpOutStr )
    return 1;
  if ( lpOutId->wLanguage == 2068 )
  {
    strcpy(lpOutStr->szLanguage, "Norwegian-Nynorsk");
  }
  else
  {
    if ( !pfnGetLocaleInfoA(v7, 0x1001u, lpOutStr->szLanguage, 64) )
      return 0;
  }
  if ( pfnGetLocaleInfoA(lcidCountry, 0x1002u, lpOutStr->szCountry, 64) )
  {
    itoa(v6, lpOutStr->szCodePage, 10);
    return 1;
  }
  return 0;
}
// 4C8FFC: using guessed type int _osplatform;

//----- (0044AFD0) --------------------------------------------------------
void __cdecl strpbrk(char *string, char *control)
{
  unsigned int v2; // eax@1
  char *v3; // edx@1
  char *v4; // esi@4
  int v5; // [sp+0h] [bp-24h]@1
  int v6; // [sp+4h] [bp-20h]@1
  int v7; // [sp+8h] [bp-1Ch]@1
  int v8; // [sp+Ch] [bp-18h]@1
  int v9; // [sp+10h] [bp-14h]@1
  int v10; // [sp+14h] [bp-10h]@1
  int v11; // [sp+18h] [bp-Ch]@1
  int v12; // [sp+1Ch] [bp-8h]@1

  v2 = 0;
  v12 = 0;
  v11 = 0;
  v10 = 0;
  v9 = 0;
  v8 = 0;
  v7 = 0;
  v6 = 0;
  v5 = 0;
  v3 = control;
  while ( 1 )
  {
    LOBYTE(v2) = *v3;
    if ( !*v3 )
      break;
    ++v3;
    _bittestandset((signed __int32 *)&v5, v2);
  }
  v4 = string;
  do
  {
    LOBYTE(v2) = *v4;
    if ( !*v4 )
      break;
    ++v4;
  }
  while ( !_bittest((signed __int32 *)&v5, v2) );
}

//----- (0044B010) --------------------------------------------------------
_XCPT_ACTION *__usercall siglookup<eax>(int signum<esi>, _XCPT_ACTION *pxcptacttab<edx>)
{
  _XCPT_ACTION *result; // eax@1

  result = pxcptacttab;
  do
  {
    if ( result->SigNum == signum )
      break;
    ++result;
  }
  while ( result < &pxcptacttab[_XcptActTabCount] );
  if ( result >= &pxcptacttab[_XcptActTabCount] || result->SigNum != signum )
    result = 0;
  return result;
}
// 47183C: using guessed type int _XcptActTabCount;

//----- (0044B03E) --------------------------------------------------------
int __cdecl raise(int signum)
{
  int v1; // ecx@1
  int result; // eax@8
  void (__cdecl **v3)(int); // esi@9
  void (__cdecl *v4)(int); // edi@9
  _tiddata *v5; // ebx@12
  _tiddata *ptd; // [sp+18h] [bp-24h]@0
  signed int siglock; // [sp+20h] [bp-1Ch]@1

  v1 = 0;
  siglock = 0;
  if ( signum == 2 )
  {
    v3 = &ctrlc_action;
    v4 = ctrlc_action;
  }
  else
  {
    if ( signum == 4 || signum == 8 || signum == 11 )
    {
      v5 = _getptd();
      v3 = &siglookup(signum, (_XCPT_ACTION *)v5->_pxcptacttab)->XcptAction;
      v4 = *v3;
      v1 = 0;
      goto LABEL_15;
    }
    if ( signum == 15 )
    {
      v3 = &term_action;
      v4 = term_action;
    }
    else
    {
      if ( signum == 21 )
      {
        v3 = &ctrlbreak_action;
        v4 = ctrlbreak_action;
      }
      else
      {
        if ( signum != 22 )
          return -1;
        v3 = &abort_action;
        v4 = abort_action;
      }
    }
  }
  siglock = 1;
  v5 = ptd;
LABEL_15:
  if ( v4 == (void (__cdecl *)(int))1 )
    return 0;
  if ( v4 == (void (__cdecl *)(int))v1 )
    _exit(3);
  if ( siglock != v1 )
  {
    _lock(v1);
    v1 = 0;
  }
  result = signum;
  if ( signum == 8 || signum == 11 || signum == 4 )
  {
    v5->_tpxcptinfoptrs = (void *)v1;
    if ( signum != 8 )
      goto LABEL_29;
    v5->_tfpecode = 140;
  }
  if ( signum == 8 )
  {
    for ( result = _First_FPE_Indx; result < _First_FPE_Indx + _Num_FPE; ++result )
      *((_DWORD *)v5->_pxcptacttab + 3 * result + 2) = v1;
    goto LABEL_30;
  }
LABEL_29:
  *v3 = (void (__cdecl *)(int))v1;
LABEL_30:
  if ( siglock != v1 )
    _unlock(v1);
  return result;
}
// 471830: using guessed type int _First_FPE_Indx;
// 471834: using guessed type int _Num_FPE;

//----- (0044B1B7) --------------------------------------------------------
int __cdecl __crtMessageBoxA(const char *lpText, const char *lpCaption, unsigned int uType)
{
  HWND__ *v3; // ebx@1
  HINSTANCE__ *v4; // eax@2
  HINSTANCE__ *v5; // edi@2
  void *v6; // eax@8
  tagUSEROBJECTFLAGS uof; // [sp+Ch] [bp-10h]@9
  int nDummy; // [sp+18h] [bp-4h]@9

  v3 = 0;
  if ( !pfnMessageBoxA )
  {
    v4 = LoadLibraryA("user32.dll");
    v5 = v4;
    if ( !v4
      || (pfnMessageBoxA = (int (__stdcall *)(HWND__ *, const char *, const char *, unsigned int))GetProcAddress(
                                                                                                    v4,
                                                                                                    "MessageBoxA")) == 0 )
      return 0;
    pfnGetActiveWindow = (HWND__ *(__stdcall *)())GetProcAddress(v5, "GetActiveWindow");
    pfnGetLastActivePopup = (HWND__ *(__stdcall *)(HWND__ *))GetProcAddress(v5, "GetLastActivePopup");
    if ( _osplatform == 2 )
    {
      pfnGetUserObjectInformationA = (int (__stdcall *)(void *, int, void *, unsigned int, unsigned int *))GetProcAddress(v5, "GetUserObjectInformationA");
      if ( pfnGetUserObjectInformationA )
        pfnGetProcessWindowStation = (HWINSTA__ *(__stdcall *)())GetProcAddress(v5, "GetProcessWindowStation");
    }
  }
  if ( !pfnGetProcessWindowStation
    || (v6 = pfnGetProcessWindowStation()) != 0
    && pfnGetUserObjectInformationA(v6, 1, &uof, 0xCu, (unsigned int *)&nDummy)
    && uof.dwFlags & 1 )
  {
    if ( pfnGetActiveWindow )
    {
      v3 = pfnGetActiveWindow();
      if ( v3 )
      {
        if ( pfnGetLastActivePopup )
          v3 = pfnGetLastActivePopup(v3);
      }
    }
  }
  else
  {
    if ( _winmajor < 4 )
      BYTE2(uType) |= 4u;
    else
      BYTE2(uType) |= 0x20u;
  }
  return pfnMessageBoxA(v3, lpText, lpCaption, uType);
}
// 4C8FFC: using guessed type int _osplatform;

//----- (0044B2B0) --------------------------------------------------------
int __cdecl _isatty(int fh)
{
  int result; // eax@2

  if ( fh < _nhandle )
    result = *(_BYTE *)(__pioinfo[fh >> 5] + 36 * (fh & 0x1F) + 4) & 0x40;
  else
    result = 0;
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B2DA) --------------------------------------------------------
int __cdecl __wctomb_mt(threadlocaleinfostruct *ptloci, char *s, wchar_t wchar)
{
  char *v3; // ecx@1
  int result; // eax@2
  int v5; // ST14_4@6

  v3 = s;
  if ( !s )
    return 0;
  if ( !ptloci->lc_handle[2] )
  {
    if ( wchar <= 0xFFu )
    {
      *s = wchar;
      return 1;
    }
    goto LABEL_8;
  }
  v5 = ptloci->mb_cur_max;
  s = 0;
  result = WideCharToMultiByte(ptloci->lc_codepage, 0, &wchar, 1, v3, v5, 0, (LPBOOL)&s);
  if ( !result || s )
  {
LABEL_8:
    *_errno() = 42;
    result = -1;
  }
  return result;
}

//----- (0044B33A) --------------------------------------------------------
int __cdecl wctomb(char *s, wchar_t wchar)
{
  threadlocaleinfostruct *v2; // eax@1

  v2 = _getptd()->ptlocinfo;
  if ( v2 != ___ptlocinfo )
    v2 = __updatetlocinfo();
  return __wctomb_mt(v2, s, wchar);
}

//----- (0044B361) --------------------------------------------------------
int __cdecl _set_osfhnd(int fh, int value)
{
  int v2; // esi@2
  DWORD v4; // [sp-Ch] [bp-14h]@7
  int v5; // [sp-8h] [bp-10h]@7

  if ( fh < _nhandle )
  {
    v2 = 36 * (fh & 0x1F);
    if ( *(_DWORD *)(v2 + __pioinfo[fh >> 5]) == -1 )
    {
      if ( __app_type == 1 )
      {
        if ( !fh )
        {
          v5 = value;
          v4 = -10;
          goto LABEL_10;
        }
        if ( fh == 1 )
        {
          v5 = value;
          v4 = -11;
          goto LABEL_10;
        }
        if ( fh == 2 )
        {
          v5 = value;
          v4 = -12;
LABEL_10:
          SetStdHandle(v4, (HANDLE)v5);
          goto LABEL_11;
        }
      }
LABEL_11:
      *(_DWORD *)(v2 + __pioinfo[fh >> 5]) = value;
      return 0;
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 470F74: using guessed type int __app_type;
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B3DD) --------------------------------------------------------
int __cdecl _free_osfhnd(int fh)
{
  int v1; // esi@2
  int v2; // eax@2
  DWORD v4; // [sp-8h] [bp-10h]@8
  void *v5; // [sp-4h] [bp-Ch]@8

  if ( fh < _nhandle )
  {
    v1 = 36 * (fh & 0x1F);
    v2 = v1 + __pioinfo[fh >> 5];
    if ( *(_BYTE *)(v2 + 4) & 1 )
    {
      if ( *(_DWORD *)v2 != -1 )
      {
        if ( __app_type == 1 )
        {
          if ( !fh )
          {
            v5 = 0;
            v4 = -10;
            goto LABEL_11;
          }
          if ( fh == 1 )
          {
            v5 = 0;
            v4 = -11;
            goto LABEL_11;
          }
          if ( fh == 2 )
          {
            v5 = 0;
            v4 = -12;
LABEL_11:
            SetStdHandle(v4, v5);
            goto LABEL_12;
          }
        }
LABEL_12:
        *(_DWORD *)(v1 + __pioinfo[fh >> 5]) = -1;
        return 0;
      }
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 470F74: using guessed type int __app_type;
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B45C) --------------------------------------------------------
int __cdecl _get_osfhandle(int fh)
{
  int v1; // eax@2
  int result; // eax@3

  if ( fh < _nhandle && (v1 = __pioinfo[fh >> 5] + 36 * (fh & 0x1F), *(_BYTE *)(v1 + 4) & 1) )
  {
    result = *(_DWORD *)v1;
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B49D) --------------------------------------------------------
int __cdecl _lock_fhandle(int fh)
{
  int v1; // esi@1
  int result; // eax@4
  CPPEH_RECORD ms_exc; // [sp+Ch] [bp-18h]@2

  v1 = __pioinfo[fh >> 5] + 36 * (fh & 0x1F);
  if ( *(_DWORD *)(v1 + 8) )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)(__pioinfo[fh >> 5] + 36 * (fh & 0x1F) + 12));
    result = 1;
  }
  else
  {
    _lock(10);
    ms_exc.disabled = 0;
    if ( !*(_DWORD *)(v1 + 8) )
    {
      if ( !__crtInitCritSecAndSpinCount((_RTL_CRITICAL_SECTION *)(v1 + 12), 0xFA0u) )
      {
        _local_unwind2((int)&ms_exc.prev_er, -1);
        return 0;
      }
      ++*(_DWORD *)(v1 + 8);
    }
    ms_exc.disabled = -1;
    _unlock(10);
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B53D) --------------------------------------------------------
void __cdecl _unlock_fhandle(int fh)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(__pioinfo[fh >> 5] + 36 * (fh & 0x1F) + 12));
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B55F) --------------------------------------------------------
int __cdecl _alloc_osfhnd()
{
  signed int v0; // edi@2
  unsigned int v1; // esi@4
  int result; // eax@11
  unsigned int v3; // eax@20
  int fh; // [sp+14h] [bp-1Ch]@1
  CPPEH_RECORD ms_exc; // [sp+18h] [bp-18h]@2

  fh = -1;
  if ( _mtinitlocknum(11) )
  {
    _lock(11);
    v0 = 0;
    ms_exc.disabled = 0;
    while ( v0 < 64 )
    {
      v1 = __pioinfo[v0];
      if ( !v1 )
      {
        v3 = (unsigned int)malloc(0x480u);
        if ( v3 )
        {
          __pioinfo[v0] = v3;
          _nhandle += 32;
          while ( v3 < __pioinfo[v0] + 1152 )
          {
            *(_BYTE *)(v3 + 4) = 0;
            *(_DWORD *)v3 = -1;
            *(_BYTE *)(v3 + 5) = 10;
            *(_DWORD *)(v3 + 8) = 0;
            v3 += 36;
          }
          _lock_fhandle(32 * v0);
        }
        break;
      }
      while ( v1 < __pioinfo[v0] + 1152 )
      {
        if ( !(*(_BYTE *)(v1 + 4) & 1) )
        {
          if ( !*(_DWORD *)(v1 + 8) )
          {
            _lock(10);
            ms_exc.disabled = 1;
            if ( !*(_DWORD *)(v1 + 8) )
            {
              if ( !__crtInitCritSecAndSpinCount((_RTL_CRITICAL_SECTION *)(v1 + 12), 0xFA0u) )
              {
                _local_unwind2((int)&ms_exc.prev_er, -1);
                goto LABEL_11;
              }
              ++*(_DWORD *)(v1 + 8);
            }
            ms_exc.disabled = 0;
            _unlock(10);
            return result;
          }
          EnterCriticalSection((LPCRITICAL_SECTION)(v1 + 12));
          if ( !(*(_BYTE *)(v1 + 4) & 1) )
          {
            *(_DWORD *)v1 = -1;
            fh = 32 * v0 + (signed int)(v1 - __pioinfo[v0]) / 36;
            break;
          }
          LeaveCriticalSection((LPCRITICAL_SECTION)(v1 + 12));
        }
        v1 += 36;
      }
      if ( fh != -1 )
        break;
      ++v0;
    }
    _unlock(11);
  }
  else
  {
LABEL_11:
    result = -1;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B6DB) --------------------------------------------------------
int __usercall tsopen_lk<eax>(int shflag<ecx>, int *punlock_flag, int *pfh, const char *path, int oflag, int pmode)
{
  int v7; // eax@23
  DWORD v8; // esi@39
  int v9; // eax@51
  int v10; // edi@51
  DWORD v11; // ST10_4@54
  HANDLE v12; // eax@54
  int v13; // esi@54
  DWORD v14; // eax@55
  unsigned int v15; // eax@57
  char v16; // al@62
  int v17; // ecx@62
  int v18; // esi@62
  bool v19; // zf@62
  int v20; // eax@69
  _SECURITY_ATTRIBUTES SecurityAttributes; // [sp+8h] [bp-1Ch]@1
  int fileaccess; // [sp+14h] [bp-10h]@11
  DWORD filecreate; // [sp+18h] [bp-Ch]@29
  DWORD fileshare; // [sp+1Ch] [bp-8h]@19
  char buf; // [sp+22h] [bp-2h]@72
  char fileflags; // [sp+23h] [bp-1h]@2

  SecurityAttributes.nLength = 12;
  SecurityAttributes.lpSecurityDescriptor = 0;
  if ( (char)oflag >= 0 )
  {
    SecurityAttributes.bInheritHandle = 1;
    fileflags = 0;
  }
  else
  {
    SecurityAttributes.bInheritHandle = 0;
    fileflags = 16;
  }
  if ( !(oflag & 0x8000) && (BYTE1(oflag) & 0x40 || _fmode != 32768) )
    fileflags |= 0x80u;
  if ( oflag & 3 )
  {
    if ( (oflag & 3) == 1 )
    {
      fileaccess = 1073741824;
    }
    else
    {
      if ( (oflag & 3) != 2 )
      {
LABEL_18:
        *_errno() = 22;
        *__doserrno() = 0;
        return -1;
      }
      fileaccess = -1073741824;
    }
  }
  else
  {
    fileaccess = -2147483648;
  }
  switch ( shflag )
  {
    case 16:
      fileshare = 0;
      break;
    case 32:
      fileshare = 1;
      break;
    case 48:
      fileshare = 2;
      break;
    default:
      if ( shflag != 64 )
        goto LABEL_18;
      fileshare = 3;
      break;
  }
  v7 = oflag & 0x700;
  if ( v7 > 1024 )
  {
    if ( v7 != 1280 )
    {
      if ( v7 == 1536 )
        goto LABEL_37;
      if ( v7 != 1792 )
        goto LABEL_35;
    }
    filecreate = 1;
    goto LABEL_39;
  }
  if ( v7 == 1024 || !(oflag & 0x700) )
  {
    filecreate = 3;
    goto LABEL_39;
  }
  if ( v7 == 256 )
  {
    filecreate = 4;
    goto LABEL_39;
  }
  if ( v7 == 512 )
  {
LABEL_37:
    filecreate = 5;
    goto LABEL_39;
  }
  if ( v7 != 768 )
  {
LABEL_35:
    *_errno() = 22;
    *__doserrno() = 0;
    return -1;
  }
  filecreate = 2;
LABEL_39:
  v8 = 128;
  if ( oflag & 0x100 && ((unsigned __int8)pmode & (unsigned __int8)~(_BYTE)_umaskval) >= 0 )
    v8 = 1;
  if ( oflag & 0x40 )
  {
    BYTE2(fileaccess) |= 1u;
    v8 |= 0x4000000u;
    if ( _osplatform == 2 )
      fileshare |= 4u;
  }
  if ( BYTE1(oflag) & 0x10 )
    v8 |= 0x100u;
  if ( oflag & 0x20 )
  {
    v8 |= 0x8000000u;
  }
  else
  {
    if ( oflag & 0x10 )
      v8 |= 0x10000000u;
  }
  v9 = _alloc_osfhnd();
  v10 = v9;
  if ( v9 == -1 )
  {
    *_errno() = 24;
    *__doserrno() = 0;
    return -1;
  }
  v11 = filecreate;
  *punlock_flag = 1;
  *pfh = v9;
  v12 = CreateFileA(path, fileaccess, fileshare, &SecurityAttributes, v11, v8, 0);
  v13 = (int)v12;
  if ( v12 == (HANDLE)-1 )
  {
LABEL_57:
    v15 = GetLastError();
    _dosmaperr(v15);
    return -1;
  }
  v14 = GetFileType(v12);
  if ( !v14 )
  {
    CloseHandle((HANDLE)v13);
    goto LABEL_57;
  }
  if ( v14 == 2 )
  {
    fileflags |= 0x40u;
  }
  else
  {
    if ( v14 == 3 )
      fileflags |= 8u;
  }
  _set_osfhnd(v10, v13);
  fileflags |= 1u;
  v16 = fileflags;
  v17 = __pioinfo[v10 >> 5];
  v18 = 36 * (v10 & 0x1F);
  v19 = (fileflags & 0x48) == 0;
  fileflags &= 0x48u;
  *(_BYTE *)(v18 + v17 + 4) = v16;
  if ( v19 && v16 < 0 && oflag & 2 )
  {
    fileaccess = _lseek_lk(v10, -1, 2);
    if ( fileaccess == -1 )
    {
      if ( *__doserrno() == 131 )
        goto LABEL_67;
      goto LABEL_76;
    }
    buf = 0;
    if ( !_read_lk(v10, &buf, 1u) && buf == 26 && _chsize_lk(v10, fileaccess) == -1 || _lseek_lk(v10, 0, 0) == -1 )
    {
LABEL_76:
      _close_lk(v10);
      return -1;
    }
  }
LABEL_67:
  if ( !fileflags )
  {
    if ( oflag & 8 )
    {
      v20 = v18 + __pioinfo[v10 >> 5] + 4;
      *(_BYTE *)v20 |= 0x20u;
    }
  }
  return v10;
}
// 4C8FF8: using guessed type int _umaskval;
// 4C8FFC: using guessed type int _osplatform;
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044B9C2) --------------------------------------------------------
int __cdecl _sopen(const char *path, int oflag, int shflag)
{
  int result; // eax@1
  int fh; // [sp+10h] [bp-20h]@1
  int unlock_flag; // [sp+14h] [bp-1Ch]@1
  CPPEH_RECORD ms_exc; // [sp+18h] [bp-18h]@1
  int pmode; // [sp+44h] [bp+14h]@0

  unlock_flag = 0;
  ms_exc.disabled = 0;
  result = tsopen_lk(&unlock_flag, &fh, path, oflag, shflag, pmode);
  ms_exc.disabled = -1;
  if ( unlock_flag )
    _unlock_fhandle(fh);
  return result;
}

//----- (0044BA17) --------------------------------------------------------
int __cdecl x_ismbbtype(unsigned int tst, int cmask, int kmask)
{
  int result; // eax@3

  if ( (unsigned __int8)kmask & (unsigned __int8)byte_4C9561[(unsigned __int8)tst]
    || (!cmask ? (result = 0) : (result = (unsigned __int16)(cmask & _pctype[(unsigned __int8)tst])), result) )
    result = 1;
  return result;
}

//----- (0044BA4A) --------------------------------------------------------
int __cdecl _ismbblead(unsigned int tst)
{
  return x_ismbbtype(tst, 0, 4);
}

//----- (0044BA5B) --------------------------------------------------------
__int64 __cdecl _lseeki64_lk(int fh, __int64 pos, int mthd)
{
  unsigned int v3; // eax@4
  int v5; // eax@7
  doubleint newpos; // [sp+8h] [bp-8h]@1

  HIDWORD(newpos.bigint) = HIDWORD(pos);
  if ( _get_osfhandle(fh) == -1 )
  {
    *_errno() = 9;
    return -1i64;
  }
  LODWORD(newpos.bigint) = SetFilePointer(HIDWORD(pos), pos, (PLONG)&newpos.bigint + 1, mthd);
  if ( (_DWORD)newpos.bigint == -1 )
  {
    v3 = GetLastError();
    if ( v3 )
    {
      _dosmaperr(v3);
      return -1i64;
    }
  }
  v5 = __pioinfo[fh >> 5] + 36 * (fh & 0x1F) + 4;
  *(_BYTE *)v5 &= 0xFDu;
  return newpos.bigint;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044BADE) --------------------------------------------------------
__int64 __cdecl _lseeki64(int fh, __int64 pos, int mthd)
{
  int v3; // esi@2
  __int64 result; // qax@6

  if ( fh < _nhandle && (v3 = 36 * (fh & 0x1F), *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1) )
  {
    _lock_fhandle(fh);
    if ( *(_BYTE *)(__pioinfo[fh >> 5] + v3 + 4) & 1 )
    {
      _lseeki64_lk(fh, pos, mthd);
    }
    else
    {
      *_errno() = 9;
      *__doserrno() = 0;
    }
    _unlock_fhandle(fh);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1i64;
  }
  return result;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044BB9C) --------------------------------------------------------
int __cdecl __tolower_mt(threadlocaleinfostruct *ptloci, int c)
{
  int v2; // ebx@1
  threadlocaleinfostruct *v3; // esi@1
  int v4; // eax@6
  int v5; // eax@9
  int v6; // eax@10
  int v7; // eax@12
  int result; // eax@14
  int v9; // eax@15
  char outbuffer[3]; // [sp+Ch] [bp-4h]@12

  v2 = c;
  v3 = ptloci;
  if ( ptloci->lc_handle[2] && (!ptloci->lc_clike || (unsigned int)c > 0x7F) )
  {
    if ( (unsigned int)c >= 0x100
      || (ptloci->mb_cur_max <= 1 ? (v4 = ptloci->pctype[c] & 1) : (v4 = __isctype_mt(ptloci, c, 1)), v4) )
    {
      v5 = v2 >> 8;
      if ( HIBYTE(v3->pctype[BYTE1(v2)]) & 0x80 )
      {
        LOBYTE(ptloci) = v5;
        *(_WORD *)((char *)&ptloci + 1) = (unsigned __int8)v2;
        v6 = 2;
      }
      else
      {
        LOWORD(ptloci) = (unsigned __int8)v2;
        v6 = 1;
      }
      v7 = __crtLCMapStringA(v3->lc_handle[2], 0x100u, (const char *)&ptloci, v6, outbuffer, 3, v3->lc_codepage, 1);
      if ( v7 )
      {
        if ( v7 == 1 )
        {
          result = (unsigned __int8)outbuffer[0];
        }
        else
        {
          v9 = 0;
          BYTE1(v9) = outbuffer[0];
          result = (unsigned __int8)outbuffer[1] | v9;
        }
        return result;
      }
    }
    return v2;
  }
  if ( c < 65 || (result = c + 32, c > 90) )
    return v2;
  return result;
}

//----- (0044BC64) --------------------------------------------------------
int __cdecl tolower(int c)
{
  threadlocaleinfostruct *v1; // eax@1

  v1 = _getptd()->ptlocinfo;
  if ( v1 != ___ptlocinfo )
    v1 = __updatetlocinfo();
  return __tolower_mt(v1, c);
}

//----- (0044BC86) --------------------------------------------------------
int __cdecl _ZeroTail(unsigned int *man, int nbit)
{
  int v2; // eax@1
  int result; // eax@2

  v2 = nbit / 32;
  if ( ~(-1 << (31 - nbit % 32)) & man[nbit / 32] )
  {
LABEL_2:
    result = 0;
  }
  else
  {
    while ( 1 )
    {
      ++v2;
      if ( v2 >= 3 )
        break;
      if ( man[v2] )
        goto LABEL_2;
    }
    result = 1;
  }
  return result;
}

//----- (0044BCB8) --------------------------------------------------------
int __cdecl _IncMan(unsigned int *man, int nbit)
{
  int result; // eax@1
  int v3; // esi@1
  unsigned int *v4; // edi@2

  result = __addl(man[nbit / 32], 1 << (31 - nbit % 32), &man[nbit / 32]);
  v3 = nbit / 32 - 1;
  if ( v3 >= 0 )
  {
    v4 = &man[v3];
    do
    {
      if ( !result )
        break;
      result = __addl(*v4, 1u, v4);
      --v3;
      --v4;
    }
    while ( v3 >= 0 );
  }
  return result;
}

//----- (0044BD05) --------------------------------------------------------
int __cdecl _RoundMan(unsigned int *man, int precision)
{
  int v2; // esi@1
  int v3; // ebx@1
  unsigned int *v4; // eax@1
  int v5; // ebx@5
  int retval; // [sp+Ch] [bp-4h]@1

  retval = 0;
  v2 = 31 - precision % 32;
  v3 = precision / 32;
  v4 = man;
  if ( (1 << (31 - precision % 32)) & man[precision / 32] )
  {
    if ( !_ZeroTail(man, precision) )
      retval = _IncMan(man, precision - 1);
    v4 = man;
  }
  v4[v3] &= -1 << v2;
  v5 = v3 + 1;
  if ( v5 < 3 )
    memset(&v4[v5], 0, 4 * (3 - v5));
  return retval;
}

//----- (0044BD77) --------------------------------------------------------
void __cdecl _CopyMan(unsigned int *dest, unsigned int *src)
{
  unsigned int *v2; // eax@1
  signed int v3; // edx@1

  v2 = src;
  v3 = 3;
  do
  {
    *(unsigned int *)((char *)v2 + (char *)dest - (char *)src) = *v2;
    ++v2;
    --v3;
  }
  while ( v3 );
}

//----- (0044BD92) --------------------------------------------------------
int __cdecl _IsZeroMan(unsigned int *man)
{
  signed int v1; // eax@1

  v1 = 0;
  while ( !man[v1] )
  {
    ++v1;
    if ( v1 >= 3 )
      return 1;
  }
  return 0;
}

//----- (0044BDAB) --------------------------------------------------------
void __cdecl _ShrMan(unsigned int *man, int n)
{
  int v2; // edx@1
  signed int v3; // eax@1
  unsigned int v4; // ST10_4@2
  signed int v5; // eax@3
  unsigned int *v6; // ecx@3
  int v7; // [sp+10h] [bp-8h]@1
  unsigned int carry_from_left; // [sp+14h] [bp-4h]@1
  int na; // [sp+24h] [bp+Ch]@1

  v2 = n % 32;
  v7 = n / 32;
  v3 = 0;
  na = 32 - n % 32;
  carry_from_left = 0;
  do
  {
    v4 = ~(-1 << v2) & man[v3];
    man[v3] = carry_from_left | (man[v3] >> v2);
    ++v3;
    carry_from_left = v4 << na;
  }
  while ( v3 < 3 );
  v5 = 2;
  v6 = &man[2 - v7];
  do
  {
    if ( v5 < v7 )
      man[v5] = 0;
    else
      man[v5] = *v6;
    --v5;
    --v6;
  }
  while ( v5 >= 0 );
}

//----- (0044BE26) --------------------------------------------------------
INTRNCVT_STATUS __cdecl _ld12cvt(_LDBL12 *pld12, void *d, FpFormatDescriptor *format)
{
  _LDBL12 *v3; // eax@1
  __int16 v4; // di@1
  int v5; // ecx@1
  int v6; // edi@1
  int v7; // ebx@2
  INTRNCVT_STATUS result; // eax@4
  int v9; // eax@7
  int v10; // edi@10
  int v11; // ebx@14
  int v12; // esi@16
  int v13; // ebx@16
  int v14; // edx@17
  int v15; // [sp-4h] [bp-28h]@12
  int saved_man[3]; // [sp+Ch] [bp-18h]@5
  int man[3]; // [sp+18h] [bp-Ch]@1
  int sign; // [sp+2Ch] [bp+8h]@1

  v3 = pld12;
  v4 = *(_WORD *)&pld12->ld12[10];
  sign = *(_WORD *)&pld12->ld12[10] & 0x8000;
  man[0] = *(_DWORD *)&v3->ld12[6];
  v5 = *(_DWORD *)&v3->ld12[2];
  v6 = (v4 & 0x7FFF) - 16383;
  man[2] = *(_WORD *)&v3->ld12[0] << 16;
  man[1] = v5;
  if ( v6 == -16383 )
  {
    v7 = 0;
    if ( !_IsZeroMan((unsigned int *)man) )
    {
      man[0] = 0;
      man[1] = 0;
      man[2] = 0;
LABEL_4:
      result = 2;
      goto LABEL_16;
    }
    goto LABEL_15;
  }
  _CopyMan((unsigned int *)saved_man, (unsigned int *)man);
  if ( _RoundMan((unsigned int *)man, format->precision) )
    ++v6;
  v9 = format->min_exp;
  if ( v6 < format->min_exp - format->precision )
  {
    man[0] = 0;
    man[1] = 0;
    man[2] = 0;
LABEL_11:
    v7 = 0;
    goto LABEL_4;
  }
  if ( v6 <= v9 )
  {
    v10 = v9 - v6;
    _CopyMan((unsigned int *)man, (unsigned int *)saved_man);
    _ShrMan((unsigned int *)man, v10);
    _RoundMan((unsigned int *)man, format->precision);
    _ShrMan((unsigned int *)man, format->exp_width + 1);
    goto LABEL_11;
  }
  v15 = format->exp_width;
  if ( v6 >= format->max_exp )
  {
    man[0] = 0;
    man[1] = 0;
    man[2] = 0;
    *(int *)((char *)man + 3) = 128;
    _ShrMan((unsigned int *)man, v15);
    v7 = format->max_exp + format->bias;
    result = 1;
    goto LABEL_16;
  }
  v11 = format->bias;
  BYTE3(man[0]) &= 0x7Fu;
  v7 = v6 + v11;
  _ShrMan((unsigned int *)man, v15);
LABEL_15:
  result = 0;
LABEL_16:
  v12 = format->format_width;
  v13 = man[0] | (sign != 0 ? 0x80000000 : 0) | (v7 << (31 - LOBYTE(format->exp_width)));
  if ( v12 == 64 )
  {
    v14 = man[1];
    *((_DWORD *)d + 1) = v13;
    *(_DWORD *)d = v14;
  }
  else
  {
    if ( v12 == 32 )
      *(_DWORD *)d = v13;
  }
  return result;
}

//----- (0044BF7E) --------------------------------------------------------
INTRNCVT_STATUS __cdecl _ld12tod(_LDBL12 *pld12, DOUBLE *d)
{
  return _ld12cvt(pld12, d, &DoubleFormat);
}

//----- (0044BF94) --------------------------------------------------------
INTRNCVT_STATUS __cdecl _ld12tof(_LDBL12 *pld12, FLOAT *f)
{
  return _ld12cvt(pld12, f, &FloatFormat);
}

//----- (0044BFAA) --------------------------------------------------------
void __cdecl _atodbl(DOUBLE *d, char *str)
{
  void *EndPtr; // [sp+0h] [bp-14h]@1
  _LDBL12 ld12; // [sp+4h] [bp-10h]@1

  __strgtold12(&ld12, (const char **)&EndPtr, str, 0, 0, 0, 0);
  _ld12tod(&ld12, d);
}

//----- (0044BFE7) --------------------------------------------------------
void __cdecl _atoflt(FLOAT *f, char *str)
{
  void *EndPtr; // [sp+0h] [bp-14h]@1
  _LDBL12 ld12; // [sp+4h] [bp-10h]@1

  __strgtold12(&ld12, (const char **)&EndPtr, str, 0, 0, 0, 0);
  _ld12tof(&ld12, f);
}

//----- (0044C024) --------------------------------------------------------
void __cdecl _fptostr(char *buf, int digits, _strflt *pflt)
{
  _strflt *v3; // edx@1
  char *v4; // ecx@1
  int v5; // ebx@1
  char *v6; // esi@1
  const char *v7; // edi@1
  char *v8; // eax@1
  char v9; // dl@3
  size_t v10; // eax@16
  int bufa; // [sp+14h] [bp+8h]@2

  v3 = pflt;
  v4 = pflt->mantissa;
  v5 = digits;
  v6 = buf;
  v7 = buf + 1;
  *buf = 48;
  v8 = buf + 1;
  if ( digits > 0 )
  {
    bufa = digits;
    v5 = 0;
    do
    {
      v9 = *v4;
      if ( *v4 )
        ++v4;
      else
        v9 = 48;
      *v8++ = v9;
      --bufa;
    }
    while ( bufa );
    v3 = pflt;
  }
  *v8 = 0;
  if ( v5 >= 0 && *v4 >= 53 )
  {
    while ( 1 )
    {
      --v8;
      if ( *v8 != 57 )
        break;
      *v8 = 48;
    }
    ++*v8;
  }
  if ( *v6 == 49 )
  {
    ++v3->decpt;
  }
  else
  {
    v10 = strlen(v7);
    memmove(v6, (char *)v7, v10 + 1);
  }
}

//----- (0044C09B) --------------------------------------------------------
void __cdecl __dtold(_LDOUBLE *pld, long double *px)
{
  long double *v2; // edx@1
  unsigned int v3; // eax@1
  int v4; // ecx@1
  int v5; // eax@1
  unsigned int v6; // edx@1
  int v7; // eax@1
  int v8; // edi@3
  int v9; // ecx@9
  int v10; // edx@10
  int v11; // ecx@10
  signed int msb; // [sp+Ch] [bp-4h]@1
  int sign; // [sp+1Ch] [bp+Ch]@1

  v2 = px;
  v3 = *((_WORD *)px + 3);
  msb = -2147483648;
  v4 = (v3 >> 4) & 0x7FF;
  sign = v3 & 0x8000;
  v5 = *((_DWORD *)v2 + 1);
  v6 = *(_DWORD *)v2;
  v7 = v5 & 0xFFFFF;
  if ( (_WORD)v4 )
  {
    if ( (unsigned __int16)v4 == 2047 )
      v8 = 32767;
    else
      v8 = v4 + 15360;
  }
  else
  {
    if ( !v7 && !v6 )
    {
      *(_DWORD *)&pld->ld[4] = 0;
      *(_DWORD *)&pld->ld[0] = 0;
      *(_WORD *)&pld->ld[8] = 0;
      return;
    }
    v8 = v4 + 15361;
    msb = 0;
  }
  v9 = msb | (v7 << 11) | (v6 >> 21);
  *(_DWORD *)&pld->ld[4] = v9;
  *(_DWORD *)&pld->ld[0] = v6 << 11;
  if ( !(v9 & 0x80000000) )
  {
    do
    {
      v10 = *(_QWORD *)&pld->ld[0] >> 31;
      v11 = 2 * *(_DWORD *)&pld->ld[0];
      v8 += 65535;
      *(_DWORD *)&pld->ld[4] = v10;
      *(_DWORD *)&pld->ld[0] = v11;
    }
    while ( !(v10 & 0x80000000) );
  }
  *(_WORD *)&pld->ld[8] = v8 | sign;
}

//----- (0044C155) --------------------------------------------------------
_strflt *__cdecl _fltout2(DOUBLE x, _strflt *flt, char *resultstr)
{
  int v3; // eax@1
  _strflt *v4; // esi@1
  char *v5; // edi@1
  _FloatOutStruct autofos; // [sp+8h] [bp-2Ch]@1
  _LDOUBLE ld; // [sp+24h] [bp-10h]@1

  __dtold(&ld, &x.x);
  v3 = _I10_OUTPUT(ld, 17, 0, &autofos);
  v4 = flt;
  v5 = resultstr;
  flt->flag = v3;
  v4->sign = autofos.sign;
  v4->decpt = autofos.exp;
  strcpy(v5, autofos.man);
  v4->mantissa = v5;
  return v4;
}

//----- (0044C1C1) --------------------------------------------------------
void __cdecl _fptrap()
{
  _amsg_exit(2);
}

//----- (0044C1CA) --------------------------------------------------------
unsigned int __usercall abstract_cw<eax>(unsigned __int16 cw<bx>)
{
  unsigned int result; // eax@1
  int v2; // ecx@13
  int v3; // edx@20

  result = 0;
  if ( cw & 1 )
    result = 16;
  if ( cw & 4 )
    result |= 8u;
  if ( cw & 8 )
    result |= 4u;
  if ( cw & 0x10 )
    result |= 2u;
  if ( cw & 0x20 )
    result |= 1u;
  if ( cw & 2 )
    result |= 0x80000u;
  v2 = cw & 0xC00;
  if ( cw & 0xC00 )
  {
    switch ( v2 )
    {
      case 1024:
        result |= 0x100u;
        break;
      case 2048:
        result |= 0x200u;
        break;
      case 3072:
        result |= 0x300u;
        break;
    }
  }
  v3 = cw & 0x300;
  if ( v3 )
  {
    if ( v3 == 512 )
      result |= 0x10000u;
  }
  else
  {
    result |= 0x20000u;
  }
  if ( HIBYTE(cw) & 0x10 )
    result |= 0x40000u;
  return result;
}

//----- (0044C25C) --------------------------------------------------------
unsigned __int16 __usercall hw_cw<ax>(unsigned int abstr<ebx>)
{
  unsigned __int16 result; // ax@1
  unsigned int v2; // ecx@13
  unsigned int v3; // ecx@20
  int v4; // ecx@20

  result = 0;
  if ( abstr & 0x10 )
    result = 1;
  if ( abstr & 8 )
    result |= 4u;
  if ( abstr & 4 )
    result |= 8u;
  if ( abstr & 2 )
    result |= 0x10u;
  if ( abstr & 1 )
    result |= 0x20u;
  if ( abstr & 0x80000 )
    result |= 2u;
  v2 = abstr & 0x300;
  if ( abstr & 0x300 )
  {
    switch ( v2 )
    {
      case 0x100u:
        result |= 0x400u;
        break;
      case 0x200u:
        result |= 0x800u;
        break;
      case 0x300u:
        result |= 0xC00u;
        break;
    }
  }
  v3 = abstr;
  v4 = v3 & 0x30000;
  if ( v4 )
  {
    if ( v4 == 65536 )
      result |= 0x200u;
  }
  else
  {
    result |= 0x300u;
  }
  if ( abstr & 0x40000 )
    result |= 0x1000u;
  return result;
}

//----- (0044C2EA) --------------------------------------------------------
unsigned int __cdecl _control87(unsigned int newctrl, unsigned int mask)
{
  unsigned int v2; // ebx@1
  unsigned __int16 oldCw; // [sp+4h] [bp-4h]@0

  v2 = mask & newctrl | ~mask & abstract_cw(oldCw);
  hw_cw(v2);
  return v2;
}

//----- (0044C31C) --------------------------------------------------------
unsigned int __cdecl _controlfp(unsigned int newctrl, unsigned int mask)
{
  return _control87(newctrl, mask & 0xFFF7FFFF);
}

//----- (0044C332) --------------------------------------------------------
char *__cdecl _getenv_lk(const char *option)
{
  char **v1; // esi@1
  char *result; // eax@2
  unsigned int v3; // edi@8

  v1 = _environ;
  if ( __env_initialized )
  {
    if ( _environ || _wenviron && !__wtomb_environ() && (v1 = _environ) != 0 )
    {
      if ( option )
      {
        v3 = strlen(option);
        while ( *v1 )
        {
          if ( strlen(*v1) > v3 && (*v1)[v3] == 61 && !_mbsnbicoll(*v1, option, v3) )
            return &(*v1)[v3 + 1];
          ++v1;
        }
      }
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4C98B0: using guessed type int __env_initialized;

//----- (0044C3B3) --------------------------------------------------------
long double __cdecl _frnd(long double x)
{
  long double result; // st7@1

  _ST7 = x;
  __asm { frndint }
  return result;
}

//----- (0044C3C4) --------------------------------------------------------
unsigned int __cdecl __strgtold12(_LDBL12 *pld12, const char **p_end_ptr, const char *str, int mult12, int scale, int decpt, int implicit_E)
{
  signed int v7; // eax@1
  const char *v8; // edi@1
  int v9; // esi@1
  const char v10; // cl@2
  unsigned __int8 v11; // bl@7
  int v12; // ecx@59
  int v13; // esi@94
  int i; // eax@100
  int v15; // eax@106
  int v16; // eax@108
  __int16 v17; // dx@114
  int v18; // ebx@114
  signed int v19; // esi@114
  signed __int16 v20; // ax@114
  unsigned int result; // eax@119
  signed int v22; // [sp-4h] [bp-6Ch]@10
  signed int v23; // [sp-4h] [bp-6Ch]@12
  signed int found_exponent; // [sp+Ch] [bp-5Ch]@1
  signed int found_decpoint; // [sp+10h] [bp-58h]@1
  int pow; // [sp+14h] [bp-54h]@1
  signed __int16 man_sign; // [sp+18h] [bp-50h]@1
  signed int exp_sign; // [sp+1Ch] [bp-4Ch]@1
  unsigned int result_flags; // [sp+20h] [bp-48h]@1
  signed int found_digit; // [sp+24h] [bp-44h]@1
  int savedp; // [sp+28h] [bp-40h]@1
  int exp_adj; // [sp+2Ch] [bp-3Ch]@1
  unsigned int manlen; // [sp+30h] [bp-38h]@1
  int manp; // [sp+34h] [bp-34h]@94
  char buf[25]; // [sp+38h] [bp-30h]@1
  _LDBL12 tmpld12; // [sp+54h] [bp-14h]@106

  v7 = 0;
  v8 = str;
  v9 = (int)buf;
  man_sign = 0;
  exp_sign = 1;
  manlen = 0;
  found_digit = 0;
  found_decpoint = 0;
  found_exponent = 0;
  pow = 0;
  exp_adj = 0;
  result_flags = 0;
  savedp = (int)str;
  while ( 1 )
  {
    v10 = *v8;
    if ( *v8 != 32 )
    {
      if ( v10 != 9 && v10 != 10 && v10 != 13 )
        break;
    }
    ++v8;
  }
  while ( 2 )
  {
    v11 = *v8++;
    switch ( v7 )
    {
      case 0:
        if ( (char)v11 >= 49 && (char)v11 <= 57 )
          goto LABEL_10;
        if ( v11 == __decimal_point )
          goto LABEL_12;
        if ( v11 == 43 )
        {
          man_sign = 0;
          v7 = 2;
          continue;
        }
        if ( v11 == 45 )
        {
          v7 = 2;
          man_sign = -32768;
          continue;
        }
        if ( v11 == 48 )
          goto LABEL_36;
        --v8;
        goto LABEL_71;
      case 1:
        v7 = 1;
        found_digit = 1;
        if ( (char)v11 >= 49 && (char)v11 <= 57 )
          goto LABEL_10;
        if ( v11 == __decimal_point )
          goto LABEL_22;
        if ( v11 == 43 || v11 == 45 )
          goto LABEL_31;
        if ( v11 == 48 )
          continue;
        goto LABEL_26;
      case 2:
        if ( (char)v11 >= 49 && (char)v11 <= 57 )
        {
LABEL_10:
          v22 = 3;
          goto LABEL_81;
        }
        if ( v11 == __decimal_point )
        {
LABEL_12:
          v23 = 5;
          goto LABEL_89;
        }
        if ( v11 != 48 )
          goto LABEL_83;
LABEL_36:
        v7 = 1;
        continue;
      case 3:
        found_digit = 1;
        while ( isdigit(v11) )
        {
          if ( manlen >= 0x19 )
          {
            ++exp_adj;
          }
          else
          {
            ++manlen;
            *(_BYTE *)v9++ = v11 - 48;
          }
          v11 = *v8++;
        }
        if ( v11 != __decimal_point )
          goto LABEL_54;
LABEL_22:
        v23 = 4;
        goto LABEL_89;
      case 4:
        found_digit = 1;
        found_decpoint = 1;
        if ( !manlen )
        {
          while ( v11 == 48 )
          {
            --exp_adj;
            v11 = *v8++;
          }
        }
        while ( isdigit(v11) )
        {
          if ( manlen < 0x19 )
          {
            ++manlen;
            *(_BYTE *)v9++ = v11 - 48;
            --exp_adj;
          }
          v11 = *v8++;
        }
LABEL_54:
        if ( v11 == 43 || v11 == 45 )
        {
LABEL_31:
          --v8;
          v23 = 11;
        }
        else
        {
LABEL_26:
          if ( (char)v11 <= 67 || (char)v11 > 69 && ((char)v11 <= 99 || (char)v11 > 101) )
          {
LABEL_70:
            --v8;
            goto LABEL_71;
          }
          v23 = 6;
        }
        goto LABEL_89;
      case 5:
        found_decpoint = 1;
        if ( !isdigit(v11) )
          goto LABEL_83;
        v22 = 4;
        goto LABEL_81;
      case 6:
        v12 = (int)(v8 - 2);
        savedp = (int)(v8 - 2);
        if ( (char)v11 >= 49 && (char)v11 <= 57 )
          goto LABEL_80;
        if ( v11 == 43 )
          goto LABEL_88;
        if ( v11 == 45 )
          goto LABEL_87;
        if ( v11 == 48 )
          goto LABEL_64;
        goto LABEL_93;
      case 8:
        found_exponent = 1;
        while ( v11 == 48 )
          v11 = *v8++;
        if ( (char)v11 < 49 || (char)v11 > 57 )
          goto LABEL_70;
        goto LABEL_80;
      case 7:
        if ( (char)v11 >= 49 && (char)v11 <= 57 )
        {
LABEL_80:
          v22 = 9;
LABEL_81:
          v7 = v22;
          --v8;
          continue;
        }
        if ( v11 != 48 )
        {
LABEL_83:
          v8 = (const char *)savedp;
          goto LABEL_71;
        }
LABEL_64:
        v23 = 8;
        goto LABEL_89;
      case 11:
        if ( !implicit_E )
        {
          v7 = 10;
          --v8;
LABEL_91:
          if ( v7 == 10 )
            goto LABEL_71;
          continue;
        }
        v12 = (int)(v8 - 1);
        savedp = (int)(v8 - 1);
        if ( v11 == 43 )
        {
LABEL_88:
          v23 = 7;
LABEL_89:
          v7 = v23;
          continue;
        }
        if ( v11 == 45 )
        {
LABEL_87:
          exp_sign = -1;
          v7 = 7;
          continue;
        }
LABEL_93:
        v8 = (const char *)v12;
LABEL_71:
        *p_end_ptr = v8;
        if ( !found_digit )
        {
          result_flags = 4;
LABEL_118:
          v17 = 0;
          v20 = 0;
          v19 = 0;
          v18 = 0;
          goto LABEL_119;
        }
        if ( manlen > 0x18 )
        {
          if ( buf[23] >= 5 )
            ++buf[23];
          --v9;
          ++exp_adj;
          manlen = 24;
        }
        if ( !manlen )
          goto LABEL_118;
        while ( 1 )
        {
          --v9;
          if ( *(_BYTE *)v9 )
            break;
          --manlen;
          ++exp_adj;
        }
        __mtold12(buf, manlen, &tmpld12);
        v15 = pow;
        if ( exp_sign < 0 )
          v15 = -pow;
        v16 = exp_adj + v15;
        if ( !found_exponent )
          v16 += scale;
        if ( !found_decpoint )
          v16 -= decpt;
        if ( v16 > 5200 )
        {
          v18 = 0;
          v20 = 32767;
          v19 = -2147483648;
          v17 = 0;
          result_flags = 2;
          goto LABEL_119;
        }
        if ( v16 < -5200 )
        {
          result_flags = 1;
          goto LABEL_118;
        }
        __multtenpow12(&tmpld12, v16, mult12);
        v17 = *(_WORD *)&tmpld12;
        v18 = *(_DWORD *)&tmpld12.ld12[2];
        v19 = *(_DWORD *)&tmpld12.ld12[6];
        v20 = *(_WORD *)&tmpld12.ld12[10];
LABEL_119:
        *(_DWORD *)&pld12->ld12[6] = v19;
        *(_DWORD *)&pld12->ld12[2] = v18;
        *(_WORD *)&pld12->ld12[10] = man_sign | v20;
        result = result_flags;
        *(_WORD *)&pld12->ld12[0] = v17;
        return result;
      default:
        goto LABEL_91;
      case 9:
        manp = v9;
        found_exponent = 1;
        v13 = 0;
        while ( 2 )
        {
          if ( isdigit(v11) )
          {
            v13 = (char)v11 + 10 * v13 - 48;
            if ( v13 <= 5200 )
            {
              v11 = *v8++;
              continue;
            }
            v13 = 5201;
          }
          break;
        }
        pow = v13;
        for ( i = v11; isdigit(i); i = (unsigned __int8)i )
          LOBYTE(i) = *v8++;
        v9 = manp;
        --v8;
        goto LABEL_71;
    }
  }
}
// 471C18: using guessed type char __decimal_point;

//----- (0044C7F8) --------------------------------------------------------
void __cdecl _87except(int opcode, _exception *exc, unsigned __int16 *pcw16)
{
  unsigned int v3; // ecx@1
  bool v4; // zf@1
  int v5; // eax@1
  int v6; // eax@2
  int v7; // eax@3
  int v8; // eax@4
  int v9; // eax@5
  int v10; // eax@6
  int v11; // ebx@14
  unsigned int v12; // [sp-4h] [bp-94h]@8
  unsigned int newctrl; // [sp+Ch] [bp-84h]@1
  _FPIEEE_RECORD prec; // [sp+10h] [bp-80h]@18

  v3 = *pcw16;
  v5 = exc->type - 1;
  v4 = exc->type == 1;
  newctrl = *pcw16;
  if ( v4 )
    goto LABEL_27;
  v6 = v5 - 1;
  if ( !v6 )
  {
    v12 = 4;
    goto LABEL_14;
  }
  v7 = v6 - 1;
  if ( !v7 )
  {
    v12 = 17;
    goto LABEL_14;
  }
  v8 = v7 - 1;
  if ( !v8 )
  {
    v12 = 18;
    goto LABEL_14;
  }
  v9 = v8 - 1;
  if ( !v9 )
  {
LABEL_27:
    v12 = 8;
LABEL_14:
    v11 = v12;
    if ( !_handle_exc(v12, &exc->retval, v3) )
    {
      if ( opcode == 16 || opcode == 22 || opcode == 29 )
      {
        *(double *)&prec.Operand2.Value.Fp32Value = exc->arg2;
        prec.Operand2._bf16 = prec.Operand2._bf16 & 0xFFFFFFE3 | 3;
      }
      else
      {
        prec.Operand2._bf16 &= 0xFFFFFFFEu;
      }
      _raise_exc(&prec, &newctrl, v11, opcode, &exc->arg1, &exc->retval);
    }
    goto LABEL_21;
  }
  v10 = v9 - 2;
  if ( !v10 )
  {
    exc->type = 1;
    goto LABEL_21;
  }
  if ( v10 == 1 )
  {
    v12 = 16;
    goto LABEL_14;
  }
LABEL_21:
  _ctrlfp(newctrl, 0xFFFFu);
  if ( exc->type == 8 || _matherr_flag || !__init_collate() )
    _set_errno(exc->type);
}
// 471D10: using guessed type int _matherr_flag;

//----- (0044C8F0) --------------------------------------------------------
int __cdecl __crtGetLocaleInfoW(unsigned int Locale, unsigned int LCType, unsigned __int16 *lpLCData, int cchData, int code_page)
{
  int v6; // eax@12
  void *v7; // esp@14
  void *v8; // esi@14
  unsigned __int16 *v9; // [sp-8h] [bp-3Ch]@19
  int v10; // [sp-4h] [bp-38h]@19
  int v11; // [sp+0h] [bp-34h]@14
  int *buffer; // [sp+Ch] [bp-28h]@14
  int malloc_flag; // [sp+10h] [bp-24h]@10
  unsigned int buff_size; // [sp+14h] [bp-20h]@12
  int retval; // [sp+18h] [bp-1Ch]@10
  CPPEH_RECORD ms_exc; // [sp+1Ch] [bp-18h]@14

  if ( !f_use_2 )
  {
    if ( GetLocaleInfoW(0, 1u, 0, 0) )
    {
      f_use_2 = 1;
    }
    else
    {
      if ( GetLastError() == 120 )
        f_use_2 = 2;
    }
  }
  if ( f_use_2 == 1 )
    return GetLocaleInfoW(Locale, LCType, lpLCData, cchData);
  if ( f_use_2 != 2 && f_use_2 )
    return 0;
  retval = 0;
  malloc_flag = 0;
  if ( !code_page )
    code_page = __lc_codepage;
  v6 = GetLocaleInfoA(Locale, LCType, 0, 0);
  buff_size = v6;
  if ( !v6 )
    return 0;
  v7 = alloca(v6);
  ms_exc.old_esp = (DWORD)&v11;
  v8 = &v11;
  buffer = &v11;
  ms_exc.disabled = -1;
  if ( !&v11 )
  {
    v8 = malloc(buff_size);
    if ( !v8 )
      return 0;
    malloc_flag = 1;
  }
  if ( GetLocaleInfoA(Locale, LCType, (LPSTR)v8, buff_size) )
  {
    if ( cchData )
    {
      v10 = cchData;
      v9 = lpLCData;
    }
    else
    {
      v10 = 0;
      v9 = 0;
    }
    retval = MultiByteToWideChar(code_page, 1u, (LPCSTR)v8, -1, v9, v10);
  }
  if ( malloc_flag )
    free(v8);
  return retval;
}

//----- (0044CA20) --------------------------------------------------------
int __cdecl __crtGetLocaleInfoA(unsigned int Locale, unsigned int LCType, char *lpLCData, int cchData, int code_page)
{
  int v5; // ebx@11
  int result; // eax@12
  void *v7; // esp@13
  void *v8; // edi@13
  char *v9; // [sp-10h] [bp-44h]@18
  int v10; // [sp-Ch] [bp-40h]@18
  int v11; // [sp+0h] [bp-34h]@13
  int *wbuffer; // [sp+Ch] [bp-28h]@13
  int buff_size; // [sp+10h] [bp-24h]@11
  int malloc_flag; // [sp+14h] [bp-20h]@9
  int retval; // [sp+18h] [bp-1Ch]@9
  CPPEH_RECORD ms_exc; // [sp+1Ch] [bp-18h]@13

  if ( !f_use_3 )
  {
    if ( GetLocaleInfoW(0, 1u, 0, 0) )
    {
      f_use_3 = 1;
    }
    else
    {
      if ( GetLastError() == 120 )
        f_use_3 = 2;
    }
  }
  if ( f_use_3 != 2 && f_use_3 )
  {
    if ( f_use_3 != 1 )
      return 0;
    retval = 0;
    malloc_flag = 0;
    if ( !code_page )
      code_page = __lc_codepage;
    v5 = GetLocaleInfoW(Locale, LCType, 0, 0);
    buff_size = v5;
    if ( !v5 )
      return 0;
    v7 = alloca(2 * v5);
    ms_exc.old_esp = (DWORD)&v11;
    v8 = &v11;
    wbuffer = &v11;
    ms_exc.disabled = -1;
    if ( !&v11 )
    {
      v8 = malloc(2 * v5);
      if ( !v8 )
        return 0;
      malloc_flag = 1;
    }
    if ( GetLocaleInfoW(Locale, LCType, (LPWSTR)v8, v5) )
    {
      if ( cchData )
      {
        v10 = cchData;
        v9 = lpLCData;
      }
      else
      {
        v10 = 0;
        v9 = 0;
      }
      retval = WideCharToMultiByte(code_page, 0, (LPCWSTR)v8, -1, v9, v10, 0, 0);
    }
    if ( malloc_flag )
      free(v8);
    result = retval;
  }
  else
  {
    result = GetLocaleInfoA(Locale, LCType, lpLCData, cchData);
  }
  return result;
}

//----- (0044CB60) --------------------------------------------------------
void __cdecl __ascii_stricmp(void *dst, void *src)
{
  void *v2; // esi@1
  void *v3; // edi@1
  char v4; // al@1
  char v5; // ah@3
  char v6; // ah@4
  char v7; // t0@4

  v2 = src;
  v3 = dst;
  v4 = -1;
  while ( v4 )
  {
    v4 = *(_BYTE *)v2;
    v2 = (char *)v2 + 1;
    v5 = *(_BYTE *)v3;
    v3 = (char *)v3 + 1;
    if ( v5 != v4 )
    {
      v7 = v5;
      v6 = ((unsigned __int8)(v4 - 65) < 0x1Au ? 0x20 : 0) + v4 - 65 + 65;
      v4 = ((unsigned __int8)(v7 - 65) < 0x1Au ? 0x20 : 0) + v7 - 65 + 65;
      if ( v4 != v6 )
        break;
    }
  }
}

//----- (0044CBAE) --------------------------------------------------------
int __cdecl _stricmp(const char *dst, const char *src)
{
  threadlocaleinfostruct *v2; // ebx@1
  int result; // eax@4
  const char *v4; // esi@5
  const char *v5; // edi@5
  int v6; // ecx@6
  int f; // [sp+4h] [bp-4h]@6

  v2 = _getptd()->ptlocinfo;
  if ( v2 != ___ptlocinfo )
    v2 = __updatetlocinfo();
  if ( v2->lc_handle[2] )
  {
    v4 = dst;
    v5 = src;
    do
    {
      f = __tolower_mt(v2, (unsigned __int8)*v4++);
      v6 = __tolower_mt(v2, (unsigned __int8)*v5++);
    }
    while ( f && f == v6 );
    result = f - v6;
  }
  else
  {
    __ascii_stricmp((void *)dst, (void *)src);
  }
  return result;
}

//----- (0044CC17) --------------------------------------------------------
int __cdecl _strnicmp(const char *dst, const char *src, unsigned int count)
{
  threadlocaleinfostruct *v3; // ebx@1
  int result; // eax@5
  const char *v5; // esi@6
  const char *v6; // edi@6
  int v7; // eax@7
  int f; // [sp+4h] [bp-4h]@7

  v3 = _getptd()->ptlocinfo;
  if ( v3 != ___ptlocinfo )
    v3 = __updatetlocinfo();
  if ( count )
  {
    if ( v3->lc_handle[2] )
    {
      v5 = dst;
      v6 = src;
      do
      {
        f = __tolower_mt(v3, (unsigned __int8)*v5++);
        v7 = __tolower_mt(v3, (unsigned __int8)*v6++);
        --count;
      }
      while ( count && f && f == v7 );
      result = f - v7;
    }
    else
    {
      __ascii_strnicmp((char *)dst, (char *)src, count);
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044CC96) --------------------------------------------------------
int __cdecl _chsize_lk(int filedes, int size)
{
  int v2; // esi@1
  int v3; // eax@2
  int v4; // edi@3
  unsigned int v5; // eax@5
  int v6; // eax@7
  int v7; // eax@15
  unsigned int *v8; // edi@16
  int result; // eax@17
  int oldmode; // [sp+0h] [bp-100Ch]@4
  int place; // [sp+4h] [bp-1008h]@1
  char blanks[4096]; // [sp+8h] [bp-1004h]@4

  v2 = 0;
  place = _lseek_lk(filedes, 0, 1);
  if ( place == -1 || (v3 = _lseek_lk(filedes, 0, 2), v3 == -1) )
  {
    result = -1;
  }
  else
  {
    v4 = size - v3;
    if ( size - v3 <= 0 )
    {
      if ( size - v3 < 0 )
      {
        _lseek_lk(filedes, size, 0);
        v7 = _get_osfhandle(filedes);
        v2 = (SetEndOfFile((HANDLE)v7) != 0) - 1;
        if ( v2 == -1 )
        {
          *_errno() = 13;
          v8 = __doserrno();
          *v8 = GetLastError();
        }
      }
    }
    else
    {
      memset(blanks, 0, 0x1000u);
      oldmode = _setmode_lk(filedes, 32768);
      while ( 1 )
      {
        v5 = 4096;
        if ( v4 < 4096 )
          v5 = v4;
        v6 = _write_lk(filedes, blanks, v5);
        if ( v6 == -1 )
          break;
        v4 -= v6;
        if ( v4 <= 0 )
          goto LABEL_13;
      }
      if ( *__doserrno() == 5 )
        *_errno() = 13;
      v2 = -1;
LABEL_13:
      _setmode_lk(filedes, oldmode);
    }
    _lseek_lk(filedes, place, 0);
    result = v2;
  }
  return result;
}

//----- (0044CDD7) --------------------------------------------------------
int __cdecl __addl(unsigned int x, unsigned int y, unsigned int *sum)
{
  unsigned int v3; // ecx@1
  int result; // eax@1

  v3 = x + y;
  result = 0;
  if ( x + y < x || v3 < y )
    result = 1;
  *sum = v3;
  return result;
}

//----- (0044CDF8) --------------------------------------------------------
void __cdecl __add_12(_LDBL12 *x, _LDBL12 *y)
{
  if ( __addl(*(_DWORD *)&x->ld12[0], *(_DWORD *)&y->ld12[0], (unsigned int *)x)
    && __addl(*(_DWORD *)&x->ld12[4], 1u, (unsigned int *)&x->ld12[4]) )
    ++*(_DWORD *)&x->ld12[8];
  if ( __addl(*(_DWORD *)&x->ld12[4], *(_DWORD *)&y->ld12[4], (unsigned int *)&x->ld12[4]) )
    ++*(_DWORD *)&x->ld12[8];
  __addl(*(_DWORD *)&x->ld12[8], *(_DWORD *)&y->ld12[8], (unsigned int *)&x->ld12[8]);
}

//----- (0044CE56) --------------------------------------------------------
void __cdecl __shl_12(_LDBL12 *p)
{
  unsigned int v1; // esi@1
  unsigned int v2; // edi@1
  int v3; // ecx@1

  v1 = *(_DWORD *)&p->ld12[0];
  v2 = *(_DWORD *)&p->ld12[4];
  *(_DWORD *)&p->ld12[0] *= 2;
  v3 = (v2 >> 31) | 2 * *(_DWORD *)&p->ld12[8];
  *(_DWORD *)&p->ld12[4] = (v1 >> 31) | 2 * v2;
  *(_DWORD *)&p->ld12[8] = v3;
}

//----- (0044CE84) --------------------------------------------------------
void __cdecl __shr_12(_LDBL12 *p)
{
  unsigned int v1; // edx@1
  unsigned int v2; // ecx@1
  int v3; // ecx@1

  v1 = *(_DWORD *)&p->ld12[8];
  v2 = *(_DWORD *)&p->ld12[4];
  *(_DWORD *)&p->ld12[4] = (*(_DWORD *)&p->ld12[8] << 31) | (v2 >> 1);
  v3 = (v2 << 31) | (*(_DWORD *)&p->ld12[0] >> 1);
  *(_DWORD *)&p->ld12[8] = v1 >> 1;
  *(_DWORD *)&p->ld12[0] = v3;
}

//----- (0044CEB1) --------------------------------------------------------
void __cdecl __mtold12(char *manptr, unsigned int manlen, _LDBL12 *ld12)
{
  _LDBL12 *v3; // ebx@1
  int v4; // edx@1
  int v5; // eax@3
  int v6; // edi@6
  int v7; // eax@6
  signed int expn; // [sp+Ch] [bp-14h]@1
  _LDBL12 tmp; // [sp+10h] [bp-10h]@3
  unsigned int ld12a; // [sp+30h] [bp+10h]@2

  v3 = ld12;
  v4 = 0;
  expn = 16462;
  *(_DWORD *)&ld12->ld12[0] = 0;
  *(_DWORD *)&ld12->ld12[4] = 0;
  *(_DWORD *)&ld12->ld12[8] = 0;
  if ( manlen )
  {
    ld12a = manlen;
    do
    {
      *(_DWORD *)&tmp.ld12[0] = *(_DWORD *)&v3->ld12[0];
      *(_DWORD *)&tmp.ld12[4] = *(_DWORD *)&v3->ld12[4];
      *(_DWORD *)&tmp.ld12[8] = *(_DWORD *)&v3->ld12[8];
      __shl_12(v3);
      __shl_12(v3);
      __add_12(v3, &tmp);
      __shl_12(v3);
      v5 = *manptr;
      *(_DWORD *)&tmp.ld12[4] = 0;
      *(_DWORD *)&tmp.ld12[8] = 0;
      *(_DWORD *)&tmp.ld12[0] = v5;
      __add_12(v3, &tmp);
      ++manptr;
      --ld12a;
    }
    while ( ld12a );
    v4 = 0;
  }
  if ( *(_DWORD *)&v3->ld12[8] == v4 )
  {
    do
    {
      expn += 65520;
      v6 = *(_DWORD *)&v3->ld12[4] >> 16;
      v7 = *(_DWORD *)&v3->ld12[0] << 16;
      *(_DWORD *)&v3->ld12[4] = *(_QWORD *)&v3->ld12[0] >> 16;
      *(_DWORD *)&v3->ld12[0] = v7;
    }
    while ( v6 == v4 );
    *(_DWORD *)&v3->ld12[8] = v6;
  }
  while ( !(*(_DWORD *)&v3->ld12[8] & 0x8000) )
  {
    __shl_12(v3);
    expn += 65535;
  }
  *(_WORD *)&v3->ld12[10] = expn;
}

//----- (0044CF8F) --------------------------------------------------------
int __cdecl _I10_OUTPUT(_LDOUBLE ld, int ndigits, unsigned int output_flags, _FloatOutStruct *fos)
{
  unsigned __int16 v4; // dx@1
  unsigned int v5; // ecx@23
  int v6; // esi@23
  int v7; // edi@25
  int v8; // esi@30
  int v9; // esi@33
  char *v10; // eax@35
  char *v11; // ecx@37
  bool v12; // zf@37
  int v13; // eax@39
  char v14; // cl@39
  int v15; // eax@39
  bool v16; // sf@39
  unsigned __int8 v17; // of@39
  char *v18; // ecx@39
  char v19; // al@47
  const char *v21; // [sp-4h] [bp-40h]@11
  const char *v22; // [sp-4h] [bp-40h]@15
  char *p; // [sp+Ch] [bp-30h]@35
  int retval; // [sp+10h] [bp-2Ch]@1
  _LDBL12 tmp12; // [sp+14h] [bp-28h]@37
  _LDBL12 ld12_one_tenth; // [sp+20h] [bp-1Ch]@1
  _LDBL12 ld12; // [sp+2Ch] [bp-10h]@23
  signed int ld_8; // [sp+4Ch] [bp+10h]@30
  int ld_8a; // [sp+4Ch] [bp+10h]@36

  ld12_one_tenth.ld12[0] = -52;
  ld12_one_tenth.ld12[1] = -52;
  ld12_one_tenth.ld12[2] = -52;
  ld12_one_tenth.ld12[3] = -52;
  ld12_one_tenth.ld12[4] = -52;
  ld12_one_tenth.ld12[5] = -52;
  ld12_one_tenth.ld12[6] = -52;
  ld12_one_tenth.ld12[7] = -52;
  ld12_one_tenth.ld12[8] = -52;
  ld12_one_tenth.ld12[9] = -52;
  ld12_one_tenth.ld12[10] = -5;
  ld12_one_tenth.ld12[11] = 63;
  retval = 1;
  v4 = *(_WORD *)&ld.ld[8] & 0x7FFF;
  if ( *(_WORD *)&ld.ld[8] & 0x8000 )
    fos->sign = 45;
  else
    fos->sign = 32;
  if ( v4 || *(_DWORD *)&ld.ld[4] || *(_DWORD *)&ld )
  {
    if ( v4 == 32767 )
    {
      fos->exp = 1;
      if ( (*(_DWORD *)&ld.ld[4] != -2147483648 || *(_DWORD *)&ld) && !(*(_DWORD *)&ld.ld[4] & 0x40000000) )
      {
        v21 = "1#SNAN";
LABEL_22:
        strcpy(fos->man, v21);
        fos->ManLen = 6;
        return 0;
      }
      if ( *(_WORD *)&ld.ld[8] & 0x8000 && *(_DWORD *)&ld.ld[4] == -1073741824 )
      {
        if ( !*(_DWORD *)&ld )
        {
          v22 = "1#IND";
LABEL_19:
          strcpy(fos->man, v22);
          fos->ManLen = 5;
          return 0;
        }
      }
      else
      {
        if ( *(_DWORD *)&ld.ld[4] == -2147483648 && !*(_DWORD *)&ld )
        {
          v22 = "1#INF";
          goto LABEL_19;
        }
      }
      v21 = "1#QNAN";
      goto LABEL_22;
    }
    *(_WORD *)&ld12.ld12[0] = 0;
    v5 = 77 * (((unsigned int)v4 >> 8) + 2 * (*(_DWORD *)&ld.ld[4] >> 24));
    *(_DWORD *)&ld12.ld12[2] = *(_DWORD *)&ld;
    v6 = (signed int)(v5 + 19728 * v4 - 323162868) >> 16;
    *(_WORD *)&ld12.ld12[10] = *(_WORD *)&ld.ld[8] & 0x7FFF;
    *(_DWORD *)&ld12.ld12[6] = *(_DWORD *)&ld.ld[4];
    __multtenpow12(&ld12, -(signed __int16)((v5 + 19728 * v4 - 323162868) >> 16), 1u);
    if ( *(_WORD *)&ld12.ld12[10] >= 0x3FFFu )
    {
      LOWORD(v6) = v6 + 1;
      __ld12mul(&ld12, &ld12_one_tenth);
    }
    v7 = ndigits;
    fos->exp = v6;
    if ( !(output_flags & 1) || (v7 = (signed __int16)v6 + ndigits, v7 > 0) )
    {
      if ( v7 > 21 )
        v7 = 21;
      v8 = *(unsigned __int16 *)&ld12.ld12[10] - 16382;
      *(_WORD *)&ld12.ld12[10] = 0;
      ld_8 = 8;
      do
      {
        __shl_12(&ld12);
        --ld_8;
      }
      while ( ld_8 );
      if ( v8 < 0 )
      {
        v9 = -v8 & 0xFF;
        if ( v9 > 0 )
        {
          do
          {
            __shr_12(&ld12);
            --v9;
          }
          while ( v9 );
        }
      }
      v10 = fos->man;
      p = fos->man;
      if ( v7 + 1 > 0 )
      {
        ld_8a = v7 + 1;
        do
        {
          *(_DWORD *)&tmp12.ld12[0] = *(_DWORD *)&ld12;
          *(_DWORD *)&tmp12.ld12[4] = *(_DWORD *)&ld12.ld12[4];
          *(_DWORD *)&tmp12.ld12[8] = *(_DWORD *)&ld12.ld12[8];
          __shl_12(&ld12);
          __shl_12(&ld12);
          __add_12(&ld12, &tmp12);
          __shl_12(&ld12);
          v11 = p++;
          v12 = ld_8a-- == 1;
          *v11 = ld12.ld12[11] + 48;
          ld12.ld12[11] = 0;
        }
        while ( !v12 );
        v10 = p;
      }
      v13 = (int)(v10 - 1);
      v14 = *(_BYTE *)v13;
      v15 = v13 - 1;
      v17 = __OFSUB__(v14, 53);
      v16 = (char)(v14 - 53) < 0;
      v18 = fos->man;
      if ( v16 ^ v17 )
      {
        while ( v15 >= (unsigned int)v18 && *(_BYTE *)v15 == 48 )
          --v15;
        if ( v15 < (unsigned int)v18 )
        {
          *v18 = 48;
          goto LABEL_55;
        }
      }
      else
      {
        while ( v15 >= (unsigned int)v18 && *(_BYTE *)v15 == 57 )
          *(_BYTE *)v15-- = 48;
        if ( v15 < (unsigned int)v18 )
        {
          ++v15;
          ++fos->exp;
        }
        ++*(_BYTE *)v15;
      }
      v19 = v15 - (_BYTE)fos - 3;
      fos->ManLen = v19;
      fos->man[v19] = 0;
      return retval;
    }
  }
  fos->man[0] = 48;
LABEL_55:
  fos->exp = 0;
  fos->sign = 32;
  fos->ManLen = 1;
  fos->man[1] = 0;
  return 1;
}

//----- (0044D21D) --------------------------------------------------------
int __cdecl _mbsnbicoll(const char *s1, const char *s2, unsigned int n)
{
  threadmbcinfostruct *v3; // eax@1
  int result; // eax@4
  int v5; // eax@5

  v3 = _getptd()->ptmbcinfo;
  if ( v3 != ___ptmbcinfo )
    v3 = __updatetmbcinfo();
  if ( n )
  {
    v5 = __crtCompareStringA(v3->mblcid, 1u, s1, n, s2, n, v3->mbcodepage);
    if ( v5 )
      result = v5 - 2;
    else
      result = 2147483647;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044D26B) --------------------------------------------------------
int __cdecl __wtomb_environ()
{
  wchar_t **v0; // edi@1
  wchar_t *v1; // eax@1
  int v2; // eax@2
  void *v3; // eax@3
  int result; // eax@9
  int size; // [sp+Ch] [bp-8h]@2
  void *envp; // [sp+10h] [bp-4h]@1

  v0 = _wenviron;
  envp = 0;
  v1 = *_wenviron;
  if ( *_wenviron )
  {
    while ( 1 )
    {
      v2 = WideCharToMultiByte(0, 0, v1, -1, 0, 0, 0, 0);
      size = v2;
      if ( !v2 )
        break;
      v3 = malloc(v2);
      envp = v3;
      if ( !v3 )
        break;
      if ( !WideCharToMultiByte(0, 0, *v0, -1, (LPSTR)v3, size, 0, 0) )
      {
        free(envp);
        break;
      }
      if ( __crtsetenv((char **)&envp, 0) < 0 )
      {
        if ( envp )
        {
          free(envp);
          envp = 0;
        }
      }
      ++v0;
      v1 = *v0;
      if ( !*v0 )
        goto LABEL_9;
    }
    result = -1;
  }
  else
  {
LABEL_9:
    result = 0;
  }
  return result;
}

//----- (0044D2FB) --------------------------------------------------------
void __cdecl __ld12mul(_LDBL12 *px, _LDBL12 *py)
{
  _LDBL12 *v2; // ebx@1
  __int16 v3; // cx@1
  _LDBL12 *v4; // esi@1
  int v5; // eax@1
  __int16 v6; // di@1
  int v7; // ecx@1
  __int16 v8; // di@1
  int v9; // eax@1
  __int16 v10; // di@1
  unsigned __int16 v11; // dx@1
  int v12; // eax@5
  int v13; // ebx@29
  int v14; // eax@36
  signed int v15; // [sp+Ch] [bp-28h]@19
  int v16; // [sp+10h] [bp-24h]@19
  int v17; // [sp+14h] [bp-20h]@19
  int sticky; // [sp+18h] [bp-1Ch]@1
  int i; // [sp+1Ch] [bp-18h]@17
  char *v20; // [sp+20h] [bp-14h]@17
  _LDBL12 tempman; // [sp+24h] [bp-10h]@1
  int expsum; // [sp+3Ch] [bp+8h]@1
  int expsuma; // [sp+3Ch] [bp+8h]@24
  signed int pya; // [sp+40h] [bp+Ch]@17

  v2 = py;
  v3 = *(_WORD *)&py->ld12[10];
  v4 = px;
  sticky = 0;
  *(_DWORD *)&tempman.ld12[0] = 0;
  *(_DWORD *)&tempman.ld12[4] = 0;
  *(_DWORD *)&tempman.ld12[8] = 0;
  v5 = *(_WORD *)&px->ld12[10];
  v6 = v3;
  v7 = v3 & 0x7FFF;
  v8 = v5 ^ v6;
  v9 = v5 & 0x7FFF;
  v10 = v8 & 0x8000;
  v11 = v7 + v9;
  expsum = v7 + v9;
  if ( (unsigned __int16)v9 < 0x7FFFu && (unsigned __int16)v7 < 0x7FFFu && v11 <= 0xBFFDu )
  {
    if ( v11 <= 0x3FBFu )
    {
      v12 = 0;
LABEL_16:
      *(_DWORD *)&v4->ld12[8] = v12;
      *(_DWORD *)&v4->ld12[4] = v12;
      *(_DWORD *)&v4->ld12[0] = v12;
      return;
    }
    if ( (_WORD)v9 )
    {
      v12 = 0;
    }
    else
    {
      ++expsum;
      v12 = 0;
      if ( !(*(_DWORD *)&v4->ld12[8] & 0x7FFFFFFF) && !*(_DWORD *)&v4->ld12[4] && !*(_DWORD *)&v4->ld12[0] )
        goto LABEL_46;
    }
    if ( (_WORD)v7 == (_WORD)v12 )
    {
      ++expsum;
      if ( !(*(_DWORD *)&py->ld12[8] & 0x7FFFFFFF) )
      {
        if ( *(_DWORD *)&py->ld12[4] == v12 && *(_DWORD *)&py->ld12[0] == v12 )
          goto LABEL_16;
      }
    }
    i = v12;
    v20 = &tempman.ld12[4];
    pya = 5;
    do
    {
      if ( pya > 0 )
      {
        v16 = (int)((char *)v4 + 2 * i);
        v17 = (int)&v2->ld12[8];
        v15 = pya;
        do
        {
          if ( __addl(*((_DWORD *)v20 - 1), *(_WORD *)v16 * *(_WORD *)v17, (unsigned int *)v20 - 1) )
            ++*(_WORD *)v20;
          v16 += 2;
          v17 -= 2;
          --v15;
        }
        while ( v15 );
      }
      v20 += 2;
      ++i;
      --pya;
    }
    while ( pya > 0 );
    expsuma = expsum + 49154;
    if ( (signed __int16)expsuma <= 0 )
      goto LABEL_50;
    do
    {
      if ( tempman.ld12[11] & 0x80 )
        break;
      __shl_12(&tempman);
      expsuma += 65535;
    }
    while ( (signed __int16)expsuma > 0 );
    if ( (signed __int16)expsuma <= 0 )
    {
LABEL_50:
      expsuma += 65535;
      if ( (signed __int16)expsuma < 0 )
      {
        v13 = (unsigned __int16)-(signed __int16)expsuma;
        expsuma += v13;
        do
        {
          if ( tempman.ld12[0] & 1 )
            ++sticky;
          __shr_12(&tempman);
          --v13;
        }
        while ( v13 );
        if ( sticky )
          tempman.ld12[0] |= 1;
      }
    }
    if ( *(unsigned __int16 *)&tempman > 0x8000u || (v14 = *(_DWORD *)&tempman, (v14 & 0x1FFFF) == 98304) )
    {
      if ( *(_DWORD *)&tempman.ld12[2] == -1 )
      {
        *(_DWORD *)&tempman.ld12[2] = 0;
        if ( *(_DWORD *)&tempman.ld12[6] == -1 )
        {
          *(_DWORD *)&tempman.ld12[6] = 0;
          if ( *(_WORD *)&tempman.ld12[10] == -1 )
          {
            ++expsuma;
            *(_WORD *)&tempman.ld12[10] = -32768;
          }
          else
          {
            ++*(_WORD *)&tempman.ld12[10];
          }
        }
        else
        {
          ++*(_DWORD *)&tempman.ld12[6];
        }
      }
      else
      {
        ++*(_DWORD *)&tempman.ld12[2];
      }
    }
    if ( (unsigned __int16)expsuma < 0x7FFFu )
    {
      *(_WORD *)&v4->ld12[0] = *(_WORD *)&tempman.ld12[2];
      *(_DWORD *)&v4->ld12[2] = *(_DWORD *)&tempman.ld12[4];
      *(_DWORD *)&v4->ld12[6] = *(_DWORD *)&tempman.ld12[8];
      LOWORD(v12) = v10 | expsuma;
LABEL_46:
      *(_WORD *)&v4->ld12[10] = v12;
      return;
    }
  }
  *(_DWORD *)&v4->ld12[4] = 0;
  *(_DWORD *)&v4->ld12[0] = 0;
  *(_DWORD *)&v4->ld12[8] = v10 != 0 ? -32768 : 2147450880;
}

//----- (0044D52D) --------------------------------------------------------
void __cdecl __multtenpow12(_LDBL12 *pld12, int pow, unsigned int mult12)
{
  int v3; // ecx@1
  char *v4; // ebx@1
  char v5; // al@7
  int v6; // eax@7
  _LDBL12 *v7; // esi@8
  int v8; // esi@9
  _LDBL12 unround; // [sp+4h] [bp-10h]@9

  v3 = 0;
  v4 = (char *)&_pow10pos - 96;
  if ( pow )
  {
    if ( pow < 0 )
    {
      pow = -pow;
      v4 = (char *)&_pow10neg - 96;
    }
    if ( !mult12 )
      *(_WORD *)&pld12->ld12[0] = 0;
    if ( pow )
    {
      do
      {
        v5 = pow;
        pow >>= 3;
        v6 = v5 & 7;
        v4 += 84;
        if ( v6 != v3 )
        {
          v7 = (_LDBL12 *)&v4[12 * v6];
          if ( *(_WORD *)&v7->ld12[0] >= 0x8000u )
          {
            *(_DWORD *)&unround.ld12[0] = *(_DWORD *)&v7->ld12[0];
            v8 = (int)&v7->ld12[4];
            *(_DWORD *)&unround.ld12[4] = *(_DWORD *)v8;
            *(_DWORD *)&unround.ld12[8] = *(_DWORD *)(v8 + 4);
            --*(_DWORD *)&unround.ld12[2];
            v7 = &unround;
          }
          __ld12mul(pld12, v7);
          v3 = 0;
        }
      }
      while ( pow != v3 );
    }
  }
}

//----- (0044D5C0) --------------------------------------------------------
void __cdecl __ascii_strnicmp(char *first, char *last, unsigned int count)
{
  unsigned int v3; // ecx@1
  char *v4; // esi@2
  char *v5; // edi@2
  char v6; // ah@3
  char v7; // al@3

  v3 = count;
  if ( count )
  {
    v4 = first;
    v5 = last;
    do
    {
      v6 = *v4;
      v7 = *v5;
      if ( !*v4 || !v7 )
        break;
      ++v4;
      ++v5;
      if ( (unsigned __int8)v6 >= 0x41u && (unsigned __int8)v6 <= 0x5Au )
        v6 += 32;
      if ( (unsigned __int8)v7 >= 0x41u && (unsigned __int8)v7 <= 0x5Au )
        v7 += 32;
      if ( v6 != v7 )
        break;
      --v3;
    }
    while ( v3 );
  }
}

//----- (0044D621) --------------------------------------------------------
int __cdecl _setmode_lk(int fh, int mode)
{
  int v2; // ecx@1
  int v3; // eax@1
  int v4; // ecx@2
  int v5; // ecx@4

  v2 = 36 * (fh & 0x1F);
  v3 = *(_BYTE *)(__pioinfo[fh >> 5] + v2 + 4) & 0x80;
  if ( mode == 32768 )
  {
    v4 = __pioinfo[fh >> 5] + v2 + 4;
    *(_BYTE *)v4 &= 0x7Fu;
    return v3 != 0 ? 16384 : 32768;
  }
  if ( mode == 16384 )
  {
    v5 = __pioinfo[fh >> 5] + v2 + 4;
    *(_BYTE *)v5 |= 0x80u;
    return v3 != 0 ? 16384 : 32768;
  }
  *_errno() = 22;
  return -1;
}
// 4C97A0: using guessed type int __pioinfo[];

//----- (0044D68D) --------------------------------------------------------
int __usercall strncnt<eax>(const char *string<eax>, int cnt)
{
  int v2; // ecx@1

  v2 = cnt;
  if ( cnt )
  {
    while ( 1 )
    {
      --v2;
      if ( !*string )
        break;
      ++string;
      if ( !v2 )
        goto LABEL_4;
    }
  }
  else
  {
LABEL_4:
    --v2;
  }
  return cnt - v2 - 1;
}

//----- (0044D6A9) --------------------------------------------------------
int __cdecl __crtCompareStringA(unsigned int Locale, unsigned int dwCmpFlags, const char *lpString1, int cchCount1, const char *lpString2, int cchCount2, int code_page)
{
  void *v7; // edi@1
  signed int v8; // esi@1
  signed int v9; // eax@8
  char *v11; // eax@25
  unsigned __int8 v12; // dl@26
  char *v13; // eax@33
  unsigned __int8 v14; // dl@34
  int v15; // ebx@39
  void *v16; // esp@40
  void *v17; // eax@40
  int v18; // esi@44
  void *v19; // esp@45
  void *v20; // edi@45
  UINT v21; // ebx@57
  int v22; // eax@59
  int v23; // esi@59
  int v24; // [sp+0h] [bp-5Ch]@40
  int *wbuffer2; // [sp+Ch] [bp-50h]@45
  int buff_size2; // [sp+10h] [bp-4Ch]@44
  int buff_size1; // [sp+14h] [bp-48h]@39
  int malloc_flag2; // [sp+18h] [bp-44h]@13
  int retcode; // [sp+1Ch] [bp-40h]@13
  int malloc_flag1; // [sp+20h] [bp-3Ch]@13
  char *cbuffer2; // [sp+24h] [bp-38h]@55
  const WCHAR *wbuffer1; // [sp+28h] [bp-34h]@40
  _cpinfo lpCPInfo; // [sp+2Ch] [bp-30h]@22
  CPPEH_RECORD ms_exc; // [sp+44h] [bp-18h]@40

  v7 = 0;
  v8 = 1;
  if ( !f_use_4 )
  {
    if ( CompareStringW(0, 0, &_real, 1, &_real, 1) )
    {
      f_use_4 = 1;
    }
    else
    {
      if ( GetLastError() == 120 )
        f_use_4 = 2;
    }
  }
  if ( cchCount1 > 0 )
    cchCount1 = strncnt(lpString1, cchCount1);
  v9 = cchCount2;
  if ( cchCount2 > 0 )
  {
    v9 = strncnt(lpString2, cchCount2);
    cchCount2 = v9;
  }
  if ( f_use_4 == 2 || !f_use_4 )
  {
    cbuffer2 = 0;
    if ( !Locale )
      Locale = lcid;
    v21 = code_page;
    if ( !code_page )
      v21 = __lc_codepage;
    v22 = __ansicp(Locale);
    v23 = v22;
    if ( v22 == -1 )
      return 0;
    if ( v22 != v21 )
    {
      v7 = __convertcp(v21, v22, lpString1, &cchCount1, 0, 0);
      if ( !v7 )
        return 0;
      cbuffer2 = __convertcp(v21, v23, lpString2, &cchCount2, 0, 0);
      if ( !cbuffer2 )
      {
        free(v7);
        return 0;
      }
      lpString1 = (const char *)v7;
      lpString2 = cbuffer2;
    }
    v8 = CompareStringA(Locale, dwCmpFlags, lpString1, cchCount1, lpString2, cchCount2);
    if ( v7 )
    {
      free(v7);
      free(cbuffer2);
    }
    return v8;
  }
  if ( f_use_4 != 1 )
    return 0;
  malloc_flag1 = 0;
  malloc_flag2 = 0;
  retcode = 0;
  if ( !code_page )
    code_page = __lc_codepage;
  if ( !cchCount1 || !v9 )
  {
    if ( cchCount1 == v9 )
      return 2;
    if ( v9 > 1 )
      return v8;
    if ( cchCount1 > 1 )
      return 3;
    if ( !GetCPInfo(code_page, &lpCPInfo) )
      return 0;
    if ( cchCount1 > 0 )
    {
      if ( lpCPInfo.MaxCharSize >= 2 )
      {
        v11 = lpCPInfo.LeadByte;
        if ( lpCPInfo.LeadByte[0] )
        {
          while ( 1 )
          {
            v12 = v11[1];
            if ( !v12 )
              break;
            if ( *lpString1 >= (unsigned __int8)*v11 && *lpString1 <= v12 )
              return 2;
            v11 += 2;
            if ( !*v11 )
              return 3;
          }
        }
      }
      return 3;
    }
    if ( cchCount2 > 0 )
    {
      if ( lpCPInfo.MaxCharSize >= 2 )
      {
        v13 = lpCPInfo.LeadByte;
        if ( lpCPInfo.LeadByte[0] )
        {
          while ( 1 )
          {
            v14 = v13[1];
            if ( !v14 )
              break;
            if ( *lpString2 >= (unsigned __int8)*v13 && *lpString2 <= v14 )
              return 2;
            v13 += 2;
            if ( !*v13 )
              return v8;
          }
        }
      }
      return v8;
    }
  }
  v15 = MultiByteToWideChar(code_page, 9u, lpString1, cchCount1, 0, 0);
  buff_size1 = v15;
  if ( !v15 )
    return 0;
  v16 = alloca(2 * v15);
  ms_exc.old_esp = (DWORD)&v24;
  wbuffer1 = (const WCHAR *)&v24;
  ms_exc.disabled = -1;
  v17 = &v24;
  if ( !&v24 )
  {
    v17 = malloc(2 * v15);
    wbuffer1 = (const WCHAR *)v17;
    if ( v17 )
    {
      malloc_flag1 = 1;
      goto LABEL_43;
    }
    return 0;
  }
LABEL_43:
  if ( MultiByteToWideChar(code_page, 1u, lpString1, cchCount1, (LPWSTR)v17, v15) )
  {
    v18 = MultiByteToWideChar(code_page, 9u, lpString2, cchCount2, 0, 0);
    buff_size2 = v18;
    if ( v18 )
    {
      v19 = alloca(2 * v18);
      ms_exc.old_esp = (DWORD)&v24;
      v20 = &v24;
      wbuffer2 = &v24;
      ms_exc.disabled = -1;
      if ( &v24 )
      {
LABEL_48:
        if ( MultiByteToWideChar(code_page, 1u, lpString2, cchCount2, (LPWSTR)v20, v18) )
          retcode = CompareStringW(Locale, dwCmpFlags, wbuffer1, v15, (PCNZWCH)v20, v18);
        if ( malloc_flag2 )
          free(v20);
        goto error_cleanup_3;
      }
      v20 = malloc(2 * v18);
      if ( v20 )
      {
        malloc_flag2 = 1;
        goto LABEL_48;
      }
    }
  }
error_cleanup_3:
  if ( malloc_flag1 )
    free((void *)wbuffer1);
  return retcode;
}

//----- (0044DA2D) --------------------------------------------------------
int __usercall findenv<eax>(int len<edi>, const char *name)
{
  char **i; // esi@1
  char v3; // al@3

  for ( i = _environ; ; ++i )
  {
    if ( !*i )
      return -(i - _environ);
    if ( !_mbsnbicoll(name, *i, len) )
    {
      v3 = (*i)[len];
      if ( v3 == 61 )
        break;
      if ( !v3 )
        break;
    }
  }
  return i - _environ;
}

//----- (0044DA7A) --------------------------------------------------------
char **__usercall copy_environ<eax>(char **oldenviron<edi>)
{
  int v1; // ecx@1
  char **result; // eax@1
  void *v3; // esi@4
  char *v4; // eax@6
  char **v5; // ebx@6
  char **newenviron; // [sp+0h] [bp-4h]@4

  v1 = 0;
  result = oldenviron;
  if ( oldenviron )
  {
    if ( *oldenviron )
    {
      do
      {
        ++result;
        ++v1;
      }
      while ( *result );
    }
    v3 = malloc(4 * v1 + 4);
    newenviron = (char **)v3;
    if ( !v3 )
      _amsg_exit(9);
    v4 = *oldenviron;
    v5 = oldenviron;
    while ( v4 )
    {
      *(_DWORD *)v3 = _strdup(v4);
      v3 = (char *)v3 + 4;
      ++v5;
      v4 = *v5;
    }
    *(_DWORD *)v3 = 0;
    result = newenviron;
  }
  return result;
}

//----- (0044DADB) --------------------------------------------------------
int __cdecl __crtsetenv(char **poption, const int primary)
{
  char *v3; // esi@3
  char *v4; // eax@4
  bool v5; // zf@6
  char **v6; // eax@6
  void *v7; // eax@16
  void *v8; // eax@18
  char **v9; // esi@20
  int v10; // eax@20
  int v11; // edi@20
  int v12; // esi@22
  void *v13; // eax@26
  int v14; // ecx@32
  size_t v15; // eax@35
  void *v16; // eax@35
  const char *v17; // esi@35
  int v18; // eax@36
  int retval; // [sp+8h] [bp-10h]@1
  char *equal; // [sp+Ch] [bp-Ch]@4
  int remove; // [sp+10h] [bp-8h]@6
  char *option; // [sp+14h] [bp-4h]@3

  retval = 0;
  if ( !poption )
    return -1;
  v3 = *poption;
  option = *poption;
  if ( !*poption || (v4 = _mbschr(v3, 0x3Du), (equal = v4) == 0) || v3 == v4 )
    return -1;
  v5 = v4[1] == 0;
  v6 = _environ;
  remove = v5;
  if ( _environ == (char **)__initenv )
  {
    v6 = copy_environ(_environ);
    _environ = v6;
  }
  if ( !v6 )
  {
    if ( primary && _wenviron )
    {
      if ( __wtomb_environ() )
        return -1;
    }
    else
    {
      if ( remove )
        return 0;
      v7 = malloc(4u);
      _environ = (char **)v7;
      if ( !v7 )
        return -1;
      *(_DWORD *)v7 = 0;
      if ( !_wenviron )
      {
        v8 = malloc(4u);
        _wenviron = (wchar_t **)v8;
        if ( !v8 )
          return -1;
        *(_DWORD *)v8 = 0;
      }
    }
  }
  v9 = _environ;
  v10 = findenv(option, equal - option);
  v11 = v10;
  if ( v10 < 0 || !*v9 )
  {
    if ( !remove )
    {
      if ( v10 < 0 )
        v11 = -v10;
      v13 = realloc(_environ, 4 * v11 + 8);
      if ( !v13 )
        return -1;
      v14 = (int)((char *)v13 + 4 * v11);
      *(_DWORD *)v14 = option;
      *(_DWORD *)(v14 + 4) = 0;
      *poption = 0;
      goto LABEL_33;
    }
    free(option);
    *poption = 0;
    return 0;
  }
  v12 = (int)&v9[v10];
  free(*(void **)v12);
  if ( !remove )
  {
    *(_DWORD *)v12 = option;
    *poption = 0;
    goto LABEL_34;
  }
  while ( *(_DWORD *)v12 )
  {
    *(_DWORD *)v12 = *(_DWORD *)(v12 + 4);
    ++v11;
    v12 += 4;
  }
  v13 = realloc(_environ, 4 * v11);
  if ( !v13 )
    goto LABEL_34;
LABEL_33:
  _environ = (char **)v13;
LABEL_34:
  if ( primary )
  {
    v15 = strlen(option);
    v16 = malloc(v15 + 2);
    v17 = (const char *)v16;
    if ( v16 )
    {
      strcpy((char *)v16, option);
      v18 = (int)&equal[v17 - option];
      *(_BYTE *)v18 = 0;
      if ( !SetEnvironmentVariableA(v17, (LPCSTR)(remove == 0 ? v18 + 1 : 0)) )
        retval = -1;
      free((void *)v17);
    }
  }
  if ( remove )
    free(option);
  return retval;
}
// 4C9020: using guessed type int __initenv;

//----- (0044DCB0) --------------------------------------------------------
char *__cdecl _strdup(const char *string)
{
  size_t v1; // eax@2
  void *v2; // eax@2
  char *result; // eax@3

  if ( string && (v1 = strlen(string), (v2 = malloc(v1 + 1)) != 0) )
    result = strcpy((char *)v2, string);
  else
    result = 0;
  return result;
}

//----- (0044DCE8) --------------------------------------------------------
void __thiscall ATL::CSimpleArray<HINSTANCE_____ATL::CSimpleArrayEqualHelper<HINSTANCE____>>::RemoveAll(ATL::CSimpleArray<HINSTANCE__ *,ATL::CSimpleArrayEqualHelper<HINSTANCE__ *> > *this)
{
  ATL::CSimpleArray<HINSTANCE__ *,ATL::CSimpleArrayEqualHelper<HINSTANCE__ *> > *v1; // esi@1

  v1 = this;
  if ( this->m_aT )
  {
    free(this->m_aT);
    v1->m_aT = 0;
  }
  v1->m_nSize = 0;
  v1->m_nAllocSize = 0;
}

//----- (0044DD05) --------------------------------------------------------
void __thiscall ATL::_ATL_BASE_MODULE70::_ATL_BASE_MODULE70(ATL::_ATL_BASE_MODULE70 *this)
{
  ATL::_ATL_BASE_MODULE70 *v1; // esi@1

  v1 = this;
  ATL::CComCriticalSection::CComCriticalSection(&this->m_csResource);
  v1->m_rgResourceInstance.m_aT = 0;
  v1->m_rgResourceInstance.m_nSize = 0;
  v1->m_rgResourceInstance.m_nAllocSize = 0;
}

//----- (0044DD1F) --------------------------------------------------------
void __thiscall ATL::CAtlBaseModule::_CAtlBaseModule(ATL::CAtlBaseModule *this)
{
  ATL::CAtlBaseModule *v1; // esi@1

  v1 = this;
  DeleteCriticalSection(&this->baseclass_0.m_csResource.m_sec);
  ATL::CSimpleArray<HINSTANCE_____ATL::CSimpleArrayEqualHelper<HINSTANCE____>>::RemoveAll(&v1->baseclass_0.m_rgResourceInstance);
}

//----- (0044DD35) --------------------------------------------------------
void __thiscall ATL::CAtlBaseModule::CAtlBaseModule(ATL::CAtlBaseModule *this)
{
  ATL::CAtlBaseModule *v1; // esi@1
  _OSVERSIONINFOA version; // [sp+4h] [bp-20h]@1

  v1 = this;
  ATL::_ATL_BASE_MODULE70::_ATL_BASE_MODULE70(&this->baseclass_0);
  v1->baseclass_0.m_hInstResource = (HINSTANCE__ *)4194304;
  v1->baseclass_0.m_hInst = (HINSTANCE__ *)4194304;
  v1->baseclass_0.cbSize = 60;
  v1->baseclass_0.m_bNT5orWin98 = 0;
  memset(&version, 0, 0x94u);
  version.dwOSVersionInfoSize = 148;
  GetVersionExA(&version);
  if ( version.dwPlatformId == 2 )
  {
    if ( version.dwMajorVersion < 5 )
      goto LABEL_9;
  }
  else
  {
    if ( version.dwPlatformId != 1
      || version.dwMajorVersion <= 4 && (version.dwMajorVersion != 4 || !version.dwMinorVersion) )
      goto LABEL_9;
  }
  v1->baseclass_0.m_bNT5orWin98 = 1;
LABEL_9:
  v1->baseclass_0.dwAtlBuildVer = 1808;
  v1->baseclass_0.pguidVer = &GUID_ATLVer70;
  if ( ATL::CComCriticalSection::Init(&v1->baseclass_0.m_csResource) < 0 )
    ATL::CAtlBaseModule::m_bInitFailed = 1;
}
// 4A5DD2: using guessed type bool ATL__CAtlBaseModule__m_bInitFailed;

//----- (0044DDF0) --------------------------------------------------------
void __usercall _L76279(int a1<ebp>)
{
  CRylServerDispatch::_CRylServerDispatch(*(CRylServerDispatch **)(a1 - 16));
}

//----- (0044DDF8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthAgentDispatch__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DE10) --------------------------------------------------------
void __usercall _L76310(int a1<ebp>)
{
  CServerRequest::Result::_Result((CServerRequest::Result *)(a1 - 40));
}

//----- (0044DE18) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseAgentZone_CAuthAgentDispatch__AAE_NPAUPktDD___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DE30) --------------------------------------------------------
void __usercall _L76623(int a1<ebp>)
{
  CServerRequest::Result::_Result((CServerRequest::Result *)(a1 - 20));
}

//----- (0044DE38) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseUnifiedCharSelectAck_CAuthAgentDispatch__AAE_NPAUPktUnifiedCharSelectAck___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DE50) --------------------------------------------------------
unsigned int __cdecl _L76679()
{
  unsigned int result; // eax@1

  result = _S1 & 0xFFFFFFFE;
  _S1 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044DE5E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetDispatchTable_CAuthAgentDispatch__SAAAVCSingleDispatch__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DE70) --------------------------------------------------------
void __usercall _L76713(int a1<ebp>)
{
  CServerRequest::Result::_Result((CServerRequest::Result *)(a1 - 20));
}

//----- (0044DE78) --------------------------------------------------------
void __usercall _L76714(int a1<ebp>)
{
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)(a1 - 28));
}

//----- (0044DE80) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseDBGetData_CAuthAgentDispatch__AAE_NPAUPktDD___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DE90) --------------------------------------------------------
void __usercall _L76897(int a1<ebp>)
{
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)(a1 - 20));
}

//----- (0044DE98) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SendStartSession_CAuthAgentDispatch__SA_NPAVCAuthClientDispatch__KPBDKG_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DEB0) --------------------------------------------------------
void __usercall _L71307(int a1<ebp>)
{
  CRylServerDispatch::_CRylServerDispatch(*(CRylServerDispatch **)(a1 - 16));
}

//----- (0044DEB8) --------------------------------------------------------
void __usercall _L71308(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 80));
}

//----- (0044DEC3) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthClientDispatch__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DED0) --------------------------------------------------------
void __usercall _L71640(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 24));
}

//----- (0044DEDB) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseJapanAuthAccount_CAuthClientDispatch__AAE_NPAUPktJPAU___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DEF0) --------------------------------------------------------
void __usercall _L71733(int a1<ebp>)
{
  CRylServerDispatch::_CRylServerDispatch(*(CRylServerDispatch **)(a1 - 16));
}

//----- (0044DEF8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CAuthClientDispatch__QAE_AAVCSession___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DF10) --------------------------------------------------------
unsigned int __cdecl _L71752()
{
  unsigned int result; // eax@1

  result = _S1_1 & 0xFFFFFFFE;
  _S1_1 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044DF1E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetDispatchTable_CAuthClientDispatch__SAAAVCMultiDispatch__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DF30) --------------------------------------------------------
void __usercall _L71782(int a1<ebp>)
{
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)(a1 - 20));
}

//----- (0044DF38) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__UserMove_CAuthClientDispatch__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DF50) --------------------------------------------------------
void __usercall _L71803(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044DF5B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseAuthAccount_CAuthClientDispatch__AAE_NPAUPktAU___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DF70) --------------------------------------------------------
void __usercall _L71837(int a1<ebp>)
{
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)(a1 - 288));
}

//----- (0044DF7B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParseCharCreate_CAuthClientDispatch__AAE_NPAUPktCC___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DF90) --------------------------------------------------------
void __usercall _L67561(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044DFB0) --------------------------------------------------------
void __usercall _L67797(int a1<ebp>)
{
  CIOWorker::_CIOWorker(*(CIOWorker **)(a1 - 16));
}

//----- (0044DFB8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthorizeThread__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DFD0) --------------------------------------------------------
int __cdecl _L67932()
{
  int result; // eax@1

  result = __S1__1__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA & 0xFFFFFFFE;
  __S1__1__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA &= 0xFFFFFFFEu;
  return result;
}
// 4721EC: using guessed type int ?$S1_?1??GetInstance_?$CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ_4IA;

//----- (0044DFDE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance___CStaticSingleton_VCMasterPassword____SAAAVCMasterPassword__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044DFF0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Copy___basic_string_DU__char_traits_D_std__V__allocator_D_2__std__IAEXII_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E000) --------------------------------------------------------
void __usercall _L36267(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044E020) --------------------------------------------------------
void __usercall _L36565(int a1<ebp>)
{
  CSyncronizedObjectQueue::_CSyncronizedObjectQueue(*(CSyncronizedObjectQueue **)(a1 - 16));
}

//----- (0044E028) --------------------------------------------------------
void __usercall _L36566(int a1<ebp>)
{
  CThreadMgr::_CThreadMgr((CThreadMgr *)(*(_DWORD *)(a1 - 16) + 52));
}

//----- (0044E033) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CAuthorizeUser__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E040) --------------------------------------------------------
void __usercall _L37102(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044E048) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CSyncronizedObjectQueue__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E060) --------------------------------------------------------
unsigned int __cdecl _L37504()
{
  unsigned int result; // eax@1

  result = _S1_2 & 0xFFFFFFFE;
  _S1_2 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044E06E) --------------------------------------------------------
void __cdecl _L37506()
{
  CSyncronizedObjectQueue::_CSyncronizedObjectQueue(&authorizeUser.m_AuthInfoQueue);
}

//----- (0044E078) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CAuthorizeUser__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E090) --------------------------------------------------------
void __usercall _L37597(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E098) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCAuthInfo__V__allocator_PAVCAuthInfo___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E0B0) --------------------------------------------------------
void __usercall _L37734(int a1<ebp>)
{
  exception::_exception(*(exception **)(a1 - 16));
}

//----- (0044E0B8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0logic_error_std__QAE_ABV01__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E0D0) --------------------------------------------------------
void __usercall _L37975(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E0D8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__enqueue_CSyncronizedObjectQueue__QAE_NPAVCAuthInfo___N_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E0F0) --------------------------------------------------------
void __usercall _L66371(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 280));
}

//----- (0044E0FB) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CItemCreator__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E110) --------------------------------------------------------
void __usercall _L66444(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E118) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Create_CItemCreator__QAEPAVCItem_Item__G_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E130) --------------------------------------------------------
void __usercall _L27422(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E138) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CheckMasterPassword_CMasterPassword__QAE_NPBD0ABUsockaddr_in___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E150) --------------------------------------------------------
void __usercall _L28711(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E158) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_KV__allocator_K_std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E170) --------------------------------------------------------
void __usercall _L29264(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044E178) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CMasterPassword__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E190) --------------------------------------------------------
void __usercall _L29562(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 4116));
}

//----- (0044E19B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__LoadMasterPassword_CMasterPassword__QAE_NPBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E1B0) --------------------------------------------------------
void __usercall _L72888(int a1<ebp>)
{
  CServerWindowFramework::_CServerWindowFramework(*(CServerWindowFramework **)(a1 - 20));
}

//----- (0044E1D0) --------------------------------------------------------
void __usercall _L72903(int a1<ebp>)
{
  CServerWindowFramework::_CServerWindowFramework(*(CServerWindowFramework **)(a1 - 16));
}

//----- (0044E1D8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CRylAuthServer__EAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E1F0) --------------------------------------------------------
unsigned int __cdecl _L73199()
{
  unsigned int result; // eax@1

  result = _S1_4 & 0xFFFFFFFE;
  _S1_4 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044E1FE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CRylAuthServer__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E210) --------------------------------------------------------
void __usercall _L74857(int a1<ebp>)
{
  operator delete(*(CBuffer **)(a1 - 16));
}

//----- (0044E221) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CreateDispatch___CPoolDispatchFactory_VCAuthAgentDispatch____UAEPAVCPacketDispatch__AAVCSession___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E230) --------------------------------------------------------
void __usercall _L75232(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E238) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCCommand__V__allocator_PAVCCommand___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E250) --------------------------------------------------------
void __usercall _L75581(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20), &std::nothrow);
}

//----- (0044E262) --------------------------------------------------------
void __usercall _L75582(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044E26D) --------------------------------------------------------
void __usercall _L75584(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044E290) --------------------------------------------------------
void __usercall _L75673(int a1<ebp>)
{
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)(a1 - 20));
}

//----- (0044E298) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ConnectToDBAgent_CRylAuthServer__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E2B0) --------------------------------------------------------
void __usercall _L75756(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E2B8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Add_CCommandProcess__QAEXPAVCCommand___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E2F0) --------------------------------------------------------
void __usercall _L35318(int a1<ebp>)
{
  CSingleDispatch::Storage::_Storage((CSingleDispatch::Storage *)(a1 - 20));
}

//----- (0044E2F8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SendUserMove_AuthSendPacket__YA_NKK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E310) --------------------------------------------------------
void __usercall _L31082(int a1<ebp>)
{
  CPacketDispatch::_CPacketDispatch(*(CPacketDispatch **)(a1 - 16));
}

//----- (0044E318) --------------------------------------------------------
void __usercall _L31083(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 8));
}

//----- (0044E323) --------------------------------------------------------
void __usercall _L31084(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(*(_DWORD *)(a1 - 16) + 40));
}

//----- (0044E32E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CRylServerDispatch__IAE_AAVCSession__K_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E340) --------------------------------------------------------
void __usercall _L31374(int a1<ebp>)
{
  CPacketDispatch::_CPacketDispatch(*(CPacketDispatch **)(a1 - 20));
}

//----- (0044E348) --------------------------------------------------------
void __usercall _L31375(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 20) + 8));
}

//----- (0044E353) --------------------------------------------------------
void __usercall _L31376(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(*(_DWORD *)(a1 - 20) + 40));
}

//----- (0044E35E) --------------------------------------------------------
void __usercall _L31377(int a1<ebp>)
{
  CSendStream::_CSendStream((CSendStream *)(*(_DWORD *)(a1 - 20) + 64));
}

//----- (0044E369) --------------------------------------------------------
void __usercall _L31378(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E371) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CRylServerDispatch__MAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E380) --------------------------------------------------------
void __usercall _L31462(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(a1 - 36));
}

//----- (0044E388) --------------------------------------------------------
void __usercall _L31463(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 + 8));
}

//----- (0044E390) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ParsePacket_CRylServerDispatch__UAE_NQADPAK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E3A0) --------------------------------------------------------
void __usercall _L31527(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(a1 - 60));
}

//----- (0044E3A8) --------------------------------------------------------
void __usercall _L31528(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(a1 - 36));
}

//----- (0044E3B0) --------------------------------------------------------
void __usercall _L31529(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 64));
}

//----- (0044E3B8) --------------------------------------------------------
void __usercall _L31530(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 64));
}

//----- (0044E3C0) --------------------------------------------------------
void __usercall _L31531(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 68));
}

//----- (0044E3C8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Dispatch_CRylServerDispatch__MAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E3E0) --------------------------------------------------------
void __usercall _L36060(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E3E8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_U__pair_KK_std__V__allocator_U__pair_KK_std___2__std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E400) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_U__pair_KK_std__V__allocator_U__pair_KK_std___2__std__IAEXViterator_12_IABU__pair_KK_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E410) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_U__pair_KK_std__V__allocator_U__pair_KK_std___2__std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E420) --------------------------------------------------------
void __usercall _L36970(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 3116));
}

//----- (0044E42B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ProcessTooManyPacket_CRylServerDispatch__MAEXAAVCBufferQueue___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E440) --------------------------------------------------------
void __usercall _L21962(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 8));
}

//----- (0044E460) --------------------------------------------------------
void __usercall _L28098(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E468) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Send_CSession__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E480) --------------------------------------------------------
void __usercall _L31042(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E488) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__RemoveAllRequest_CServerRequest__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E4A0) --------------------------------------------------------
void __usercall _L32990(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E4A8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KURequestInfo_CServerRequest__U__less_K_std__V__allocator_U__pair___CBKURequestInfo_CServerRequest___std___4__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E4C0) --------------------------------------------------------
void __usercall _L33835(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 44));
}

//----- (0044E4E0) --------------------------------------------------------
void __usercall _L34199(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 20));
}

//----- (0044E4E8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__RemoveTimeoutRequest_CServerRequest__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E500) --------------------------------------------------------
void __usercall _L34374(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 32));
}

//----- (0044E508) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__PopRequest_CServerRequest__AAEPAVCPacketDispatch__K_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E520) --------------------------------------------------------
void __usercall _L34786(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 20));
}

//----- (0044E528) --------------------------------------------------------
void __usercall _L34787(int a1<ebp>)
{
  std::map<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>>::_map<unsigned_long_CServerRequest::RequestInfo_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CServerRequest::RequestInfo>>>((std::map<unsigned long,CServerRequest::RequestInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CServerRequest::RequestInfo> > > *)(*(_DWORD *)(a1 - 20) + 32));
}

//----- (0044E533) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CServerRequest__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E540) --------------------------------------------------------
void __usercall _L35155(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044E548) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CServerRequest__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E560) --------------------------------------------------------
unsigned int __cdecl _L35380()
{
  unsigned int result; // eax@1

  result = _S1_5 & 0xFFFFFFFE;
  _S1_5 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044E56E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CServerRequest__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E580) --------------------------------------------------------
void __usercall _L68679(int a1<ebp>)
{
  CTCPFactory::_CTCPFactory((CTCPFactory *)(a1 - 4796));
}

//----- (0044E58B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__InitGameServer_CServerSetup__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E5A0) --------------------------------------------------------
void __usercall _L70491(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 16) + 332),
    0x14u,
    8,
    (void (__thiscall *)(void *))operator delete);
}

//----- (0044E5B8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CServerSetup__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E5D0) --------------------------------------------------------
unsigned int __cdecl _L70603()
{
  unsigned int result; // eax@1

  result = _S1_6 & 0xFFFFFFFE;
  _S1_6 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044E5DE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CServerSetup__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E5F0) --------------------------------------------------------
void __usercall _L33907(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E5F8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__RemoveDispatch_CMultiDispatch__QAEXK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E610) --------------------------------------------------------
void __usercall _L32058(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E618) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KPAVCPacketDispatch__U__less_K_std__V__allocator_U__pair___CBKPAVCPacketDispatch___std___3__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E630) --------------------------------------------------------
void __usercall _L33707(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 24));
}

//----- (0044E650) --------------------------------------------------------
void __usercall _L34158(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 20));
}

//----- (0044E658) --------------------------------------------------------
void __usercall _L34159(int a1<ebp>)
{
  std::map<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>>::_map<unsigned_long_CPacketDispatch___std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPacketDispatch__>>>((std::map<unsigned long,CPacketDispatch *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPacketDispatch *> > > *)(*(_DWORD *)(a1 - 20) + 32));
}

//----- (0044E663) --------------------------------------------------------
void __usercall _L34160(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E66B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CMultiDispatch__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E680) --------------------------------------------------------
void __usercall _L34708(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044E688) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CMultiDispatch__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E6A0) --------------------------------------------------------
void __usercall _L26840(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 + 4));
}

//----- (0044E6A8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SetDispatch_CSingleDispatch__QAEXPAVCPacketDispatch___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E6C0) --------------------------------------------------------
void __usercall _L26991(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E6C8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetDispatch_CSingleDispatch__AAEPAVCPacketDispatch__XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E6E0) --------------------------------------------------------
void __usercall _L26958(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 20));
}

//----- (0044E6E8) --------------------------------------------------------
void __usercall _L26959(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E6F0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CSingleDispatch__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E708) --------------------------------------------------------
void __usercall _L34154(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(*(_DWORD *)(a1 - 16) + 88));
}

//----- (0044E720) --------------------------------------------------------
void __usercall _L34929(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E728) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SendCompleted_CSession__QAEXHK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E740) --------------------------------------------------------
void __usercall _L34748(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 20));
}

//----- (0044E748) --------------------------------------------------------
void __usercall _L34749(int a1<ebp>)
{
  CBufferQueue::_CBufferQueue((CBufferQueue *)(*(_DWORD *)(a1 - 20) + 88));
}

//----- (0044E753) --------------------------------------------------------
void __usercall _L34750(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E75B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CSession__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E770) --------------------------------------------------------
void __usercall _L34796(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E778) --------------------------------------------------------
void __usercall _L34797(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E780) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Process_CSession__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E790) --------------------------------------------------------
void __usercall _L35068(int a1<ebp>)
{
  std::basic_ostream<char_std::char_traits<char>>::_Sentry_base::__Sentry_base(*(std::basic_ostream<char,std::char_traits<char> >::_Sentry_base **)(a1 - 16));
}

//----- (0044E798) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1sentry___basic_ostream_DU__char_traits_D_std___std__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E7B8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler_____6U__char_traits_D_std___std__YAAAV__basic_ostream_DU__char_traits_D_std___0_AAV10_PBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E7D0) --------------------------------------------------------
void __usercall _L25292(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 508));
}

//----- (0044E7DE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CThreadMgr__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E7F0) --------------------------------------------------------
void __usercall _L71873(int a1<ebp>)
{
  CIOWorker::_CIOWorker(*(CIOWorker **)(a1 - 16));
}

//----- (0044E7F8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CProcessThread__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E810) --------------------------------------------------------
void __usercall _L72048(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044E81B) --------------------------------------------------------
void __usercall _L72049(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044E830) --------------------------------------------------------
void __usercall _L73345(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 56));
}

//----- (0044E83B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CServerWindowFramework__MAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E850) --------------------------------------------------------
void __usercall _L73889(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044E862) --------------------------------------------------------
void __usercall _L73890(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044E874) --------------------------------------------------------
void __usercall _L73891(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044E886) --------------------------------------------------------
void __usercall _L73892(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044E898) --------------------------------------------------------
void __usercall _L73893(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044E8AA) --------------------------------------------------------
void __usercall _L73894(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044E8BC) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CServerWindowFramework__IAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E8D0) --------------------------------------------------------
void __usercall _L74363(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044E8D8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCThread__V__allocator_PAVCThread___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E8F0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_KV__allocator_K_std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E900) --------------------------------------------------------
void __usercall _L36500(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 532));
}

//----- (0044E920) --------------------------------------------------------
void __usercall _L36858(int a1<ebp>)
{
  CValidateConnection::_CValidateConnection(*(CValidateConnection **)(a1 - 16));
}

//----- (0044E928) --------------------------------------------------------
void __usercall _L36859(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 8));
}

//----- (0044E950) --------------------------------------------------------
void __usercall _L37718(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 4));
}

//----- (0044E970) --------------------------------------------------------
void __usercall _L37787(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 20));
}

//----- (0044E978) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__PendingAccept_CListener__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E990) --------------------------------------------------------
void __usercall _L37983(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 20) + 4));
}

//----- (0044E99B) --------------------------------------------------------
void __usercall _L37984(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E9A3) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CListener__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E9B0) --------------------------------------------------------
void __usercall _L38041(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E9B8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CListener__QAE_NAAVINET_Addr__K_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E9D0) --------------------------------------------------------
void __usercall _L37389(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044E9D8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetAcceptPendingNum_CIOCPNet__QAEKXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044E9F0) --------------------------------------------------------
void __usercall _L36022(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044EA02) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CIOCPNet__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EA10) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Copy____Tree_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___std__IAEPAU_Node____Tree_nod_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___2_PAU342_0_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EA20) --------------------------------------------------------
void __usercall _L40421(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044EA28) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert____Tree_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___std__IAE_AViterator_12__NPAU_Node____Tree_nod_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___2_ABU__pair_QAVCSessionPolicy__I_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EA40) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0___Tree_V___Tmap_traits_PAVCSessionPolicy__IU__less_PAVCSessionPolicy___std__V__allocator_U__pair_QAVCSessionPolicy__I_std___3__0A__std___std__QAE_ABV01__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EA50) --------------------------------------------------------
void __usercall _L42565(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 420));
}

//----- (0044EA5B) --------------------------------------------------------
void __usercall _L42566(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 424), &std::nothrow);
}

//----- (0044EA70) --------------------------------------------------------
void __usercall _L42567(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 424), &std::nothrow);
}

//----- (0044EA85) --------------------------------------------------------
void __usercall _L42568(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 424), &std::nothrow);
}

//----- (0044EA9A) --------------------------------------------------------
void __usercall _L42569(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 420) + 44));
}

//----- (0044EAA8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CIOCPNet__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EAC0) --------------------------------------------------------
void __usercall _L42891(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16), &std::nothrow);
}

//----- (0044EAD2) --------------------------------------------------------
void __usercall _L42892(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 + 16));
}

//----- (0044EADA) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__AddListener_CIOCPNet__QAE_NPAVCSessionPolicy__PBDGKPAVCValidateConnection___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EAF0) --------------------------------------------------------
void __usercall _L42924(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 + 12));
}

//----- (0044EAF8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Connect_CIOCPNet__QAE_NPAVCSessionPolicy__PBDG_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EB10) --------------------------------------------------------
void __usercall _L43025(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(a1 - 24));
}

//----- (0044EB18) --------------------------------------------------------
void __usercall _L43026(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 28));
}

//----- (0044EB30) --------------------------------------------------------
void __usercall _L43413(int a1<ebp>)
{
  std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::_map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>((std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *)(a1 - 24));
}

//----- (0044EB38) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Destroy_CIOCPNet__QAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EB50) --------------------------------------------------------
void __usercall _L43926(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 20));
}

//----- (0044EB58) --------------------------------------------------------
void __usercall _L43927(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 20) + 44));
}

//----- (0044EB63) --------------------------------------------------------
void __usercall _L43928(int a1<ebp>)
{
  std::map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>::_map<CSessionPolicy___unsigned_int_std::less<CSessionPolicy__>_std::allocator<std::pair<CSessionPolicy___const_unsigned_int>>>((std::map<CSessionPolicy *,unsigned int,std::less<CSessionPolicy *>,std::allocator<std::pair<CSessionPolicy * const,unsigned int> > > *)(*(_DWORD *)(a1 - 20) + 56));
}

//----- (0044EB6E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CIOCPNet__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EB80) --------------------------------------------------------
void __usercall _L30276(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 568));
}

//----- (0044EB8B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__PrintAllTime_CPerformanceCheck__QAE_NPBD_N_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EBA0) --------------------------------------------------------
void __usercall _L31546(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044EBA8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KUInstrument_CPerformanceCheck__U__less_K_std__V__allocator_U__pair___CBKUInstrument_CPerformanceCheck___std___4__00_std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EBC0) --------------------------------------------------------
void __usercall _L33301(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 20));
}

//----- (0044EBC8) --------------------------------------------------------
void __usercall _L33302(int a1<ebp>)
{
  std::multimap<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>>::_multimap<unsigned_long_CPerformanceCheck::Instrument_std::less<unsigned_long>_std::allocator<std::pair<unsigned_long_const_CPerformanceCheck::Instrument>>>((std::multimap<unsigned long,CPerformanceCheck::Instrument,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CPerformanceCheck::Instrument> > > *)(*(_DWORD *)(a1 - 20) + 48));
}

//----- (0044EBD3) --------------------------------------------------------
void __usercall _L33303(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044EBDB) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CPerformanceCheck__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EBF0) --------------------------------------------------------
void __usercall _L33834(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 28));
}

//----- (0044EBF8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CPerformanceCheck__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EC10) --------------------------------------------------------
unsigned int __cdecl _L34059()
{
  unsigned int result; // eax@1

  result = _S1_8 & 0xFFFFFFFE;
  _S1_8 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044EC1E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CPerformanceCheck__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EC30) --------------------------------------------------------
void __usercall _L30175(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 + 4));
}

//----- (0044EC38) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Release_CPoolBufferFactory__UAEXPAVCBuffer___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EC50) --------------------------------------------------------
void __usercall _L31294(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 20));
}

//----- (0044EC58) --------------------------------------------------------
void __usercall _L31295(int a1<ebp>)
{
  operator delete(*(CBuffer **)(a1 - 16));
}

//----- (0044EC69) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Create_CPoolBufferFactory__UAEPAVCBuffer__I_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EC80) --------------------------------------------------------
void __usercall _L32203(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044EC88) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_PAV__pool_Udefault_user_allocator_new_delete_boost___boost__V__allocator_PAV__pool_Udefault_user_allocator_new_delete_boost___boost___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ECA0) --------------------------------------------------------
void __usercall _L32957(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 48));
}

//----- (0044ECA8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Initialize_CPoolBufferFactory__IAE_NXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ECC0) --------------------------------------------------------
void __usercall _L33292(int a1<ebp>)
{
  CBufferFactory::_CBufferFactory(*(CBufferFactory **)(a1 - 16));
}

//----- (0044ECC8) --------------------------------------------------------
void __usercall _L33293(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 4));
}

//----- (0044ECF0) --------------------------------------------------------
void __usercall _L30077(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044ECF8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__DeleteOverlapped_CStreamOverlappedFactory__UAEXPAVCOverlapped___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ED10) --------------------------------------------------------
void __usercall _L31963(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044ED18) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_UStringCMD_CConsoleCMDFactory__V__allocator_UStringCMD_CConsoleCMDFactory___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ED30) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UStringCMD_CConsoleCMDFactory__V__allocator_UStringCMD_CConsoleCMDFactory___std___std__IAEXViterator_12_IABUStringCMD_CConsoleCMDFactory___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ED40) --------------------------------------------------------
void __usercall _L24594(int a1<ebp>)
{
  CDBGFuncClass::_CDBGFuncClass(*(CDBGFuncClass **)(a1 - 1060));
}

//----- (0044ED4B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CExceptionReport__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ED60) --------------------------------------------------------
unsigned int __cdecl _L24651()
{
  unsigned int result; // eax@1

  result = _S1_10 & 0xFFFFFFFE;
  _S1_10 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044ED6E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CExceptionReport__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044ED80) --------------------------------------------------------
void __usercall _L31314(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044ED88) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert____Tree_V___Tmap_traits_IPAVCMsgProc__U__less_I_std__V__allocator_U__pair___CBIPAVCMsgProc___std___3__0A__std___std__IAE_AViterator_12__NPAU_Node____Tree_nod_V___Tmap_traits_IPAVCMsgProc__U__less_I_std__V__allocator_U__pair___CBIPAVCMsgProc___std___3__0A__std___2_ABU__pair___CBIPAVCMsgProc___2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EDA0) --------------------------------------------------------
void __usercall _L32123(int a1<ebp>)
{
  std::map<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>>::_map<unsigned_int_CMsgProc___std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CMsgProc__>>>(*(std::map<unsigned int,CMsgProc *,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CMsgProc *> > > **)(a1 - 16));
}

//----- (0044EDA8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CMsgProcessMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EDC0) --------------------------------------------------------
void __usercall _L33665(int a1<ebp>)
{
  std::codecvt_base::_codecvt_base(*(std::codecvt<char,char,int> **)(a1 - 148));
}

//----- (0044EDCB) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0__ctype_D_std__QAE_PBF_NI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EDE0) --------------------------------------------------------
void __usercall _L36227(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044EDEB) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Getcat___codecvt_DDH_std__SAIPAPBVfacet_locale_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EE00) --------------------------------------------------------
void __usercall _L37405(int a1<ebp>)
{
  std::_Lockit::__Lockit((std::_Lockit *)(a1 - 28));
}

//----- (0044EE08) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler____use_facet_V__codecvt_DDH_std___std__YAABV__codecvt_DDH_0_ABVlocale_0__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EE20) --------------------------------------------------------
void __usercall _L34778(int a1<ebp>)
{
  std::codecvt_base::_codecvt_base(*(std::codecvt<char,char,int> **)(a1 - 132));
}

//----- (0044EE2B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0__codecvt_DDH_std__QAE_I_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EE40) --------------------------------------------------------
void __usercall _L35996(int a1<ebp>)
{
  std::_Mutex::__Mutex((std::_Mutex *)(*(_DWORD *)(a1 - 16) + 4));
}

//----- (0044EE60) --------------------------------------------------------
void __usercall _L36184(int a1<ebp>)
{
  std::locale::_locale((std::locale *)(a1 - 20));
}

//----- (0044EE68) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__widen___basic_ios_DU__char_traits_D_std___std__QBEDD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EE80) --------------------------------------------------------
void __usercall _L39752(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 44));
}

//----- (0044EE88) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__overflow___basic_filebuf_DU__char_traits_D_std___std__MAEHH_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EEA0) --------------------------------------------------------
void __usercall _L39457(int a1<ebp>)
{
  if ( *(_DWORD *)(a1 - 20) & 1 )
  {
    *(_DWORD *)(a1 - 20) &= 0xFFFFFFFEu;
    std::basic_ios<char_std::char_traits<char>>::_basic_ios<char_std::char_traits<char>>((std::basic_ios<char,std::char_traits<char> > *)(*(_DWORD *)(a1 - 16) + 4));
  }
}

//----- (0044EEBC) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0__basic_ostream_DU__char_traits_D_std___std__QAE_PAV__basic_streambuf_DU__char_traits_D_std___1__N_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EED0) --------------------------------------------------------
void __usercall _L42331(int a1<ebp>)
{
  std::basic_streambuf<char_std::char_traits<char>>::_basic_streambuf<char_std::char_traits<char>>(*(std::basic_streambuf<char,std::char_traits<char> > **)(a1 - 16));
}

//----- (0044EED8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1__basic_filebuf_DU__char_traits_D_std___std__UAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EEF0) --------------------------------------------------------
void __usercall _L32808(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044EEF8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_IUInternalTimerData_CTimerProcMgr__U__less_I_std__V__allocator_U__pair___CBIUInternalTimerData_CTimerProcMgr___std___4__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EF10) --------------------------------------------------------
void __usercall _L35285(int a1<ebp>)
{
  std::map<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>>::_map<unsigned_int_CTimerProcMgr::InternalTimerData_std::less<unsigned_int>_std::allocator<std::pair<unsigned_int_const_CTimerProcMgr::InternalTimerData>>>(*(std::map<unsigned int,CTimerProcMgr::InternalTimerData,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,CTimerProcMgr::InternalTimerData> > > **)(a1 - 16));
}

//----- (0044EF18) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CTimerProcMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EF30) --------------------------------------------------------
void __usercall _L28779(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 20));
}

//----- (0044EF38) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ClearAll_CCommandProcess__IAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EF50) --------------------------------------------------------
void __usercall _L29488(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044EF58) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CCommandProcess__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EF70) --------------------------------------------------------
void __usercall _L29587(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044EF78) --------------------------------------------------------
void __usercall _L29588(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 24));
}

//----- (0044EF90) --------------------------------------------------------
void __usercall _L30557(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(a1 - 24));
}

//----- (0044EF98) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__ProcessAll_CCommandProcess__QAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EFB0) --------------------------------------------------------
void __usercall _L67894(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044EFB8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__InternalProcess_CSessionMgr__AAEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044EFD0) --------------------------------------------------------
void __usercall _L66755(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 20));
}

//----- (0044EFD8) --------------------------------------------------------
void __usercall _L66756(int a1<ebp>)
{
  operator delete(*(CBuffer **)(a1 - 16));
}

//----- (0044EFE9) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CreateSession_CSessionMgr__QAEPAVCSession__AAVCSessionPolicy___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F000) --------------------------------------------------------
void __usercall _L67192(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F008) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAVCSession__V__allocator_PAVCSession___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F020) --------------------------------------------------------
void __usercall _L68170(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 20));
}

//----- (0044F028) --------------------------------------------------------
void __usercall _L68171(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044F030) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__Destroy_CSessionMgr__QAEXK_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F040) --------------------------------------------------------
void __usercall _L68425(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044F048) --------------------------------------------------------
void __usercall _L68426(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 24));
}

//----- (0044F053) --------------------------------------------------------
void __usercall _L68427(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 56));
}

//----- (0044F05E) --------------------------------------------------------
void __usercall _L68428(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 80));
}

//----- (0044F069) --------------------------------------------------------
void __usercall _L68429(int a1<ebp>)
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)(*(_DWORD *)(a1 - 16) + 112));
}

//----- (0044F074) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CSessionMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F080) --------------------------------------------------------
void __usercall _L89138(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F08B) --------------------------------------------------------
void __usercall _L89139(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F096) --------------------------------------------------------
void __usercall _L89140(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F0A1) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__CreateTempItem_CItemFactory_Item__QAEPAVCItem_2_ABUItemInfo_2__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F0B0) --------------------------------------------------------
void __usercall _L93485(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F0B8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits__KVCItemOwnerInfo_Item__U__less__K_std__V__fast_pool_allocator_U__pair__KVCItemOwnerInfo_Item___std__Udefault_user_allocator_new_delete_boost__Vwin32_mutex_pool_details_4__0CA__boost___0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F0D0) --------------------------------------------------------
unsigned int __cdecl _L97984()
{
  unsigned int result; // eax@1

  result = _S5 & 0xFFFFFFFE;
  _S5 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044F0DE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CItemFactory_Item__SAAAV12_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F0F0) --------------------------------------------------------
void __usercall _L107143(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F0F8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_W4Type_ItemType_Item__EU__less_W4Type_ItemType_Item___std__V__allocator_U__pair___CBW4Type_ItemType_Item__E_std___5__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F110) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UItemInfo_Item__V__allocator_UItemInfo_Item___std___std__IAEXViterator_12_IABUItemInfo_Item___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F120) --------------------------------------------------------
void __usercall _L111868(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 20) + 8),
    0x10u,
    150,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F139) --------------------------------------------------------
void __usercall _L111869(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 20) + 2408),
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F154) --------------------------------------------------------
void __usercall _L111870(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 20) + 21608),
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F16F) --------------------------------------------------------
void __usercall _L111871(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 20) + 40808),
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F18A) --------------------------------------------------------
void __usercall _L111872(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 20) + 60008),
    0x10u,
    78,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F1A2) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CItemMgr_Item__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F1B0) --------------------------------------------------------
void __usercall _L112079(int a1<ebp>)
{
  CTokenlizedFile::_CTokenlizedFile((CTokenlizedFile *)(a1 - 32840));
}

//----- (0044F1BB) --------------------------------------------------------
void __usercall _L112080(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 33496));
}

//----- (0044F1C6) --------------------------------------------------------
void __usercall _L112081(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 33544));
}

//----- (0044F1D1) --------------------------------------------------------
void __usercall _L112082(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 33560));
}

//----- (0044F1DC) --------------------------------------------------------
void __usercall _L112083(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 33528));
}

//----- (0044F1E7) --------------------------------------------------------
void __usercall _L112084(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 33512));
}

//----- (0044F1F2) --------------------------------------------------------
void __usercall _L112085(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(a1 - 33472));
}

//----- (0044F1FD) --------------------------------------------------------
void __usercall _L112086(int a1<ebp>)
{
  operator delete__(*(void **)(a1 - 33476));
}

//----- (0044F20B) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__LoadItemProtoType_CItemMgr_Item__QAE_NPBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F220) --------------------------------------------------------
void __usercall _L114404(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 36) + 8),
    0x10u,
    150,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F239) --------------------------------------------------------
void __usercall _L114405(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 36) + 2408),
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F254) --------------------------------------------------------
void __usercall _L114406(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 36) + 21608),
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F26F) --------------------------------------------------------
void __usercall _L114407(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 36) + 40808),
    0x10u,
    1200,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F28A) --------------------------------------------------------
void __usercall _L114408(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    (void *)(*(_DWORD *)(a1 - 36) + 60008),
    0x10u,
    78,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F2A2) --------------------------------------------------------
void __usercall _L114409(int a1<ebp>)
{
  std::map<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>>::_map<enum__Item::ItemType::Type_unsigned_char_std::less<enum__Item::ItemType::Type>_std::allocator<std::pair<enum__Item::ItemType::Type_const_unsigned_char>>>((std::map<enum Item::ItemType::Type,unsigned char,std::less<enum Item::ItemType::Type>,std::allocator<std::pair<enum Item::ItemType::Type const ,unsigned char> > > *)(*(_DWORD *)(a1 - 36) + 61264));
}

//----- (0044F2B0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CItemMgr_Item__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F2C0) --------------------------------------------------------
unsigned int __cdecl _L115124()
{
  unsigned int result; // eax@1

  result = _S5_0 & 0xFFFFFFFE;
  _S5_0 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044F2CE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CItemMgr_Item__SAAAV12_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F2E0) --------------------------------------------------------
void __usercall _L88413(int a1<ebp>)
{
  CLock<CCSLock>::Syncronize::_Syncronize((CLock<CCSLock>::Syncronize *)(a1 - 16));
}

//----- (0044F2E8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__SpliceInFreeBuffer_CGameLog__AAEXAAV__list_PAULogBuffer__V__allocator_PAULogBuffer___std___std___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F300) --------------------------------------------------------
void __usercall _L86372(int a1<ebp>)
{
  CIOWorker::_CIOWorker(*(CIOWorker **)(a1 - 16));
}

//----- (0044F308) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CLogSaveThread__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F320) --------------------------------------------------------
void __usercall _L86475(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044F328) --------------------------------------------------------
void __usercall _L86476(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 24));
}

//----- (0044F333) --------------------------------------------------------
void __usercall _L86477(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 36));
}

//----- (0044F33E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CGameLog__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F350) --------------------------------------------------------
void __usercall _L87030(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F358) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Incsize___list_PAULogBuffer__V__allocator_PAULogBuffer___std___std__IAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F370) --------------------------------------------------------
void __usercall _L88536(int a1<ebp>)
{
  CCSLock::_CCSLock(*(CAuthAgentServerTable **)(a1 - 16));
}

//----- (0044F378) --------------------------------------------------------
void __usercall _L88537(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 24));
}

//----- (0044F383) --------------------------------------------------------
void __usercall _L88538(int a1<ebp>)
{
  std::list<CAuthInfo___std::allocator<CAuthInfo__>>::_list<CAuthInfo___std::allocator<CAuthInfo__>>((std::list<LogBuffer *,std::allocator<LogBuffer *> > *)(*(_DWORD *)(a1 - 16) + 36));
}

//----- (0044F38E) --------------------------------------------------------
void __usercall _L88539(int a1<ebp>)
{
  CLogSaveThread::_CLogSaveThread((CLogSaveThread *)(*(_DWORD *)(a1 - 16) + 48));
}

//----- (0044F399) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CGameLog__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F3B0) --------------------------------------------------------
unsigned int __cdecl _L88616()
{
  unsigned int result; // eax@1

  result = _S5_1 & 0xFFFFFFFE;
  _S5_1 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044F3BE) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CGameLog__SAAAV1_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F3D0) --------------------------------------------------------
void __usercall _L89373(int a1<ebp>)
{
  Item::CItem::_CItem(*(Item::CUseItem **)(a1 - 16));
}

//----- (0044F3D8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CEquipment_Item__IAE_ABUItemInfo_1__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F3F0) --------------------------------------------------------
void __usercall _L94802(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F3F8) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_W4Type_ItemType_Item__V__allocator_W4Type_ItemType_Item___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F410) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_W4Type_ItemType_Item__V__allocator_W4Type_ItemType_Item___std___std__IAEXViterator_12_IABW4Type_ItemType_Item___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F420) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_W4Type_ItemType_Item__V__allocator_W4Type_ItemType_Item___std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F430) --------------------------------------------------------
void __usercall _L96006(int a1<ebp>)
{
  _eh_vector_destructor_iterator_(
    *(void **)(a1 - 20),
    0x10u,
    16,
    (void (__thiscall *)(void *))std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>);
}

//----- (0044F450) --------------------------------------------------------
unsigned int __cdecl _L101940()
{
  unsigned int result; // eax@1

  result = _S5_2 & 0xFFFFFFFE;
  _S5_2 &= 0xFFFFFFFEu;
  return result;
}

//----- (0044F45E) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__GetInstance_CItemType_Item__SAAAV12_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F470) --------------------------------------------------------
void __usercall _L90947(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F478) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_PADV__allocator_PAD_std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F490) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UColumnInfo_CTokenlizedFile__V__allocator_UColumnInfo_CTokenlizedFile___std___std__IAEXViterator_12_IABUColumnInfo_CTokenlizedFile___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F4A0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_UColumnInfo_CTokenlizedFile__V__allocator_UColumnInfo_CTokenlizedFile___std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F4B0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_PADV__allocator_PAD_std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F4C0) --------------------------------------------------------
void __usercall _L92349(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(*(_DWORD *)(a1 - 16) + 32792));
}

//----- (0044F4CE) --------------------------------------------------------
void __usercall _L92350(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(*(_DWORD *)(a1 - 16) + 32808));
}

//----- (0044F4DC) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CTokenlizedFile__QAE_PBD_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F4F0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Insert_n___vector_UParseData_ItemDataParser__V__allocator_UParseData_ItemDataParser___std___std__IAEXViterator_12_IABUParseData_ItemDataParser___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F500) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__reserve___vector_UParseData_ItemDataParser__V__allocator_UParseData_ItemDataParser___std___std__QAEXI_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F518) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__put___basic_ostream_DU__char_traits_D_std___std__QAEAAV12_D_Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F530) --------------------------------------------------------
void __usercall _L128495(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F538) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler__erase____Tree_V___Tmap_traits_KPAVCCell__U__less_K_std__V__allocator_U__pair___CBKPAVCCell___std___3__0A__std___std__QAE_AViterator_12_V312__Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F550) --------------------------------------------------------
void __usercall _L133050(int a1<ebp>)
{
  CSingleton<CDuelCellManager>::_CSingleton<CDuelCellManager>(*(CSingleton<CDuelCellManager> **)(a1 - 20));
}

//----- (0044F558) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CDuelCellManager__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F570) --------------------------------------------------------
void __usercall _L133223(int a1<ebp>)
{
  CSingleton<CDuelCellManager>::_CSingleton<CDuelCellManager>(*(CSingleton<CDuelCellManager> **)(a1 - 16));
}

//----- (0044F578) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CDuelCellManager__AAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F590) --------------------------------------------------------
void __usercall _L124905(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F598) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_UTriggerMsg_Quest__V__allocator_UTriggerMsg_Quest___std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F5B0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Construct_n___vector_UTriggerMsg_Quest__V__allocator_UTriggerMsg_Quest___std___std__QAEXIABUTriggerMsg_Quest___Z(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F5C0) --------------------------------------------------------
void __usercall _L130280(int a1<ebp>)
{
  CSingleton<CQuestMgr>::_CSingleton<CQuestMgr>(*(CSingleton<CQuestMgr> **)(a1 - 20));
}

//----- (0044F5C8) --------------------------------------------------------
void __usercall _L130281(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>(*(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > **)(a1 - 20));
}

//----- (0044F5D0) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CQuestMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F5E0) --------------------------------------------------------
void __usercall _L132475(int a1<ebp>)
{
  CSingleton<CQuestMgr>::_CSingleton<CQuestMgr>(*(CSingleton<CQuestMgr> **)(a1 - 40));
}

//----- (0044F5E8) --------------------------------------------------------
void __usercall _L132476(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>(*(std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > **)(a1 - 40));
}

//----- (0044F5F0) --------------------------------------------------------
void __usercall _L132477(int a1<ebp>)
{
  std::map<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>>::_map<unsigned_short_unsigned_char_std::less<unsigned_short>_std::allocator<std::pair<unsigned_short_const_unsigned_char>>>((std::map<unsigned short,unsigned char,std::less<unsigned short>,std::allocator<std::pair<unsigned short const ,unsigned char> > > *)(*(_DWORD *)(a1 - 40) + 16));
}

//----- (0044F5FB) --------------------------------------------------------
void __usercall _L132478(int a1<ebp>)
{
  std::vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>::_vector<Item::ItemInfo_std::allocator<Item::ItemInfo>>((std::vector<Quest::TriggerMsg,std::allocator<Quest::TriggerMsg> > *)(*(_DWORD *)(a1 - 40) + 28));
}

//----- (0044F606) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___0CQuestMgr__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F610) --------------------------------------------------------
void __usercall _L124387(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F618) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___Xlen___vector_HV__allocator_H_std___std__IBEXXZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F630) --------------------------------------------------------
void __usercall _L82335(int a1<ebp>)
{
  CSingleton<CFSM>::_CSingleton<CFSM>(*(CSingleton<CFSM> **)(a1 - 16));
}

//----- (0044F638) --------------------------------------------------------
_EXCEPTION_DISPOSITION __cdecl _ehhandler___1CFSM__QAE_XZ(EHExceptionRecord *pExcept, EHRegistrationNode *pRN, void *pContext, void *pDC)
{
  return __CxxFrameHandler(pExcept, pRN, pContext, pDC);
}

//----- (0044F650) --------------------------------------------------------
void __usercall sub_44F650(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F680) --------------------------------------------------------
void __usercall sub_44F680(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0044F6A0) --------------------------------------------------------
void __usercall sub_44F6A0(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6AB) --------------------------------------------------------
void __usercall sub_44F6AB(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6B6) --------------------------------------------------------
void __usercall sub_44F6B6(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6C1) --------------------------------------------------------
void __usercall sub_44F6C1(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6CC) --------------------------------------------------------
void __usercall sub_44F6CC(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6D7) --------------------------------------------------------
void __usercall sub_44F6D7(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6E2) --------------------------------------------------------
void __usercall sub_44F6E2(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6ED) --------------------------------------------------------
void __usercall sub_44F6ED(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F6F8) --------------------------------------------------------
void __usercall sub_44F6F8(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F703) --------------------------------------------------------
void __usercall sub_44F703(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F70E) --------------------------------------------------------
void __usercall sub_44F70E(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F719) --------------------------------------------------------
void __usercall sub_44F719(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F724) --------------------------------------------------------
void __usercall sub_44F724(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F72F) --------------------------------------------------------
void __usercall sub_44F72F(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F750) --------------------------------------------------------
void __usercall sub_44F750(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F75B) --------------------------------------------------------
void __usercall sub_44F75B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F766) --------------------------------------------------------
void __usercall sub_44F766(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F78B) --------------------------------------------------------
void __usercall sub_44F78B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F796) --------------------------------------------------------
void __usercall sub_44F796(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F7A1) --------------------------------------------------------
void __usercall sub_44F7A1(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F7AC) --------------------------------------------------------
void __usercall sub_44F7AC(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F7DB) --------------------------------------------------------
void __usercall sub_44F7DB(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F7E6) --------------------------------------------------------
void __usercall sub_44F7E6(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F7F1) --------------------------------------------------------
void __usercall sub_44F7F1(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F7FC) --------------------------------------------------------
void __usercall sub_44F7FC(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F807) --------------------------------------------------------
void __usercall sub_44F807(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F812) --------------------------------------------------------
void __usercall sub_44F812(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F83B) --------------------------------------------------------
void __usercall sub_44F83B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F846) --------------------------------------------------------
void __usercall sub_44F846(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F851) --------------------------------------------------------
void __usercall sub_44F851(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F85C) --------------------------------------------------------
void __usercall sub_44F85C(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F867) --------------------------------------------------------
void __usercall sub_44F867(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F872) --------------------------------------------------------
void __usercall sub_44F872(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F87D) --------------------------------------------------------
void __usercall sub_44F87D(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F8A0) --------------------------------------------------------
void __usercall sub_44F8A0(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F8AB) --------------------------------------------------------
void __usercall sub_44F8AB(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F8B6) --------------------------------------------------------
void __usercall sub_44F8B6(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F8C1) --------------------------------------------------------
void __usercall sub_44F8C1(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F8F0) --------------------------------------------------------
void __usercall sub_44F8F0(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (0044F91B) --------------------------------------------------------
void __usercall sub_44F91B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F926) --------------------------------------------------------
void __usercall sub_44F926(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F931) --------------------------------------------------------
void __usercall sub_44F931(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F93C) --------------------------------------------------------
void __usercall sub_44F93C(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044F947) --------------------------------------------------------
void __usercall sub_44F947(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F952) --------------------------------------------------------
void __usercall sub_44F952(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F95D) --------------------------------------------------------
void __usercall sub_44F95D(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F980) --------------------------------------------------------
void __usercall sub_44F980(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044F9A0) --------------------------------------------------------
void __usercall sub_44F9A0(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044F9AB) --------------------------------------------------------
void __usercall sub_44F9AB(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044F9B6) --------------------------------------------------------
void __usercall sub_44F9B6(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044F9C1) --------------------------------------------------------
void __usercall sub_44F9C1(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044F9CC) --------------------------------------------------------
void __usercall sub_44F9CC(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044F9D7) --------------------------------------------------------
void __usercall sub_44F9D7(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044F9E2) --------------------------------------------------------
void __usercall sub_44F9E2(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044FA10) --------------------------------------------------------
void __usercall sub_44FA10(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 28));
}

//----- (0044FA1B) --------------------------------------------------------
void __usercall sub_44FA1B(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA26) --------------------------------------------------------
void __usercall sub_44FA26(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA31) --------------------------------------------------------
void __usercall sub_44FA31(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA3C) --------------------------------------------------------
void __usercall sub_44FA3C(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA60) --------------------------------------------------------
void __usercall sub_44FA60(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (0044FA6B) --------------------------------------------------------
void __usercall sub_44FA6B(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA76) --------------------------------------------------------
void __usercall sub_44FA76(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA81) --------------------------------------------------------
void __usercall sub_44FA81(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA8C) --------------------------------------------------------
void __usercall sub_44FA8C(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FA97) --------------------------------------------------------
void __usercall sub_44FA97(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FAA2) --------------------------------------------------------
void __usercall sub_44FAA2(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FAEB) --------------------------------------------------------
void __usercall sub_44FAEB(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FAF6) --------------------------------------------------------
void __usercall sub_44FAF6(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB01) --------------------------------------------------------
void __usercall sub_44FB01(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB0C) --------------------------------------------------------
void __usercall sub_44FB0C(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB17) --------------------------------------------------------
void __usercall sub_44FB17(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB22) --------------------------------------------------------
void __usercall sub_44FB22(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB2D) --------------------------------------------------------
void __usercall sub_44FB2D(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FB38) --------------------------------------------------------
void __usercall sub_44FB38(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FB43) --------------------------------------------------------
void __usercall sub_44FB43(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FB4E) --------------------------------------------------------
void __usercall sub_44FB4E(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FB59) --------------------------------------------------------
void __usercall sub_44FB59(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FB70) --------------------------------------------------------
void __usercall sub_44FB70(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB7B) --------------------------------------------------------
void __usercall sub_44FB7B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FB86) --------------------------------------------------------
void __usercall sub_44FB86(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FB91) --------------------------------------------------------
void __usercall sub_44FB91(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FBA7) --------------------------------------------------------
void __usercall sub_44FBA7(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FBB2) --------------------------------------------------------
void __usercall sub_44FBB2(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FBBD) --------------------------------------------------------
void __usercall sub_44FBBD(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FBC8) --------------------------------------------------------
void __usercall sub_44FBC8(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FBD3) --------------------------------------------------------
void __usercall sub_44FBD3(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FBF0) --------------------------------------------------------
void __usercall sub_44FBF0(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FBFB) --------------------------------------------------------
void __usercall sub_44FBFB(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC10) --------------------------------------------------------
void __usercall sub_44FC10(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC1B) --------------------------------------------------------
void __usercall sub_44FC1B(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC26) --------------------------------------------------------
void __usercall sub_44FC26(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC31) --------------------------------------------------------
void __usercall sub_44FC31(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC3C) --------------------------------------------------------
void __usercall sub_44FC3C(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC60) --------------------------------------------------------
void __usercall sub_44FC60(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC6B) --------------------------------------------------------
void __usercall sub_44FC6B(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC76) --------------------------------------------------------
void __usercall sub_44FC76(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC81) --------------------------------------------------------
void __usercall sub_44FC81(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC8C) --------------------------------------------------------
void __usercall sub_44FC8C(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FC97) --------------------------------------------------------
void __usercall sub_44FC97(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCA2) --------------------------------------------------------
void __usercall sub_44FCA2(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCAD) --------------------------------------------------------
void __usercall sub_44FCAD(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCD0) --------------------------------------------------------
void __usercall sub_44FCD0(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCDB) --------------------------------------------------------
void __usercall sub_44FCDB(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCE6) --------------------------------------------------------
void __usercall sub_44FCE6(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCF1) --------------------------------------------------------
void __usercall sub_44FCF1(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FCFC) --------------------------------------------------------
void __usercall sub_44FCFC(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD07) --------------------------------------------------------
void __usercall sub_44FD07(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD12) --------------------------------------------------------
void __usercall sub_44FD12(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD1D) --------------------------------------------------------
void __usercall sub_44FD1D(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD28) --------------------------------------------------------
void __usercall sub_44FD28(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD33) --------------------------------------------------------
void __usercall sub_44FD33(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD3E) --------------------------------------------------------
void __usercall sub_44FD3E(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD49) --------------------------------------------------------
void __usercall sub_44FD49(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD54) --------------------------------------------------------
void __usercall sub_44FD54(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD5F) --------------------------------------------------------
void __usercall sub_44FD5F(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD6A) --------------------------------------------------------
void __usercall sub_44FD6A(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD75) --------------------------------------------------------
void __usercall sub_44FD75(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD80) --------------------------------------------------------
void __usercall sub_44FD80(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD8B) --------------------------------------------------------
void __usercall sub_44FD8B(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FD96) --------------------------------------------------------
void __usercall sub_44FD96(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FDA1) --------------------------------------------------------
void __usercall sub_44FDA1(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FDAC) --------------------------------------------------------
void __usercall sub_44FDAC(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FDB7) --------------------------------------------------------
void __usercall sub_44FDB7(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FDC2) --------------------------------------------------------
void __usercall sub_44FDC2(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FDE0) --------------------------------------------------------
void __usercall sub_44FDE0(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FDEB) --------------------------------------------------------
void __usercall sub_44FDEB(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FDF6) --------------------------------------------------------
void __usercall sub_44FDF6(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE01) --------------------------------------------------------
void __usercall sub_44FE01(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FE17) --------------------------------------------------------
void __usercall sub_44FE17(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE22) --------------------------------------------------------
void __usercall sub_44FE22(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE2D) --------------------------------------------------------
void __usercall sub_44FE2D(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE38) --------------------------------------------------------
void __usercall sub_44FE38(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE4E) --------------------------------------------------------
void __usercall sub_44FE4E(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE59) --------------------------------------------------------
void __usercall sub_44FE59(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE64) --------------------------------------------------------
void __usercall sub_44FE64(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE6F) --------------------------------------------------------
void __usercall sub_44FE6F(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE85) --------------------------------------------------------
void __usercall sub_44FE85(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE90) --------------------------------------------------------
void __usercall sub_44FE90(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FE9B) --------------------------------------------------------
void __usercall sub_44FE9B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FEA6) --------------------------------------------------------
void __usercall sub_44FEA6(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FEBC) --------------------------------------------------------
void __usercall sub_44FEBC(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FEC7) --------------------------------------------------------
void __usercall sub_44FEC7(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FED2) --------------------------------------------------------
void __usercall sub_44FED2(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FEDD) --------------------------------------------------------
void __usercall sub_44FEDD(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FEE8) --------------------------------------------------------
void __usercall sub_44FEE8(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FF00) --------------------------------------------------------
void __usercall sub_44FF00(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF0B) --------------------------------------------------------
void __usercall sub_44FF0B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF16) --------------------------------------------------------
void __usercall sub_44FF16(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF21) --------------------------------------------------------
void __usercall sub_44FF21(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FF37) --------------------------------------------------------
void __usercall sub_44FF37(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF42) --------------------------------------------------------
void __usercall sub_44FF42(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF4D) --------------------------------------------------------
void __usercall sub_44FF4D(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF58) --------------------------------------------------------
void __usercall sub_44FF58(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF70) --------------------------------------------------------
void __usercall sub_44FF70(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF7B) --------------------------------------------------------
void __usercall sub_44FF7B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF86) --------------------------------------------------------
void __usercall sub_44FF86(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FF91) --------------------------------------------------------
void __usercall sub_44FF91(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FFB0) --------------------------------------------------------
void __usercall sub_44FFB0(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FFBB) --------------------------------------------------------
void __usercall sub_44FFBB(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FFC6) --------------------------------------------------------
void __usercall sub_44FFC6(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FFD1) --------------------------------------------------------
void __usercall sub_44FFD1(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0044FFE7) --------------------------------------------------------
void __usercall sub_44FFE7(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FFF2) --------------------------------------------------------
void __usercall sub_44FFF2(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0044FFFD) --------------------------------------------------------
void __usercall sub_44FFFD(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (00450020) --------------------------------------------------------
void __usercall sub_450020(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0045002B) --------------------------------------------------------
void __usercall sub_45002B(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (00450036) --------------------------------------------------------
void __usercall sub_450036(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (00450050) --------------------------------------------------------
void __usercall sub_450050(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (0045005B) --------------------------------------------------------
void __usercall sub_45005B(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (00450066) --------------------------------------------------------
void __usercall sub_450066(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 16));
}

//----- (00450071) --------------------------------------------------------
void __usercall sub_450071(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (0045007C) --------------------------------------------------------
void __usercall sub_45007C(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (004500A0) --------------------------------------------------------
void __usercall sub_4500A0(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500AB) --------------------------------------------------------
void __usercall sub_4500AB(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500B6) --------------------------------------------------------
void __usercall sub_4500B6(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500C1) --------------------------------------------------------
void __usercall sub_4500C1(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500CC) --------------------------------------------------------
void __usercall sub_4500CC(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500D7) --------------------------------------------------------
void __usercall sub_4500D7(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 4));
}

//----- (004500E2) --------------------------------------------------------
void __usercall sub_4500E2(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500ED) --------------------------------------------------------
void __usercall sub_4500ED(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (004500F8) --------------------------------------------------------
void __usercall sub_4500F8(int a1<ebp>)
{
  operator delete(*(void **)(a1 + 8));
}

//----- (00450110) --------------------------------------------------------
void __usercall sub_450110(int a1<ebp>)
{
  COP_itoa::_COP_itoa(*(void **)(a1 - 16));
}

//----- (00450122) --------------------------------------------------------
void __usercall _L11871(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 40));
}

//----- (00450134) --------------------------------------------------------
void __usercall _L8700(int a1<ebp>)
{
  exception::_exception(*(exception **)(a1 - 16));
}

//----- (00450146) --------------------------------------------------------
void __usercall _L8663(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (0045014E) --------------------------------------------------------
void __usercall _L8664(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 80));
}

//----- (00450156) --------------------------------------------------------
void __usercall _L8665(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(a1 - 148));
}

//----- (0045016B) --------------------------------------------------------
void __usercall _L12841(int a1<ebp>)
{
  std::codecvt_base::_codecvt_base(*(std::codecvt<char,char,int> **)(a1 - 20));
}

//----- (00450173) --------------------------------------------------------
void __usercall _L12842(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(*(_DWORD *)(a1 - 20) + 24));
}

//----- (0045017E) --------------------------------------------------------
void __usercall _L12843(int a1<ebp>)
{
  std::_Lockit::__Lockit((std::_Lockit *)(a1 - 16));
}

//----- (00450190) --------------------------------------------------------
void __usercall _L13072(int a1<ebp>)
{
  std::codecvt_base::_codecvt_base(*(std::codecvt<char,char,int> **)(a1 - 16));
}

//----- (004501A2) --------------------------------------------------------
void __usercall _L13087(int a1<ebp>)
{
  std::_Lockit::__Lockit(*(std::_Lockit **)(a1 - 16));
}

//----- (004501AA) --------------------------------------------------------
void __usercall _L13088(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(*(_DWORD *)(a1 - 16) + 4));
}

//----- (004501B5) --------------------------------------------------------
void __usercall _L13089(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(*(_DWORD *)(a1 - 16) + 32));
}

//----- (004501C0) --------------------------------------------------------
void __usercall _L13090(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(*(_DWORD *)(a1 - 16) + 60));
}

//----- (004501CB) --------------------------------------------------------
void __usercall _L13091(int a1<ebp>)
{
  std::basic_string<char_std::char_traits<char>_std::allocator<char>>::_basic_string<char_std::char_traits<char>_std::allocator<char>>((std::basic_string<char,std::char_traits<char>,std::allocator<char> > *)(*(_DWORD *)(a1 - 16) + 88));
}

//----- (004501E0) --------------------------------------------------------
void __usercall _L13116(int a1<ebp>)
{
  std::_Lockit::__Lockit((std::_Lockit *)(a1 - 16));
}

//----- (004501E8) --------------------------------------------------------
void __usercall _L13117(int a1<ebp>)
{
  operator delete(*(void **)(a1 - 20));
}

//----- (00450210) --------------------------------------------------------
void __cdecl _E1()
{
  CServerLog::CServerLog(&g_Log, 0, 0);
  atexit(_E2_5);
}

//----- (00450230) --------------------------------------------------------
void __cdecl _E4()
{
  CServerLog::CServerLog(&g_SessionLog, "SessionLog", 0);
  atexit(_E5_11);
}

//----- (00450250) --------------------------------------------------------
UINT __cdecl _E1_0()
{
  UINT result; // eax@1

  result = RegisterWindowMessageA("Send WM_COPYDATAMessage");
  CServerWindowFramework::ms_SendDataMsg = result;
  return result;
}

//----- (00450270) --------------------------------------------------------
const unsigned int __cdecl _E1_1()
{
  const unsigned int result; // eax@1

  result = GetSystemMetrics(0) - 500;
  WINCONSOLE_X = result;
  return result;
}

//----- (00450290) --------------------------------------------------------
UINT __cdecl _E3()
{
  UINT result; // eax@1

  result = RegisterWindowMessageA("ConsoleWindowCustomPrintOutput");
  CConsoleWindow::ms_PrintOutputMsg = result;
  return result;
}

//----- (004502B0) --------------------------------------------------------
UINT __cdecl _E5()
{
  UINT result; // eax@1

  result = RegisterWindowMessageA("ConsoleWindowCustomPrintInfo");
  CConsoleWindow::ms_PrintInfoMsg = result;
  return result;
}

//----- (004502D0) --------------------------------------------------------
void __cdecl _E1_2()
{
  CXORCrypt::CXORCrypt(&CXORCrypt::ms_this);
  atexit(_E2_11);
}

//----- (00450300) --------------------------------------------------------
void __cdecl _E7()
{
  Item::CItemMgr::CItemMgr(&Item::CItemMgr::ms_this);
  atexit(_E8_0);
}

//----- (00450320) --------------------------------------------------------
void __cdecl _E5_0()
{
  Item::ItemInfo::ItemInfo(&NullProtoType);
}

//----- (00450340) --------------------------------------------------------
void __cdecl _E5_1()
{
  CSkillMgr::CSkillMgr(&CSkillMgr::ms_this);
  atexit(_E6_3);
}

//----- (00450360) --------------------------------------------------------
void __cdecl _E5_2()
{
  Item::ItemInfo::ItemInfo(&Item::CNullItem::ms_thisiteminfo, 0xFFFFu);
}

//----- (00450370) --------------------------------------------------------
void __cdecl _E7_1()
{
  Item::CNullItem::CNullItem((Item::CItem *)&Item::CNullItem::ms_this, &Item::CNullItem::ms_thisiteminfo);
  atexit(_E8_1);
}

//----- (004503C0) --------------------------------------------------------
void __cdecl _E5_3()
{
  CMonsterMgr::CMonsterMgr(&CMonsterMgr::ms_this);
  atexit(_E6_4);
}

//----- (004503F0) --------------------------------------------------------
void __cdecl _E5_4()
{
  Skill::CProcessTable::CProcessTable(&Skill::CProcessTable::ms_this);
  atexit(_E6_5);
}

//----- (00450410) --------------------------------------------------------
void __cdecl _E8()
{
  Skill::ProtoType::ProtoType((Skill::ProtoType *)&Skill::CProcessTable::ProcessInfo::m_NullProtoType);
}

//----- (00450420) --------------------------------------------------------
void __cdecl _E1_3()
{
  EnemyCheck::CCheckTable::CCheckTable(&EnemyCheck::CCheckTable::ms_this);
  atexit(_E2_13);
}

//----- (00450440) --------------------------------------------------------
void __cdecl _E5_5()
{
  CDuelCellManager::CDuelCellManager(&CDuelCellManager::ms_this);
  atexit(_E6_6);
}

//----- (00450460) --------------------------------------------------------
int __cdecl _E5_6()
{
  _UNKNOWN *v0; // esi@1
  signed int v1; // ebp@1
  int v2; // eax@2
  char v3; // cl@3
  int result; // eax@4

  v0 = &unk_4C558C;
  v1 = 10;
  do
  {
    *((_DWORD *)v0 - 1) = 0;
    *(_DWORD *)v0 = 0;
    *((_DWORD *)v0 + 2) = 0;
    *((_WORD *)v0 + 118) = 0;
    *((_DWORD *)v0 - 3) = 0;
    *((_DWORD *)v0 - 2) = 0;
    *((_BYTE *)v0 + 132) = 0;
    strncpy((char *)v0 + 12, "UnKnown", 0x78u);
    v2 = (int)((char *)v0 + 12);
    do
      v3 = *(_BYTE *)v2++;
    while ( v3 );
    result = v2 - (_DWORD)((char *)v0 + 13);
    *((_DWORD *)v0 + 1) = result;
    *((_DWORD *)v0 + 58) = 0;
    v0 = (char *)v0 + 252;
    --v1;
  }
  while ( v1 );
  return result;
}

//----- (004504D0) --------------------------------------------------------
void __cdecl _E5_7()
{
  CQuestMgr::CQuestMgr(&CQuestMgr::ms_this);
  atexit(_E6_7);
}

//----- (004504F0) --------------------------------------------------------
void __cdecl _E5_8()
{
  CFSM::CFSM(&CFSM::ms_this);
  atexit(_E6_8);
}

//----- (00450510) --------------------------------------------------------
void __cdecl _E5_9()
{
  AwardTable::CAward::CAward(&AwardTable::CAward::ms_this);
  atexit(_E6_9);
}

//----- (00450526) --------------------------------------------------------
void __cdecl _E1_4()
{
  std::_Init_locks::_Init_locks(&initlocks);
  atexit(_E2_14);
}

//----- (0045053C) --------------------------------------------------------
void __cdecl _E1_5()
{
  atexit(_E2_15);
}

//----- (00450548) --------------------------------------------------------
void __cdecl _E1_6()
{
  std::_Init_locks::_Init_locks(&initlocks_0);
  atexit(_E2_16);
}

//----- (0045055E) --------------------------------------------------------
void __cdecl _E4_0()
{
  _iobuf *v0; // eax@1

  v0 = __iob_func();
  std::basic_filebuf<char_std::char_traits<char>>::basic_filebuf<char_std::char_traits<char>>(&fout, v0 + 1);
  atexit(_E5_12);
}

//----- (0045057D) --------------------------------------------------------
void __cdecl _E7_2()
{
  std::basic_ostream<char_std::char_traits<char>>::basic_ostream<char_std::char_traits<char>>(
    &std::cout,
    &fout.baseclass_0,
    0);
  atexit(_E8_2);
}

//----- (0045059C) --------------------------------------------------------
void __cdecl _E10()
{
  std::_Init_cout::_Init_cout(&init_cout);
}

//----- (004505A6) --------------------------------------------------------
void __cdecl _E1_7()
{
  std::_Init_locks::_Init_locks(&initlocks_1);
  atexit(_E2_18);
}

//----- (004505BC) --------------------------------------------------------
void __cdecl _E4_1()
{
  atexit(_E5_13);
}

//----- (004505C8) --------------------------------------------------------
void __cdecl _E5_10()
{
  ATL::CAtlBaseModule::CAtlBaseModule(&ATL::_AtlBaseModule);
  atexit(_E6_10);
}

//----- (004505E0) --------------------------------------------------------
void __cdecl _E2()
{
  CSingleDispatch::_CSingleDispatch(&singleDispatchTable);
}

//----- (004505F0) --------------------------------------------------------
void __cdecl _E2_0()
{
  CCSLock::_CCSLock(&authAgentServerTable);
}

//----- (00450600) --------------------------------------------------------
void __cdecl _E2_1()
{
  CMultiDispatch::_CMultiDispatch(&multiDispatch);
}

//----- (00450610) --------------------------------------------------------
void __cdecl Instance()
{
  CMasterPassword::_CMasterPassword(&Instance);
}

//----- (00450620) --------------------------------------------------------
void __cdecl _E2_2()
{
  CAuthorizeUser::_CAuthorizeUser(&authorizeUser);
}

//----- (00450630) --------------------------------------------------------
void __cdecl _E2_3()
{
  CCSLock::_CCSLock((CAuthAgentServerTable *)&itemCreator);
}

//----- (00450640) --------------------------------------------------------
void __cdecl _E2_4()
{
  CRylAuthServer::_CRylAuthServer(&rylAuthServer);
}

//----- (00450650) --------------------------------------------------------
void __cdecl _E2_5()
{
  CServerLog::_CServerLog(&g_Log);
}

//----- (00450660) --------------------------------------------------------
void __cdecl _E5_11()
{
  CServerLog::_CServerLog(&g_SessionLog);
}

//----- (00450670) --------------------------------------------------------
void __cdecl _E2_6()
{
  CServerRequest::_CServerRequest(&serverRequest);
}

//----- (00450680) --------------------------------------------------------
void __cdecl _E2_7()
{
  CServerSetup::_CServerSetup(&serverSetup);
}

//----- (00450690) --------------------------------------------------------
void __cdecl _E2_8()
{
  CPerformanceCheck::_CPerformanceCheck(&performanceCheck);
}

//----- (004506A0) --------------------------------------------------------
bool __cdecl _E2_9()
{
  return CPacketStatistics::Log(&packetStatistics);
}

//----- (004506B0) --------------------------------------------------------
void __cdecl _E2_10()
{
  CExceptionReport::_CExceptionReport(&exceptionReport);
}

//----- (004506C0) --------------------------------------------------------
void __cdecl _E2_11()
{
  CXORCrypt::_CXORCrypt(&CXORCrypt::ms_this);
}

//----- (004506E0) --------------------------------------------------------
void __cdecl obj()
{
  boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type((boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *)&obj);
}

//----- (004506F0) --------------------------------------------------------
void __cdecl _E6()
{
  Item::CItemFactory::_CItemFactory(&itemFactory);
}

//----- (00450700) --------------------------------------------------------
void __cdecl _E6_0()
{
  Item::CItemMgr::_CItemMgr(&itemMgr);
}

//----- (00450710) --------------------------------------------------------
void __cdecl _E8_0()
{
  Item::CItemMgr::_CItemMgr(&Item::CItemMgr::ms_this);
}

//----- (00450720) --------------------------------------------------------
void __cdecl _E6_1()
{
  CGameLog::_CGameLog(&gameLog);
}

//----- (00450730) --------------------------------------------------------
void __cdecl _E6_2()
{
  Item::CItemType::_CItemType(&itemType);
}

//----- (00450740) --------------------------------------------------------
void __cdecl obj()
{
  boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type((boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *)&obj);
}

//----- (00450750) --------------------------------------------------------
void __cdecl _E6_3()
{
  CSkillMgr::_CSkillMgr(&CSkillMgr::ms_this);
}

//----- (00450760) --------------------------------------------------------
void __cdecl _E8_1()
{
  Item::CNullItem::_CNullItem((Item::CUseItem *)&Item::CNullItem::ms_this);
}

//----- (00450770) --------------------------------------------------------
void __cdecl obj()
{
  boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type((boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *)&obj);
}

//----- (00450780) --------------------------------------------------------
void __cdecl obj()
{
  boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type((boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *)&obj);
}

//----- (00450790) --------------------------------------------------------
void __cdecl obj()
{
  boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type(&obj);
}

//----- (004507A0) --------------------------------------------------------
void __cdecl _E6_4()
{
  CMonsterMgr::_CMonsterMgr(&CMonsterMgr::ms_this);
}

//----- (004507B0) --------------------------------------------------------
void __cdecl obj()
{
  boost::singleton_pool<boost::fast_pool_allocator_tag_56_boost::default_user_allocator_new_delete_boost::details::pool::win32_mutex_32>::pool_type::_pool_type((boost::singleton_pool<boost::fast_pool_allocator_tag,48,boost::default_user_allocator_new_delete,boost::details::pool::win32_mutex,32>::pool_type *)&obj);
}

//----- (004507C0) --------------------------------------------------------
void __cdecl _E6_5()
{
  Skill::CProcessTable::_CProcessTable(&Skill::CProcessTable::ms_this);
}

//----- (004507D0) --------------------------------------------------------
void __cdecl _E2_13()
{
  EnemyCheck::CCheckTable::_CCheckTable(&EnemyCheck::CCheckTable::ms_this);
}

//----- (004507E0) --------------------------------------------------------
void __cdecl _E6_6()
{
  CDuelCellManager::_CDuelCellManager(&CDuelCellManager::ms_this);
}

//----- (004507F0) --------------------------------------------------------
void __cdecl _E6_7()
{
  CQuestMgr::_CQuestMgr(&CQuestMgr::ms_this);
}

//----- (00450800) --------------------------------------------------------
void __cdecl _E6_8()
{
  CFSM::_CFSM(&CFSM::ms_this);
}

//----- (00450810) --------------------------------------------------------
void __cdecl _E6_9()
{
  AwardTable::CAward::_CAward(&AwardTable::CAward::ms_this);
}

//----- (0045081A) --------------------------------------------------------
void __cdecl _E2_14()
{
  std::_Init_locks::__Init_locks(&initlocks);
}

//----- (00450824) --------------------------------------------------------
void __cdecl _E2_15()
{
  std::locale::_locale(&classic_locale);
}

//----- (0045082E) --------------------------------------------------------
void __cdecl _E2_16()
{
  std::_Init_locks::__Init_locks(&initlocks_0);
}

//----- (00450838) --------------------------------------------------------
void __cdecl _E8_2()
{
  *(_DWORD *)&std::cout.dummy[*(_DWORD *)(*(_DWORD *)&std::cout + 4)] = &std::basic_ostream<char_std::char_traits<char>>::_vftable_;
  std::basic_ios<char_std::char_traits<char>>::_basic_ios<char_std::char_traits<char>>((std::basic_ios<char,std::char_traits<char> > *)&std::cout.dummy[4]);
}
// 4641E0: using guessed type int (__stdcall *std__basic_ostream_char_std__char_traits_char_____vftable_)(char);

//----- (00450854) --------------------------------------------------------
void __cdecl _E5_12()
{
  std::basic_filebuf<char_std::char_traits<char>>::_basic_filebuf<char_std::char_traits<char>>(&fout);
}

//----- (0045085E) --------------------------------------------------------
void __cdecl _E2_17()
{
  std::bad_alloc::_bad_alloc(&nomem);
}

//----- (00450868) --------------------------------------------------------
void __cdecl _E2_18()
{
  std::_Init_locks::__Init_locks(&initlocks_1);
}

//----- (00450872) --------------------------------------------------------
void __cdecl _E5_13()
{
  _Init_atexit::__Init_atexit(&init_atexit);
}

//----- (0045087C) --------------------------------------------------------
void __cdecl _E6_10()
{
  ATL::CAtlBaseModule::_CAtlBaseModule(&ATL::_AtlBaseModule);
}

#error "There were 8 decompilation failure(s) on 2467 function(s)"
